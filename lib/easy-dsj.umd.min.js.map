{"version":3,"sources":["webpack://easy-dsj/webpack/universalModuleDefinition","webpack://easy-dsj/webpack/bootstrap","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.symbol.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-define.js","webpack://easy-dsj/./node_modules/core-js/modules/_string-at.js","webpack://easy-dsj/./node_modules/core-js/modules/_advance-string-index.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_has.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?9c3e","webpack://easy-dsj/./node_modules/core-js/modules/_to-index.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?b8c6","webpack://easy-dsj/./node_modules/core-js/modules/_array-methods.js","webpack://easy-dsj/./node_modules/core-js/modules/_flags.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-keys.js","webpack://easy-dsj/./node_modules/core-js/modules/_typed.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-absolute-index.js","webpack://easy-dsj/./node_modules/core-js/modules/_is-array.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_an-instance.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gopd.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-dps.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.string.iterator.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://easy-dsj/./node_modules/core-js/modules/_task.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-primitive.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_dom-create.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-call.js","webpack://easy-dsj/./node_modules/core-js/modules/_fix-re-wks.js","webpack://easy-dsj/./node_modules/core-js/modules/_dom-create.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?b5c9","webpack://easy-dsj/./node_modules/core-js/modules/_classof.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.promise.js","webpack://easy-dsj/./node_modules/css-loader/dist/runtime/api.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_defined.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gops.js","webpack://easy-dsj/./node_modules/core-js/modules/core.get-iterator-method.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.split.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_fails.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?5475","webpack://easy-dsj/./node_modules/core-js/modules/_redefine.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?218a","webpack://easy-dsj/./node_modules/core-js/modules/_object-create.js","webpack://easy-dsj/./node_modules/core-js/modules/_wks.js","webpack://easy-dsj/./node_modules/core-js/modules/_library.js","webpack://easy-dsj/./node_modules/core-js/modules/_cof.js","webpack://easy-dsj/./node_modules/core-js/modules/_strict-method.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_invoke.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-define.js","webpack://easy-dsj/./node_modules/core-js/modules/_invoke.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?a6ca","webpack://easy-dsj/./node_modules/core-js/modules/_hide.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_html.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iobject.js","webpack://easy-dsj/./node_modules/core-js/modules/_is-array-iter.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-pie.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_hide.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?804a","webpack://easy-dsj/./node_modules/core-js/modules/_array-fill.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-iobject.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_is-array-iter.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.flags.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gpo.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-integer.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.promise.finally.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?4454","webpack://easy-dsj/./node_modules/core-js/library/modules/_classof.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_task.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.promise.try.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_perform.js","webpack://easy-dsj/./node_modules/core-js/library/fn/object/define-property.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.object.keys.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-integer.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack://easy-dsj/./node_modules/core-js/modules/_property-desc.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.object.define-property.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_enum-keys.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iterators.js","webpack://easy-dsj/./node_modules/vue-style-loader/lib/listToStyles.js","webpack://easy-dsj/./node_modules/vue-style-loader/lib/addStylesClient.js","webpack://easy-dsj/./node_modules/core-js/modules/_for-of.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_set-species.js","webpack://easy-dsj/./packages/chart_annular/src/main.vue?760c","webpack://easy-dsj/./packages/chart_annular/src/main.vue?af98","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-detect.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-step.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_wks.js","webpack://easy-dsj/./node_modules/core-js/modules/_regexp-exec.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-pie.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gpo.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.promise.js","webpack://easy-dsj/./node_modules/core-js/modules/_shared.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_shared-key.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.array.sort.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_core.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_array-includes.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_redefine-all.js","webpack://easy-dsj/./node_modules/core-js/modules/_export.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-detect.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_inherit-if-required.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-sap.js","webpack://easy-dsj/./node_modules/core-js/modules/_regexp-exec-abstract.js","webpack://easy-dsj/./node_modules/core-js/modules/_shared-key.js","webpack://easy-dsj/./node_modules/core-js/modules/_iobject.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_uid.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_export.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.typed.float32-array.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_new-promise-capability.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_wks-define.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-iobject.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?0ea2","webpack://easy-dsj/./node_modules/core-js/library/fn/promise.js","webpack://easy-dsj/./node_modules/core-js/modules/_has.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-primitive.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gopn.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_cof.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.to-string.js","webpack://easy-dsj/./node_modules/core-js/library/modules/web.dom.iterable.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.array.fill.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_string-at.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-assign.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack://easy-dsj/./node_modules/core-js/modules/_global.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-absolute-index.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/promise.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_a-function.js","webpack://easy-dsj/./node_modules/core-js/modules/_fails.js","webpack://easy-dsj/./node_modules/core-js/modules/_set-species.js","webpack://easy-dsj/./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?86dd","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-dps.js","webpack://easy-dsj/./node_modules/core-js/modules/_set-to-string-tag.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.function.name.js","webpack://easy-dsj/./node_modules/core-js/modules/_microtask.js","webpack://easy-dsj/./node_modules/core-js/modules/_core.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack://easy-dsj/./node_modules/core-js/modules/_iterators.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-dp.js","webpack://easy-dsj/./node_modules/core-js/modules/_set-proto.js","webpack://easy-dsj/./packages/chart_annular/src/main.vue?c906","webpack://easy-dsj/./node_modules/core-js/library/modules/_descriptors.js","webpack://easy-dsj/./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_is-array.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gopn.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_redefine.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?e854","webpack://easy-dsj/./node_modules/regenerator-runtime/runtime.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?8913","webpack://easy-dsj/./node_modules/core-js/modules/_own-keys.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gops.js","webpack://easy-dsj/./node_modules/core-js/modules/_ctx.js","webpack://easy-dsj/./node_modules/core-js/modules/_add-to-unscopables.js","webpack://easy-dsj/./node_modules/core-js/modules/_perform.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-length.js","webpack://easy-dsj/./node_modules/core-js/modules/_descriptors.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_for-of.js","webpack://easy-dsj/./node_modules/core-js/modules/_user-agent.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.replace.js","webpack://easy-dsj/./node_modules/core-js/modules/_new-promise-capability.js","webpack://easy-dsj/./node_modules/core-js/modules/_string-trim.js","webpack://easy-dsj/./node_modules/core-js/modules/_is-regexp.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_microtask.js","webpack://easy-dsj/./node_modules/core-js/modules/web.dom.iterable.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_property-desc.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.exec.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-call.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-length.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_library.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-copy-within.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?a4bd","webpack://easy-dsj/./node_modules/core-js/library/modules/_user-agent.js","webpack://easy-dsj/./node_modules/core-js/modules/_promise-resolve.js","webpack://easy-dsj/./node_modules/core-js/modules/_defined.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gopd.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-includes.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.array.iterator.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-keys.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.number.constructor.js","webpack://easy-dsj/./node_modules/core-js/modules/_ie8-dom-define.js","webpack://easy-dsj/./node_modules/core-js/modules/_uid.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.array.iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_an-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_wks-ext.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-species-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_promise-resolve.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-keys-internal.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?9cdd","webpack://easy-dsj/./node_modules/core-js/modules/_is-object.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-step.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_ctx.js","webpack://easy-dsj/./node_modules/core-js/library/fn/symbol/iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_a-function.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-dp.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_shared.js","webpack://easy-dsj/./node_modules/core-js/modules/_redefine-all.js","webpack://easy-dsj/./node_modules/core-js/modules/_enum-bug-keys.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_an-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_global.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-keys-internal.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-species-constructor.js","webpack://easy-dsj/./node_modules/core-js/modules/_species-constructor.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_meta.js","webpack://easy-dsj/./node_modules/core-js/modules/_typed-array.js","webpack://easy-dsj/./node_modules/core-js/modules/_typed-buffer.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?5abf","webpack://easy-dsj/./node_modules/core-js/modules/_create-property.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_species-constructor.js","webpack://easy-dsj/./node_modules/core-js/modules/_an-instance.js","webpack://easy-dsj/./node_modules/current-script-polyfill/currentScript.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.object.assign.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_is-object.js","webpack://easy-dsj/./node_modules/core-js/library/fn/symbol/index.js","webpack://easy-dsj/./node_modules/core-js/modules/_function-to-string.js","webpack://easy-dsj/./node_modules/core-js/modules/_html.js","webpack://easy-dsj/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?7abf","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js","webpack://easy-dsj/packages/canvasBoll/src/main.vue","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?dfca","webpack://easy-dsj/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue","webpack://easy-dsj/./packages/canvasBoll/index.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?558d","webpack://easy-dsj/packages/diffusion/src/main.vue","webpack://easy-dsj/./packages/diffusion/src/main.vue?ae01","webpack://easy-dsj/./packages/diffusion/src/main.vue","webpack://easy-dsj/./packages/diffusion/index.js","webpack://easy-dsj/./packages/canvasBG/src/canvasbg.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?8bcb","webpack://easy-dsj/packages/canvasBG/src/main.vue","webpack://easy-dsj/./packages/canvasBG/src/main.vue?ac58","webpack://easy-dsj/./packages/canvasBG/src/main.vue","webpack://easy-dsj/./packages/canvasBG/index.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?ca2e","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/helpers/esm/typeof.js","webpack://easy-dsj/./packages/canvasBG2/src/initCanvas.js","webpack://easy-dsj/./packages/canvasBG2/src/index.js","webpack://easy-dsj/packages/canvasBG2/src/main.vue","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?77fc","webpack://easy-dsj/./packages/canvasBG2/src/main.vue","webpack://easy-dsj/./packages/canvasBG2/index.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?582f","webpack://easy-dsj/packages/dsj_button/src/main.vue","webpack://easy-dsj/./packages/dsj_button/src/main.vue?a79c","webpack://easy-dsj/./packages/dsj_button/src/main.vue","webpack://easy-dsj/./packages/dsj_button/index.js","webpack://easy-dsj/./packages/chart_annular/src/main.vue?f119","webpack://easy-dsj/packages/chart_annular/src/main.vue","webpack://easy-dsj/./packages/chart_annular/src/main.vue?4e27","webpack://easy-dsj/./packages/chart_annular/src/main.vue","webpack://easy-dsj/./packages/chart_annular/index.js","webpack://easy-dsj/./packages/index.js","webpack://easy-dsj/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js","webpack://easy-dsj/./node_modules/core-js/modules/_string-ws.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","global","has","DESCRIPTORS","$export","redefine","META","KEY","$fails","shared","setToStringTag","uid","wks","wksExt","wksDefine","enumKeys","isArray","anObject","isObject","toObject","toIObject","toPrimitive","createDesc","_create","gOPNExt","$GOPD","$GOPS","$DP","$keys","gOPD","f","dP","gOPN","$Symbol","$JSON","JSON","_stringify","stringify","PROTOTYPE","HIDDEN","TO_PRIMITIVE","isEnum","propertyIsEnumerable","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","a","it","D","protoDesc","wrap","tag","sym","_k","isSymbol","iterator","$defineProperty","$defineProperties","P","keys","length","$create","undefined","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","result","push","$getOwnPropertySymbols","IS_OP","TypeError","arguments","$set","configurable","set","G","W","F","es6Symbols","split","j","wellKnownSymbols","store","k","S","keyFor","useSetter","useSimple","defineProperties","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","FAILS_ON_PRIMITIVES","replacer","$replacer","args","apply","valueOf","Math","LIBRARY","hide","Iterators","$iterCreate","getPrototypeOf","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","toInteger","defined","TO_STRING","that","pos","b","String","charCodeAt","charAt","slice","at","index","unicode","toString","windowNames","window","getWindowNames","e","___CSS_LOADER_API_IMPORT___","toLength","number","RangeError","ctx","IObject","asc","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","val","res","O","ignoreCase","multiline","sticky","enumBugKeys","Typed","TYPED","VIEW","ABV","ArrayBuffer","DataView","CONSTR","TypedArrayConstructors","max","min","cof","Array","arg","forbiddenField","pIE","IE8_DOM_DEFINE","getKeys","Properties","$at","iterated","_t","_i","point","done","defer","channel","port","invoke","html","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","id","fn","listener","event","data","Function","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","clear","document","is","createElement","ret","fails","regexpExec","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","re","exec","groups","replace","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","constructor","nativeRegExpMethod","fns","nativeMethod","regexp","str","arg2","forceStringMethod","strfn","rxfn","RegExp","string","ARG","tryGet","T","B","callee","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","classof","aFunction","anInstance","forOf","speciesConstructor","task","microtask","newPromiseCapabilityModule","perform","userAgent","promiseResolve","PROMISE","versions","v8","$Promise","isNode","empty","newPromiseCapability","promise","resolve","FakePromise","PromiseRejectionEvent","then","indexOf","isThenable","notify","isReject","_n","chain","_c","_v","ok","_s","reaction","exited","handler","fail","reject","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","console","unhandled","isUnhandled","emit","onunhandledrejection","reason","error","_a","v","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","err","onFulfilled","onRejected","C","Promise","capability","$$reject","x","iter","all","iterable","remaining","$index","alreadyCalled","race","cssWithMappingToString","item","useSourceMap","content","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","map","source","concat","sourceRoot","join","sourceMap","base64","unescape","encodeURIComponent","list","mediaQuery","dedupe","alreadyImportedModules","getIteratorMethod","isRegExp","advanceStringIndex","callRegExpExec","$min","$push","$SPLIT","LENGTH","LAST_INDEX","MAX_UINT32","SUPPORTS_Y","SPLIT","$split","maybeCallNative","internalSplit","separator","limit","match","lastIndex","lastLength","output","flags","lastLastIndex","splitLimit","separatorCopy","test","splitter","rx","unicodeMatching","lim","q","A","z","SRC","$toString","TPL","inspectSource","safe","isFunction","locals","add","default","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","lt","gt","style","display","src","contentWindow","open","write","close","USE_SYMBOL","$exports","method","un","documentElement","ArrayProto","toAbsoluteIndex","aLen","end","endPos","ceil","floor","isNaN","core","R","onFinally","descriptor","promiseCapability","$Object","desc","def","stat","bitmap","writable","gOPS","getSymbols","symbols","listToStyles","parentId","styles","newStyles","css","media","part","parts","hasDocument","DEBUG","Error","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","options","ssrIdKey","isOldIE","navigator","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","addStyle","createStyleElement","styleElement","type","obj","update","remove","querySelector","parentNode","styleIndex","applyToSingletonTag","applyToTag","newObj","replaceText","textStore","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","firstChild","isArrayIter","getIterFn","BREAK","RETURN","step","iterFn","SAFE_CLOSING","riter","from","skipClosing","arr","regexpFlags","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","NPCG_INCLUDED","PATCH","reCopy","SHARED","version","copyright","$sort","sort","comparefn","__e","IS_INCLUDES","el","fromIndex","target","own","out","exp","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","expProto","U","setPrototypeOf","builtinExec","px","random","IS_WRAP","virtual","init","byteOffset","PromiseCapability","$$resolve","hiddenKeys","$flags","TO_STRING_TAG","DOMIterables","Collection","fill","$assign","assign","K","forEach","__g","FProto","nameRE","macrotask","Observer","MutationObserver","WebKitMutationObserver","last","flush","parent","standalone","toggle","node","observe","characterData","Attributes","check","buggy","__proto__","ownKeys","createProperty","getOwnPropertyDescriptors","getDesc","runtime","Op","hasOwn","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","record","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","reverse","pop","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Reflect","UNSCOPABLES","regExpExec","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","REPLACE","$replace","searchValue","replaceValue","functionalReplace","fullUnicode","results","matchStr","accumulatedResult","nextSourcePosition","matched","position","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","ch","capture","spaces","space","non","ltrim","rtrim","exporter","ALIAS","FORCE","trim","MATCH","$iterators","ArrayValues","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","forced","copyWithin","start","len","to","count","inc","addToUnscopables","Arguments","inheritIfRequired","$trim","NUMBER","$Number","BROKEN_COF","TRIM","toNumber","argument","third","radix","maxCode","first","NaN","code","digits","parseInt","original","arrayIndexOf","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","$typed","$buffer","propertyDesc","redefineAll","toIndex","createArrayMethod","createArrayIncludes","ArrayIterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","Uint8Array","ARRAY_BUFFER","SHARED_BUFFER","BYTES_PER_ELEMENT","$ArrayBuffer","$DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayValues","arrayKeys","arrayEntries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","TYPED_ARRAY","WRONG_LENGTH","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","toOffset","BYTES","offset","validate","speciesFromList","fromList","addGetter","internal","$from","mapfn","mapping","$of","TO_LOCALE_BUG","$toLocaleString","every","find","predicate","findIndex","searchElement","includes","middle","some","subarray","begin","$begin","$slice","arrayLike","isTAIndex","$getDesc","$setDesc","$TypedArrayPrototype$","CLAMPED","GETTER","SETTER","TypedArray","TAC","TypedArrayPrototype","round","addElement","$offset","$length","byteLength","klass","$len","$nativeIterator","CORRECT_ITER_NAME","$iterator","of","DATA_VIEW","WRONG_INDEX","Infinity","BaseBuffer","abs","pow","log","LN2","BUFFER","BYTE_LENGTH","BYTE_OFFSET","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","numIndex","intIndex","_b","pack","conversion","ArrayBufferProto","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","currentScript","scripts","stack","readyState","_defineProperty","render","_vm","$createElement","_self","ref","class","classType","staticStyle","on","$event","$emit","staticRenderFns","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","props","Number","fz","score","required","distance","h","titleSold","suffix","watch","canvasBoll","INIT_SCORE","initSCORE","BOLL_SCORE","switchColor","BOLL_STEP","BOLL_LINES","BOLL_CANVAS","BOLL_CTX","BOLL_SCORELAST","dataColorList","center","created","color","mounted","$refs","width","height","canvas","getContext","loop","_score","requestAnimFrame","callback","rectLine","mygradient","addColorStop","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","component","canvasboll","install","Vue","_m","staticClass","Diffusion","ParticleNetworkAnimation","PNA","attrs","element","option","container","sizeCanvas","particleNetwork","ParticleNetwork","bindUiActions","onresize","clearRect","createParticles","offsetWidth","offsetHeight","Particle","y","network","particleColor","returnRandomArrayitem","particleColors","radius","getLimitedRandom","opacity","velocity","draw","beginPath","fillStyle","globalAlpha","arc","PI","density","netLineDistance","netLineColor","animationFrame","requestAnimationFrame","isInitial","me","particles","quantity","clearInterval","createIntervalId","setInterval","createInteractionParticle","interactionParticle","removeInteractionParticle","splice","p1","p2","sqrt","strokeStyle","lineWidth","moveTo","lineTo","stroke","cancelAnimationFrame","spawnQuantity","mouseIsDown","touchIsMoving","onMouseMove","offsetX","offsetY","onTouchMove","preventDefault","changedTouches","clientX","clientY","onMouseDown","intervalId","onTouchStart","onMouseUp","onMouseOut","onTouchEnd","unbindUiActions","removeEventListener","roundToInteger","array","getElementById","DsjCanvasBg","initCanvas","dotTemplate","blurTemplate","createjs","stage","StageGL","dot","dots","dotR","amp1Amt","maxDots","speed","Ticker","timingMode","RAF","tick","setClearColor","getDot","evt","delta","fov","cos","a1","sin","getChildAt","alpha","scaleX","scaleY","size","dotShape","Shape","blurShape","g","graphics","dc","base2R","cache","Bitmap","cacheCanvas","rf","Container","addChild","clone","rnd","onResize","innerWidth","innerHeight","updateViewport","extend","subclass","superclass","promote","prefix","subP","supP","UID","_nextID","deprecate","fallbackMethod","msg","warn","Event","bubbles","cancelable","currentTarget","eventPhase","timeStamp","Date","getTime","defaultPrevented","propagationStopped","immediatePropagationStopped","removed","stopPropagation","stopImmediatePropagation","EventDispatcher","_listeners","_captureListeners","initialize","off","removeAllEventListeners","hasEventListener","dispatchEvent","_dispatchEvent","willTrigger","useCapture","listeners","scope","once","handleEvent","eventObj","top","captureListeners","RAF_SYNCHED","TIMEOUT","maxDelta","paused","_addEventListener","_inited","_startTime","_pausedTime","_ticks","_pausedTicks","_interval","_lastTime","_times","_tickTimes","_timerId","_raf","_setInterval","interval","_setupTick","_getInterval","getInterval","_setFPS","setFPS","_getFPS","getFPS","framerate","_getTime","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","getMeasuredTickTime","ticks","ttl","times","getMeasuredFPS","runTime","getEventTime","getTicks","pauseable","_handleSynch","_tick","_handleRAF","_handleTimeout","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","time","elapsedTime","unshift","performance","mozNow","msNow","oNow","webkitNow","VideoBuffer","video","_video","_canvas","_videoReady","getImage","createCanvas","videoWidth","videoHeight","currentTime","drawImage","MouseEvent","stageX","stageY","nativeEvent","pointerID","primary","rawX","rawY","relatedTarget","Event_constructor","_get_localX","globalToLocal","_get_localY","_get_isTouch","localX","localY","isTouch","Matrix2D","tx","ty","setValues","DEG_TO_RAD","identity","append","b1","c1","d1","prepend","tx1","appendMatrix","matrix","prependMatrix","appendTransform","rotation","skewX","skewY","regX","regY","prependTransform","rotate","angle","skew","scale","translate","invert","isIdentity","equals","transformPoint","pt","decompose","atan2","copy","DisplayProps","visible","shadow","compositeOperation","Point","Rectangle","pad","left","bottom","right","rectangle","contains","union","rect","intersection","x1","y1","x2","y2","intersects","isEmpty","ButtonHelper","outLabel","overLabel","downLabel","play","hitArea","hitLabel","_isPressed","_isOver","_enabled","mouseChildren","enabled","actionsEnabled","gotoAndStop","_setEnabled","cursor","_reset","__reset","setEnabled","_getEnabled","getEnabled","label","gotoAndPlay","Shadow","blur","SpriteSheet","EventDispatcher_constructor","_animations","_frames","_images","_data","_loadCount","_frameHeight","_frameWidth","_numFrames","_regX","_regY","_spacing","_margin","_parseData","_getAnimations","getAnimations","animations","getNumFrames","animation","frames","getAnimation","getFrame","frameIndex","frame","getFrameBounds","images","img","naturalWidth","onload","_handleImageLoad","onerror","_handleImageError","image","spacing","margin","_calculateFrames","anim","errorEvent","maxFrames","frameCount","frameWidth","frameHeight","imgLoop","imgs","imgW","imgH","naturalHeight","Graphics","command","_stroke","_strokeStyle","_oldStrokeStyle","_strokeDash","_oldStrokeDash","_strokeIgnoreScale","_fill","_instructions","_commitIndex","_activeInstructions","_dirty","_storeIndex","getRGB","getHSL","hue","saturation","lightness","BASE_64","STROKE_CAPS_MAP","STROKE_JOINTS_MAP","_ctx","_getInstructions","_updateInstructions","getInstructions","instructions","instr","drawAsPath","instrs","path","MoveTo","LineTo","arcTo","ArcTo","startAngle","endAngle","anticlockwise","Arc","quadraticCurveTo","cpx","cpy","QuadraticCurveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","BezierCurveTo","Rect","closePath","ClosePath","beginFill","_setFill","Fill","beginLinearGradientFill","colors","ratios","x0","y0","linearGradient","beginRadialGradientFill","r0","r1","radialGradient","beginBitmapFill","repetition","endFill","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","StrokeStyle","setStrokeDash","segments","StrokeDash","beginStroke","_setStroke","Stroke","beginLinearGradientStroke","beginRadialGradientStroke","beginBitmapStroke","endStroke","curveTo","drawRect","drawRoundRect","drawRoundRectComplex","radiusTL","radiusTR","radiusBR","radiusBL","RoundRect","drawCircle","Circle","drawEllipse","Ellipse","drawPolyStar","sides","pointSize","PolyStar","clean","decodePath","paramCount","params","fi","pl","charCount","num","sign","unstore","mt","bt","qt","cp","lf","bf","ef","ss","sd","ls","rs","bs","es","dr","rr","rc","de","dp","commit","active","commitIndex","beginCmd","ll","BeginPath","mtx","save","transform","restore","createLinearGradient","createRadialGradient","createPattern","setTransform","lineCap","lineJoin","setLineDash","EMPTY_SEGMENTS","lineDashOffset","mTL","mTR","mBR","mBL","rTL","rTR","rBR","rBL","ox","oy","xe","ye","xm","ym","ps","DisplayObject","bitmapCache","mouseEnabled","tickEnabled","transformMatrix","snapToPixel","filters","mask","_props","_rectangle","_bounds","_webGLRenderStyle","_StageGL_NONE","_MOUSE_EVENTS","suppressCrossDomainErrors","_snapToPixelEnabled","_StageGL_SPRITE","_StageGL_BITMAP","_hitTestCanvas","_hitTestContext","_getStage","_Stage","getStage","cacheID","isVisible","ignoreCache","updateContext","getMatrix","clip","globalCompositeOperation","_applyShadow","BitmapCache","updateCache","uncache","release","getCacheDataURL","getDataURL","localToGlobal","getConcatenatedMatrix","localToLocal","getConcatenatedDisplayProps","hitTest","hit","_testHit","getBounds","_cacheScale","_cacheOffsetX","_cacheOffsetY","getTransformedBounds","_getBounds","setBounds","_cloneProps","_updateState","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","evtObj","getImageData","ignoreTransform","_transformBounds","bounds","x_a","x_b","y_c","y_d","minX","maxX","minY","maxY","_hasMouseEventListener","evts","DisplayObject_constructor","children","tickChildren","_getNumChildren","getNumChildren","numChildren","hasContent","DisplayObject_draw","child","par","silent","_removeChildAt","addChildAt","indx","good","removeChildAt","removeAllChildren","kids","getChildByName","sortChildren","sortFunction","getChildIndex","swapChildrenAt","index1","index2","o1","o2","swapChildren","child1","child2","setChildIndex","getObjectUnderPoint","getObjectsUnderPoint","_getObjectsUnderPoint","recursive","_cloneChildren","DisplayObject__tick","mouse","activeListener","currentDepth","_testMask","DisplayObject_getBounds","Stage","Container_constructor","autoClear","mouseX","mouseY","snapToPixelEnabled","mouseInBounds","tickOnUpdate","mouseMoveOutside","preventSelection","_pointerData","_pointerCount","_primaryPointerID","_mouseOverIntervalID","_nextStage","_prevStage","enableDOMEvents","_get_nextStage","_set_nextStage","nextStage","toDataURL","backgroundColor","mimeType","fillRect","dataURL","putImageData","enableMouseOver","frequency","_testMouseOver","enable","_eventListeners","_this","_handleMouseUp","_handleMouseMove","_handleDoubleClick","_handleMouseDown","_getElementRect","getBoundingClientRect","offsetTop","offsetLeft","offX","pageXOffset","scrollLeft","clientLeft","body","offY","pageYOffset","scrollTop","clientTop","getComputedStyle","currentStyle","padL","paddingLeft","borderLeftWidth","padT","paddingTop","borderTopWidth","padR","paddingRight","borderRightWidth","padB","paddingBottom","borderBottomWidth","_getPointerData","_handlePointerMove","pageX","pageY","owner","inBounds","_updatePointerPosition","_dispatchMouseEvent","posEvtObj","_handlePointerUp","oTarget","down","_handlePointerDown","eventTarget","_mouseOverX","_mouseOverY","isEventTarget","common","oldList","_mouseOverTarget","oldTarget","pointerId","Stage_constructor","premultiply","transparent","antialias","preserveBuffer","autoPurge","vocalDebug","_preserveBuffer","_antialias","_transparent","_premultiply","_autoPurge","_viewportWidth","_viewportHeight","_projectionMatrix","_webGLContext","_clearColor","_maxCardsPerBatch","DEFAULT_MAX_BATCH_SIZE","_activeShader","_vertices","_vertexPositionBuffer","_uvs","_uvPositionBuffer","_indices","_textureIndexBuffer","_alphas","_alphaBuffer","_textureDictionary","_textureIDs","_batchTextures","_baseTextures","_batchTextureCount","_lastTextureInsert","_batchID","_drawID","_slotBlacklist","_isDrawing","_lastTrackedCanvas","isCacheControlled","_cacheContainer","_initializeWebGL","buildUVRects","spritesheet","onlyTarget","uvRect","isWebGLActive","WebGLRenderingContext","VERTEX_PROPERTY_COUNT","INDICIES_PER_CARD","WEBGL_MAX_INDEX_NUM","UV_RECT","COVER_VERT","Float32Array","COVER_UV","COVER_UV_FLIP","REGULAR_VARYING_HEADER","REGULAR_VERTEX_HEADER","REGULAR_FRAGMENT_HEADER","REGULAR_VERTEX_BODY","REGULAR_FRAGMENT_BODY","REGULAR_FRAG_COLOR_NORMAL","REGULAR_FRAG_COLOR_PREMULTIPLY","PARTICLE_VERTEX_BODY","PARTICLE_FRAGMENT_BODY","COVER_VARYING_HEADER","COVER_VERTEX_HEADER","COVER_FRAGMENT_HEADER","COVER_VERTEX_BODY","COVER_FRAGMENT_BODY","_get_isWebGL","_set_autoPurge","_get_autoPurge","isWebGL","depth","stencil","premultipliedAlpha","preserveDrawingBuffer","gl","_fetchWebGLContext","updateSimultaneousTextureCount","getParameter","MAX_TEXTURE_IMAGE_UNITS","_maxTextureSlots","MAX_COMBINED_TEXTURE_IMAGE_UNITS","_createBuffers","_initTextures","disable","DEPTH_TEST","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","clearColor","_batchDraw","purgeTextures","cc","adjust","COLOR_BUFFER_BIT","Stage_clear","Stage_draw","cacheDraw","manager","_cacheDraw","protectTextureSlot","lock","getTargetRenderTexture","__lastRT","__rtA","__rtB","getRenderBufferTexture","_width","_height","resizeTexture","setTextureParams","releaseTexture","foundImage","_storeID","_killTextureObject","spriteSheet","dict","success","_fetchShaderProgram","viewport","_projectionMatrixFlip","getFilterShader","targetShader","_builtShader","shaderParamSetup","useProgram","VTX_SHADER_BODY","FRAG_SHADER_BODY","_name","getBaseTexture","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","renderTexture","frameBuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","_renderTexture","_frameBuffer","isPOT","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","viewportWidth","viewportHeight","shaderName","customVTX","customFRAG","targetFrag","targetVtx","vertexShader","_createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","_type","getProgramParameter","LINK_STATUS","getProgramInfoLog","vertexPositionAttribute","getAttribLocation","enableVertexAttribArray","uvPositionAttribute","samplerUniform","getUniformLocation","uniform1i","uprightUniform","uniform1f","textureIndexAttribute","alphaAttribute","samplers","samplerData","uniform1iv","pMatrixUniform","insert","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","groupSize","groupCount","vertexPositionBuffer","createBuffer","bindBuffer","vertices","bufferData","DYNAMIC_DRAW","itemSize","numItems","uvPositionBuffer","uvs","textureIndexBuffer","indices","alphaBuffer","alphas","tex","_loadTextureImage","_isCanvas","storeID","_imageData","_insertTextureInBatch","_updateTextureImageData","isNPOT","activeTexture","TEXTURE0","_activeIndex","errString","_invalid","MAX_TEXTURE_SIZE","found","look","batchReason","_drawBuffers","batchCardCount","deleteFramebuffer","deleteTexture","_backupBatchTextures","_backupTextures","sceneGraph","_appendToBatchGroup","shaderBackup","blackListBackup","lastTextureSlot","wBackup","hBackup","_drawFilters","_drawWidth","_drawHeight","filterCount","flipY","_drawCover","_multiPass","concatMtx","concatAlpha","_glMtx","subL","subT","subR","subB","cMtx","texIndex","iMtx","useCache","currentFrame","texI","sourceRect","_uvRect","_filterOffX","_filterOffY","offV1","offV2","vertexAttribPointer","FLOAT","bufferSubData","uniformMatrix4fv","FALSE","drawArrays","TRIANGLES","imageOrUri","cloneNode","Sprite","frameOrAnimation","currentAnimation","currentAnimationFrame","_animation","_currentFrame","_skipAdvance","_normalizeFrame","_goto","advance","fps","DisplayObject__cloneProps","frameDelta","animFrame","_dispatchAnimationEnd","changed","Text","text","font","textAlign","textBaseline","maxWidth","outline","lineHeight","_workingContext","H_OFFSETS","V_OFFSETS","hanging","alphabetic","ideographic","col","_drawText","_prepContext","getMeasuredWidth","_getMeasuredWidth","getMeasuredLineHeight","getMeasuredHeight","getMetrics","lines","vOffset","substr","paint","maxW","hardLines","measureText","words","jl","wordW","_drawTextLine","strokeText","fillText","BitmapText","letterSpacing","spaceWidth","_oldProps","_oldStage","_drawAction","maxPoolSize","_spritePool","Container_draw","_updateText","Container_getBounds","Container__cloneProps","_getFrameIndex","character","toUpperCase","_getFrame","_getLineHeight","_getSpaceWidth","sprite","change","spaceW","lineH","pool","childIndex","numKids","hasSpace","MovieClip","startPosition","labels","inited","INDEPENDENT","autoReset","frameBounds","useTicks","timeline","Timeline","_synchOffset","_rawPosition","_bound_resolveState","_resolveState","_managed","SINGLE_FRAME","SYNCHED","MovieClipPlugin","_getLabels","getLabels","_getCurrentLabel","currentLabel","getCurrentLabel","_getDuration","duration","getDuration","totalFrames","positionOrLabel","independent","_framerate","_updateTimeline","Container__tick","rawPosition","jump","synced","tl","setPosition","_renderFirstFrame","tweens","tween","passive","_stepPosition","_addManagedChild","_setState","_off","Container__getBounds","priority","ID","Tween","_installPlugin","prop","_addPlugin","ratio","SpriteSheetUtils","_workingCanvas","extractFrame","addFlippedFrames","mergeAlpha","_flip","il","__tmp","fl","sfx","al","SpriteSheetBuilder","maxHeight","padding","timeSlice","progress","_nextFrameIndex","_index","_timerID","_scale","ERR_DIMENSIONS","ERR_RUNNING","addFrame","setupFunction","setupData","nominalBounds","funct","addAnimation","addMovieClip","labelFunction","rects","baseFrameIndex","_setupMovieClipFrame","_labels","lbls","build","_startBuild","_drawNext","_endBuild","buildAsync","_run","stopAsync","dataFrames","_fillRow","_getSize","ae","maxH","sc","ry","rh","rw","ts","DOMElement","htmlElement","transformOrigin","WebkitTransformOrigin","msTransformOrigin","MozTransformOrigin","OTransformOrigin","_handleDrawEnd","visibility","oldProps","oldMtx","WebkitTransform","OTransform","msTransform","MozTransform","Filter","usesContext","applyFilter","targetCtx","targetX","targetY","imageData","_applyFilter","_cacheDataURLID","_cacheDataURL","getFilterBounds","filterBounds","surface","_updateSurface","_drawToCache","_webGLCache","useGL","stageGL","webGL","_applyFilters","BlurFilter","blurX","blurY","quality","Filter_constructor","_blurX","_blurXTable","_lastBlurX","_blurY","_blurYTable","_lastBlurY","_quality","_lastQuality","FRAG_SHADER_TEMPLATE","setQuality","getBlurX","getBlurY","setBlurX","setBlurY","getQuality","_getShader","xChange","yChange","qChange","_getTable","_updateShader","_compiledShader","_setShader","spread","EDGE","factor","currentValue","toFixed","uniform1fv","uniform2f","MUL_TABLE","SHG_TABLE","radiusX","radiusY","iterations","yp","yi","yw","pr","pg","pb","pa","divx","divy","w1","h1","rxp1","ryp1","ssx","sx","ssy","sy","si","stx","mty","sty","ms","AlphaMapFilter","alphaMap","_alphaMap","_mapData","_mapTexture","TEXTURE1","_prepAlphaMap","HTMLCanvasElement","imgData","AlphaMaskFilter","ColorFilter","redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset","uniform4f","ColorMatrix","brightness","contrast","setColor","DELTA_INDEX","IDENTITY_MATRIX","adjustColor","adjustHue","adjustContrast","adjustBrightness","adjustSaturation","_cleanValue","_multiplyMatrix","lumR","lumG","lumB","cosVal","sinVal","_fixMatrix","toArray","ColorMatrixFilter","mat","colorMatrix","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","Touch","isSupported","singleTouch","allowDefault","__touch","pointers","multitouch","_IOS_enable","_IE_enable","_IOS_disable","_IE_disable","_IOS_handleEvent","touches","touch","identifier","_handleStart","_handleMove","_handleEnd","_IE_handleEvent","msTouchAction","touchAction","activeIDs","ids","srcElement","EaselJS","buildDate","DsjButtom","clickChange","numberData","sliceData","propData","graphStrokeWidth","arcStrokeWidth","graphColor","arcColor","wrapperBG","textColor","clickItem","initData","deep","computed","_graph","strokeWidth","_arc","_svg","_text","svg","ChartAnnular","components","canvasBGLZ","canvasBGLZ2","installed"],"mappings":"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AK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GASluCnC,EAAWoC,UAAY,CAAC,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,G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","file":"easy-dsj.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"easy-dsj\"] = factory();\n\telse\n\t\troot[\"easy-dsj\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".fd-dsj_borks[data-v-fc0bff34]{width:100%;height:100px;position:relative}.fd-dsj_ksAnim[data-v-fc0bff34]{width:60px;height:142px;position:relative}.fd-dsj_demoLine[data-v-fc0bff34]{width:60px!important;height:142px!important;border:4px solid #0090cc;border-radius:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;position:absolute;-webkit-transform:rotate(89deg) rotateY(40deg) scale(0);transform:rotate(89deg) rotateY(40deg) scale(0);left:42px;bottom:-13px}.fd-dsj_anim1[data-v-fc0bff34],.fd-dsj_anim2[data-v-fc0bff34]{-webkit-animation:dsj_kuosan-data-v-fc0bff34 3s infinite;animation:dsj_kuosan-data-v-fc0bff34 3s infinite}.fd-dsj_anim2[data-v-fc0bff34]{-webkit-animation-delay:1s;animation-delay:1s}.fd-dsj_anim3[data-v-fc0bff34]{-webkit-animation:dsj_kuosan-data-v-fc0bff34 3s infinite;animation:dsj_kuosan-data-v-fc0bff34 3s infinite;-webkit-animation-delay:2s;animation-delay:2s}@-webkit-keyframes dsj_kuosan-data-v-fc0bff34{0%{opacity:1;-webkit-transform:rotate(89deg) rotateY(40deg) scale(0);transform:rotate(89deg) rotateY(40deg) scale(0)}90%{-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}to{opacity:0;-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}}@keyframes dsj_kuosan-data-v-fc0bff34{0%{opacity:1;-webkit-transform:rotate(89deg) rotateY(40deg) scale(0);transform:rotate(89deg) rotateY(40deg) scale(0)}90%{-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}to{opacity:0;-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\"","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\"","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\"","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ed7edcf4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\"","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","exports.f = {}.propertyIsEnumerable;\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".fd-canvas__bg{width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8d56b956\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","module.exports = {};\n","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0f70f2f4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","exports.f = {}.propertyIsEnumerable;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = require(\"core-js/library/fn/symbol/iterator\");","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","module.exports = require(\"core-js/library/fn/symbol\");","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#dsj-lzCanvas[data-v-bd16dc84]{height:100%;width:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","require('./_wks-define')('asyncIterator');\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","require('./_wks-define')('observable');\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = require(\"core-js/library/fn/promise\");","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\"","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function () { /* empty */ };\n","module.exports = {};\n","module.exports = require(\"core-js/library/fn/object/define-property\");","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".chart_annular__wrapper[data-v-d607c838]{width:100%;height:100%;cursor:pointer}.chart_annular__wrapper svg[data-v-d607c838]{width:100%;height:100%}.chart_annular__wrapper text[data-v-d607c838]{stroke:none;-webkit-transition:fill .8s ease-out;transition:fill .8s ease-out}.chart_annular__wrapper .arc[data-v-d607c838]{stroke-width:4px}.chart_annular__wrapper .graph[data-v-d607c838]{stroke-dashoffset:0;stroke-dasharray:251.35;stroke-dashoffset:calc(2.5135*var(--val));-webkit-transition:stroke-dashoffset .8s ease-out;transition:stroke-dashoffset .8s ease-out;stroke-linecap:round;stroke-width:4px;-webkit-transform:translateX(100px) rotateY(180deg);transform:translateX(100px) rotateY(180deg)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","module.exports = require('./_hide');\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".fd-canvasParent[data-v-470503c2]{padding-top:5px;padding-left:5px;border:2px solid #ccc;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.fd-canvasParent[data-v-470503c2]:after{content:\\\"\\\";display:block;width:6px;height:6px;border-radius:100%;position:absolute;top:-4px;left:0;right:0;margin:auto}.icon-max_canvas[data-v-470503c2]{border-radius:50%;border:1px solid rgba(104,181,55,.6)}.icon-max_canvas[data-v-470503c2]:after{background:#d3fa39;-webkit-box-shadow:0 0 5px 1px #d3fa39;box-shadow:0 0 5px 1px #d3fa39}.icon-center_canvas[data-v-470503c2]{border-radius:50%;border:1px solid rgba(200,159,51,.6)}.icon-center_canvas[data-v-470503c2]:after{background:#faa638;-webkit-box-shadow:0 0 5px 1px #faa638;box-shadow:0 0 5px 1px #faa638}.icon-min_canvas[data-v-470503c2]{border-radius:50%;border:1px solid rgba(222,134,44,.6)}.icon-min_canvas[data-v-470503c2]:after{background:#f06e18;-webkit-box-shadow:0 0 5px 1px #f06e18;box-shadow:0 0 5px 1px #f06e18}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".dsj_btn[data-v-2e29daa9]{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:.6s;transition-duration:.6s;-webkit-transition-timing-function:ease;transition-timing-function:ease;color:#fff;cursor:pointer;display:inline-block;font-size:16px;font-weight:400;line-height:30px;margin:0 0 2em;width:100%;text-align:center;position:relative;text-transform:uppercase;height:30px}.dsj_btn[data-v-2e29daa9],.dsj_btn[data-v-2e29daa9]:hover{text-decoration:none}.dsj_btn>span[data-v-2e29daa9]{display:inline-block;width:100%;height:30px;line-height:30px;text-align:center}.fsj_button--1[data-v-2e29daa9]{letter-spacing:0}.fsj_button--1[data-v-2e29daa9]:active,.fsj_button--1[data-v-2e29daa9]:hover{letter-spacing:5px}.fsj_button--1[data-v-2e29daa9]:after,.fsj_button--1[data-v-2e29daa9]:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;border:1px solid hsla(0,0%,100%,0);bottom:0;content:\\\" \\\";display:block;margin:0 auto;position:relative;-webkit-transition:all .28s ease-in-out;transition:all .28s ease-in-out;width:0}.fsj_button--1[data-v-2e29daa9]:hover:after,.fsj_button--1[data-v-2e29daa9]:hover:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;border-color:#fff;-webkit-transition:width .35s ease-in-out;transition:width .35s ease-in-out;width:70%}.fsj_button--1[data-v-2e29daa9]:hover:before{bottom:auto;top:0;width:70%}.fsj_button--2[data-v-2e29daa9]{background:#e3403a;border:1px solid #da251f;-webkit-box-shadow:0 2px 0 #d6251f,2px 4px 6px #e02a24;box-shadow:0 2px 0 #d6251f,2px 4px 6px #e02a24;font-weight:900;letter-spacing:1px;-webkit-transition:all .15s linear;transition:all .15s linear}.fsj_button--2[data-v-2e29daa9]:hover{background:#e02c26;border:1px solid rgba(0,0,0,.05);-webkit-box-shadow:1px 1px 2px hsla(0,0%,100%,.2);box-shadow:1px 1px 2px hsla(0,0%,100%,.2);color:#ec817d;text-decoration:none;text-shadow:-1px -1px 0 #c2211c;-webkit-transition:all .25s linear;transition:all .25s linear}.fsj_button--3[data-v-2e29daa9]{border:1px solid;overflow:hidden;position:relative}.fsj_button--3 span[data-v-2e29daa9]{z-index:20}.fsj_button--3[data-v-2e29daa9]:after{background:#fff;content:\\\"\\\";height:155px;left:-75px;opacity:.2;position:absolute;top:-50px;-webkit-transform:rotate(35deg);transform:rotate(35deg);width:50px}.fsj_button--3[data-v-2e29daa9]:after,.fsj_button--3[data-v-2e29daa9]:hover:after{-webkit-transition:all .55s cubic-bezier(.19,1,.22,1);transition:all .55s cubic-bezier(.19,1,.22,1)}.fsj_button--3[data-v-2e29daa9]:hover:after{left:120%}.fsj_button--4[data-v-2e29daa9]{border:0 solid;-webkit-box-shadow:inset 0 0 20px hsla(0,0%,100%,0);box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,.5);outline-offset:0;text-shadow:none;-webkit-transition:all 1.25s cubic-bezier(.19,1,.22,1);transition:all 1.25s cubic-bezier(.19,1,.22,1)}.fsj_button--4[data-v-2e29daa9]:hover{border:1px solid;-webkit-box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-color:hsla(0,0%,100%,0);outline-offset:15px;text-shadow:1px 1px 2px #427388}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","module.exports = true;\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"50a933dc\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","exports.f = require('./_wks');\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"364db2dc\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c07e3314\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// document.currentScript polyfill by Adam Miller\n\n// MIT license\n\n(function(document){\n  var currentScript = \"currentScript\",\n      scripts = document.getElementsByTagName('script'); // Live NodeList collection\n\n  // If browser needs currentScript polyfill, add get currentScript() to the document object\n  if (!(currentScript in document)) {\n    Object.defineProperty(document, currentScript, {\n      get: function(){\n\n        // IE 6-10 supports script readyState\n        // IE 10+ support stack trace\n        try { throw new Error(); }\n        catch (err) {\n\n          // Find the second match for the \"at\" string to get file src url from stack.\n          // Specifically works with the format of stack traces in IE.\n          var i, res = ((/.*at [^\\(]*\\((.*):.+:.+\\)$/ig).exec(err.stack) || [false])[1];\n\n          // For all scripts on the page, if src matches or if ready state is interactive, return the script tag\n          for(i in scripts){\n            if(scripts[i].src == res || scripts[i].readyState == \"interactive\"){\n              return scripts[i];\n            }\n          }\n\n          // If no match, return null\n          return null;\n        }\n      }\n    });\n  }\n})(document);\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    require('current-script-polyfill')\n  }\n\n  var i\n  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))) {\n    __webpack_public_path__ = i[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"canvasBoll\",class:['fd-canvasParent', (\"icon-\" + _vm.classType + \"_canvas\")]},[_c('canvas',{ref:\"canvas\",staticStyle:{\"border-radius\":\"100%\"},on:{\"click\":function($event){return _vm.$emit('click')}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Promise from \"../../core-js/promise\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    _Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new _Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","<template>\r\n  <div ref=\"canvasBoll\" :class=\"['fd-canvasParent', `icon-${classType}_canvas`]\">\r\n    <canvas style=\"border-radius: 100%;\" @click=\"$emit('click')\" ref=\"canvas\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'dsj-waterBall',\r\n  props: {\r\n    data: {\r\n      type: [String, Number],\r\n      default: ''\r\n    },\r\n    fz: {\r\n      type: [String, Number],\r\n      default: 20\r\n    },\r\n    score: {\r\n      type: [ String, Number ],\r\n      default: 100,\r\n      required: true\r\n    },\r\n    distance: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          w: 155,\r\n          h: 155\r\n        }\r\n      }\r\n    },\r\n    titleSold: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    suffix: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  watch: {\r\n    'score': {\r\n      handler () {\r\n        this.canvasBoll.INIT_SCORE = this.initSCORE(this.score)\r\n        this.canvasBoll.BOLL_SCORE = this.canvasBoll.INIT_SCORE / 100\r\n        this.switchColor()\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      classType: '',\r\n      canvasBoll: {\r\n        BOLL_STEP: 0, // 循环次数\r\n        BOLL_LINES: [], // 颜色\r\n        BOLL_SCORE: 100, // 分数\r\n        BOLL_CANVAS: null, // canvas body\r\n        BOLL_CTX: null, // ctx\r\n        BOLL_SCORELAST: 0\r\n      },\r\n      dataColorList: {\r\n        max: [{\r\n          to: '#19cb9b',\r\n          from: '#4ae222'\r\n        }, {\r\n          to: '#aff581',\r\n          from: '#aff581'\r\n        }],\r\n        center: [{\r\n          to: '#e9930c',\r\n          from: '#f5b223'\r\n        }, {\r\n          to: '#e5b941',\r\n          from: '#e5b941'\r\n        }],\r\n        min: [{\r\n          to: '#fa1e1e',\r\n          from: '#f1612e'\r\n        }, {\r\n          to: '#f8724a',\r\n          from: '#f8724a'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.canvasBoll.BOLL_LINES = this.color\r\n    this.canvasBoll.INIT_SCORE = this.initSCORE(this.score)\r\n    this.canvasBoll.BOLL_SCORE = this.canvasBoll.INIT_SCORE / 100\r\n    this.switchColor()\r\n  },\r\n  mounted () {\r\n    this.$refs.canvasBoll.style.width = this.distance.w + 14 + 'px'\r\n    this.$refs.canvasBoll.style.height = this.distance.h + 14 + 'px'\r\n    // this.canvasBoll.BOLL_CANVAS = document.getElementById('dsj-canvas__boll')\r\n    this.canvasBoll.BOLL_CANVAS = this.$refs.canvas\r\n    this.canvasBoll.BOLL_CANVAS.width = this.distance.w\r\n    this.canvasBoll.BOLL_CANVAS.height = this.distance.h\r\n    this.canvasBoll.BOLL_CTX = this.canvasBoll.BOLL_CANVAS.getContext('2d')\r\n    this.loop()\r\n  },\r\n  methods: {\r\n    switchColor () {\r\n      if (this.canvasBoll.INIT_SCORE >= 90) {\r\n        this.classType = 'max'\r\n        this.canvasBoll.BOLL_LINES = this.dataColorList.max\r\n      } else if (this.canvasBoll.INIT_SCORE < 90 && this.canvasBoll.INIT_SCORE >= 60) {\r\n        this.classType = 'center'\r\n        this.canvasBoll.BOLL_LINES = this.dataColorList.center\r\n      } else {\r\n        this.classType = 'min'\r\n        this.canvasBoll.BOLL_LINES = this.dataColorList.min\r\n      }\r\n    },\r\n    initSCORE (_score) {\r\n      let score\r\n      if (typeof _score !== 'number') {\r\n        if (_score.indexOf('%') !== -1) {\r\n          score = Number(_score.replace('%', ''))\r\n        } else {\r\n          score = Number(_score)\r\n        }\r\n      } else {\r\n        score = _score\r\n      }\r\n      if (score < 0) {\r\n        score = 0\r\n      }\r\n      return score\r\n    },\r\n    requestAnimFrame (callback) {\r\n      window.setTimeout(callback, 1000 / 60)\r\n    },\r\n    async loop () {\r\n      this.canvasBoll.BOLL_CTX.clearRect(0, 0, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height)\r\n      this.canvasBoll.BOLL_CTX.fillStyle = 'rgb(13, 73, 110)'\r\n      this.canvasBoll.BOLL_CTX.fillRect(0, 0, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height)\r\n      this.canvasBoll.BOLL_STEP++\r\n      await this.rectLine()\r\n      if (this.titleSold) {\r\n        this.canvasBoll.BOLL_CTX.font = `${this.fz}px bold 黑体`\r\n        this.canvasBoll.BOLL_CTX.fillStyle = '#fff'\r\n        this.canvasBoll.BOLL_CTX.textAlign = 'center'\r\n        this.canvasBoll.BOLL_CTX.fillText((this.data ? this.data : (isNaN(Number(String(this.score).slice(-1))) ? this.score : this.score + '%')) + this.suffix, this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height / 2 + 10)\r\n      }\r\n      this.requestAnimFrame(this.loop)\r\n    },\r\n    rectLine () {\r\n      return new Promise((resolve) => {\r\n        for (let j = this.canvasBoll.BOLL_LINES.length - 1; j >= 0; j--) {\r\n          let mygradient = this.canvasBoll.BOLL_CTX.createLinearGradient(0, 0, 0, 170)\r\n          if (j === 1) {\r\n            mygradient.addColorStop(0, this.canvasBoll.BOLL_LINES[j].to)\r\n            mygradient.addColorStop(1, this.canvasBoll.BOLL_LINES[j].from)\r\n            this.canvasBoll.BOLL_CTX.fillStyle = mygradient\r\n          } else {\r\n            mygradient.addColorStop(0, this.canvasBoll.BOLL_LINES[j].to)\r\n            mygradient.addColorStop(1, this.canvasBoll.BOLL_LINES[j].from)\r\n            this.canvasBoll.BOLL_CTX.fillStyle = mygradient\r\n          }\r\n          // 每个矩形的角度都不同，每个之间相差45度\r\n\r\n          let angle = (this.canvasBoll.BOLL_STEP + j * 30) * Math.PI / 90\r\n          let deltaHeight = Math.sin(angle) * 8\r\n          let deltaHeightRight = Math.cos(angle) * 8\r\n          // console.log(this.canvasBoll.BOLL_CANVAS.height*this.canvasBoll.BOLL_SCORELAST+deltaHeight,this.canvasBoll.BOLL_CANVAS.height/2+deltaHeight)\r\n          this.canvasBoll.BOLL_CTX.beginPath()\r\n          if (this.canvasBoll.BOLL_SCORELAST !== this.canvasBoll.INIT_SCORE) {\r\n            if (this.canvasBoll.BOLL_SCORELAST < this.canvasBoll.INIT_SCORE) {\r\n              this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.INIT_SCORE - this.canvasBoll.BOLL_SCORELAST <= 2 ? this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.INIT_SCORE : this.canvasBoll.BOLL_SCORELAST + 1\r\n            } else {\r\n              this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.BOLL_SCORELAST - this.canvasBoll.INIT_SCORE <= 2 ? this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.INIT_SCORE : this.canvasBoll.BOLL_SCORELAST - 1\r\n            }\r\n          }\r\n          this.canvasBoll.BOLL_SCORE = this.canvasBoll.BOLL_SCORELAST / 100\r\n          this.canvasBoll.BOLL_CTX.moveTo(0, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight)\r\n          if (j === 1) {\r\n            this.canvasBoll.BOLL_CTX.bezierCurveTo(this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeightRight, this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight)\r\n          } else {\r\n            this.canvasBoll.BOLL_CTX.bezierCurveTo(this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight, this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeightRight, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeightRight)\r\n          }\r\n          this.canvasBoll.BOLL_CTX.lineTo(this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height)\r\n          this.canvasBoll.BOLL_CTX.lineTo(0, this.canvasBoll.BOLL_CANVAS.height)\r\n          this.canvasBoll.BOLL_CTX.lineTo(0, this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight)\r\n          this.canvasBoll.BOLL_CTX.closePath()\r\n          this.canvasBoll.BOLL_CTX.fill()\r\n        }\r\n        resolve()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .fd-canvasParent {\r\n    padding-top: 5px;\r\n    padding-left: 5px;\r\n    border: 2px solid #ccc;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n  }\r\n  .fd-canvasParent::after {\r\n    content: '';\r\n    display: block;\r\n    width: 6px;\r\n    height: 6px;\r\n    border-radius: 100%;\r\n    position: absolute;\r\n    top: -4px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n  }\r\n  .icon-max_canvas {\r\n    border-radius:50%;\r\n    border: 1px solid rgba(104, 181, 55, 0.6);\r\n  }\r\n  .icon-max_canvas::after {\r\n    background: #d3fa39;\r\n    box-shadow: 0px 0px 5px 1px #d3fa39;\r\n  }\r\n  .icon-center_canvas {\r\n    border-radius:50%;\r\n    border: 1px solid rgba(200, 159, 51, 0.6);\r\n  }\r\n  .icon-center_canvas::after {\r\n    background: #faa638;\r\n    box-shadow: 0px 0px 5px 1px #faa638 ;\r\n  }\r\n  .icon-min_canvas {\r\n    border-radius:50%;\r\n    border: 1px solid rgba(222, 134, 44, 0.6);\r\n  }\r\n  .icon-min_canvas::after {\r\n    background: #f06e18;\r\n    box-shadow: 0px 0px 5px 1px #f06e18;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=470503c2&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"470503c2\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2019-09-18 14:09:11\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2019-09-18 14:26:26\r\n */\r\n\r\n// 导入组件，组件必须声明 name\r\nimport canvasboll from './src/main.vue'\r\n// 为组件添加 install 方法，用于按需引入\r\ncanvasboll.install = function (Vue) {\r\n  Vue.component(canvasboll.name, canvasboll)\r\n}\r\n\r\nexport default canvasboll","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fd-dsj_borks\"},[_c('div',{staticClass:\"fd-dsj_ksAnim\"},[_c('div',{staticClass:\"fd-dsj_demoLine fd-dsj_anim1\"}),_c('div',{staticClass:\"fd-dsj_demoLine fd-dsj_anim2\"}),_c('div',{staticClass:\"fd-dsj_demoLine fd-dsj_anim3\"})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"fd-dsj_borks\">\r\n    <div class=\"fd-dsj_ksAnim\">\r\n      <div class=\"fd-dsj_demoLine fd-dsj_anim1\"></div>\r\n      <div class=\"fd-dsj_demoLine fd-dsj_anim2\"></div>\r\n      <div class=\"fd-dsj_demoLine fd-dsj_anim3\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'dsj-diffusion'\r\n}\r\n</script>\r\n<style scoped>\r\n  /* CSS扩散 */\r\n\r\n.fd-dsj_borks {\r\n  width: 100%;\r\n  height: 100px;\r\n  position: relative;\r\n}\r\n\r\n.fd-dsj_ksAnim {\r\n  width: 60px;\r\n  height: 142px;\r\n  position: relative;\r\n}\r\n\r\n.fd-dsj_demoLine {\r\n  width: 60px !important;\r\n  height: 142px !important;\r\n  border: 4px solid #0090cc;\r\n  border-radius: 100%;\r\n  transform-style: preserve-3d;\r\n  position: absolute;\r\n  transform: rotateZ(89deg) rotateY(40deg) scale(0);\r\n  left: 42px;\r\n  bottom: -13px;\r\n}\r\n\r\n.fd-dsj_anim1 {\r\n  animation: dsj_kuosan 3s infinite;\r\n}\r\n\r\n.fd-dsj_anim2 {\r\n  animation: dsj_kuosan 3s infinite;\r\n  animation-delay: 1s\r\n}\r\n\r\n.fd-dsj_anim3 {\r\n  animation: dsj_kuosan 3s infinite;\r\n  animation-delay: 2s\r\n}\r\n\r\n@keyframes dsj_kuosan {\r\n  0% {\r\n    opacity: 1;\r\n    transform: rotateZ(89deg) rotateY(40deg) scale(0);\r\n  }\r\n\r\n  90% {\r\n    transform: rotateZ(89deg) rotateY(40deg) scale(1);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    transform: rotateZ(89deg) rotateY(40deg) scale(1);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=fc0bff34&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc0bff34\",\n  null\n  \n)\n\nexport default component.exports","// packages/textarea/index.js\r\n\r\n// 导入组件，组件必须声明 name\r\nimport Diffusion from './src/main.vue'\r\n\r\n// 为组件添加 install 方法，用于按需引入\r\nDiffusion.install = function (Vue) {\r\n  Vue.component(Diffusion.name, Diffusion)\r\n}\r\n\r\nexport default Diffusion","\r\n  let ParticleNetworkAnimation, PNA;\r\n  ParticleNetworkAnimation = PNA = function() {};\r\n\r\n  PNA.prototype.init = function(element, option) {\r\n\r\n    this.container = element;\r\n    this.canvas = document.createElement(\"canvas\");\r\n    this.sizeCanvas();\r\n    this.container.appendChild(this.canvas);\r\n    this.ctx = this.canvas.getContext(\"2d\");\r\n    this.particleNetwork = new ParticleNetwork(this, option);\r\n\r\n    this.bindUiActions();\r\n\r\n    return this;\r\n  };\r\n\r\n  PNA.prototype.bindUiActions = function() {\r\n    window.onresize = function () { \r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.sizeCanvas();\r\n      this.particleNetwork.createParticles();\r\n    }.bind(this)\r\n  };\r\n\r\n  PNA.prototype.sizeCanvas = function() {\r\n    this.canvas.width = this.container.offsetWidth;\r\n    this.canvas.height = this.container.offsetHeight;\r\n  };\r\n\r\n  let Particle = function(parent, x, y) {\r\n    this.network = parent;\r\n    this.canvas = parent.canvas;\r\n    this.ctx = parent.ctx;\r\n    this.particleColor = returnRandomArrayitem(\r\n      this.network.options.particleColors\r\n    );\r\n    this.radius = getLimitedRandom(1.5, 2.5);\r\n    this.opacity = 0;\r\n    this.x = x || Math.random() * this.canvas.width;\r\n    this.y = y || Math.random() * this.canvas.height;\r\n    this.velocity = {\r\n      x: (Math.random() - 0.5) * parent.options.velocity,\r\n      y: (Math.random() - 0.5) * parent.options.velocity\r\n    };\r\n  };\r\n\r\n  Particle.prototype.update = function() {\r\n    if (this.opacity < 1) {\r\n      this.opacity += 0.01;\r\n    } else {\r\n      this.opacity = 1;\r\n    }\r\n    // Change dir if outside map\r\n    if (this.x > this.canvas.width + 100 || this.x < -100) {\r\n      this.velocity.x = -this.velocity.x;\r\n    }\r\n    if (this.y > this.canvas.height + 100 || this.y < -100) {\r\n      this.velocity.y = -this.velocity.y;\r\n    }\r\n\r\n    // Update position\r\n    this.x += this.velocity.x;\r\n    this.y += this.velocity.y;\r\n  };\r\n\r\n  Particle.prototype.draw = function() {\r\n    // Draw particle\r\n    this.ctx.beginPath();\r\n    this.ctx.fillStyle = this.particleColor;\r\n    this.ctx.globalAlpha = this.opacity;\r\n    this.ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n    this.ctx.fill();\r\n  };\r\n\r\n  let ParticleNetwork = function(parent, options) {\r\n    this.options = {\r\n      velocity: 1, // the higher the faster\r\n      density: 15000, // the lower the denser\r\n      netLineDistance: 200,\r\n      netLineColor: \"#fff\",\r\n      particleColors: [\"#000\"], // ['#6D4E5C', '#aaa', '#FFC458' ]\r\n    };\r\n    Object.assign(this.options, options);\r\n    this.canvas = parent.canvas;\r\n    this.ctx = parent.ctx;\r\n\r\n    this.init();\r\n  };\r\n\r\n  ParticleNetwork.prototype.init = function() {\r\n    // Create particle objects\r\n    this.createParticles(true);\r\n\r\n    // Update canvas\r\n    this.animationFrame = requestAnimationFrame(this.update.bind(this));\r\n\r\n    this.bindUiActions();\r\n  };\r\n\r\n  ParticleNetwork.prototype.createParticles = function(isInitial) {\r\n    // Initialise / reset particles\r\n    let me = this;\r\n    this.particles = [];\r\n    let quantity =\r\n      (this.canvas.width * this.canvas.height) / this.options.density;\r\n\r\n    if (isInitial) {\r\n      let counter = 0;\r\n      clearInterval(this.createIntervalId);\r\n      this.createIntervalId = setInterval(\r\n        function() {\r\n          if (counter < quantity - 1) {\r\n            // Create particle object\r\n            this.particles.push(new Particle(this));\r\n          } else {\r\n            clearInterval(me.createIntervalId);\r\n          }\r\n          counter++;\r\n        }.bind(this),\r\n        250\r\n      );\r\n    } else {\r\n      // Create particle objects\r\n      for (let i = 0; i < quantity; i++) {\r\n        this.particles.push(new Particle(this));\r\n      }\r\n    }\r\n  };\r\n\r\n  ParticleNetwork.prototype.createInteractionParticle = function() {\r\n    // Add interaction particle\r\n    this.interactionParticle = new Particle(this);\r\n    this.interactionParticle.velocity = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.particles.push(this.interactionParticle);\r\n    return this.interactionParticle;\r\n  };\r\n\r\n  ParticleNetwork.prototype.removeInteractionParticle = function() {\r\n    // Find it\r\n    let index = this.particles.indexOf(this.interactionParticle);\r\n    if (index > -1) {\r\n      // Remove it\r\n      this.interactionParticle = undefined;\r\n      this.particles.splice(index, 1);\r\n    }\r\n  };\r\n\r\n  ParticleNetwork.prototype.update = function() {\r\n    if (this.canvas) {\r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.ctx.globalAlpha = 1;\r\n\r\n      // Draw connections\r\n      for (let i = 0; i < this.particles.length; i++) {\r\n        for (let j = this.particles.length - 1; j > i; j--) {\r\n          let distance,\r\n            p1 = this.particles[i],\r\n            p2 = this.particles[j];\r\n\r\n          // check very simply if the two points are even a candidate for further measurements\r\n          distance = Math.min(Math.abs(p1.x - p2.x), Math.abs(p1.y - p2.y));\r\n          if (distance > this.options.netLineDistance) {\r\n            continue;\r\n          }\r\n\r\n          // the two points seem close enough, now let's measure precisely\r\n          distance = Math.sqrt(\r\n            Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)\r\n          );\r\n          if (distance > this.options.netLineDistance) {\r\n            continue;\r\n          }\r\n\r\n          this.ctx.beginPath();\r\n          this.ctx.strokeStyle = this.options.netLineColor;\r\n          this.ctx.globalAlpha =\r\n            ((this.options.netLineDistance - distance) /\r\n              this.options.netLineDistance) *\r\n            p1.opacity *\r\n            p2.opacity;\r\n          this.ctx.lineWidth = 0.7;\r\n          this.ctx.moveTo(p1.x, p1.y);\r\n          this.ctx.lineTo(p2.x, p2.y);\r\n          this.ctx.stroke();\r\n        }\r\n      }\r\n\r\n      // Draw particles\r\n      for (let i = 0; i < this.particles.length; i++) {\r\n        this.particles[i].update();\r\n        this.particles[i].draw();\r\n      }\r\n\r\n      if (this.options.velocity !== 0) {\r\n        this.animationFrame = requestAnimationFrame(this.update.bind(this));\r\n      }\r\n    } else {\r\n      cancelAnimationFrame(this.animationFrame);\r\n    }\r\n  };\r\n\r\n  ParticleNetwork.prototype.bindUiActions = function() {\r\n    // Mouse / touch event handling\r\n    this.spawnQuantity = 3;\r\n    this.mouseIsDown = false;\r\n    this.touchIsMoving = false;\r\n\r\n    this.onMouseMove = function(e) {\r\n      if (!this.interactionParticle) {\r\n        this.createInteractionParticle();\r\n      }\r\n      this.interactionParticle.x = e.offsetX;\r\n      this.interactionParticle.y = e.offsetY;\r\n    }.bind(this);\r\n\r\n    this.onTouchMove = function(e) {\r\n      e.preventDefault();\r\n      this.touchIsMoving = true;\r\n      if (!this.interactionParticle) {\r\n        this.createInteractionParticle();\r\n      }\r\n      this.interactionParticle.x = e.changedTouches[0].clientX;\r\n      this.interactionParticle.y = e.changedTouches[0].clientY;\r\n    }.bind(this);\r\n\r\n    this.onMouseDown = function() {\r\n      this.mouseIsDown = true;\r\n      let counter = 0;\r\n      let quantity = this.spawnQuantity;\r\n      let intervalId = setInterval(\r\n        function() {\r\n          if (this.mouseIsDown) {\r\n            if (counter === 1) {\r\n              quantity = 1;\r\n            }\r\n            for (let i = 0; i < quantity; i++) {\r\n              if (this.interactionParticle) {\r\n                this.particles.push(\r\n                  new Particle(\r\n                    this,\r\n                    this.interactionParticle.x,\r\n                    this.interactionParticle.y\r\n                  )\r\n                );\r\n              }\r\n            }\r\n          } else {\r\n            clearInterval(intervalId);\r\n          }\r\n          counter++;\r\n        }.bind(this),\r\n        50\r\n      );\r\n    }.bind(this);\r\n\r\n    this.onTouchStart = function(e) {\r\n      e.preventDefault();\r\n      setTimeout(\r\n        function() {\r\n          if (!this.touchIsMoving) {\r\n            for (let i = 0; i < this.spawnQuantity; i++) {\r\n              this.particles.push(\r\n                new Particle(\r\n                  this,\r\n                  e.changedTouches[0].clientX,\r\n                  e.changedTouches[0].clientY\r\n                )\r\n              );\r\n            }\r\n          }\r\n        }.bind(this),\r\n        200\r\n      );\r\n    }.bind(this);\r\n\r\n    this.onMouseUp = function() {\r\n      this.mouseIsDown = false;\r\n    }.bind(this);\r\n\r\n    this.onMouseOut = function() {\r\n      this.removeInteractionParticle();\r\n    }.bind(this);\r\n\r\n    this.onTouchEnd = function(e) {\r\n      e.preventDefault();\r\n      this.touchIsMoving = false;\r\n      this.removeInteractionParticle();\r\n    }.bind(this);\r\n\r\n    this.canvas.addEventListener(\"mousemove\", this.onMouseMove);\r\n    this.canvas.addEventListener(\"touchmove\", this.onTouchMove);\r\n    this.canvas.addEventListener(\"mousedown\", this.onMouseDown);\r\n    this.canvas.addEventListener(\"touchstart\", this.onTouchStart);\r\n    this.canvas.addEventListener(\"mouseup\", this.onMouseUp);\r\n    this.canvas.addEventListener(\"mouseout\", this.onMouseOut);\r\n    this.canvas.addEventListener(\"touchend\", this.onTouchEnd);\r\n  };\r\n\r\n  ParticleNetwork.prototype.unbindUiActions = function() {\r\n    if (this.canvas) {\r\n      this.canvas.removeEventListener(\"mousemove\", this.onMouseMove);\r\n      this.canvas.removeEventListener(\"touchmove\", this.onTouchMove);\r\n      this.canvas.removeEventListener(\"mousedown\", this.onMouseDown);\r\n      this.canvas.removeEventListener(\"touchstart\", this.onTouchStart);\r\n      this.canvas.removeEventListener(\"mouseup\", this.onMouseUp);\r\n      this.canvas.removeEventListener(\"mouseout\", this.onMouseOut);\r\n      this.canvas.removeEventListener(\"touchend\", this.onTouchEnd);\r\n    }\r\n  };\r\n\r\n  let getLimitedRandom = function(min, max, roundToInteger) {\r\n    let number = Math.random() * (max - min) + min;\r\n    if (roundToInteger) {\r\n      number = Math.round(number);\r\n    }\r\n    return number;\r\n  };\r\n\r\n  let returnRandomArrayitem = function(array) {\r\n    return array[Math.floor(Math.random() * array.length)];\r\n  };\r\n\r\nexport default ParticleNetworkAnimation\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dsj-lzCanvas\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"dsj-lzCanvas\"></div>\r\n</template>\r\n<script>\r\nimport ParticleNetworkAnimation from './canvasbg.js'\r\nexport default {\r\n  name: 'dsj-bgLz',\r\n  data () {\r\n    return {\r\n      PNA: null\r\n    }\r\n  },\r\n  props: {\r\n    particleColors: {\r\n      type: Array,\r\n      default: () => {\r\n        return ['#fff', '#666', '#ttt']\r\n      }\r\n    },\r\n    netLineColor: {\r\n      type: String,\r\n      default: '#fff'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.PNA = new ParticleNetworkAnimation()\r\n    this.PNA.init(document.getElementById('dsj-lzCanvas'), {\r\n      particleColors: this.particleColors,\r\n      netLineColor: this.netLineColor\r\n    })\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n<style scoped>\r\n#dsj-lzCanvas {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=bd16dc84&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd16dc84\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2019-10-16 14:10:23\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2019-10-17 18:58:36\r\n */\r\n\r\n\r\n// 导入组件，组件必须声明 name\r\nimport DsjCanvasBg from './src/main.vue'\r\n// 为组件添加 install 方法，用于按需引入\r\nDsjCanvasBg.install = function (Vue) {\r\n  Vue.component(DsjCanvasBg.name, DsjCanvasBg)\r\n}\r\n\r\nexport default DsjCanvasBg","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fd-canvas__bg\"},[_c('canvas',{attrs:{\"id\":\"canvas__bg2\"}})])}]\n\nexport { render, staticRenderFns }","import _Symbol$iterator from \"../../core-js/symbol/iterator\";\nimport _Symbol from \"../../core-js/symbol\";\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import './index.js'\r\nfunction initCanvas() {\r\n  var c = createjs,\r\n    stage = new c.StageGL(\"target\"),\r\n    t = 0,\r\n    count = 0,\r\n    w,\r\n    h,\r\n    dotTemplate,\r\n    blurTemplate,\r\n    dot = [],\r\n    dots = [],\r\n    max,\r\n    min;\r\n  // configurable:\r\n  var dotR = 8,\r\n    amp0Amt = 1,\r\n    amp1Amt = 0.2,\r\n    maxDots = 2000,\r\n    speed = 2.5;\r\n  c.Ticker.timingMode = c.Ticker.RAF;\r\n  c.Ticker.on(\"tick\", tick);\r\n  stage.setClearColor(\"#201624\");\r\n\r\n  while (dots.length < maxDots) {\r\n    getDot();\r\n  }\r\n\r\n  function tick(evt) {\r\n    var d = evt.delta;\r\n\r\n    var fov = min * 1;\r\n    for (var i = 0, l = dots.length; i < l; i++) {\r\n      var dot = dots[i];\r\n      var t = (dot.t += d * 0.0001 * speed * dot.speed);\r\n      var x = (t % 1) * w - w / 2;\r\n      x += Math.cos(t * dot.p1) * min * dot.a1 * amp1Amt;\r\n      var y = Math.sin(t * Math.PI * 4 + Math.PI) * min * dot.r * 0.25;\r\n      y += Math.sin(t * dot.p1) * min * dot.a1 * amp1Amt;\r\n      var z = Math.cos(t * Math.PI * 4 + Math.PI) * min * dot.r * 0.25;\r\n      z += Math.cos(t * dot.p1) * min * dot.a1 * amp1Amt;\r\n\r\n      var s = fov / (z + fov);\r\n      x *= s;\r\n      y *= s;\r\n\r\n      dot.x = x + w / 2;\r\n      dot.y = y + h / 2;\r\n      dot.getChildAt(1).alpha = 1 - s;\r\n\r\n      dot.scaleX = dot.scaleY = Math.pow(s * (1 + dot.size), 2) * 0.3;\r\n    }\r\n\r\n    stage.update();\r\n  }\r\n\r\n  function getDot() {\r\n    if (dotTemplate === undefined) {\r\n      var dotShape = new c.Shape(),\r\n        blurShape = new c.Shape(),\r\n        g = dotShape.graphics;\r\n      g.f(\"#fff\").dc(0, 0, dotR);\r\n      var pow = Math.ceil(Math.log(dotR) / Math.log(2)),\r\n        base2R = Math.pow(2, pow);\r\n      dotShape.cache(-base2R, -base2R, base2R * 2, base2R * 2);\r\n      dotTemplate = new c.Bitmap(dotShape.cacheCanvas);\r\n      var g = blurShape.graphics;\r\n      g.c()\r\n        .rf(\r\n          [\"hsla(0,0%,100%,0.4)\", \"hsla(180,100%,75%,0)\"],\r\n          [0, 1],\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          dotR\r\n        )\r\n        .dc(0, 0, dotR);\r\n      blurShape.cache(-base2R, -base2R, base2R * 2, base2R * 2);\r\n      blurTemplate = new c.Bitmap(blurShape.cacheCanvas);\r\n      blurTemplate.scaleX = blurTemplate.scaleY = 2;\r\n      blurTemplate.x = blurTemplate.y = -base2R;\r\n      blurTemplate.alpha = 1;\r\n    }\r\n    dot = new c.Container();\r\n    dot.alpha = 0.8;\r\n    dot.addChild(blurTemplate.clone(), dotTemplate.clone());\r\n    dot.t = rnd(Math.PI);\r\n    dot.speed = Math.pow(rnd(0.5, 1), 3);\r\n    dot.size = 1 - dot.speed;\r\n    dot.a1 = rnd(0, 0.7) * rnd(0, dot.speed) * (rnd(1) < 0.5 ? -1 : 1);\r\n    dot.r = 1; //rnd(0.5,1);\r\n    dot.p1 = rnd(0.3, 0.7);\r\n    dots.push(dot);\r\n    stage.addChild(dot);\r\n    return dot;\r\n  }\r\n\r\n  function rnd(min, max) {\r\n    if (max === undefined) {\r\n      max = min;\r\n      min = 0;\r\n    }\r\n    return Math.random() * (max - min) + min;\r\n  }\r\n\r\n  function onResize() {\r\n    w = window.innerWidth;\r\n    h = window.innerHeight;\r\n    max = Math.max(w, h);\r\n    min = Math.min(w, h);\r\n    target.width = w;\r\n    target.height = h;\r\n    stage.updateViewport(w, h);\r\n    stage.update();\r\n  }\r\n\r\n  window.addEventListener(\"resize\", onResize);\r\n  onResize();\r\n}\r\n\r\nexport default initCanvas;\r\n","/*!\r\n* EaselJS\r\n* Visit http://createjs.com/ for documentation, updates and examples.\r\n*\r\n* Copyright (c) 2010 gskinner.com, inc.\r\n*\r\n* Permission is hereby granted, free of charge, to any person\r\n* obtaining a copy of this software and associated documentation\r\n* files (the \"Software\"), to deal in the Software without\r\n* restriction, including without limitation the rights to use,\r\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n* copies of the Software, and to permit persons to whom the\r\n* Software is furnished to do so, subject to the following\r\n* conditions:\r\n*\r\n* The above copyright notice and this permission notice shall be\r\n* included in all copies or substantial portions of the Software.\r\n*\r\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n* OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\n\r\n//##############################################################################\r\n// extend.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Sets up the prototype chain and constructor property for a new class.\r\n *\r\n * This should be called right after creating the class constructor.\r\n *\r\n * \tfunction MySubClass() {}\r\n * \tcreatejs.extend(MySubClass, MySuperClass);\r\n * \tMySubClass.prototype.doSomething = function() { }\r\n *\r\n * \tvar foo = new MySubClass();\r\n * \tconsole.log(foo instanceof MySuperClass); // true\r\n * \tconsole.log(foo.prototype.constructor === MySubClass); // true\r\n *\r\n * @method extend\r\n * @param {Function} subclass The subclass.\r\n * @param {Function} superclass The superclass to extend.\r\n * @return {Function} Returns the subclass's new prototype.\r\n */\r\ncreatejs.extend = function(subclass, superclass) {\r\n\t\"use strict\";\r\n\r\n\tfunction o() { this.constructor = subclass; }\r\n\to.prototype = superclass.prototype;\r\n\treturn (subclass.prototype = new o());\r\n};\r\n\r\n//##############################################################################\r\n// promote.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Promotes any methods on the super class that were overridden, by creating an alias in the format `prefix_methodName`.\r\n * It is recommended to use the super class's name as the prefix.\r\n * An alias to the super class's constructor is always added in the format `prefix_constructor`.\r\n * This allows the subclass to call super class methods without using `function.call`, providing better performance.\r\n *\r\n * For example, if `MySubClass` extends `MySuperClass`, and both define a `draw` method, then calling `promote(MySubClass, \"MySuperClass\")`\r\n * would add a `MySuperClass_constructor` method to MySubClass and promote the `draw` method on `MySuperClass` to the\r\n * prototype of `MySubClass` as `MySuperClass_draw`.\r\n *\r\n * This should be called after the class's prototype is fully defined.\r\n *\r\n * \tfunction ClassA(name) {\r\n * \t\tthis.name = name;\r\n * \t}\r\n * \tClassA.prototype.greet = function() {\r\n * \t\treturn \"Hello \"+this.name;\r\n * \t}\r\n *\r\n * \tfunction ClassB(name, punctuation) {\r\n * \t\tthis.ClassA_constructor(name);\r\n * \t\tthis.punctuation = punctuation;\r\n * \t}\r\n * \tcreatejs.extend(ClassB, ClassA);\r\n * \tClassB.prototype.greet = function() {\r\n * \t\treturn this.ClassA_greet()+this.punctuation;\r\n * \t}\r\n * \tcreatejs.promote(ClassB, \"ClassA\");\r\n *\r\n * \tvar foo = new ClassB(\"World\", \"!?!\");\r\n * \tconsole.log(foo.greet()); // Hello World!?!\r\n *\r\n * @method promote\r\n * @param {Function} subclass The class to promote super class methods on.\r\n * @param {String} prefix The prefix to add to the promoted method names. Usually the name of the superclass.\r\n * @return {Function} Returns the subclass.\r\n */\r\ncreatejs.promote = function(subclass, prefix) {\r\n\t\"use strict\";\r\n\r\n\tvar subP = subclass.prototype, supP = (Object.getPrototypeOf&&Object.getPrototypeOf(subP))||subP.__proto__;\r\n\tif (supP) {\r\n\t\tsubP[(prefix+=\"_\") + \"constructor\"] = supP.constructor; // constructor is not always innumerable\r\n\t\tfor (var n in supP) {\r\n\t\t\tif (subP.hasOwnProperty(n) && (typeof supP[n] == \"function\")) { subP[prefix + n] = supP[n]; }\r\n\t\t}\r\n\t}\r\n\treturn subclass;\r\n};\r\n\r\n//##############################################################################\r\n// indexOf.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Finds the first occurrence of a specified value searchElement in the passed in array, and returns the index of\r\n * that value.  Returns -1 if value is not found.\r\n *\r\n *      var i = createjs.indexOf(myArray, myElementToFind);\r\n *\r\n * @method indexOf\r\n * @param {Array} array Array to search for searchElement\r\n * @param searchElement Element to find in array.\r\n * @return {Number} The first index of searchElement in array.\r\n */\r\ncreatejs.indexOf = function (array, searchElement){\r\n\t\"use strict\";\r\n\r\n\tfor (var i = 0,l=array.length; i < l; i++) {\r\n\t\tif (searchElement === array[i]) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n};\r\n\r\n//##############################################################################\r\n// UID.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Global utility for generating sequential unique ID numbers. The UID class uses a static interface (ex. <code>UID.get()</code>)\r\n\t * and should not be instantiated.\r\n\t * @class UID\r\n\t * @static\r\n\t **/\r\n\tfunction UID() {\r\n\t\tthrow \"UID cannot be instantiated\";\r\n\t}\r\n\r\n\r\n// private static properties:\r\n\t/**\r\n\t * @property _nextID\r\n\t * @type Number\r\n\t * @protected\r\n\t **/\r\n\tUID._nextID = 0;\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Returns the next unique id.\r\n\t * @method get\r\n\t * @return {Number} The next unique id\r\n\t * @static\r\n\t **/\r\n\tUID.get = function() {\r\n\t\treturn UID._nextID++;\r\n\t};\r\n\r\n\r\n\tcreatejs.UID = UID;\r\n}());\r\n\r\n//##############################################################################\r\n// deprecate.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Wraps deprecated methods so they still be used, but throw warnings to developers.\r\n *\r\n *\tobj.deprecatedMethod = createjs.deprecate(\"Old Method Name\", obj._fallbackMethod);\r\n *\r\n * The recommended approach for deprecated properties is:\r\n *\r\n *\ttry {\r\n *\t\tObj\tect.defineProperties(object, {\r\n *\t\t\treadyOnlyProp: { get: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }) },\r\n *\t\t\treadWriteProp: {\r\n *\t\t\t\tget: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }),\r\n *\t\t\t\tset: createjs.deprecate(\"readOnlyProp\", function(val) { this.alternateProp = val; })\r\n *\t\t});\r\n *\t} catch (e) {}\r\n *\r\n * @method deprecate\r\n * @param {Function} [fallbackMethod=null] A method to call when the deprecated method is used. See the example for how\r\n * @param {String} [name=null] The name of the method or property to display in the console warning.\r\n * to deprecate properties.\r\n * @return {Function} If a fallbackMethod is supplied, returns a closure that will call the fallback method after\r\n * logging the warning in the console.\r\n */\r\ncreatejs.deprecate = function(fallbackMethod, name) {\r\n\t\"use strict\";\r\n\treturn function() {\r\n\t\tvar msg = \"Deprecated property or method '\"+name+\"'. See docs for info.\";\r\n\t\tconsole && (console.warn ? console.warn(msg) : console.log(msg));\r\n\t\treturn fallbackMethod && fallbackMethod.apply(this, arguments);\r\n\t}\r\n};\r\n\r\n//##############################################################################\r\n// Event.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n// constructor:\r\n\t/**\r\n\t * Contains properties and methods shared by all events for use with\r\n\t * {{#crossLink \"EventDispatcher\"}}{{/crossLink}}.\r\n\t * \r\n\t * Note that Event objects are often reused, so you should never\r\n\t * rely on an event object's state outside of the call stack it was received in.\r\n\t * @class Event\r\n\t * @param {String} type The event type.\r\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\r\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Event(type, bubbles, cancelable) {\r\n\t\t\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The type of event.\r\n\t\t * @property type\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.type = type;\r\n\t\r\n\t\t/**\r\n\t\t * The object that generated an event.\r\n\t\t * @property target\r\n\t\t * @type Object\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\twindow.target = null;\r\n\t\r\n\t\t/**\r\n\t\t * The current target that a bubbling event is being dispatched from. For non-bubbling events, this will\r\n\t\t * always be the same as target. For example, if childObj.parent = parentObj, and a bubbling event\r\n\t\t * is generated from childObj, then a listener on parentObj would receive the event with\r\n\t\t * target=childObj (the original target) and currentTarget=parentObj (where the listener was added).\r\n\t\t * @property currentTarget\r\n\t\t * @type Object\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.currentTarget = null;\r\n\t\r\n\t\t/**\r\n\t\t * For bubbling events, this indicates the current event phase:<OL>\r\n\t\t * \t<LI> capture phase: starting from the top parent to the target</LI>\r\n\t\t * \t<LI> at target phase: currently being dispatched from the target</LI>\r\n\t\t * \t<LI> bubbling phase: from the target to the top parent</LI>\r\n\t\t * </OL>\r\n\t\t * @property eventPhase\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.eventPhase = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether the event will bubble through the display list.\r\n\t\t * @property bubbles\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.bubbles = !!bubbles;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether the default behaviour of this event can be cancelled via\r\n\t\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}}. This is set via the Event constructor.\r\n\t\t * @property cancelable\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.cancelable = !!cancelable;\r\n\t\r\n\t\t/**\r\n\t\t * The epoch time at which this event was created.\r\n\t\t * @property timeStamp\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.timeStamp = (new Date()).getTime();\r\n\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} has been called\r\n\t\t * on this event.\r\n\t\t * @property defaultPrevented\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.defaultPrevented = false;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/stopPropagation\"}}{{/crossLink}} or\r\n\t\t * {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called on this event.\r\n\t\t * @property propagationStopped\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.propagationStopped = false;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called\r\n\t\t * on this event.\r\n\t\t * @property immediatePropagationStopped\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.immediatePropagationStopped = false;\r\n\t\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/remove\"}}{{/crossLink}} has been called on this event.\r\n\t\t * @property removed\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.removed = false;\r\n\t}\r\n\tvar p = Event.prototype;\r\n\r\n// public methods:\r\n\t/**\r\n\t * Sets {{#crossLink \"Event/defaultPrevented\"}}{{/crossLink}} to true if the event is cancelable.\r\n\t * Mirrors the DOM level 2 event standard. In general, cancelable events that have `preventDefault()` called will\r\n\t * cancel the default behaviour associated with the event.\r\n\t * @method preventDefault\r\n\t **/\r\n\tp.preventDefault = function() {\r\n\t\tthis.defaultPrevented = this.cancelable&&true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} to true.\r\n\t * Mirrors the DOM event standard.\r\n\t * @method stopPropagation\r\n\t **/\r\n\tp.stopPropagation = function() {\r\n\t\tthis.propagationStopped = true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} and\r\n\t * {{#crossLink \"Event/immediatePropagationStopped\"}}{{/crossLink}} to true.\r\n\t * Mirrors the DOM event standard.\r\n\t * @method stopImmediatePropagation\r\n\t **/\r\n\tp.stopImmediatePropagation = function() {\r\n\t\tthis.immediatePropagationStopped = this.propagationStopped = true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Causes the active listener to be removed via removeEventListener();\r\n\t * \r\n\t * \t\tmyBtn.addEventListener(\"click\", function(evt) {\r\n\t * \t\t\t// do stuff...\r\n\t * \t\t\tevt.remove(); // removes this listener.\r\n\t * \t\t});\r\n\t * \r\n\t * @method remove\r\n\t **/\r\n\tp.remove = function() {\r\n\t\tthis.removed = true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Event instance.\r\n\t * @method clone\r\n\t * @return {Event} a clone of the Event instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Event(this.type, this.bubbles, this.cancelable);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\r\n\t *\r\n\t * @method set\r\n\t * @param {Object} props A generic object containing properties to copy to the instance.\r\n\t * @return {Event} Returns the instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t*/\r\n\tp.set = function(props) {\r\n\t\tfor (var n in props) { this[n] = props[n]; }\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Event (type=\"+this.type+\")]\";\r\n\t};\r\n\r\n\tcreatejs.Event = Event;\r\n}());\r\n\r\n//##############################################################################\r\n// EventDispatcher.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * EventDispatcher provides methods for managing queues of event listeners and dispatching events.\r\n\t *\r\n\t * You can either extend EventDispatcher or mix its methods into an existing prototype or instance by using the\r\n\t * EventDispatcher {{#crossLink \"EventDispatcher/initialize\"}}{{/crossLink}} method.\r\n\t * \r\n\t * Together with the CreateJS Event class, EventDispatcher provides an extended event model that is based on the\r\n\t * DOM Level 2 event model, including addEventListener, removeEventListener, and dispatchEvent. It supports\r\n\t * bubbling / capture, preventDefault, stopPropagation, stopImmediatePropagation, and handleEvent.\r\n\t * \r\n\t * EventDispatcher also exposes a {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} method, which makes it easier\r\n\t * to create scoped listeners, listeners that only run once, and listeners with associated arbitrary data. The \r\n\t * {{#crossLink \"EventDispatcher/off\"}}{{/crossLink}} method is merely an alias to\r\n\t * {{#crossLink \"EventDispatcher/removeEventListener\"}}{{/crossLink}}.\r\n\t * \r\n\t * Another addition to the DOM Level 2 model is the {{#crossLink \"EventDispatcher/removeAllEventListeners\"}}{{/crossLink}}\r\n\t * method, which can be used to listeners for all events, or listeners for a specific event. The Event object also \r\n\t * includes a {{#crossLink \"Event/remove\"}}{{/crossLink}} method which removes the active listener.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * Add EventDispatcher capabilities to the \"MyClass\" class.\r\n\t *\r\n\t *      EventDispatcher.initialize(MyClass.prototype);\r\n\t *\r\n\t * Add an event (see {{#crossLink \"EventDispatcher/addEventListener\"}}{{/crossLink}}).\r\n\t *\r\n\t *      instance.addEventListener(\"eventName\", handlerMethod);\r\n\t *      function handlerMethod(event) {\r\n\t *          console.log(event.target + \" Was Clicked\");\r\n\t *      }\r\n\t *\r\n\t * <b>Maintaining proper scope</b><br />\r\n\t * Scope (ie. \"this\") can be be a challenge with events. Using the {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}}\r\n\t * method to subscribe to events simplifies this.\r\n\t *\r\n\t *      instance.addEventListener(\"click\", function(event) {\r\n\t *          console.log(instance == this); // false, scope is ambiguous.\r\n\t *      });\r\n\t *      \r\n\t *      instance.on(\"click\", function(event) {\r\n\t *          console.log(instance == this); // true, \"on\" uses dispatcher scope by default.\r\n\t *      });\r\n\t * \r\n\t * If you want to use addEventListener instead, you may want to use function.bind() or a similar proxy to manage\r\n\t * scope.\r\n\t *\r\n\t * <b>Browser support</b>\r\n\t * The event model in CreateJS can be used separately from the suite in any project, however the inheritance model\r\n\t * requires modern browsers (IE9+).\r\n\t *      \r\n\t *\r\n\t * @class EventDispatcher\r\n\t * @constructor\r\n\t **/\r\n\tfunction EventDispatcher() {\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @protected\r\n\t\t * @property _listeners\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._listeners = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @protected\r\n\t\t * @property _captureListeners\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._captureListeners = null;\r\n\t}\r\n\tvar p = EventDispatcher.prototype;\r\n\r\n// static public methods:\r\n\t/**\r\n\t * Static initializer to mix EventDispatcher methods into a target object or prototype.\r\n\t * \r\n\t * \t\tEventDispatcher.initialize(MyClass.prototype); // add to the prototype of the class\r\n\t * \t\tEventDispatcher.initialize(myObject); // add to a specific instance\r\n\t * \r\n\t * @method initialize\r\n\t * @static\r\n\t * @param {Object} target The target object to inject EventDispatcher methods into. This can be an instance or a\r\n\t * prototype.\r\n\t **/\r\n\tEventDispatcher.initialize = function(target) {\r\n\t\ttarget.addEventListener = p.addEventListener;\r\n\t\ttarget.on = p.on;\r\n\t\ttarget.removeEventListener = target.off =  p.removeEventListener;\r\n\t\ttarget.removeAllEventListeners = p.removeAllEventListeners;\r\n\t\ttarget.hasEventListener = p.hasEventListener;\r\n\t\ttarget.dispatchEvent = p.dispatchEvent;\r\n\t\ttarget._dispatchEvent = p._dispatchEvent;\r\n\t\ttarget.willTrigger = p.willTrigger;\r\n\t};\r\n\t\r\n\r\n// public methods:\r\n\t/**\r\n\t * Adds the specified event listener. Note that adding multiple listeners to the same function will result in\r\n\t * multiple callbacks getting fired.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.addEventListener(\"click\", handleClick);\r\n\t *      function handleClick(event) {\r\n\t *         // Click happened.\r\n\t *      }\r\n\t *\r\n\t * @method addEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n\t * the event is dispatched.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t * @return {Function | Object} Returns the listener for chaining or assignment.\r\n\t **/\r\n\tp.addEventListener = function(type, listener, useCapture) {\r\n\t\tvar listeners;\r\n\t\tif (useCapture) {\r\n\t\t\tlisteners = this._captureListeners = this._captureListeners||{};\r\n\t\t} else {\r\n\t\t\tlisteners = this._listeners = this._listeners||{};\r\n\t\t}\r\n\t\tvar arr = listeners[type];\r\n\t\tif (arr) { this.removeEventListener(type, listener, useCapture); }\r\n\t\tarr = listeners[type]; // remove may have deleted the array\r\n\t\tif (!arr) { listeners[type] = [listener];  }\r\n\t\telse { arr.push(listener); }\r\n\t\treturn listener;\r\n\t};\r\n\t\r\n\t/**\r\n\t * A shortcut method for using addEventListener that makes it easier to specify an execution scope, have a listener\r\n\t * only run once, associate arbitrary data with the listener, and remove the listener.\r\n\t * \r\n\t * This method works by creating an anonymous wrapper function and subscribing it with addEventListener.\r\n\t * The wrapper function is returned for use with `removeEventListener` (or `off`).\r\n\t * \r\n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener, or use\r\n\t * {{#crossLink \"Event/remove\"}}{{/crossLink}}. Likewise, each time you call `on` a NEW wrapper function is subscribed, so multiple calls\r\n\t * to `on` with the same params will create multiple listeners.\r\n\t * \r\n\t * <h4>Example</h4>\r\n\t * \r\n\t * \t\tvar listener = myBtn.on(\"click\", handleClick, null, false, {count:3});\r\n\t * \t\tfunction handleClick(evt, data) {\r\n\t * \t\t\tdata.count -= 1;\r\n\t * \t\t\tconsole.log(this == myBtn); // true - scope defaults to the dispatcher\r\n\t * \t\t\tif (data.count == 0) {\r\n\t * \t\t\t\talert(\"clicked 3 times!\");\r\n\t * \t\t\t\tmyBtn.off(\"click\", listener);\r\n\t * \t\t\t\t// alternately: evt.remove();\r\n\t * \t\t\t}\r\n\t * \t\t}\r\n\t * \r\n\t * @method on\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n\t * the event is dispatched.\r\n\t * @param {Object} [scope] The scope to execute the listener in. Defaults to the dispatcher/currentTarget for function listeners, and to the listener itself for object listeners (ie. using handleEvent).\r\n\t * @param {Boolean} [once=false] If true, the listener will remove itself after the first time it is triggered.\r\n\t * @param {*} [data] Arbitrary data that will be included as the second parameter when the listener is called.\r\n\t * @param {Boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t * @return {Function} Returns the anonymous function that was created and assigned as the listener. This is needed to remove the listener later using .removeEventListener.\r\n\t **/\r\n\tp.on = function(type, listener, scope, once, data, useCapture) {\r\n\t\tif (listener.handleEvent) {\r\n\t\t\tscope = scope||listener;\r\n\t\t\tlistener = listener.handleEvent;\r\n\t\t}\r\n\t\tscope = scope||this;\r\n\t\treturn this.addEventListener(type, function(evt) {\r\n\t\t\t\tlistener.call(scope, evt, data);\r\n\t\t\t\tonce&&evt.remove();\r\n\t\t\t}, useCapture);\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the specified event listener.\r\n\t *\r\n\t * <b>Important Note:</b> that you must pass the exact function reference used when the event was added. If a proxy\r\n\t * function, or function closure is used as the callback, the proxy/closure reference must be used - a new proxy or\r\n\t * closure will not work.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.removeEventListener(\"click\", handleClick);\r\n\t *\r\n\t * @method removeEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener The listener function or object.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t **/\r\n\tp.removeEventListener = function(type, listener, useCapture) {\r\n\t\tvar listeners = useCapture ? this._captureListeners : this._listeners;\r\n\t\tif (!listeners) { return; }\r\n\t\tvar arr = listeners[type];\r\n\t\tif (!arr) { return; }\r\n\t\tfor (var i=0,l=arr.length; i<l; i++) {\r\n\t\t\tif (arr[i] == listener) {\r\n\t\t\t\tif (l==1) { delete(listeners[type]); } // allows for faster checks.\r\n\t\t\t\telse { arr.splice(i,1); }\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * A shortcut to the removeEventListener method, with the same parameters and return value. This is a companion to the\r\n\t * .on method.\r\n\t * \r\n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener. See \r\n\t * {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} for an example.\r\n\t *\r\n\t * @method off\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener The listener function or object.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t **/\r\n\tp.off = p.removeEventListener;\r\n\r\n\t/**\r\n\t * Removes all listeners for the specified type, or all listeners of all types.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      // Remove all listeners\r\n\t *      displayObject.removeAllEventListeners();\r\n\t *\r\n\t *      // Remove all click listeners\r\n\t *      displayObject.removeAllEventListeners(\"click\");\r\n\t *\r\n\t * @method removeAllEventListeners\r\n\t * @param {String} [type] The string type of the event. If omitted, all listeners for all types will be removed.\r\n\t **/\r\n\tp.removeAllEventListeners = function(type) {\r\n\t\tif (!type) { this._listeners = this._captureListeners = null; }\r\n\t\telse {\r\n\t\t\tif (this._listeners) { delete(this._listeners[type]); }\r\n\t\t\tif (this._captureListeners) { delete(this._captureListeners[type]); }\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Dispatches the specified event to all listeners.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      // Use a string event\r\n\t *      this.dispatchEvent(\"complete\");\r\n\t *\r\n\t *      // Use an Event instance\r\n\t *      var event = new createjs.Event(\"progress\");\r\n\t *      this.dispatchEvent(event);\r\n\t *\r\n\t * @method dispatchEvent\r\n\t * @param {Object | String | Event} eventObj An object with a \"type\" property, or a string type.\r\n\t * While a generic object will work, it is recommended to use a CreateJS Event instance. If a string is used,\r\n\t * dispatchEvent will construct an Event instance if necessary with the specified type. This latter approach can\r\n\t * be used to avoid event object instantiation for non-bubbling events that may not have any listeners.\r\n\t * @param {Boolean} [bubbles] Specifies the `bubbles` value when a string was passed to eventObj.\r\n\t * @param {Boolean} [cancelable] Specifies the `cancelable` value when a string was passed to eventObj.\r\n\t * @return {Boolean} Returns false if `preventDefault()` was called on a cancelable event, true otherwise.\r\n\t **/\r\n\tp.dispatchEvent = function(eventObj, bubbles, cancelable) {\r\n\t\tif (typeof eventObj == \"string\") {\r\n\t\t\t// skip everything if there's no listeners and it doesn't bubble:\r\n\t\t\tvar listeners = this._listeners;\r\n\t\t\tif (!bubbles && (!listeners || !listeners[eventObj])) { return true; }\r\n\t\t\teventObj = new createjs.Event(eventObj, bubbles, cancelable);\r\n\t\t} else if (eventObj.target && eventObj.clone) {\r\n\t\t\t// redispatching an active event object, so clone it:\r\n\t\t\teventObj = eventObj.clone();\r\n\t\t}\r\n\t\t\r\n\t\t// TODO: it would be nice to eliminate this. Maybe in favour of evtObj instanceof Event? Or !!evtObj.createEvent\r\n\t\ttry { eventObj.target = this; } catch (e) {} // try/catch allows redispatching of native events\r\n\r\n\t\tif (!eventObj.bubbles || !this.parent) {\r\n\t\t\tthis._dispatchEvent(eventObj, 2);\r\n\t\t} else {\r\n\t\t\tvar top=this, list=[top];\r\n\t\t\twhile (top.parent) { list.push(top = top.parent); }\r\n\t\t\tvar i, l=list.length;\r\n\r\n\t\t\t// capture & atTarget\r\n\t\t\tfor (i=l-1; i>=0 && !eventObj.propagationStopped; i--) {\r\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 1+(i==0));\r\n\t\t\t}\r\n\t\t\t// bubbling\r\n\t\t\tfor (i=1; i<l && !eventObj.propagationStopped; i++) {\r\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 3);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !eventObj.defaultPrevented;\r\n\t};\r\n\r\n\t/**\r\n\t * Indicates whether there is at least one listener for the specified event type.\r\n\t * @method hasEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @return {Boolean} Returns true if there is at least one listener for the specified event.\r\n\t **/\r\n\tp.hasEventListener = function(type) {\r\n\t\tvar listeners = this._listeners, captureListeners = this._captureListeners;\r\n\t\treturn !!((listeners && listeners[type]) || (captureListeners && captureListeners[type]));\r\n\t};\r\n\t\r\n\t/**\r\n\t * Indicates whether there is at least one listener for the specified event type on this object or any of its\r\n\t * ancestors (parent, parent's parent, etc). A return value of true indicates that if a bubbling event of the\r\n\t * specified type is dispatched from this object, it will trigger at least one listener.\r\n\t * \r\n\t * This is similar to {{#crossLink \"EventDispatcher/hasEventListener\"}}{{/crossLink}}, but it searches the entire\r\n\t * event flow for a listener, not just this object.\r\n\t * @method willTrigger\r\n\t * @param {String} type The string type of the event.\r\n\t * @return {Boolean} Returns `true` if there is at least one listener for the specified event.\r\n\t **/\r\n\tp.willTrigger = function(type) {\r\n\t\tvar o = this;\r\n\t\twhile (o) {\r\n\t\t\tif (o.hasEventListener(type)) { return true; }\r\n\t\t\to = o.parent;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[EventDispatcher]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _dispatchEvent\r\n\t * @param {Object | Event} eventObj\r\n\t * @param {Object} eventPhase\r\n\t * @protected\r\n\t **/\r\n\tp._dispatchEvent = function(eventObj, eventPhase) {\r\n\t\tvar l, arr, listeners = (eventPhase <= 2) ? this._captureListeners : this._listeners;\r\n\t\tif (eventObj && listeners && (arr = listeners[eventObj.type]) && (l=arr.length)) {\r\n\t\t\ttry { eventObj.currentTarget = this; } catch (e) {}\r\n\t\t\ttry { eventObj.eventPhase = eventPhase|0; } catch (e) {}\r\n\t\t\teventObj.removed = false;\r\n\t\t\t\r\n\t\t\tarr = arr.slice(); // to avoid issues with items being removed or added during the dispatch\r\n\t\t\tfor (var i=0; i<l && !eventObj.immediatePropagationStopped; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (o.handleEvent) { o.handleEvent(eventObj); }\r\n\t\t\t\telse { o(eventObj); }\r\n\t\t\t\tif (eventObj.removed) {\r\n\t\t\t\t\tthis.off(eventObj.type, o, eventPhase==1);\r\n\t\t\t\t\teventObj.removed = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (eventPhase === 2) { this._dispatchEvent(eventObj, 2.1); }\r\n\t};\r\n\r\n\r\n\tcreatejs.EventDispatcher = EventDispatcher;\r\n}());\r\n\r\n//##############################################################################\r\n// Ticker.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The Ticker provides a centralized tick or heartbeat broadcast at a set interval. Listeners can subscribe to the tick\r\n\t * event to be notified when a set time interval has elapsed.\r\n\t *\r\n\t * Note that the interval that the tick event is called is a target interval, and may be broadcast at a slower interval\r\n\t * when under high CPU load. The Ticker class uses a static interface (ex. `Ticker.framerate = 30;`) and\r\n\t * can not be instantiated.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      function handleTick(event) {\r\n\t *          // Actions carried out each tick (aka frame)\r\n\t *          if (!event.paused) {\r\n\t *              // Actions carried out when the Ticker is not paused.\r\n\t *          }\r\n\t *      }\r\n\t *\r\n\t * @class Ticker\r\n\t * @uses EventDispatcher\r\n\t * @static\r\n\t **/\r\n\tfunction Ticker() {\r\n\t\tthrow \"Ticker cannot be instantiated.\";\r\n\t}\r\n\r\n\r\n// constants:\r\n\t/**\r\n\t * In this mode, Ticker uses the requestAnimationFrame API, but attempts to synch the ticks to target framerate. It\r\n\t * uses a simple heuristic that compares the time of the RAF return to the target time for the current frame and\r\n\t * dispatches the tick when the time is within a certain threshold.\r\n\t *\r\n\t * This mode has a higher variance for time between frames than {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}},\r\n\t * but does not require that content be time based as with {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}} while\r\n\t * gaining the benefits of that API (screen synch, background throttling).\r\n\t *\r\n\t * Variance is usually lowest for framerates that are a divisor of the RAF frequency. This is usually 60, so\r\n\t * framerates of 10, 12, 15, 20, and 30 work well.\r\n\t *\r\n\t * Falls back to {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\r\n\t * supported.\r\n\t * @property RAF_SYNCHED\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default \"synched\"\r\n\t * @readonly\r\n\t **/\r\n\tTicker.RAF_SYNCHED = \"synched\";\r\n\r\n\t/**\r\n\t * In this mode, Ticker passes through the requestAnimationFrame heartbeat, ignoring the target framerate completely.\r\n\t * Because requestAnimationFrame frequency is not deterministic, any content using this mode should be time based.\r\n\t * You can leverage {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} and the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\r\n\t * event object's \"delta\" properties to make this easier.\r\n\t *\r\n\t * Falls back on {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\r\n\t * supported.\r\n\t * @property RAF\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default \"raf\"\r\n\t * @readonly\r\n\t **/\r\n\tTicker.RAF = \"raf\";\r\n\r\n\t/**\r\n\t * In this mode, Ticker uses the setTimeout API. This provides predictable, adaptive frame timing, but does not\r\n\t * provide the benefits of requestAnimationFrame (screen synch, background throttling).\r\n\t * @property TIMEOUT\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default \"timeout\"\r\n\t * @readonly\r\n\t **/\r\n\tTicker.TIMEOUT = \"timeout\";\r\n\r\n\r\n// static events:\r\n\t/**\r\n\t * Dispatched each tick. The event will be dispatched to each listener even when the Ticker has been paused using\r\n\t * {{#crossLink \"Ticker/paused:property\"}}{{/crossLink}}.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      function handleTick(event) {\r\n\t *          console.log(\"Paused:\", event.paused, event.delta);\r\n\t *      }\r\n\t *\r\n\t * @event tick\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {Boolean} paused Indicates whether the ticker is currently paused.\r\n\t * @param {Number} delta The time elapsed in ms since the last tick.\r\n\t * @param {Number} time The total time in ms since Ticker was initialized.\r\n\t * @param {Number} runTime The total time in ms that Ticker was not paused since it was initialized. For example,\r\n\t * \tyou could determine the amount of time that the Ticker has been paused since initialization with `time-runTime`.\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\r\n// public static properties:\r\n\t/**\r\n\t * Specifies the timing api (setTimeout or requestAnimationFrame) and mode to use. See\r\n\t * {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}}, {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}}, and\r\n\t * {{#crossLink \"Ticker/RAF_SYNCHED:property\"}}{{/crossLink}} for mode details.\r\n\t * @property timingMode\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default Ticker.TIMEOUT\r\n\t **/\r\n\tTicker.timingMode = null;\r\n\r\n\t/**\r\n\t * Specifies a maximum value for the delta property in the tick event object. This is useful when building time\r\n\t * based animations and systems to prevent issues caused by large time gaps caused by background tabs, system sleep,\r\n\t * alert dialogs, or other blocking routines. Double the expected frame duration is often an effective value\r\n\t * (ex. maxDelta=50 when running at 40fps).\r\n\t * \r\n\t * This does not impact any other values (ex. time, runTime, etc), so you may experience issues if you enable maxDelta\r\n\t * when using both delta and other values.\r\n\t * \r\n\t * If 0, there is no maximum.\r\n\t * @property maxDelta\r\n\t * @static\r\n\t * @type {number}\r\n\t * @default 0\r\n\t */\r\n\tTicker.maxDelta = 0;\r\n\t\r\n\t/**\r\n\t * When the ticker is paused, all listeners will still receive a tick event, but the <code>paused</code> property\r\n\t * of the event will be `true`. Also, while paused the `runTime` will not increase. See {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}},\r\n\t * {{#crossLink \"Ticker/getTime\"}}{{/crossLink}}, and {{#crossLink \"Ticker/getEventTime\"}}{{/crossLink}} for more\r\n\t * info.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      createjs.Ticker.paused = true;\r\n\t *      function handleTick(event) {\r\n\t *          console.log(event.paused,\r\n\t *          \tcreatejs.Ticker.getTime(false),\r\n\t *          \tcreatejs.Ticker.getTime(true));\r\n\t *      }\r\n\t *\r\n\t * @property paused\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @default false\r\n\t **/\r\n\tTicker.paused = false;\r\n\r\n\r\n// mix-ins:\r\n\t// EventDispatcher methods:\r\n\tTicker.removeEventListener = null;\r\n\tTicker.removeAllEventListeners = null;\r\n\tTicker.dispatchEvent = null;\r\n\tTicker.hasEventListener = null;\r\n\tTicker._listeners = null;\r\n\tcreatejs.EventDispatcher.initialize(Ticker); // inject EventDispatcher methods.\r\n\tTicker._addEventListener = Ticker.addEventListener;\r\n\tTicker.addEventListener = function() {\r\n\t\t!Ticker._inited&&Ticker.init();\r\n\t\treturn Ticker._addEventListener.apply(Ticker, arguments);\r\n\t};\r\n\r\n\r\n// private static properties:\r\n\t/**\r\n\t * @property _inited\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @private\r\n\t **/\r\n\tTicker._inited = false;\r\n\r\n\t/**\r\n\t * @property _startTime\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._startTime = 0;\r\n\r\n\t/**\r\n\t * @property _pausedTime\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._pausedTime=0;\r\n\r\n\t/**\r\n\t * The number of ticks that have passed\r\n\t * @property _ticks\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._ticks = 0;\r\n\r\n\t/**\r\n\t * The number of ticks that have passed while Ticker has been paused\r\n\t * @property _pausedTicks\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._pausedTicks = 0;\r\n\r\n\t/**\r\n\t * @property _interval\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._interval = 50;\r\n\r\n\t/**\r\n\t * @property _lastTime\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._lastTime = 0;\r\n\r\n\t/**\r\n\t * @property _times\r\n\t * @static\r\n\t * @type {Array}\r\n\t * @private\r\n\t **/\r\n\tTicker._times = null;\r\n\r\n\t/**\r\n\t * @property _tickTimes\r\n\t * @static\r\n\t * @type {Array}\r\n\t * @private\r\n\t **/\r\n\tTicker._tickTimes = null;\r\n\r\n\t/**\r\n\t * Stores the timeout or requestAnimationFrame id.\r\n\t * @property _timerId\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._timerId = null;\r\n\t\r\n\t/**\r\n\t * True if currently using requestAnimationFrame, false if using setTimeout. This may be different than timingMode\r\n\t * if that property changed and a tick hasn't fired.\r\n\t * @property _raf\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @private\r\n\t **/\r\n\tTicker._raf = true;\r\n\t\r\n\r\n// static getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\r\n\t * @method _setInterval\r\n\t * @private\r\n\t * @static\r\n\t * @param {Number} interval\r\n\t **/\r\n\tTicker._setInterval = function(interval) {\r\n\t\tTicker._interval = interval;\r\n\t\tif (!Ticker._inited) { return; }\r\n\t\tTicker._setupTick();\r\n\t};\r\n\t// Ticker.setInterval is @deprecated. Remove for 1.1+\r\n\tTicker.setInterval = createjs.deprecate(Ticker._setInterval, \"Ticker.setInterval\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getInterval\r\n\t * @private\r\n\t * @static\r\n\t * @return {Number}\r\n\t **/\r\n\tTicker._getInterval = function() {\r\n\t\treturn Ticker._interval;\r\n\t};\r\n\t// Ticker.getInterval is @deprecated. Remove for 1.1+\r\n\tTicker.getInterval = createjs.deprecate(Ticker._getInterval, \"Ticker.getInterval\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\r\n\t * @method _setFPS\r\n\t * @private\r\n\t * @static\r\n\t * @param {Number} value\r\n\t **/\r\n\tTicker._setFPS = function(value) {\r\n\t\tTicker._setInterval(1000/value);\r\n\t};\r\n\t// Ticker.setFPS is @deprecated. Remove for 1.1+\r\n\tTicker.setFPS = createjs.deprecate(Ticker._setFPS, \"Ticker.setFPS\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getFPS\r\n\t * @static\r\n\t * @private\r\n\t * @return {Number}\r\n\t **/\r\n\tTicker._getFPS = function() {\r\n\t\treturn 1000/Ticker._interval;\r\n\t};\r\n\t// Ticker.getFPS is @deprecated. Remove for 1.1+\r\n\tTicker.getFPS = createjs.deprecate(Ticker._getFPS, \"Ticker.getFPS\");\r\n\r\n\t/**\r\n\t * Indicates the target time (in milliseconds) between ticks. Default is 50 (20 FPS).\r\n\t * Note that actual time between ticks may be more than specified depending on CPU load.\r\n\t * This property is ignored if the ticker is using the `RAF` timing mode.\r\n\t * @property interval\r\n\t * @static\r\n\t * @type {Number}\r\n\t **/\r\n\t \r\n\t/**\r\n\t * Indicates the target frame rate in frames per second (FPS). Effectively just a shortcut to `interval`, where\r\n\t * `framerate == 1000/interval`.\r\n\t * @property framerate\r\n\t * @static\r\n\t * @type {Number}\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(Ticker, {\r\n\t\t\tinterval: { get: Ticker._getInterval, set: Ticker._setInterval },\r\n\t\t\tframerate: { get: Ticker._getFPS, set: Ticker._setFPS }\r\n\t\t});\r\n\t} catch (e) { console.log(e); }\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Starts the tick. This is called automatically when the first listener is added.\r\n\t * @method init\r\n\t * @static\r\n\t **/\r\n\tTicker.init = function() {\r\n\t\tif (Ticker._inited) { return; }\r\n\t\tTicker._inited = true;\r\n\t\tTicker._times = [];\r\n\t\tTicker._tickTimes = [];\r\n\t\tTicker._startTime = Ticker._getTime();\r\n\t\tTicker._times.push(Ticker._lastTime = 0);\r\n\t\tTicker.interval = Ticker._interval;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Stops the Ticker and removes all listeners. Use init() to restart the Ticker.\r\n\t * @method reset\r\n\t * @static\r\n\t **/\r\n\tTicker.reset = function() {\r\n\t\tif (Ticker._raf) {\r\n\t\t\tvar f = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame;\r\n\t\t\tf&&f(Ticker._timerId);\r\n\t\t} else {\r\n\t\t\tclearTimeout(Ticker._timerId);\r\n\t\t}\r\n\t\tTicker.removeAllEventListeners(\"tick\");\r\n\t\tTicker._timerId = Ticker._times = Ticker._tickTimes = null;\r\n\t\tTicker._startTime = Ticker._lastTime = Ticker._ticks = Ticker._pausedTime = 0;\r\n\t\tTicker._inited = false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the average time spent within a tick. This can vary significantly from the value provided by getMeasuredFPS\r\n\t * because it only measures the time spent within the tick execution stack. \r\n\t * \r\n\t * Example 1: With a target FPS of 20, getMeasuredFPS() returns 20fps, which indicates an average of 50ms between \r\n\t * the end of one tick and the end of the next. However, getMeasuredTickTime() returns 15ms. This indicates that \r\n\t * there may be up to 35ms of \"idle\" time between the end of one tick and the start of the next.\r\n\t *\r\n\t * Example 2: With a target FPS of 30, {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} returns 10fps, which\r\n\t * indicates an average of 100ms between the end of one tick and the end of the next. However, {{#crossLink \"Ticker/getMeasuredTickTime\"}}{{/crossLink}}\r\n\t * returns 20ms. This would indicate that something other than the tick is using ~80ms (another script, DOM\r\n\t * rendering, etc).\r\n\t * @method getMeasuredTickTime\r\n\t * @static\r\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the average time spent in a tick.\r\n\t * Defaults to the number of ticks per second. To get only the last tick's time, pass in 1.\r\n\t * @return {Number} The average time spent in a tick in milliseconds.\r\n\t **/\r\n\tTicker.getMeasuredTickTime = function(ticks) {\r\n\t\tvar ttl=0, times=Ticker._tickTimes;\r\n\t\tif (!times || times.length < 1) { return -1; }\r\n\r\n\t\t// by default, calculate average for the past ~1 second:\r\n\t\tticks = Math.min(times.length, ticks||(Ticker._getFPS()|0));\r\n\t\tfor (var i=0; i<ticks; i++) { ttl += times[i]; }\r\n\t\treturn ttl/ticks;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the actual frames / ticks per second.\r\n\t * @method getMeasuredFPS\r\n\t * @static\r\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the actual frames / ticks per second.\r\n\t * Defaults to the number of ticks per second.\r\n\t * @return {Number} The actual frames / ticks per second. Depending on performance, this may differ\r\n\t * from the target frames per second.\r\n\t **/\r\n\tTicker.getMeasuredFPS = function(ticks) {\r\n\t\tvar times = Ticker._times;\r\n\t\tif (!times || times.length < 2) { return -1; }\r\n\r\n\t\t// by default, calculate fps for the past ~1 second:\r\n\t\tticks = Math.min(times.length-1, ticks||(Ticker._getFPS()|0));\r\n\t\treturn 1000/((times[0]-times[ticks])/ticks);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the number of milliseconds that have elapsed since Ticker was initialized via {{#crossLink \"Ticker/init\"}}.\r\n\t * Returns -1 if Ticker has not been initialized. For example, you could use\r\n\t * this in a time synchronized animation to determine the exact amount of time that has elapsed.\r\n\t * @method getTime\r\n\t * @static\r\n\t * @param {Boolean} [runTime=false] If true only time elapsed while Ticker was not paused will be returned.\r\n\t * If false, the value returned will be total time elapsed since the first tick event listener was added.\r\n\t * @return {Number} Number of milliseconds that have elapsed since Ticker was initialized or -1.\r\n\t **/\r\n\tTicker.getTime = function(runTime) {\r\n\t\treturn Ticker._startTime ? Ticker._getTime() - (runTime ? Ticker._pausedTime : 0) : -1;\r\n\t};\r\n\r\n\t/**\r\n\t * Similar to the {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} method, but returns the time on the most recent {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\r\n\t * event object.\r\n\t * @method getEventTime\r\n\t * @static\r\n\t * @param runTime {Boolean} [runTime=false] If true, the runTime property will be returned instead of time.\r\n\t * @returns {number} The time or runTime property from the most recent tick event or -1.\r\n\t */\r\n\tTicker.getEventTime = function(runTime) {\r\n\t\treturn Ticker._startTime ? (Ticker._lastTime || Ticker._startTime) - (runTime ? Ticker._pausedTime : 0) : -1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns the number of ticks that have been broadcast by Ticker.\r\n\t * @method getTicks\r\n\t * @static\r\n\t * @param {Boolean} pauseable Indicates whether to include ticks that would have been broadcast\r\n\t * while Ticker was paused. If true only tick events broadcast while Ticker is not paused will be returned.\r\n\t * If false, tick events that would have been broadcast while Ticker was paused will be included in the return\r\n\t * value. The default value is false.\r\n\t * @return {Number} of ticks that have been broadcast.\r\n\t **/\r\n\tTicker.getTicks = function(pauseable) {\r\n\t\treturn  Ticker._ticks - (pauseable ? Ticker._pausedTicks : 0);\r\n\t};\r\n\r\n\r\n// private static methods:\r\n\t/**\r\n\t * @method _handleSynch\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._handleSynch = function() {\r\n\t\tTicker._timerId = null;\r\n\t\tTicker._setupTick();\r\n\r\n\t\t// run if enough time has elapsed, with a little bit of flexibility to be early:\r\n\t\tif (Ticker._getTime() - Ticker._lastTime >= (Ticker._interval-1)*0.97) {\r\n\t\t\tTicker._tick();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleRAF\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._handleRAF = function() {\r\n\t\tTicker._timerId = null;\r\n\t\tTicker._setupTick();\r\n\t\tTicker._tick();\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleTimeout\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._handleTimeout = function() {\r\n\t\tTicker._timerId = null;\r\n\t\tTicker._setupTick();\r\n\t\tTicker._tick();\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setupTick\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._setupTick = function() {\r\n\t\tif (Ticker._timerId != null) { return; } // avoid duplicates\r\n\r\n\t\tvar mode = Ticker.timingMode;\r\n\t\tif (mode == Ticker.RAF_SYNCHED || mode == Ticker.RAF) {\r\n\t\t\tvar f = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\t\t\tif (f) {\r\n\t\t\t\tTicker._timerId = f(mode == Ticker.RAF ? Ticker._handleRAF : Ticker._handleSynch);\r\n\t\t\t\tTicker._raf = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tTicker._raf = false;\r\n\t\tTicker._timerId = setTimeout(Ticker._handleTimeout, Ticker._interval);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _tick\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._tick = function() {\r\n\t\tvar paused = Ticker.paused;\r\n\t\tvar time = Ticker._getTime();\r\n\t\tvar elapsedTime = time-Ticker._lastTime;\r\n\t\tTicker._lastTime = time;\r\n\t\tTicker._ticks++;\r\n\t\t\r\n\t\tif (paused) {\r\n\t\t\tTicker._pausedTicks++;\r\n\t\t\tTicker._pausedTime += elapsedTime;\r\n\t\t}\r\n\t\t\r\n\t\tif (Ticker.hasEventListener(\"tick\")) {\r\n\t\t\tvar event = new createjs.Event(\"tick\");\r\n\t\t\tvar maxDelta = Ticker.maxDelta;\r\n\t\t\tevent.delta = (maxDelta && elapsedTime > maxDelta) ? maxDelta : elapsedTime;\r\n\t\t\tevent.paused = paused;\r\n\t\t\tevent.time = time;\r\n\t\t\tevent.runTime = time-Ticker._pausedTime;\r\n\t\t\tTicker.dispatchEvent(event);\r\n\t\t}\r\n\t\t\r\n\t\tTicker._tickTimes.unshift(Ticker._getTime()-time);\r\n\t\twhile (Ticker._tickTimes.length > 100) { Ticker._tickTimes.pop(); }\r\n\r\n\t\tTicker._times.unshift(time);\r\n\t\twhile (Ticker._times.length > 100) { Ticker._times.pop(); }\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getTime\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tvar w=window, now=w.performance.now || w.performance.mozNow || w.performance.msNow || w.performance.oNow || w.performance.webkitNow;\r\n\tTicker._getTime = function() {\r\n\t\treturn ((now&&now.call(w.performance))||(new Date().getTime())) - Ticker._startTime;\r\n\t};\r\n\r\n\r\n\tcreatejs.Ticker = Ticker;\r\n}());\r\n\r\n//##############################################################################\r\n// VideoBuffer.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * When an HTML video seeks, including when looping, there is an indeterminate period before a new frame is available.\r\n\t * This can result in the video blinking or flashing when it is drawn to a canvas. The VideoBuffer class resolves\r\n\t * this issue by drawing each frame to an off-screen canvas and preserving the prior frame during a seek.\r\n\t * \r\n\t * \tvar myBuffer = new createjs.VideoBuffer(myVideo);\r\n\t * \tvar myBitmap = new Bitmap(myBuffer);\r\n\t * \r\n\t * @class VideoBuffer\r\n\t * @param {HTMLVideoElement} video The HTML video element to buffer.\r\n\t * @constructor\r\n\t **/\r\n\tfunction VideoBuffer(video) {\r\n\t\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Used by Bitmap to determine when the video buffer is ready to be drawn. Not intended for general use.\r\n\t\t * @property readyState\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.readyState = video.readyState;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _video\r\n\t\t * @protected\r\n\t\t * @type {HTMLVideoElement}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._video = video;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _canvas\r\n\t\t * @protected\r\n\t\t * @type {HTMLCanvasElement}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._canvas = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _lastTime\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default -1\r\n\t\t **/\r\n\t\tthis._lastTime = -1;\r\n\t\t\r\n\t\tif (this.readyState < 2) { video.addEventListener(\"canplaythrough\", this._videoReady.bind(this)); } //once:true isn't supported everywhere, but its a non-critical optimization here.\r\n\t}\r\n\tvar p = VideoBuffer.prototype;\r\n\t\r\n\t\r\n// public methods:\r\n\t/**\r\n\t * Gets an HTML canvas element showing the current video frame, or the previous frame if in a seek / loop.\r\n\t * Primarily for use by {{#crossLink \"Bitmap\"}}{{/crossLink}}.\r\n\t * @method getImage\r\n\t **/\r\n\tp.getImage = function() {\r\n\t\tif (this.readyState < 2) { return; }\r\n\t\tvar canvas=this._canvas, video = this._video;\r\n\t\tif (!canvas) {\r\n\t\t\tcanvas = this._canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\r\n\t\t\tcanvas.width = video.videoWidth;\r\n\t\t\tcanvas.height = video.videoHeight;\r\n\t\t}\r\n\t\tif (video.readyState >= 2 && video.currentTime !== this._lastTime) {\r\n\t\t\tvar ctx = canvas.getContext(\"2d\");\r\n\t\t\tctx.clearRect(0,0,canvas.width,canvas.height);\r\n\t\t\tctx.drawImage(video,0,0,canvas.width,canvas.height);\r\n\t\t\tthis._lastTime = video.currentTime;\r\n\t\t}\r\n\t\treturn canvas;\r\n\t};\r\n\t\r\n// private methods:\r\n\t/**\r\n\t * @method _videoReady\r\n\t * @protected\r\n\t **/\r\n\tp._videoReady = function() {\r\n\t\tthis.readyState = 2;\r\n\t};\r\n\r\n\r\n\tcreatejs.VideoBuffer = VideoBuffer;\r\n}());\r\n\r\n//##############################################################################\r\n// MouseEvent.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Passed as the parameter to all mouse/pointer/touch related events. For a listing of mouse events and their properties,\r\n\t * see the {{#crossLink \"DisplayObject\"}}{{/crossLink}} and {{#crossLink \"Stage\"}}{{/crossLink}} event listings.\r\n\t * @class MouseEvent\r\n\t * @param {String} type The event type.\r\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\r\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\r\n\t * @param {Number} stageX The normalized x position relative to the stage.\r\n\t * @param {Number} stageY The normalized y position relative to the stage.\r\n\t * @param {MouseEvent} nativeEvent The native DOM event related to this mouse event.\r\n\t * @param {Number} pointerID The unique id for the pointer.\r\n\t * @param {Boolean} primary Indicates whether this is the primary pointer in a multitouch environment.\r\n\t * @param {Number} rawX The raw x position relative to the stage.\r\n\t * @param {Number} rawY The raw y position relative to the stage.\r\n\t * @param {DisplayObject} relatedTarget The secondary target for the event.\r\n\t * @extends Event\r\n\t * @constructor\r\n\t **/\r\n\tfunction MouseEvent(type, bubbles, cancelable, stageX, stageY, nativeEvent, pointerID, primary, rawX, rawY, relatedTarget) {\r\n\t\tthis.Event_constructor(type, bubbles, cancelable);\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The normalized x position on the stage. This will always be within the range 0 to stage width.\r\n\t\t * @property stageX\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.stageX = stageX;\r\n\t\r\n\t\t/**\r\n\t\t * The normalized y position on the stage. This will always be within the range 0 to stage height.\r\n\t\t * @property stageY\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.stageY = stageY;\r\n\t\r\n\t\t/**\r\n\t\t * The raw x position relative to the stage. Normally this will be the same as the stageX value, unless\r\n\t\t * stage.mouseMoveOutside is true and the pointer is outside of the stage bounds.\r\n\t\t * @property rawX\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.rawX = (rawX==null)?stageX:rawX;\r\n\t\r\n\t\t/**\r\n\t\t * The raw y position relative to the stage. Normally this will be the same as the stageY value, unless\r\n\t\t * stage.mouseMoveOutside is true and the pointer is outside of the stage bounds.\r\n\t\t * @property rawY\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.rawY = (rawY==null)?stageY:rawY;\r\n\t\r\n\t\t/**\r\n\t\t * The native MouseEvent generated by the browser. The properties and API for this\r\n\t\t * event may differ between browsers. This property will be null if the\r\n\t\t * EaselJS property was not directly generated from a native MouseEvent.\r\n\t\t * @property nativeEvent\r\n\t\t * @type HtmlMouseEvent\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.nativeEvent = nativeEvent;\r\n\t\r\n\t\t/**\r\n\t\t * The unique id for the pointer (touch point or cursor). This will be either -1 for the mouse, or the system\r\n\t\t * supplied id value.\r\n\t\t * @property pointerID\r\n\t\t * @type {Number}\r\n\t\t */\r\n\t\tthis.pointerID = pointerID;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether this is the primary pointer in a multitouch environment. This will always be true for the mouse.\r\n\t\t * For touch pointers, the first pointer in the current stack will be considered the primary pointer.\r\n\t\t * @property primary\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\t\tthis.primary = !!primary;\r\n\t\t\r\n\t\t/**\r\n\t\t * The secondary target for the event, if applicable. This is used for mouseout/rollout\r\n\t\t * events to indicate the object that the mouse entered from, mouseover/rollover for the object the mouse exited,\r\n\t\t * and stagemousedown/stagemouseup events for the object that was the under the cursor, if any.\r\n\t\t * \r\n\t\t * Only valid interaction targets will be returned (ie. objects with mouse listeners or a cursor set).\r\n\t\t * @property relatedTarget\r\n\t\t * @type {DisplayObject}\r\n\t\t */\r\n\t\tthis.relatedTarget = relatedTarget;\r\n\t}\r\n\tvar p = createjs.extend(MouseEvent, createjs.Event);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\t\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Returns the x position of the mouse in the local coordinate system of the current target (ie. the dispatcher).\r\n\t * @property localX\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t */\r\n\tp._get_localX = function() {\r\n\t\treturn this.currentTarget.globalToLocal(this.rawX, this.rawY).x;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns the y position of the mouse in the local coordinate system of the current target (ie. the dispatcher).\r\n\t * @property localY\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t */\r\n\tp._get_localY = function() {\r\n\t\treturn this.currentTarget.globalToLocal(this.rawX, this.rawY).y;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Indicates whether the event was generated by a touch input (versus a mouse input).\r\n\t * @property isTouch\r\n\t * @type {Boolean}\r\n\t * @readonly\r\n\t */\r\n\tp._get_isTouch = function() {\r\n\t\treturn this.pointerID !== -1;\r\n\t};\r\n\t\r\n\t\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tlocalX: { get: p._get_localX },\r\n\t\t\tlocalY: { get: p._get_localY },\r\n\t\t\tisTouch: { get: p._get_isTouch }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a clone of the MouseEvent instance.\r\n\t * @method clone\r\n\t * @return {MouseEvent} a clone of the MouseEvent instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new MouseEvent(this.type, this.bubbles, this.cancelable, this.stageX, this.stageY, this.nativeEvent, this.pointerID, this.primary, this.rawX, this.rawY);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[MouseEvent (type=\"+this.type+\" stageX=\"+this.stageX+\" stageY=\"+this.stageY+\")]\";\r\n\t};\r\n\r\n\r\n\tcreatejs.MouseEvent = createjs.promote(MouseEvent, \"Event\");\r\n}());\r\n\r\n//##############################################################################\r\n// Matrix2D.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Represents an affine transformation matrix, and provides tools for constructing and concatenating matrices.\r\n\t *\r\n\t * This matrix can be visualized as:\r\n\t *\r\n\t * \t[ a  c  tx\r\n\t * \t  b  d  ty\r\n\t * \t  0  0  1  ]\r\n\t *\r\n\t * Note the locations of b and c.\r\n\t *\r\n\t * @class Matrix2D\r\n\t * @param {Number} [a=1] Specifies the a property for the new matrix.\r\n\t * @param {Number} [b=0] Specifies the b property for the new matrix.\r\n\t * @param {Number} [c=0] Specifies the c property for the new matrix.\r\n\t * @param {Number} [d=1] Specifies the d property for the new matrix.\r\n\t * @param {Number} [tx=0] Specifies the tx property for the new matrix.\r\n\t * @param {Number} [ty=0] Specifies the ty property for the new matrix.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Matrix2D(a, b, c, d, tx, ty) {\r\n\t\tthis.setValues(a,b,c,d,tx,ty);\r\n\t\t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * Position (0, 0) in a 3x3 affine transformation matrix.\r\n\t\t * @property a\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (0, 1) in a 3x3 affine transformation matrix.\r\n\t\t * @property b\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (1, 0) in a 3x3 affine transformation matrix.\r\n\t\t * @property c\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (1, 1) in a 3x3 affine transformation matrix.\r\n\t\t * @property d\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (2, 0) in a 3x3 affine transformation matrix.\r\n\t\t * @property tx\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (2, 1) in a 3x3 affine transformation matrix.\r\n\t\t * @property ty\r\n\t\t * @type Number\r\n\t\t **/\r\n\t}\r\n\tvar p = Matrix2D.prototype;\r\n\r\n// constants:\r\n\t/**\r\n\t * Multiplier for converting degrees to radians. Used internally by Matrix2D.\r\n\t * @property DEG_TO_RAD\r\n\t * @static\r\n\t * @final\r\n\t * @type Number\r\n\t * @readonly\r\n\t **/\r\n\tMatrix2D.DEG_TO_RAD = Math.PI/180;\r\n\r\n\r\n// static public properties:\r\n\t/**\r\n\t * An identity matrix, representing a null transformation.\r\n\t * @property identity\r\n\t * @static\r\n\t * @type Matrix2D\r\n\t * @readonly\r\n\t **/\r\n\tMatrix2D.identity = null; // set at bottom of class definition.\r\n\t\r\n\r\n// public methods:\r\n\t/**\r\n\t * Sets the specified values on this instance. \r\n\t * @method setValues\r\n\t * @param {Number} [a=1] Specifies the a property for the new matrix.\r\n\t * @param {Number} [b=0] Specifies the b property for the new matrix.\r\n\t * @param {Number} [c=0] Specifies the c property for the new matrix.\r\n\t * @param {Number} [d=1] Specifies the d property for the new matrix.\r\n\t * @param {Number} [tx=0] Specifies the tx property for the new matrix.\r\n\t * @param {Number} [ty=0] Specifies the ty property for the new matrix.\r\n\t * @return {Matrix2D} This instance. Useful for chaining method calls.\r\n\t*/\r\n\tp.setValues = function(a, b, c, d, tx, ty) {\r\n\t\t// don't forget to update docs in the constructor if these change:\r\n\t\tthis.a = (a == null) ? 1 : a;\r\n\t\tthis.b = b || 0;\r\n\t\tthis.c = c || 0;\r\n\t\tthis.d = (d == null) ? 1 : d;\r\n\t\tthis.tx = tx || 0;\r\n\t\tthis.ty = ty || 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Appends the specified matrix properties to this matrix. All parameters are required.\r\n\t * This is the equivalent of multiplying `(this matrix) * (specified matrix)`.\r\n\t * @method append\r\n\t * @param {Number} a\r\n\t * @param {Number} b\r\n\t * @param {Number} c\r\n\t * @param {Number} d\r\n\t * @param {Number} tx\r\n\t * @param {Number} ty\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.append = function(a, b, c, d, tx, ty) {\r\n\t\tvar a1 = this.a;\r\n\t\tvar b1 = this.b;\r\n\t\tvar c1 = this.c;\r\n\t\tvar d1 = this.d;\r\n\t\tif (a != 1 || b != 0 || c != 0 || d != 1) {\r\n\t\t\tthis.a  = a1*a+c1*b;\r\n\t\t\tthis.b  = b1*a+d1*b;\r\n\t\t\tthis.c  = a1*c+c1*d;\r\n\t\t\tthis.d  = b1*c+d1*d;\r\n\t\t}\r\n\t\tthis.tx = a1*tx+c1*ty+this.tx;\r\n\t\tthis.ty = b1*tx+d1*ty+this.ty;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Prepends the specified matrix properties to this matrix.\r\n\t * This is the equivalent of multiplying `(specified matrix) * (this matrix)`.\r\n\t * All parameters are required.\r\n\t * @method prepend\r\n\t * @param {Number} a\r\n\t * @param {Number} b\r\n\t * @param {Number} c\r\n\t * @param {Number} d\r\n\t * @param {Number} tx\r\n\t * @param {Number} ty\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.prepend = function(a, b, c, d, tx, ty) {\r\n\t\tvar a1 = this.a;\r\n\t\tvar c1 = this.c;\r\n\t\tvar tx1 = this.tx;\r\n\r\n\t\tthis.a  = a*a1+c*this.b;\r\n\t\tthis.b  = b*a1+d*this.b;\r\n\t\tthis.c  = a*c1+c*this.d;\r\n\t\tthis.d  = b*c1+d*this.d;\r\n\t\tthis.tx = a*tx1+c*this.ty+tx;\r\n\t\tthis.ty = b*tx1+d*this.ty+ty;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Appends the specified matrix to this matrix.\r\n\t * This is the equivalent of multiplying `(this matrix) * (specified matrix)`.\r\n\t * @method appendMatrix\r\n\t * @param {Matrix2D} matrix\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.appendMatrix = function(matrix) {\r\n\t\treturn this.append(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Prepends the specified matrix to this matrix.\r\n\t * This is the equivalent of multiplying `(specified matrix) * (this matrix)`.\r\n\t * For example, you could calculate the combined transformation for a child object using:\r\n\t * \r\n\t * \tvar o = myDisplayObject;\r\n\t * \tvar mtx = o.getMatrix();\r\n\t * \twhile (o = o.parent) {\r\n\t * \t\t// prepend each parent's transformation in turn:\r\n\t * \t\to.prependMatrix(o.getMatrix());\r\n\t * \t}\r\n\t * @method prependMatrix\r\n\t * @param {Matrix2D} matrix\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.prependMatrix = function(matrix) {\r\n\t\treturn this.prepend(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Generates matrix properties from the specified display object transform properties, and appends them to this matrix.\r\n\t * For example, you can use this to generate a matrix representing the transformations of a display object:\r\n\t * \r\n\t * \tvar mtx = new createjs.Matrix2D();\r\n\t * \tmtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation);\r\n\t * @method appendTransform\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} scaleX\r\n\t * @param {Number} scaleY\r\n\t * @param {Number} rotation\r\n\t * @param {Number} skewX\r\n\t * @param {Number} skewY\r\n\t * @param {Number} regX Optional.\r\n\t * @param {Number} regY Optional.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.appendTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\tif (rotation%360) {\r\n\t\t\tvar r = rotation*Matrix2D.DEG_TO_RAD;\r\n\t\t\tvar cos = Math.cos(r);\r\n\t\t\tvar sin = Math.sin(r);\r\n\t\t} else {\r\n\t\t\tcos = 1;\r\n\t\t\tsin = 0;\r\n\t\t}\r\n\r\n\t\tif (skewX || skewY) {\r\n\t\t\t// TODO: can this be combined into a single append operation?\r\n\t\t\tskewX *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tskewY *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\r\n\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\r\n\t\t} else {\r\n\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\r\n\t\t}\r\n\t\t\r\n\t\tif (regX || regY) {\r\n\t\t\t// append the registration offset:\r\n\t\t\tthis.tx -= regX*this.a+regY*this.c; \r\n\t\t\tthis.ty -= regX*this.b+regY*this.d;\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Generates matrix properties from the specified display object transform properties, and prepends them to this matrix.\r\n\t * For example, you could calculate the combined transformation for a child object using:\r\n\t * \r\n\t * \tvar o = myDisplayObject;\r\n\t * \tvar mtx = new createjs.Matrix2D();\r\n\t * \tdo  {\r\n\t * \t\t// prepend each parent's transformation in turn:\r\n\t * \t\tmtx.prependTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY);\r\n\t * \t} while (o = o.parent);\r\n\t * \t\r\n\t * \tNote that the above example would not account for {{#crossLink \"DisplayObject/transformMatrix:property\"}}{{/crossLink}}\r\n\t * \tvalues. See {{#crossLink \"Matrix2D/prependMatrix\"}}{{/crossLink}} for an example that does.\r\n\t * @method prependTransform\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} scaleX\r\n\t * @param {Number} scaleY\r\n\t * @param {Number} rotation\r\n\t * @param {Number} skewX\r\n\t * @param {Number} skewY\r\n\t * @param {Number} regX Optional.\r\n\t * @param {Number} regY Optional.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.prependTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\tif (rotation%360) {\r\n\t\t\tvar r = rotation*Matrix2D.DEG_TO_RAD;\r\n\t\t\tvar cos = Math.cos(r);\r\n\t\t\tvar sin = Math.sin(r);\r\n\t\t} else {\r\n\t\t\tcos = 1;\r\n\t\t\tsin = 0;\r\n\t\t}\r\n\r\n\t\tif (regX || regY) {\r\n\t\t\t// prepend the registration offset:\r\n\t\t\tthis.tx -= regX; this.ty -= regY;\r\n\t\t}\r\n\t\tif (skewX || skewY) {\r\n\t\t\t// TODO: can this be combined into a single prepend operation?\r\n\t\t\tskewX *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tskewY *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\r\n\t\t\tthis.prepend(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\r\n\t\t} else {\r\n\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies a clockwise rotation transformation to the matrix.\r\n\t * @method rotate\r\n\t * @param {Number} angle The angle to rotate by, in degrees. To use a value in radians, multiply it by `180/Math.PI`.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.rotate = function(angle) {\r\n\t\tangle = angle*Matrix2D.DEG_TO_RAD;\r\n\t\tvar cos = Math.cos(angle);\r\n\t\tvar sin = Math.sin(angle);\r\n\r\n\t\tvar a1 = this.a;\r\n\t\tvar b1 = this.b;\r\n\r\n\t\tthis.a = a1*cos+this.c*sin;\r\n\t\tthis.b = b1*cos+this.d*sin;\r\n\t\tthis.c = -a1*sin+this.c*cos;\r\n\t\tthis.d = -b1*sin+this.d*cos;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies a skew transformation to the matrix.\r\n\t * @method skew\r\n\t * @param {Number} skewX The amount to skew horizontally in degrees. To use a value in radians, multiply it by `180/Math.PI`.\r\n\t * @param {Number} skewY The amount to skew vertically in degrees.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t*/\r\n\tp.skew = function(skewX, skewY) {\r\n\t\tskewX = skewX*Matrix2D.DEG_TO_RAD;\r\n\t\tskewY = skewY*Matrix2D.DEG_TO_RAD;\r\n\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), 0, 0);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies a scale transformation to the matrix.\r\n\t * @method scale\r\n\t * @param {Number} x The amount to scale horizontally. E.G. a value of 2 will double the size in the X direction, and 0.5 will halve it.\r\n\t * @param {Number} y The amount to scale vertically.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.scale = function(x, y) {\r\n\t\tthis.a *= x;\r\n\t\tthis.b *= x;\r\n\t\tthis.c *= y;\r\n\t\tthis.d *= y;\r\n\t\t//this.tx *= x;\r\n\t\t//this.ty *= y;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Translates the matrix on the x and y axes.\r\n\t * @method translate\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.translate = function(x, y) {\r\n\t\tthis.tx += this.a*x + this.c*y;\r\n\t\tthis.ty += this.b*x + this.d*y;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the properties of the matrix to those of an identity matrix (one that applies a null transformation).\r\n\t * @method identity\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.identity = function() {\r\n\t\tthis.a = this.d = 1;\r\n\t\tthis.b = this.c = this.tx = this.ty = 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Inverts the matrix, causing it to perform the opposite transformation.\r\n\t * @method invert\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.invert = function() {\r\n\t\tvar a1 = this.a;\r\n\t\tvar b1 = this.b;\r\n\t\tvar c1 = this.c;\r\n\t\tvar d1 = this.d;\r\n\t\tvar tx1 = this.tx;\r\n\t\tvar n = a1*d1-b1*c1;\r\n\r\n\t\tthis.a = d1/n;\r\n\t\tthis.b = -b1/n;\r\n\t\tthis.c = -c1/n;\r\n\t\tthis.d = a1/n;\r\n\t\tthis.tx = (c1*this.ty-d1*tx1)/n;\r\n\t\tthis.ty = -(a1*this.ty-b1*tx1)/n;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if the matrix is an identity matrix.\r\n\t * @method isIdentity\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.isIdentity = function() {\r\n\t\treturn this.tx === 0 && this.ty === 0 && this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns true if this matrix is equal to the specified matrix (all property values are equal).\r\n\t * @method equals\r\n\t * @param {Matrix2D} matrix The matrix to compare.\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.equals = function(matrix) {\r\n\t\treturn this.tx === matrix.tx && this.ty === matrix.ty && this.a === matrix.a && this.b === matrix.b && this.c === matrix.c && this.d === matrix.d;\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms a point according to this matrix.\r\n\t * @method transformPoint\r\n\t * @param {Number} x The x component of the point to transform.\r\n\t * @param {Number} y The y component of the point to transform.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a generic object with x/y properties will be returned.\r\n\t * @return {Point} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.transformPoint = function(x, y, pt) {\r\n\t\tpt = pt||{};\r\n\t\tpt.x = x*this.a+y*this.c+this.tx;\r\n\t\tpt.y = x*this.b+y*this.d+this.ty;\r\n\t\treturn pt;\r\n\t};\r\n\r\n\t/**\r\n\t * Decomposes the matrix into transform properties (x, y, scaleX, scaleY, and rotation). Note that these values\r\n\t * may not match the transform properties you used to generate the matrix, though they will produce the same visual\r\n\t * results.\r\n\t * @method decompose\r\n\t * @param {Object} target The object to apply the transform properties to. If null, then a new object will be returned.\r\n\t * @return {Object} The target, or a new generic object with the transform properties applied.\r\n\t*/\r\n\tp.decompose = function(target) {\r\n\t\t// TODO: it would be nice to be able to solve for whether the matrix can be decomposed into only scale/rotation even when scale is negative\r\n\t\tif (target == null) { target = {}; }\r\n\t\ttarget.x = this.tx;\r\n\t\ttarget.y = this.ty;\r\n\t\ttarget.scaleX = Math.sqrt(this.a * this.a + this.b * this.b);\r\n\t\ttarget.scaleY = Math.sqrt(this.c * this.c + this.d * this.d);\r\n\r\n\t\tvar skewX = Math.atan2(-this.c, this.d);\r\n\t\tvar skewY = Math.atan2(this.b, this.a);\r\n\r\n\t\tvar delta = Math.abs(1-skewX/skewY);\r\n\t\tif (delta < 0.00001) { // effectively identical, can use rotation:\r\n\t\t\ttarget.rotation = skewY/Matrix2D.DEG_TO_RAD;\r\n\t\t\tif (this.a < 0 && this.d >= 0) {\r\n\t\t\t\ttarget.rotation += (target.rotation <= 0) ? 180 : -180;\r\n\t\t\t}\r\n\t\t\ttarget.skewX = target.skewY = 0;\r\n\t\t} else {\r\n\t\t\ttarget.skewX = skewX/Matrix2D.DEG_TO_RAD;\r\n\t\t\ttarget.skewY = skewY/Matrix2D.DEG_TO_RAD;\r\n\t\t}\r\n\t\treturn target;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Copies all properties from the specified matrix to this matrix.\r\n\t * @method copy\r\n\t * @param {Matrix2D} matrix The matrix to copy properties from.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t*/\r\n\tp.copy = function(matrix) {\r\n\t\treturn this.setValues(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of the Matrix2D instance.\r\n\t * @method clone\r\n\t * @return {Matrix2D} a clone of the Matrix2D instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Matrix2D(this.a, this.b, this.c, this.d, this.tx, this.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Matrix2D (a=\"+this.a+\" b=\"+this.b+\" c=\"+this.c+\" d=\"+this.d+\" tx=\"+this.tx+\" ty=\"+this.ty+\")]\";\r\n\t};\r\n\r\n\t// this has to be populated after the class is defined:\r\n\tMatrix2D.identity = new Matrix2D();\r\n\r\n\r\n\tcreatejs.Matrix2D = Matrix2D;\r\n}());\r\n\r\n//##############################################################################\r\n// DisplayProps.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Used for calculating and encapsulating display related properties.\r\n\t * @class DisplayProps\r\n\t * @param {Number} [visible=true] Visible value.\r\n\t * @param {Number} [alpha=1] Alpha value.\r\n\t * @param {Number} [shadow=null] A Shadow instance or null.\r\n\t * @param {Number} [compositeOperation=null] A compositeOperation value or null.\r\n\t * @param {Number} [matrix] A transformation matrix. Defaults to a new identity matrix.\r\n\t * @constructor\r\n\t **/\r\n\tfunction DisplayProps(visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.setValues(visible, alpha, shadow, compositeOperation, matrix);\r\n\t\t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * Property representing the alpha that will be applied to a display object.\r\n\t\t * @property alpha\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Property representing the shadow that will be applied to a display object.\r\n\t\t * @property shadow\r\n\t\t * @type Shadow\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Property representing the compositeOperation that will be applied to a display object.\r\n\t\t * You can find a list of valid composite operations at:\r\n\t\t * <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing\">https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing</a>\r\n\t\t * @property compositeOperation\r\n\t\t * @type String\r\n\t\t **/\r\n\t\t\r\n\t\t/**\r\n\t\t * Property representing the value for visible that will be applied to a display object.\r\n\t\t * @property visible\r\n\t\t * @type Boolean\r\n\t\t **/\r\n\t\t\r\n\t\t/**\r\n\t\t * The transformation matrix that will be applied to a display object.\r\n\t\t * @property matrix\r\n\t\t * @type Matrix2D\r\n\t\t **/\r\n\t}\r\n\tvar p = DisplayProps.prototype;\r\n\r\n// initialization:\r\n\t/**\r\n\t * Reinitializes the instance with the specified values.\r\n\t * @method setValues\r\n\t * @param {Number} [visible=true] Visible value.\r\n\t * @param {Number} [alpha=1] Alpha value.\r\n\t * @param {Number} [shadow=null] A Shadow instance or null.\r\n\t * @param {Number} [compositeOperation=null] A compositeOperation value or null.\r\n\t * @param {Number} [matrix] A transformation matrix. Defaults to an identity matrix.\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.setValues = function (visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.visible = visible == null ? true : !!visible;\r\n\t\tthis.alpha = alpha == null ? 1 : alpha;\r\n\t\tthis.shadow = shadow;\r\n\t\tthis.compositeOperation = compositeOperation;\r\n\t\tthis.matrix = matrix || (this.matrix&&this.matrix.identity()) || new createjs.Matrix2D();\r\n\t\treturn this;\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Appends the specified display properties. This is generally used to apply a child's properties its parent's.\r\n\t * @method append\r\n\t * @param {Boolean} visible desired visible value\r\n\t * @param {Number} alpha desired alpha value\r\n\t * @param {Shadow} shadow desired shadow value\r\n\t * @param {String} compositeOperation desired composite operation value\r\n\t * @param {Matrix2D} [matrix] a Matrix2D instance\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.append = function(visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.alpha *= alpha;\r\n\t\tthis.shadow = shadow || this.shadow;\r\n\t\tthis.compositeOperation = compositeOperation || this.compositeOperation;\r\n\t\tthis.visible = this.visible && visible;\r\n\t\tmatrix&&this.matrix.appendMatrix(matrix);\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Prepends the specified display properties. This is generally used to apply a parent's properties to a child's.\r\n\t * For example, to get the combined display properties that would be applied to a child, you could use:\r\n\t * \r\n\t * \tvar o = myDisplayObject;\r\n\t * \tvar props = new createjs.DisplayProps();\r\n\t * \tdo {\r\n\t * \t\t// prepend each parent's props in turn:\r\n\t * \t\tprops.prepend(o.visible, o.alpha, o.shadow, o.compositeOperation, o.getMatrix());\r\n\t * \t} while (o = o.parent);\r\n\t * \t\r\n\t * @method prepend\r\n\t * @param {Boolean} visible desired visible value\r\n\t * @param {Number} alpha desired alpha value\r\n\t * @param {Shadow} shadow desired shadow value\r\n\t * @param {String} compositeOperation desired composite operation value\r\n\t * @param {Matrix2D} [matrix] a Matrix2D instance\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.prepend = function(visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.alpha *= alpha;\r\n\t\tthis.shadow = this.shadow || shadow;\r\n\t\tthis.compositeOperation = this.compositeOperation || compositeOperation;\r\n\t\tthis.visible = this.visible && visible;\r\n\t\tmatrix&&this.matrix.prependMatrix(matrix);\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Resets this instance and its matrix to default values.\r\n\t * @method identity\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.identity = function() {\r\n\t\tthis.visible = true;\r\n\t\tthis.alpha = 1;\r\n\t\tthis.shadow = this.compositeOperation = null;\r\n\t\tthis.matrix.identity();\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the DisplayProps instance. Clones the associated matrix.\r\n\t * @method clone\r\n\t * @return {DisplayProps} a clone of the DisplayProps instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new DisplayProps(this.alpha, this.shadow, this.compositeOperation, this.visible, this.matrix.clone());\r\n\t};\r\n\r\n// private methods:\r\n\r\n\tcreatejs.DisplayProps = DisplayProps;\r\n})();\r\n\r\n//##############################################################################\r\n// Point.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Represents a point on a 2 dimensional x / y coordinate system.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * \r\n\t *      var point = new createjs.Point(0, 100);\r\n\t * \r\n\t * @class Point\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Point(x, y) {\r\n\t \tthis.setValues(x, y);\r\n\t \t\r\n\t \t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * X position.\r\n\t\t * @property x\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Y position.\r\n\t\t * @property y\r\n\t\t * @type Number\r\n\t\t **/\r\n\t}\r\n\tvar p = Point.prototype;\r\n\t\r\n// public methods:\r\n\t/** \r\n\t * Sets the specified values on this instance.\r\n\t * @method setValues\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @return {Point} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.setValues = function(x, y) {\r\n\t\tthis.x = x||0;\r\n\t\tthis.y = y||0;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Copies all properties from the specified point to this point.\r\n\t * @method copy\r\n\t * @param {Point} point The point to copy properties from.\r\n\t * @return {Point} This point. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.copy = function(point) {\r\n\t\tthis.x = point.x;\r\n\t\tthis.y = point.y;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Point instance.\r\n\t * @method clone\r\n\t * @return {Point} a clone of the Point instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Point(this.x, this.y);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Point (x=\"+this.x+\" y=\"+this.y+\")]\";\r\n\t};\r\n\t\r\n\t\r\n\tcreatejs.Point = Point;\r\n}());\r\n\r\n//##############################################################################\r\n// Rectangle.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Represents a rectangle as defined by the points (x, y) and (x+width, y+height).\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var rect = new createjs.Rectangle(0, 0, 100, 100);\r\n\t *\r\n\t * @class Rectangle\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @param {Number} [width=0] The width of the Rectangle.\r\n\t * @param {Number} [height=0] The height of the Rectangle.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Rectangle(x, y, width, height) {\r\n\t\tthis.setValues(x, y, width, height);\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * X position.\r\n\t\t * @property x\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Y position.\r\n\t\t * @property y\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Width.\r\n\t\t * @property width\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Height.\r\n\t\t * @property height\r\n\t\t * @type Number\r\n\t\t **/\r\n\t}\r\n\tvar p = Rectangle.prototype;\r\n\r\n// public methods:\r\n\t/** \r\n\t * Sets the specified values on this instance.\r\n\t * @method setValues\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @param {Number} [width=0] The width of the Rectangle.\r\n\t * @param {Number} [height=0] The height of the Rectangle.\r\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.setValues = function(x, y, width, height) {\r\n\t\t// don't forget to update docs in the constructor if these change:\r\n\t\tthis.x = x||0;\r\n\t\tthis.y = y||0;\r\n\t\tthis.width = width||0;\r\n\t\tthis.height = height||0;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/** \r\n\t * Extends the rectangle's bounds to include the described point or rectangle.\r\n\t * @method extend\r\n\t * @param {Number} x X position of the point or rectangle.\r\n\t * @param {Number} y Y position of the point or rectangle.\r\n\t * @param {Number} [width=0] The width of the rectangle.\r\n\t * @param {Number} [height=0] The height of the rectangle.\r\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.extend = function(x, y, width, height) {\r\n\t\twidth = width||0;\r\n\t\theight = height||0;\r\n\t\tif (x+width > this.x+this.width) { this.width = x+width-this.x; }\r\n\t\tif (y+height > this.y+this.height) { this.height = y+height-this.y; }\r\n\t\tif (x < this.x) { this.width += this.x-x; this.x = x; }\r\n\t\tif (y < this.y) { this.height += this.y-y; this.y = y; }\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/** \r\n\t * Adds the specified padding to the rectangle's bounds.\r\n\t * @method pad\r\n\t * @param {Number} top\r\n\t * @param {Number} left\r\n\t * @param {Number} bottom\r\n\t * @param {Number} right\r\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.pad = function(top, left, bottom, right) {\r\n\t\tthis.x -= left;\r\n\t\tthis.y -= top;\r\n\t\tthis.width += left+right;\r\n\t\tthis.height += top+bottom;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Copies all properties from the specified rectangle to this rectangle.\r\n\t * @method copy\r\n\t * @param {Rectangle} rectangle The rectangle to copy properties from.\r\n\t * @return {Rectangle} This rectangle. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.copy = function(rectangle) {\r\n\t\treturn this.setValues(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns true if this rectangle fully encloses the described point or rectangle.\r\n\t * @method contains\r\n\t * @param {Number} x X position of the point or rectangle.\r\n\t * @param {Number} y Y position of the point or rectangle.\r\n\t * @param {Number} [width=0] The width of the rectangle.\r\n\t * @param {Number} [height=0] The height of the rectangle.\r\n\t * @return {Boolean} True if the described point or rectangle is contained within this rectangle.\r\n\t*/\r\n\tp.contains = function(x, y, width, height) {\r\n\t\twidth = width||0;\r\n\t\theight = height||0;\r\n\t\treturn (x >= this.x && x+width <= this.x+this.width && y >= this.y && y+height <= this.y+this.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns a new rectangle which contains this rectangle and the specified rectangle.\r\n\t * @method union\r\n\t * @param {Rectangle} rect The rectangle to calculate a union with.\r\n\t * @return {Rectangle} A new rectangle describing the union.\r\n\t*/\r\n\tp.union = function(rect) {\r\n\t\treturn this.clone().extend(rect.x, rect.y, rect.width, rect.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns a new rectangle which describes the intersection (overlap) of this rectangle and the specified rectangle,\r\n\t * or null if they do not intersect.\r\n\t * @method intersection\r\n\t * @param {Rectangle} rect The rectangle to calculate an intersection with.\r\n\t * @return {Rectangle} A new rectangle describing the intersection or null.\r\n\t*/\r\n\tp.intersection = function(rect) {\r\n\t\tvar x1 = rect.x, y1 = rect.y, x2 = x1+rect.width, y2 = y1+rect.height;\r\n\t\tif (this.x > x1) { x1 = this.x; }\r\n\t\tif (this.y > y1) { y1 = this.y; }\r\n\t\tif (this.x + this.width < x2) { x2 = this.x + this.width; }\r\n\t\tif (this.y + this.height < y2) { y2 = this.y + this.height; }\r\n\t\treturn (x2 <= x1 || y2 <= y1) ? null : new Rectangle(x1, y1, x2-x1, y2-y1);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns true if the specified rectangle intersects (has any overlap) with this rectangle.\r\n\t * @method intersects\r\n\t * @param {Rectangle} rect The rectangle to compare.\r\n\t * @return {Boolean} True if the rectangles intersect.\r\n\t*/\r\n\tp.intersects = function(rect) {\r\n\t\treturn (rect.x <= this.x+this.width && this.x <= rect.x+rect.width && rect.y <= this.y+this.height && this.y <= rect.y + rect.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns true if the width or height are equal or less than 0.\r\n\t * @method isEmpty\r\n\t * @return {Boolean} True if the rectangle is empty.\r\n\t*/\r\n\tp.isEmpty = function() {\r\n\t\treturn this.width <= 0 || this.height <= 0;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Rectangle instance.\r\n\t * @method clone\r\n\t * @return {Rectangle} a clone of the Rectangle instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Rectangle (x=\"+this.x+\" y=\"+this.y+\" width=\"+this.width+\" height=\"+this.height+\")]\";\r\n\t};\r\n\t\r\n\t\r\n\tcreatejs.Rectangle = Rectangle;\r\n}());\r\n\r\n//##############################################################################\r\n// ButtonHelper.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The ButtonHelper is a helper class to create interactive buttons from {{#crossLink \"MovieClip\"}}{{/crossLink}} or\r\n\t * {{#crossLink \"Sprite\"}}{{/crossLink}} instances. This class will intercept mouse events from an object, and\r\n\t * automatically call {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} or {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}},\r\n\t * to the respective animation labels, add a pointer cursor, and allows the user to define a hit state frame.\r\n\t *\r\n\t * The ButtonHelper instance does not need to be added to the stage, but a reference should be maintained to prevent\r\n\t * garbage collection.\r\n\t * \r\n\t * Note that over states will not work unless you call {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var helper = new createjs.ButtonHelper(myInstance, \"out\", \"over\", \"down\", false, myInstance, \"hit\");\r\n\t *      myInstance.addEventListener(\"click\", handleClick);\r\n\t *      function handleClick(event) {\r\n\t *          // Click Happened.\r\n\t *      }\r\n\t *\r\n\t * @class ButtonHelper\r\n\t * @param {Sprite|MovieClip} target The instance to manage.\r\n\t * @param {String} [outLabel=\"out\"] The label or animation to go to when the user rolls out of the button.\r\n\t * @param {String} [overLabel=\"over\"] The label or animation to go to when the user rolls over the button.\r\n\t * @param {String} [downLabel=\"down\"] The label or animation to go to when the user presses the button.\r\n\t * @param {Boolean} [play=false] If the helper should call \"gotoAndPlay\" or \"gotoAndStop\" on the button when changing\r\n\t * states.\r\n\t * @param {DisplayObject} [hitArea] An optional item to use as the hit state for the button. If this is not defined,\r\n\t * then the button's visible states will be used instead. Note that the same instance as the \"target\" argument can be\r\n\t * used for the hitState.\r\n\t * @param {String} [hitLabel] The label or animation on the hitArea instance that defines the hitArea bounds. If this is\r\n\t * null, then the default state of the hitArea will be used. *\r\n\t * @constructor\r\n\t */\r\n\tfunction ButtonHelper(target, outLabel, overLabel, downLabel, play, hitArea, hitLabel) {\r\n\t\tif (!target.addEventListener) { return; }\r\n\t\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The target for this button helper.\r\n\t\t * @property target\r\n\t\t * @type MovieClip | Sprite\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\twindow.target = target;\r\n\t\r\n\t\t/**\r\n\t\t * The label name or frame number to display when the user mouses out of the target. Defaults to \"over\".\r\n\t\t * @property overLabel\r\n\t\t * @type String | Number\r\n\t\t **/\r\n\t\tthis.overLabel = overLabel == null ? \"over\" : overLabel;\r\n\t\r\n\t\t/**\r\n\t\t * The label name or frame number to display when the user mouses over the target. Defaults to \"out\".\r\n\t\t * @property outLabel\r\n\t\t * @type String | Number\r\n\t\t **/\r\n\t\tthis.outLabel = outLabel == null ? \"out\" : outLabel;\r\n\t\r\n\t\t/**\r\n\t\t * The label name or frame number to display when the user presses on the target. Defaults to \"down\".\r\n\t\t * @property downLabel\r\n\t\t * @type String | Number\r\n\t\t **/\r\n\t\tthis.downLabel = downLabel == null ? \"down\" : downLabel;\r\n\t\r\n\t\t/**\r\n\t\t * If true, then ButtonHelper will call gotoAndPlay, if false, it will use gotoAndStop. Default is false.\r\n\t\t * @property play\r\n\t\t * @default false\r\n\t\t * @type Boolean\r\n\t\t **/\r\n\t\tthis.play = play;\r\n\t\t\r\n\t\t\r\n\t//  private properties\r\n\t\t/**\r\n\t\t * @property _isPressed\r\n\t\t * @type Boolean\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._isPressed = false;\r\n\t\r\n\t\t/**\r\n\t\t * @property _isOver\r\n\t\t * @type Boolean\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._isOver = false;\r\n\t\r\n\t\t/**\r\n\t\t * @property _enabled\r\n\t\t * @type Boolean\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._enabled = false;\r\n\t\t\r\n\t// setup:\r\n\t\ttarget.mouseChildren = false; // prevents issues when children are removed from the display list when state changes.\r\n\t\tthis.enabled = true;\r\n\t\tthis.handleEvent({});\r\n\t\tif (hitArea) {\r\n\t\t\tif (hitLabel) {\r\n\t\t\t\thitArea.actionsEnabled = false;\r\n\t\t\t\thitArea.gotoAndStop&&hitArea.gotoAndStop(hitLabel);\r\n\t\t\t}\r\n\t\t\ttarget.hitArea = hitArea;\r\n\t\t}\r\n\t}\r\n\tvar p = ButtonHelper.prototype;\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"ButtonHelper/enabled:property\"}}{{/crossLink}} property instead.\r\n\t * @method setEnabled\r\n\t * @param {Boolean} value The enabled property to set the instance to.\r\n\t * @[rptected\r\n\t * @protected\r\n\t **/\r\n\tp._setEnabled = function(value) {\r\n\t\tif (value == this._enabled) { return; }\r\n\t\tvar o = window.target;\r\n\t\tthis._enabled = value;\r\n\t\tif (value) {\r\n\t\t\to.cursor = \"pointer\";\r\n\t\t\to.addEventListener(\"rollover\", this);\r\n\t\t\to.addEventListener(\"rollout\", this);\r\n\t\t\to.addEventListener(\"mousedown\", this);\r\n\t\t\to.addEventListener(\"pressup\", this);\r\n\t\t\tif (o._reset) { o.__reset = o._reset; o._reset = this._reset;}\r\n\t\t} else {\r\n\t\t\to.cursor = null;\r\n\t\t\to.removeEventListener(\"rollover\", this);\r\n\t\t\to.removeEventListener(\"rollout\", this);\r\n\t\t\to.removeEventListener(\"mousedown\", this);\r\n\t\t\to.removeEventListener(\"pressup\", this);\r\n\t\t\tif (o.__reset) { o._reset = o.__reset; delete(o.__reset); }\r\n\t\t}\r\n\t};\r\n\t// ButtonHelper.setEnabled is @deprecated. Remove for 1.1+\r\n\tp.setEnabled = createjs.deprecate(p._setEnabled, \"ButtonHelper.setEnabled\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"ButtonHelper/enabled:property\"}}{{/crossLink}} property instead.\r\n\t * @method getEnabled\r\n\t * @protected\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp._getEnabled = function() {\r\n\t\treturn this._enabled;\r\n\t};\r\n\t// ButtonHelper.getEnabled is @deprecated. Remove for 1.1+\r\n\tp.getEnabled = createjs.deprecate(p._getEnabled, \"ButtonHelper.getEnabled\");\r\n\r\n\t/**\r\n\t * Enables or disables the button functionality on the target.\r\n\t * @property enabled\r\n\t * @type {Boolean}\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tenabled: { get: p._getEnabled, set: p._setEnabled }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ButtonHelper]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method handleEvent\r\n\t * @param {Object} evt The mouse event to handle.\r\n\t * @protected\r\n\t **/\r\n\tp.handleEvent = function(evt) {\r\n\t\tvar label, t = window.target, type = evt.type;\r\n\t\tif (type == \"mousedown\") {\r\n\t\t\tthis._isPressed = true;\r\n\t\t\tlabel = this.downLabel;\r\n\t\t} else if (type == \"pressup\") {\r\n\t\t\tthis._isPressed = false;\r\n\t\t\tlabel = this._isOver ? this.overLabel : this.outLabel;\r\n\t\t} else if (type == \"rollover\") {\r\n\t\t\tthis._isOver = true;\r\n\t\t\tlabel = this._isPressed ? this.downLabel : this.overLabel;\r\n\t\t} else { // rollout and default\r\n\t\t\tthis._isOver = false;\r\n\t\t\tlabel = this._isPressed ? this.overLabel : this.outLabel;\r\n\t\t}\r\n\t\tif (this.play) {\r\n\t\t\tt.gotoAndPlay&&t.gotoAndPlay(label);\r\n\t\t} else {\r\n\t\t\tt.gotoAndStop&&t.gotoAndStop(label);\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * Injected into target. Preserves the paused state through a reset.\r\n\t * @method _reset\r\n\t * @protected\r\n\t **/\r\n\tp._reset = function() {\r\n\t\t// TODO: explore better ways to handle this issue. This is hacky & disrupts object signatures.\r\n\t\tvar p = this.paused;\r\n\t\tthis.__reset();\r\n\t\tthis.paused = p;\r\n\t};\r\n\r\n\r\n\tcreatejs.ButtonHelper = ButtonHelper;\r\n}());\r\n\r\n//##############################################################################\r\n// Shadow.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * This class encapsulates the properties required to define a shadow to apply to a {{#crossLink \"DisplayObject\"}}{{/crossLink}}\r\n\t * via its <code>shadow</code> property.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      myImage.shadow = new createjs.Shadow(\"#000000\", 5, 5, 10);\r\n\t *\r\n\t * @class Shadow\r\n\t * @constructor\r\n\t * @param {String} color The color of the shadow. This can be any valid CSS color value.\r\n\t * @param {Number} offsetX The x offset of the shadow in pixels.\r\n\t * @param {Number} offsetY The y offset of the shadow in pixels.\r\n\t * @param {Number} blur The size of the blurring effect.\r\n\t **/\r\n\tfunction Shadow(color, offsetX, offsetY, blur) {\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/** \r\n\t\t * The color of the shadow. This can be any valid CSS color value.\r\n\t\t * @property color\r\n\t\t * @type String\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.color = color||\"black\";\r\n\t\r\n\t\t/** The x offset of the shadow.\r\n\t\t * @property offsetX\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.offsetX = offsetX||0;\r\n\t\r\n\t\t/** The y offset of the shadow.\r\n\t\t * @property offsetY\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.offsetY = offsetY||0;\r\n\t\r\n\t\t/** The blur of the shadow.\r\n\t\t * @property blur\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.blur = blur||0;\r\n\t}\r\n\tvar p = Shadow.prototype;\r\n\r\n// static public properties:\r\n\t/**\r\n\t * An identity shadow object (all properties are set to 0).\r\n\t * @property identity\r\n\t * @type Shadow\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t **/\r\n\tShadow.identity = new Shadow(\"transparent\", 0, 0, 0);\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Shadow]\";\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Shadow instance.\r\n\t * @method clone\r\n\t * @return {Shadow} A clone of the current Shadow instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Shadow(this.color, this.offsetX, this.offsetY, this.blur);\r\n\t};\r\n\t\r\n\r\n\tcreatejs.Shadow = Shadow;\r\n}());\r\n\r\n//##############################################################################\r\n// SpriteSheet.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Encapsulates the properties and methods associated with a sprite sheet. A sprite sheet is a series of images (usually\r\n\t * animation frames) combined into a larger image (or images). For example, an animation consisting of eight 100x100\r\n\t * images could be combined into a single 400x200 sprite sheet (4 frames across by 2 high).\r\n\t *\r\n\t * The data passed to the SpriteSheet constructor defines:\r\n\t * <ol>\r\n\t * \t<li> The source image or images to use.</li>\r\n\t * \t<li> The positions of individual image frames.</li>\r\n\t * \t<li> Sequences of frames that form named animations. Optional.</li>\r\n\t * \t<li> The target playback framerate. Optional.</li>\r\n\t * </ol>\r\n\t * <h3>SpriteSheet Format</h3>\r\n\t * SpriteSheets are an object with two required properties (`images` and `frames`), and two optional properties\r\n\t * (`framerate` and `animations`). This makes them easy to define in javascript code, or in JSON.\r\n\t *\r\n\t * <h4>images</h4>\r\n\t * An array of source images. Images can be either an HTMlimage\r\n\t * instance, or a uri to an image. The former is recommended to control preloading.\r\n\t *\r\n\t * \timages: [image1, \"path/to/image2.png\"],\r\n\t *\r\n\t * <h4>frames</h4>\r\n\t * Defines the individual frames. There are two supported formats for frame data:\r\n\t * When all of the frames are the same size (in a grid), use an object with `width`, `height`, `regX`, `regY`,\r\n\t * and `count` properties.\r\n\t *\r\n\t * <ul>\r\n\t *  <li>`width` & `height` are required and specify the dimensions of the frames</li>\r\n\t *  <li>`regX` & `regY` indicate the registration point or \"origin\" of the frames</li>\r\n\t *  <li>`spacing` indicate the spacing between frames</li>\r\n\t *  <li>`margin` specify the margin around the image(s)</li>\r\n\t *  <li>`count` allows you to specify the total number of frames in the spritesheet; if omitted, this will\r\n\t *  be calculated based on the dimensions of the source images and the frames. Frames will be assigned\r\n\t *  indexes based on their position in the source images (left to right, top to bottom).</li>\r\n\t * </ul>\r\n\t *\r\n\t *  \tframes: {width:64, height:64, count:20, regX: 32, regY:64, spacing:0, margin:0}\r\n\t *\r\n\t * If the frames are of different sizes, use an array of frame definitions. Each definition is itself an array\r\n\t * with 4 required and 3 optional entries, in the order:\r\n\t *\r\n\t * <ul>\r\n\t *  <li>The first four, `x`, `y`, `width`, and `height` are required and define the frame rectangle.</li>\r\n\t *  <li>The fifth, `imageIndex`, specifies the index of the source image (defaults to 0)</li>\r\n\t *  <li>The last two, `regX` and `regY` specify the registration point of the frame</li>\r\n\t * </ul>\r\n\t *\r\n\t * \tframes: [\r\n\t * \t\t// x, y, width, height, imageIndex*, regX*, regY*\r\n\t * \t\t[64, 0, 96, 64],\r\n\t * \t\t[0, 0, 64, 64, 1, 32, 32]\r\n\t * \t\t// etc.\r\n\t * \t]\r\n\t *\r\n\t * <h4>animations</h4>\r\n\t * Optional. An object defining sequences of frames to play as named animations. Each property corresponds to an\r\n\t * animation of the same name. Each animation must specify the frames to play, and may\r\n\t * also include a relative playback `speed` (ex. 2 would playback at double speed, 0.5 at half), and\r\n\t * the name of the `next` animation to sequence to after it completes.\r\n\t *\r\n\t * There are three formats supported for defining the frames in an animation, which can be mixed and matched as appropriate:\r\n\t * <ol>\r\n\t * \t<li>for a single frame animation, you can simply specify the frame index\r\n\t *\r\n\t * \t\tanimations: {\r\n\t * \t\t\tsit: 7\r\n\t * \t\t}\r\n\t *\r\n\t * </li>\r\n\t * <li>\r\n\t *      for an animation of consecutive frames, you can use an array with two required, and two optional entries\r\n\t * \t\tin the order: `start`, `end`, `next`, and `speed`. This will play the frames from start to end inclusive.\r\n\t *\r\n\t * \t\tanimations: {\r\n\t * \t\t\t// start, end, next*, speed*\r\n\t * \t\t\trun: [0, 8],\r\n\t * \t\t\tjump: [9, 12, \"run\", 2]\r\n\t * \t\t}\r\n\t *\r\n\t *  </li>\r\n\t *  <li>\r\n\t *     for non-consecutive frames, you can use an object with a `frames` property defining an array of frame\r\n\t *     indexes to play in order. The object can also specify `next` and `speed` properties.\r\n\t *\r\n\t * \t\tanimations: {\r\n\t * \t\t\twalk: {\r\n\t * \t\t\t\tframes: [1,2,3,3,2,1]\r\n\t * \t\t\t},\r\n\t * \t\t\tshoot: {\r\n\t * \t\t\t\tframes: [1,4,5,6],\r\n\t * \t\t\t\tnext: \"walk\",\r\n\t * \t\t\t\tspeed: 0.5\r\n\t * \t\t\t}\r\n\t * \t\t}\r\n\t *\r\n\t *  </li>\r\n\t * </ol>\r\n\t * <strong>Note:</strong> the `speed` property was added in EaselJS 0.7.0. Earlier versions had a `frequency`\r\n\t * property instead, which was the inverse of `speed`. For example, a value of \"4\" would be 1/4 normal speed in\r\n\t * earlier versions, but is 4x normal speed in EaselJS 0.7.0+.\r\n\t *\r\n\t * <h4>framerate</h4>\r\n\t * Optional. Indicates the default framerate to play this spritesheet at in frames per second. See\r\n\t * {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} for more information.\r\n\t *\r\n\t * \t\tframerate: 20\r\n\t *\r\n\t * Note that the Sprite framerate will only work if the stage update method is provided with the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\r\n\t * event generated by the {{#crossLink \"Ticker\"}}{{/crossLink}}.\r\n\t *\r\n\t * \t\tcreatejs.Ticker.on(\"tick\", handleTick);\r\n\t * \t\tfunction handleTick(event) {\r\n\t *\t\t\tstage.update(event);\r\n\t *\t\t}\r\n\t *\r\n\t * <h3>Example</h3>\r\n\t * To define a simple sprite sheet, with a single image \"sprites.jpg\" arranged in a regular 50x50 grid with three\r\n\t * animations: \"stand\" showing the first frame, \"run\" looping frame 1-5 inclusive, and \"jump\" playing frame 6-8 and\r\n\t * sequencing back to run.\r\n\t *\r\n\t * \t\tvar data = {\r\n\t * \t\t\timages: [\"sprites.jpg\"],\r\n\t * \t\t\tframes: {width:50, height:50},\r\n\t * \t\t\tanimations: {\r\n\t * \t\t\t\tstand:0,\r\n\t * \t\t\t\trun:[1,5],\r\n\t * \t\t\t\tjump:[6,8,\"run\"]\r\n\t * \t\t\t}\r\n\t * \t\t};\r\n\t * \t\tvar spriteSheet = new createjs.SpriteSheet(data);\r\n\t * \t\tvar animation = new createjs.Sprite(spriteSheet, \"run\");\r\n\t *\r\n\t * <h3>Generating SpriteSheet Images</h3>\r\n\t * Spritesheets can be created manually by combining images in PhotoShop, and specifying the frame size or\r\n\t * coordinates manually, however there are a number of tools that facilitate this.\r\n\t * <ul>\r\n\t *     <li>Exporting SpriteSheets or HTML5 content from Adobe Flash/Animate supports the EaselJS SpriteSheet format.</li>\r\n\t *     <li>The popular <a href=\"https://www.codeandweb.com/texturepacker/easeljs\" target=\"_blank\">Texture Packer</a> has\r\n\t *     EaselJS support.\r\n\t *     <li>SWF animations in Adobe Flash/Animate can be exported to SpriteSheets using <a href=\"http://createjs.com/zoe\" target=\"_blank\">Zo&euml;</a></li>\r\n\t * </ul>\r\n\t *\r\n\t * <h3>Cross Origin Issues</h3>\r\n\t * <strong>Warning:</strong> Images loaded cross-origin will throw cross-origin security errors when interacted with\r\n\t * using:\r\n\t * <ul>\r\n\t *     <li>a mouse</li>\r\n\t *     <li>methods such as {{#crossLink \"Container/getObjectUnderPoint\"}}{{/crossLink}}</li>\r\n\t *     <li>Filters (see {{#crossLink \"Filter\"}}{{/crossLink}})</li>\r\n\t *     <li>caching (see {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}})</li>\r\n\t * </ul>\r\n\t * You can get around this by setting `crossOrigin` property on your images before passing them to EaselJS, or\r\n\t * setting the `crossOrigin` property on PreloadJS' LoadQueue or LoadItems.\r\n\t *\r\n\t * \t\tvar image = new Image();\r\n\t * \t\timg.crossOrigin=\"Anonymous\";\r\n\t * \t\timg.src = \"http://server-with-CORS-support.com/path/to/image.jpg\";\r\n\t *\r\n\t * If you pass string paths to SpriteSheets, they will not work cross-origin. The server that stores the image must\r\n\t * support cross-origin requests, or this will not work. For more information, check out\r\n\t * <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" target=\"_blank\">CORS overview on MDN</a>.\r\n\t *\r\n\t * @class SpriteSheet\r\n\t * @constructor\r\n\t * @param {Object} data An object describing the SpriteSheet data.\r\n\t * @extends EventDispatcher\r\n\t **/\r\n\tfunction SpriteSheet(data) {\r\n\t\tthis.EventDispatcher_constructor();\r\n\r\n\r\n\t\t// public properties:\r\n\t\t/**\r\n\t\t * Indicates whether all images are finished loading.\r\n\t\t * @property complete\r\n\t\t * @type Boolean\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.complete = true;\r\n\r\n\t\t/**\r\n\t\t * Specifies the framerate to use by default for Sprite instances using the SpriteSheet. See the Sprite class\r\n\t\t * {{#crossLink \"Sprite/framerate:property\"}}{{/crossLink}} for more information.\r\n\t\t * @property framerate\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.framerate = 0;\r\n\r\n\r\n\t\t// private properties:\r\n\t\t/**\r\n\t\t * @property _animations\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._animations = null;\r\n\r\n\t\t/**\r\n\t\t * @property _frames\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._frames = null;\r\n\r\n\t\t/**\r\n\t\t * @property _images\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._images = null;\r\n\r\n\t\t/**\r\n\t\t * @property _data\r\n\t\t * @protected\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._data = null;\r\n\r\n\t\t/**\r\n\t\t * @property _loadCount\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._loadCount = 0;\r\n\r\n\t\t// only used for simple frame defs:\r\n\t\t/**\r\n\t\t * @property _frameHeight\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._frameHeight = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _frameWidth\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._frameWidth = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _numFrames\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._numFrames = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _regX\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._regX = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _regY\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._regY = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _spacing\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._spacing = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _margin\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._margin = 0;\r\n\r\n\t\t// setup:\r\n\t\tthis._parseData(data);\r\n\t}\r\n\tvar p = createjs.extend(SpriteSheet, createjs.EventDispatcher);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when all images are loaded.  Note that this only fires if the images\r\n\t * were not fully loaded when the sprite sheet was initialized. You should check the complete property\r\n\t * to prior to adding a listener. Ex.\r\n\t *\r\n\t * \tvar sheet = new createjs.SpriteSheet(data);\r\n\t * \tif (!sheet.complete) {\r\n\t * \t\t// not preloaded, listen for the complete event:\r\n\t * \t\tsheet.addEventListener(\"complete\", handler);\r\n\t * \t}\r\n\t *\r\n\t * @event complete\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when getFrame is called with a valid frame index. This is primarily intended for use by {{#crossLink \"SpriteSheetBuilder\"}}{{/crossLink}}\r\n\t * when doing on-demand rendering.\r\n\t * @event getframe\r\n\t * @param {Number} index The frame index.\r\n\t * @param {Object} frame The frame object that getFrame will return.\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when an image encounters an error. A SpriteSheet will dispatch an error event for each image that\r\n\t * encounters an error, and will still dispatch a {{#crossLink \"SpriteSheet/complete:event\"}}{{/crossLink}}\r\n\t * event once all images are finished processing, even if an error is encountered.\r\n\t * @event error\r\n\t * @param {String} src The source of the image that failed to load.\r\n\t * @since 0.8.2\r\n\t */\r\n\r\n\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"SpriteSheet/animations:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getAnimations\r\n\t * @protected\r\n\t * @return {Array}\r\n\t **/\r\n\tp._getAnimations = function() {\r\n\t\treturn this._animations.slice();\r\n\t};\r\n\t// SpriteSheet.getAnimations is @deprecated. Remove for 1.1+\r\n\tp.getAnimations = createjs.deprecate(p._getAnimations, \"SpriteSheet.getAnimations\");\r\n\r\n\t/**\r\n\t * Returns an array of all available animation names available on this sprite sheet as strings.\r\n\t * @property animations\r\n\t * @type {Array}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tanimations: { get: p._getAnimations }\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns the total number of frames in the specified animation, or in the whole sprite\r\n\t * sheet if the animation param is omitted. Returns 0 if the spritesheet relies on calculated frame counts, and\r\n\t * the images have not been fully loaded.\r\n\t * @method getNumFrames\r\n\t * @param {String} animation The name of the animation to get a frame count for.\r\n\t * @return {Number} The number of frames in the animation, or in the entire sprite sheet if the animation param is omitted.\r\n\t */\r\n\tp.getNumFrames = function(animation) {\r\n\t\tif (animation == null) {\r\n\t\t\treturn this._frames ? this._frames.length : this._numFrames || 0;\r\n\t\t} else {\r\n\t\t\tvar data = this._data[animation];\r\n\t\t\tif (data == null) { return 0; }\r\n\t\t\telse { return data.frames.length; }\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an object defining the specified animation. The returned object contains:<UL>\r\n\t * \t<li>frames: an array of the frame ids in the animation</li>\r\n\t * \t<li>speed: the playback speed for this animation</li>\r\n\t * \t<li>name: the name of the animation</li>\r\n\t * \t<li>next: the default animation to play next. If the animation loops, the name and next property will be the\r\n\t * \tsame.</li>\r\n\t * </UL>\r\n\t * @method getAnimation\r\n\t * @param {String} name The name of the animation to get.\r\n\t * @return {Object} a generic object with frames, speed, name, and next properties.\r\n\t **/\r\n\tp.getAnimation = function(name) {\r\n\t\treturn this._data[name];\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an object specifying the image and source rect of the specified frame. The returned object has:<UL>\r\n\t * \t<li>an image property holding a reference to the image object in which the frame is found</li>\r\n\t * \t<li>a rect property containing a Rectangle instance which defines the boundaries for the frame within that\r\n\t * \timage.</li>\r\n\t * \t<li> A regX and regY property corresponding to the regX/Y values for the frame.\r\n\t * </UL>\r\n\t * @method getFrame\r\n\t * @param {Number} frameIndex The index of the frame.\r\n\t * @return {Object} a generic object with image and rect properties. Returns null if the frame does not exist.\r\n\t **/\r\n\tp.getFrame = function(frameIndex) {\r\n\t\tvar frame;\r\n\t\tif (this._frames && (frame=this._frames[frameIndex])) { return frame; }\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a {{#crossLink \"Rectangle\"}}{{/crossLink}} instance defining the bounds of the specified frame relative\r\n\t * to the origin. For example, a 90 x 70 frame with a regX of 50 and a regY of 40 would return:\r\n\t *\r\n\t * \t[x=-50, y=-40, width=90, height=70]\r\n\t *\r\n\t * @method getFrameBounds\r\n\t * @param {Number} frameIndex The index of the frame.\r\n\t * @param {Rectangle} [rectangle] A Rectangle instance to copy the values into. By default a new instance is created.\r\n\t * @return {Rectangle} A Rectangle instance. Returns null if the frame does not exist, or the image is not fully loaded.\r\n\t **/\r\n\tp.getFrameBounds = function(frameIndex, rectangle) {\r\n\t\tvar frame = this.getFrame(frameIndex);\r\n\t\treturn frame ? (rectangle||new createjs.Rectangle()).setValues(-frame.regX, -frame.regY, frame.rect.width, frame.rect.height) : null;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[SpriteSheet]\";\r\n\t};\r\n\r\n\t/**\r\n\t * SpriteSheet cannot be cloned. A SpriteSheet can be shared by multiple Sprite instances without cloning it.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tthrow(\"SpriteSheet cannot be cloned.\")\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _parseData\r\n\t * @param {Object} data An object describing the SpriteSheet data.\r\n\t * @protected\r\n\t **/\r\n\tp._parseData = function(data) {\r\n\t\tvar i,l,o,a;\r\n\t\tif (data == null) { return; }\r\n\r\n\t\tthis.framerate = data.framerate||0;\r\n\r\n\t\t// parse images:\r\n\t\tif (data.images && (l=data.images.length) > 0) {\r\n\t\t\ta = this._images = [];\r\n\t\t\tfor (i=0; i<l; i++) {\r\n\t\t\t\tvar img = data.images[i];\r\n\t\t\t\tif (typeof img == \"string\") {\r\n\t\t\t\t\tvar src = img;\r\n\t\t\t\t\timg = document.createElement(\"img\");\r\n\t\t\t\t\timg.src = src;\r\n\t\t\t\t}\r\n\t\t\t\ta.push(img);\r\n\t\t\t\tif (!img.getContext && !img.naturalWidth) {\r\n\t\t\t\t\tthis._loadCount++;\r\n\t\t\t\t\tthis.complete = false;\r\n\t\t\t\t\t(function(o, src) { img.onload = function() { o._handleImageLoad(src); } })(this, src);\r\n\t\t\t\t\t(function(o, src) { img.onerror = function() { o._handleImageError(src); } })(this, src);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// parse frames:\r\n\t\tif (data.frames == null) { // nothing\r\n\t\t} else if (Array.isArray(data.frames)) {\r\n\t\t\tthis._frames = [];\r\n\t\t\ta = data.frames;\r\n\t\t\tfor (i=0,l=a.length;i<l;i++) {\r\n\t\t\t\tvar arr = a[i];\r\n\t\t\t\tthis._frames.push({image:this._images[arr[4]?arr[4]:0], rect:new createjs.Rectangle(arr[0],arr[1],arr[2],arr[3]), regX:arr[5]||0, regY:arr[6]||0 });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\to = data.frames;\r\n\t\t\tthis._frameWidth = o.width;\r\n\t\t\tthis._frameHeight = o.height;\r\n\t\t\tthis._regX = o.regX||0;\r\n\t\t\tthis._regY = o.regY||0;\r\n\t\t\tthis._spacing = o.spacing||0;\r\n\t\t\tthis._margin = o.margin||0;\r\n\t\t\tthis._numFrames = o.count;\r\n\t\t\tif (this._loadCount == 0) { this._calculateFrames(); }\r\n\t\t}\r\n\r\n\t\t// parse animations:\r\n\t\tthis._animations = [];\r\n\t\tif ((o=data.animations) != null) {\r\n\t\t\tthis._data = {};\r\n\t\t\tvar name;\r\n\t\t\tfor (name in o) {\r\n\t\t\t\tvar anim = {name:name};\r\n\t\t\t\tvar obj = o[name];\r\n\t\t\t\tif (typeof obj == \"number\") { // single frame\r\n\t\t\t\t\ta = anim.frames = [obj];\r\n\t\t\t\t} else if (Array.isArray(obj)) { // simple\r\n\t\t\t\t\tif (obj.length == 1) { anim.frames = [obj[0]]; }\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tanim.speed = obj[3];\r\n\t\t\t\t\t\tanim.next = obj[2];\r\n\t\t\t\t\t\ta = anim.frames = [];\r\n\t\t\t\t\t\tfor (i=obj[0];i<=obj[1];i++) {\r\n\t\t\t\t\t\t\ta.push(i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else { // complex\r\n\t\t\t\t\tanim.speed = obj.speed;\r\n\t\t\t\t\tanim.next = obj.next;\r\n\t\t\t\t\tvar frames = obj.frames;\r\n\t\t\t\t\ta = anim.frames = (typeof frames == \"number\") ? [frames] : frames.slice(0);\r\n\t\t\t\t}\r\n\t\t\t\tif (anim.next === true || anim.next === undefined) { anim.next = name; } // loop\r\n\t\t\t\tif (anim.next === false || (a.length < 2 && anim.next == name)) { anim.next = null; } // stop\r\n\t\t\t\tif (!anim.speed) { anim.speed = 1; }\r\n\t\t\t\tthis._animations.push(name);\r\n\t\t\t\tthis._data[name] = anim;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleImageLoad\r\n\t * @protected\r\n\t **/\r\n\tp._handleImageLoad = function(src) {\r\n\t\tif (--this._loadCount == 0) {\r\n\t\t\tthis._calculateFrames();\r\n\t\t\tthis.complete = true;\r\n\t\t\tthis.dispatchEvent(\"complete\");\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleImageError\r\n\t * @protected\r\n\t */\r\n\tp._handleImageError = function (src) {\r\n\t\tvar errorEvent = new createjs.Event(\"error\");\r\n\t\terrorEvent.src = src;\r\n\t\tthis.dispatchEvent(errorEvent);\r\n\r\n\t\t// Complete is still dispatched.\r\n\t\tif (--this._loadCount == 0) {\r\n\t\t\tthis.dispatchEvent(\"complete\");\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _calculateFrames\r\n\t * @protected\r\n\t **/\r\n\tp._calculateFrames = function() {\r\n\t\tif (this._frames || this._frameWidth == 0) { return; }\r\n\r\n\t\tthis._frames = [];\r\n\r\n\t\tvar maxFrames = this._numFrames || 100000; // if we go over this, something is wrong.\r\n\t\tvar frameCount = 0, frameWidth = this._frameWidth, frameHeight = this._frameHeight;\r\n\t\tvar spacing = this._spacing, margin = this._margin;\r\n\t\t\r\n\t\timgLoop:\r\n\t\tfor (var i=0, imgs=this._images; i<imgs.length; i++) {\r\n\t\t\tvar img = imgs[i], imgW = (img.width||img.naturalWidth), imgH = (img.height||img.naturalHeight);\r\n\r\n\t\t\tvar y = margin;\r\n\t\t\twhile (y <= imgH-margin-frameHeight) {\r\n\t\t\t\tvar x = margin;\r\n\t\t\t\twhile (x <= imgW-margin-frameWidth) {\r\n\t\t\t\t\tif (frameCount >= maxFrames) { break imgLoop; }\r\n\t\t\t\t\tframeCount++;\r\n\t\t\t\t\tthis._frames.push({\r\n\t\t\t\t\t\t\timage: img,\r\n\t\t\t\t\t\t\trect: new createjs.Rectangle(x, y, frameWidth, frameHeight),\r\n\t\t\t\t\t\t\tregX: this._regX,\r\n\t\t\t\t\t\t\tregY: this._regY\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tx += frameWidth+spacing;\r\n\t\t\t\t}\r\n\t\t\t\ty += frameHeight+spacing;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._numFrames = frameCount;\r\n\t};\r\n\r\n\r\n\tcreatejs.SpriteSheet = createjs.promote(SpriteSheet, \"EventDispatcher\");\r\n}());\r\n\r\n//##############################################################################\r\n// Graphics.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The Graphics class exposes an easy to use API for generating vector drawing instructions and drawing them to a\r\n\t * specified context. Note that you can use Graphics without any dependency on the EaselJS framework by calling {{#crossLink \"Graphics/draw\"}}{{/crossLink}}\r\n\t * directly, or it can be used with the {{#crossLink \"Shape\"}}{{/crossLink}} object to draw vector graphics within the\r\n\t * context of an EaselJS display list.\r\n\t *\r\n\t * There are two approaches to working with Graphics object: calling methods on a Graphics instance (the \"Graphics API\"), or\r\n\t * instantiating Graphics command objects and adding them to the graphics queue via {{#crossLink \"Graphics/append\"}}{{/crossLink}}.\r\n\t * The former abstracts the latter, simplifying beginning and ending paths, fills, and strokes.\r\n\t *\r\n\t *      var g = new createjs.Graphics();\r\n\t *      g.setStrokeStyle(1);\r\n\t *      g.beginStroke(\"#000000\");\r\n\t *      g.beginFill(\"red\");\r\n\t *      g.drawCircle(0,0,30);\r\n\t *\r\n\t * All drawing methods in Graphics return the Graphics instance, so they can be chained together. For example,\r\n\t * the following line of code would generate the instructions to draw a rectangle with a red stroke and blue fill:\r\n\t *\r\n\t *      myGraphics.beginStroke(\"red\").beginFill(\"blue\").drawRect(20, 20, 100, 50);\r\n\t *\r\n\t * Each graphics API call generates a command object (see below). The last command to be created can be accessed via\r\n\t * {{#crossLink \"Graphics/command:property\"}}{{/crossLink}}:\r\n\t *\r\n\t *      var fillCommand = myGraphics.beginFill(\"red\").command;\r\n\t *      // ... later, update the fill style/color:\r\n\t *      fillCommand.style = \"blue\";\r\n\t *      // or change it to a bitmap fill:\r\n\t *      fillCommand.bitmap(myImage);\r\n\t *\r\n\t * For more direct control of rendering, you can instantiate and append command objects to the graphics queue directly. In this case, you\r\n\t * need to manage path creation manually, and ensure that fill/stroke is applied to a defined path:\r\n\t *\r\n\t *      // start a new path. Graphics.beginCmd is a reusable BeginPath instance:\r\n\t *      myGraphics.append(createjs.Graphics.beginCmd);\r\n\t *      // we need to define the path before applying the fill:\r\n\t *      var circle = new createjs.Graphics.Circle(0,0,30);\r\n\t *      myGraphics.append(circle);\r\n\t *      // fill the path we just defined:\r\n\t *      var fill = new createjs.Graphics.Fill(\"red\");\r\n\t *      myGraphics.append(fill);\r\n\t *\r\n\t * These approaches can be used together, for example to insert a custom command:\r\n\t *\r\n\t *      myGraphics.beginFill(\"red\");\r\n\t *      var customCommand = new CustomSpiralCommand(etc);\r\n\t *      myGraphics.append(customCommand);\r\n\t *      myGraphics.beginFill(\"blue\");\r\n\t *      myGraphics.drawCircle(0, 0, 30);\r\n\t *\r\n\t * See {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more info on creating custom commands.\r\n\t *\r\n\t * <h4>Tiny API</h4>\r\n\t * The Graphics class also includes a \"tiny API\", which is one or two-letter methods that are shortcuts for all of the\r\n\t * Graphics methods. These methods are great for creating compact instructions, and is used by the Toolkit for CreateJS\r\n\t * to generate readable code. All tiny methods are marked as protected, so you can view them by enabling protected\r\n\t * descriptions in the docs.\r\n\t *\r\n\t * <table>\r\n\t *     <tr><td><b>Tiny</b></td><td><b>Method</b></td><td><b>Tiny</b></td><td><b>Method</b></td></tr>\r\n\t *     <tr><td>mt</td><td>{{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} </td>\r\n\t *     <td>lt</td> <td>{{#crossLink \"Graphics/lineTo\"}}{{/crossLink}}</td></tr>\r\n\t *     <tr><td>a/at</td><td>{{#crossLink \"Graphics/arc\"}}{{/crossLink}} / {{#crossLink \"Graphics/arcTo\"}}{{/crossLink}} </td>\r\n\t *     <td>bt</td><td>{{#crossLink \"Graphics/bezierCurveTo\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>qt</td><td>{{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}} (also curveTo)</td>\r\n\t *     <td>r</td><td>{{#crossLink \"Graphics/rect\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>cp</td><td>{{#crossLink \"Graphics/closePath\"}}{{/crossLink}} </td>\r\n\t *     <td>c</td><td>{{#crossLink \"Graphics/clear\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>f</td><td>{{#crossLink \"Graphics/beginFill\"}}{{/crossLink}} </td>\r\n\t *     <td>lf</td><td>{{#crossLink \"Graphics/beginLinearGradientFill\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>rf</td><td>{{#crossLink \"Graphics/beginRadialGradientFill\"}}{{/crossLink}} </td>\r\n\t *     <td>bf</td><td>{{#crossLink \"Graphics/beginBitmapFill\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>ef</td><td>{{#crossLink \"Graphics/endFill\"}}{{/crossLink}} </td>\r\n\t *     <td>ss / sd</td><td>{{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} / {{#crossLink \"Graphics/setStrokeDash\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>s</td><td>{{#crossLink \"Graphics/beginStroke\"}}{{/crossLink}} </td>\r\n\t *     <td>ls</td><td>{{#crossLink \"Graphics/beginLinearGradientStroke\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>rs</td><td>{{#crossLink \"Graphics/beginRadialGradientStroke\"}}{{/crossLink}} </td>\r\n\t *     <td>bs</td><td>{{#crossLink \"Graphics/beginBitmapStroke\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>es</td><td>{{#crossLink \"Graphics/endStroke\"}}{{/crossLink}} </td>\r\n\t *     <td>dr</td><td>{{#crossLink \"Graphics/drawRect\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>rr</td><td>{{#crossLink \"Graphics/drawRoundRect\"}}{{/crossLink}} </td>\r\n\t *     <td>rc</td><td>{{#crossLink \"Graphics/drawRoundRectComplex\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>dc</td><td>{{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}} </td>\r\n\t *     <td>de</td><td>{{#crossLink \"Graphics/drawEllipse\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>dp</td><td>{{#crossLink \"Graphics/drawPolyStar\"}}{{/crossLink}} </td>\r\n\t *     <td>p</td><td>{{#crossLink \"Graphics/decodePath\"}}{{/crossLink}} </td></tr>\r\n\t * </table>\r\n\t *\r\n\t * Here is the above example, using the tiny API instead.\r\n\t *\r\n\t *      myGraphics.s(\"red\").f(\"blue\").r(20, 20, 100, 50);\r\n\t *\r\n\t * @class Graphics\r\n\t * @constructor\r\n\t **/\r\n\tfunction Graphics() {\r\n\r\n\r\n\t// public properties\r\n\t\t/**\r\n\t\t * Holds a reference to the last command that was created or appended. For example, you could retain a reference\r\n\t\t * to a Fill command in order to dynamically update the color later by using:\r\n\t\t *\r\n\t\t * \t\tvar myFill = myGraphics.beginFill(\"red\").command;\r\n\t\t * \t\t// update color later:\r\n\t\t * \t\tmyFill.style = \"yellow\";\r\n\t\t *\r\n\t\t * @property command\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis.command = null;\r\n\r\n\r\n\t// private properties\r\n\t\t/**\r\n\t\t * @property _stroke\r\n\t\t * @protected\r\n\t\t * @type {Stroke}\r\n\t\t **/\r\n\t\tthis._stroke = null;\r\n\r\n\t\t/**\r\n\t\t * @property _strokeStyle\r\n\t\t * @protected\r\n\t\t * @type {StrokeStyle}\r\n\t\t **/\r\n\t\tthis._strokeStyle = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _oldStrokeStyle\r\n\t\t * @protected\r\n\t\t * @type {StrokeStyle}\r\n\t\t **/\r\n\t\tthis._oldStrokeStyle = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _strokeDash\r\n\t\t * @protected\r\n\t\t * @type {StrokeDash}\r\n\t\t **/\r\n\t\tthis._strokeDash = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _oldStrokeDash\r\n\t\t * @protected\r\n\t\t * @type {StrokeDash}\r\n\t\t **/\r\n\t\tthis._oldStrokeDash = null;\r\n\r\n\t\t/**\r\n\t\t * @property _strokeIgnoreScale\r\n\t\t * @protected\r\n\t\t * @type Boolean\r\n\t\t **/\r\n\t\tthis._strokeIgnoreScale = false;\r\n\r\n\t\t/**\r\n\t\t * @property _fill\r\n\t\t * @protected\r\n\t\t * @type {Fill}\r\n\t\t **/\r\n\t\tthis._fill = null;\r\n\r\n\t\t/**\r\n\t\t * @property _instructions\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t **/\r\n\t\tthis._instructions = [];\r\n\r\n\t\t/**\r\n\t\t * Indicates the last instruction index that was committed.\r\n\t\t * @property _commitIndex\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t **/\r\n\t\tthis._commitIndex = 0;\r\n\r\n\t\t/**\r\n\t\t * Uncommitted instructions.\r\n\t\t * @property _activeInstructions\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t **/\r\n\t\tthis._activeInstructions = [];\r\n\r\n\t\t/**\r\n\t\t * This indicates that there have been changes to the activeInstruction list since the last updateInstructions call.\r\n\t\t * @property _dirty\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis._dirty = false;\r\n\r\n\t\t/**\r\n\t\t * Index to draw from if a store operation has happened.\r\n\t\t * @property _storeIndex\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._storeIndex = 0;\r\n\r\n\t// setup:\r\n\t\tthis.clear();\r\n\t}\r\n\tvar p = Graphics.prototype;\r\n\tvar G = Graphics; // shortcut\r\n\r\n// static public methods:\r\n\t/**\r\n\t * Returns a CSS compatible color string based on the specified RGB numeric color values in the format\r\n\t * \"rgba(255,255,255,1.0)\", or if alpha is null then in the format \"rgb(255,255,255)\". For example,\r\n\t *\r\n\t *      createjs.Graphics.getRGB(50, 100, 150, 0.5);\r\n\t *      // Returns \"rgba(50,100,150,0.5)\"\r\n\t *\r\n\t * It also supports passing a single hex color value as the first param, and an optional alpha value as the second\r\n\t * param. For example,\r\n\t *\r\n\t *      createjs.Graphics.getRGB(0xFF00FF, 0.2);\r\n\t *      // Returns \"rgba(255,0,255,0.2)\"\r\n\t *\r\n\t * @method getRGB\r\n\t * @static\r\n\t * @param {Number} r The red component for the color, between 0 and 0xFF (255).\r\n\t * @param {Number} g The green component for the color, between 0 and 0xFF (255).\r\n\t * @param {Number} b The blue component for the color, between 0 and 0xFF (255).\r\n\t * @param {Number} [alpha] The alpha component for the color where 0 is fully transparent and 1 is fully opaque.\r\n\t * @return {String} A CSS compatible color string based on the specified RGB numeric color values in the format\r\n\t * \"rgba(255,255,255,1.0)\", or if alpha is null then in the format \"rgb(255,255,255)\".\r\n\t **/\r\n\tGraphics.getRGB = function(r, g, b, alpha) {\r\n\t\tif (r != null && b == null) {\r\n\t\t\talpha = g;\r\n\t\t\tb = r&0xFF;\r\n\t\t\tg = r>>8&0xFF;\r\n\t\t\tr = r>>16&0xFF;\r\n\t\t}\r\n\t\tif (alpha == null) {\r\n\t\t\treturn \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n\t\t} else {\r\n\t\t\treturn \"rgba(\"+r+\",\"+g+\",\"+b+\",\"+alpha+\")\";\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a CSS compatible color string based on the specified HSL numeric color values in the format \"hsla(360,100,100,1.0)\",\r\n\t * or if alpha is null then in the format \"hsl(360,100,100)\".\r\n\t *\r\n\t *      createjs.Graphics.getHSL(150, 100, 70);\r\n\t *      // Returns \"hsl(150,100,70)\"\r\n\t *\r\n\t * @method getHSL\r\n\t * @static\r\n\t * @param {Number} hue The hue component for the color, between 0 and 360.\r\n\t * @param {Number} saturation The saturation component for the color, between 0 and 100.\r\n\t * @param {Number} lightness The lightness component for the color, between 0 and 100.\r\n\t * @param {Number} [alpha] The alpha component for the color where 0 is fully transparent and 1 is fully opaque.\r\n\t * @return {String} A CSS compatible color string based on the specified HSL numeric color values in the format\r\n\t * \"hsla(360,100,100,1.0)\", or if alpha is null then in the format \"hsl(360,100,100)\".\r\n\t **/\r\n\tGraphics.getHSL = function(hue, saturation, lightness, alpha) {\r\n\t\tif (alpha == null) {\r\n\t\t\treturn \"hsl(\"+(hue%360)+\",\"+saturation+\"%,\"+lightness+\"%)\";\r\n\t\t} else {\r\n\t\t\treturn \"hsla(\"+(hue%360)+\",\"+saturation+\"%,\"+lightness+\"%,\"+alpha+\")\";\r\n\t\t}\r\n\t};\r\n\r\n\r\n// static properties:\r\n\t/**\r\n\t * A reusable instance of {{#crossLink \"Graphics/BeginPath\"}}{{/crossLink}} to avoid\r\n\t * unnecessary instantiation.\r\n\t * @property beginCmd\r\n\t * @type {Graphics.BeginPath}\r\n\t * @static\r\n\t **/\r\n\t // defined at the bottom of this file.\r\n\r\n\t/**\r\n\t * Map of Base64 characters to values. Used by {{#crossLink \"Graphics/decodePath\"}}{{/crossLink}}.\r\n\t * @property BASE_64\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @type {Object}\r\n\t **/\r\n\tGraphics.BASE_64 = {\"A\":0,\"B\":1,\"C\":2,\"D\":3,\"E\":4,\"F\":5,\"G\":6,\"H\":7,\"I\":8,\"J\":9,\"K\":10,\"L\":11,\"M\":12,\"N\":13,\"O\":14,\"P\":15,\"Q\":16,\"R\":17,\"S\":18,\"T\":19,\"U\":20,\"V\":21,\"W\":22,\"X\":23,\"Y\":24,\"Z\":25,\"a\":26,\"b\":27,\"c\":28,\"d\":29,\"e\":30,\"f\":31,\"g\":32,\"h\":33,\"i\":34,\"j\":35,\"k\":36,\"l\":37,\"m\":38,\"n\":39,\"o\":40,\"p\":41,\"q\":42,\"r\":43,\"s\":44,\"t\":45,\"u\":46,\"v\":47,\"w\":48,\"x\":49,\"y\":50,\"z\":51,\"0\":52,\"1\":53,\"2\":54,\"3\":55,\"4\":56,\"5\":57,\"6\":58,\"7\":59,\"8\":60,\"9\":61,\"+\":62,\"/\":63};\r\n\r\n\t/**\r\n\t * Maps numeric values for the caps parameter of {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} to\r\n\t * corresponding string values. This is primarily for use with the tiny API. The mappings are as follows: 0 to\r\n\t * \"butt\", 1 to \"round\", and 2 to \"square\".\r\n\t * For example, to set the line caps to \"square\":\r\n\t *\r\n\t *      myGraphics.ss(16, 2);\r\n\t *\r\n\t * @property STROKE_CAPS_MAP\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @type {Array}\r\n\t **/\r\n\tGraphics.STROKE_CAPS_MAP = [\"butt\", \"round\", \"square\"];\r\n\r\n\t/**\r\n\t * Maps numeric values for the joints parameter of {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} to\r\n\t * corresponding string values. This is primarily for use with the tiny API. The mappings are as follows: 0 to\r\n\t * \"miter\", 1 to \"round\", and 2 to \"bevel\".\r\n\t * For example, to set the line joints to \"bevel\":\r\n\t *\r\n\t *      myGraphics.ss(16, 0, 2);\r\n\t *\r\n\t * @property STROKE_JOINTS_MAP\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @type {Array}\r\n\t **/\r\n\tGraphics.STROKE_JOINTS_MAP = [\"miter\", \"round\", \"bevel\"];\r\n\r\n\t/**\r\n\t * @property _ctx\r\n\t * @static\r\n\t * @protected\r\n\t * @type {CanvasRenderingContext2D}\r\n\t **/\r\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\r\n\tif (canvas.getContext) {\r\n\t\tGraphics._ctx = canvas.getContext(\"2d\");\r\n\t\tcanvas.width = canvas.height = 1;\r\n\t}\r\n\r\n\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"Graphics/instructions:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getInstructions\r\n\t * @protected\r\n\t * @return {Array} The instructions array, useful for chaining\r\n\t **/\r\n\tp._getInstructions = function() {\r\n\t\tthis._updateInstructions();\r\n\t\treturn this._instructions;\r\n\t};\r\n\t// Graphics.getInstructions is @deprecated. Remove for 1.1+\r\n\tp.getInstructions = createjs.deprecate(p._getInstructions, \"Graphics.getInstructions\");\r\n\r\n\t/**\r\n\t * Returns the graphics instructions array. Each entry is a graphics command object (ex. Graphics.Fill, Graphics.Rect)\r\n\t * Modifying the returned array directly is not recommended, and is likely to result in unexpected behaviour.\r\n\t *\r\n\t * This property is mainly intended for introspection of the instructions (ex. for graphics export).\r\n\t * @property instructions\r\n\t * @type {Array}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tinstructions: { get: p._getInstructions }\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true if this Graphics instance has no drawing commands.\r\n\t * @method isEmpty\r\n\t * @return {Boolean} Returns true if this Graphics instance has no drawing commands.\r\n\t **/\r\n\tp.isEmpty = function() {\r\n\t\treturn !(this._instructions.length || this._activeInstructions.length);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Object} data Optional data that is passed to graphics command exec methods. When called from a Shape instance, the shape passes itself as the data parameter. This can be used by custom graphic commands to insert contextual data.\r\n\t **/\r\n\tp.draw = function(ctx, data) {\r\n\t\tthis._updateInstructions();\r\n\t\tvar instr = this._instructions;\r\n\t\tfor (var i=this._storeIndex, l=instr.length; i<l; i++) {\r\n\t\t\tinstr[i].exec(ctx, data);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws only the path described for this Graphics instance, skipping any non-path instructions, including fill and\r\n\t * stroke descriptions. Used for <code>DisplayObject.mask</code> to draw the clipping path, for example.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method drawAsPath\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t **/\r\n\tp.drawAsPath = function(ctx) {\r\n\t\tthis._updateInstructions();\r\n\t\tvar instr, instrs = this._instructions;\r\n\t\tfor (var i=this._storeIndex, l=instrs.length; i<l; i++) {\r\n\t\t\t// the first command is always a beginPath command.\r\n\t\t\tif ((instr = instrs[i]).path !== false) { instr.exec(ctx); }\r\n\t\t}\r\n\t};\r\n\r\n\r\n// public methods that map directly to context 2D calls:\r\n\t/**\r\n\t * Moves the drawing point to the specified position. A tiny API method \"mt\" also exists.\r\n\t * @method moveTo\r\n\t * @param {Number} x The x coordinate the drawing point should move to.\r\n\t * @param {Number} y The y coordinate the drawing point should move to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls).\r\n\t * @chainable\r\n\t **/\r\n\tp.moveTo = function(x, y) {\r\n\t\treturn this.append(new G.MoveTo(x,y), true);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a line from the current drawing point to the specified position, which become the new current drawing\r\n\t * point. Note that you *must* call {{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} before the first `lineTo()`.\r\n\t * A tiny API method \"lt\" also exists.\r\n\t *\r\n\t * For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#complex-shapes-(paths)\">\r\n\t * whatwg spec</a>.\r\n\t * @method lineTo\r\n\t * @param {Number} x The x coordinate the drawing point should draw to.\r\n\t * @param {Number} y The y coordinate the drawing point should draw to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.lineTo = function(x, y) {\r\n\t\treturn this.append(new G.LineTo(x,y));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws an arc with the specified control points and radius.  For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-arcto\">\r\n\t * whatwg spec</a>. A tiny API method \"at\" also exists.\r\n\t * @method arcTo\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} x2\r\n\t * @param {Number} y2\r\n\t * @param {Number} radius\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.arcTo = function(x1, y1, x2, y2, radius) {\r\n\t\treturn this.append(new G.ArcTo(x1, y1, x2, y2, radius));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws an arc defined by the radius, startAngle and endAngle arguments, centered at the position (x, y). For\r\n\t * example, to draw a full circle with a radius of 20 centered at (100, 100):\r\n\t *\r\n\t *      arc(100, 100, 20, 0, Math.PI*2);\r\n\t *\r\n\t * For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-arc\">whatwg spec</a>.\r\n\t * A tiny API method \"a\" also exists.\r\n\t * @method arc\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} startAngle Measured in radians.\r\n\t * @param {Number} endAngle Measured in radians.\r\n\t * @param {Boolean} anticlockwise\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.arc = function(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n\t\treturn this.append(new G.Arc(x, y, radius, startAngle, endAngle, anticlockwise));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a quadratic curve from the current drawing point to (x, y) using the control point (cpx, cpy). For detailed\r\n\t * information, read the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-quadraticcurveto\">\r\n\t * whatwg spec</a>. A tiny API method \"qt\" also exists.\r\n\t * @method quadraticCurveTo\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.quadraticCurveTo = function(cpx, cpy, x, y) {\r\n\t\treturn this.append(new G.QuadraticCurveTo(cpx, cpy, x, y));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a bezier curve from the current drawing point to (x, y) using the control points (cp1x, cp1y) and (cp2x,\r\n\t * cp2y). For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-beziercurveto\">\r\n\t * whatwg spec</a>. A tiny API method \"bt\" also exists.\r\n\t * @method bezierCurveTo\r\n\t * @param {Number} cp1x\r\n\t * @param {Number} cp1y\r\n\t * @param {Number} cp2x\r\n\t * @param {Number} cp2y\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.bezierCurveTo = function(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n\t\treturn this.append(new G.BezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a rectangle at (x, y) with the specified width and height using the current fill and/or stroke.\r\n\t * For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-rect\">\r\n\t * whatwg spec</a>. A tiny API method \"r\" also exists.\r\n\t * @method rect\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.rect = function(x, y, w, h) {\r\n\t\treturn this.append(new G.Rect(x, y, w, h));\r\n\t};\r\n\r\n\t/**\r\n\t * Closes the current path, effectively drawing a line from the current drawing point to the first drawing point specified\r\n\t * since the fill or stroke was last set. A tiny API method \"cp\" also exists.\r\n\t * @method closePath\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.closePath = function() {\r\n\t\treturn this._activeInstructions.length ? this.append(new G.ClosePath()) : this;\r\n\t};\r\n\r\n\r\n// public methods that roughly map to Adobe Flash/Animate graphics APIs:\r\n\t/**\r\n\t * Clears all drawing instructions, effectively resetting this Graphics instance. Any line and fill styles will need\r\n\t * to be redefined to draw shapes following a clear call. A tiny API method \"c\" also exists.\r\n\t * @method clear\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.clear = function() {\r\n\t\tthis._instructions.length = this._activeInstructions.length = this._commitIndex = 0;\r\n\t\tthis._strokeStyle = this._oldStrokeStyle = this._stroke = this._fill = this._strokeDash = this._oldStrokeDash = null;\r\n\t\tthis._dirty = this._strokeIgnoreScale = false;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a fill with the specified color. This ends the current sub-path. A tiny API method \"f\" also exists.\r\n\t * @method beginFill\r\n\t * @param {String} color A CSS compatible color value (ex. \"red\", \"#FF0000\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no fill.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginFill = function(color) {\r\n\t\treturn this._setFill(color ? new G.Fill(color) : null);\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a linear gradient fill defined by the line (x0, y0) to (x1, y1). This ends the current sub-path. For\r\n\t * example, the following code defines a black to white vertical gradient ranging from 20px to 120px, and draws a\r\n\t * square to display it:\r\n\t *\r\n\t *      myGraphics.beginLinearGradientFill([\"#000\",\"#FFF\"], [0, 1], 0, 20, 0, 120).drawRect(20, 20, 120, 120);\r\n\t *\r\n\t * A tiny API method \"lf\" also exists.\r\n\t * @method beginLinearGradientFill\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define a gradient\r\n\t * drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1, 0.9] would draw\r\n\t * the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginLinearGradientFill = function(colors, ratios, x0, y0, x1, y1) {\r\n\t\treturn this._setFill(new G.Fill().linearGradient(colors, ratios, x0, y0, x1, y1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a radial gradient fill. This ends the current sub-path. For example, the following code defines a red to\r\n\t * blue radial gradient centered at (100, 100), with a radius of 50, and draws a circle to display it:\r\n\t *\r\n\t *      myGraphics.beginRadialGradientFill([\"#F00\",\"#00F\"], [0, 1], 100, 100, 0, 100, 100, 50).drawCircle(100, 100, 50);\r\n\t *\r\n\t * A tiny API method \"rf\" also exists.\r\n\t * @method beginRadialGradientFill\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginRadialGradientFill = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\r\n\t\treturn this._setFill(new G.Fill().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a pattern fill using the specified image. This ends the current sub-path. A tiny API method \"bf\" also\r\n\t * exists.\r\n\t * @method beginBitmapFill\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern. Must be loaded prior to creating a bitmap fill, or the fill will be empty.\r\n\t * @param {String} repetition Optional. Indicates whether to repeat the image in the fill area. One of \"repeat\",\r\n\t * \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\". Note that Firefox does not support \"repeat-x\" or\r\n\t * \"repeat-y\" (latest tests were in FF 20.0), and will default to \"repeat\".\r\n\t * @param {Matrix2D} matrix Optional. Specifies a transformation matrix for the bitmap fill. This transformation\r\n\t * will be applied relative to the parent transform.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginBitmapFill = function(image, repetition, matrix) {\r\n\t\treturn this._setFill(new G.Fill(null,matrix).bitmap(image, repetition));\r\n\t};\r\n\r\n\t/**\r\n\t * Ends the current sub-path, and begins a new one with no fill. Functionally identical to <code>beginFill(null)</code>.\r\n\t * A tiny API method \"ef\" also exists.\r\n\t * @method endFill\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.endFill = function() {\r\n\t\treturn this.beginFill();\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the stroke style. Like all drawing methods, this can be chained, so you can define\r\n\t * the stroke style and color in a single line of code like so:\r\n\t *\r\n\t * \tmyGraphics.setStrokeStyle(8,\"round\").beginStroke(\"#F00\");\r\n\t *\r\n\t * A tiny API method \"ss\" also exists.\r\n\t * @method setStrokeStyle\r\n\t * @param {Number} thickness The width of the stroke.\r\n\t * @param {String | Number} [caps=0] Indicates the type of caps to use at the end of lines. One of butt,\r\n\t * round, or square. Defaults to \"butt\". Also accepts the values 0 (butt), 1 (round), and 2 (square) for use with\r\n\t * the tiny API.\r\n\t * @param {String | Number} [joints=0] Specifies the type of joints that should be used where two lines meet.\r\n\t * One of bevel, round, or miter. Defaults to \"miter\". Also accepts the values 0 (miter), 1 (round), and 2 (bevel)\r\n\t * for use with the tiny API.\r\n\t * @param {Number} [miterLimit=10] If joints is set to \"miter\", then you can specify a miter limit ratio which\r\n\t * controls at what point a mitered joint will be clipped.\r\n\t * @param {Boolean} [ignoreScale=false] If true, the stroke will be drawn at the specified thickness regardless\r\n\t * of active transformations.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.setStrokeStyle = function(thickness, caps, joints, miterLimit, ignoreScale) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis._strokeStyle = this.command = new G.StrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\r\n\t\t// ignoreScale lives on Stroke, not StrokeStyle, so we do a little trickery:\r\n\t\tif (this._stroke) { this._stroke.ignoreScale = ignoreScale; }\r\n\t\tthis._strokeIgnoreScale = ignoreScale;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Sets or clears the stroke dash pattern.\r\n\t *\r\n\t * \tmyGraphics.setStrokeDash([20, 10], 0);\r\n\t *\r\n\t * A tiny API method `sd` also exists.\r\n\t * @method setStrokeDash\r\n\t * @param {Array} [segments] An array specifying the dash pattern, alternating between line and gap.\r\n\t * For example, `[20,10]` would create a pattern of 20 pixel lines with 10 pixel gaps between them.\r\n\t * Passing null or an empty array will clear the existing stroke dash.\r\n\t * @param {Number} [offset=0] The offset of the dash pattern. For example, you could increment this value to create a \"marching ants\" effect.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.setStrokeDash = function(segments, offset) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis._strokeDash = this.command = new G.StrokeDash(segments, offset);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a stroke with the specified color. This ends the current sub-path. A tiny API method \"s\" also exists.\r\n\t * @method beginStroke\r\n\t * @param {String} color A CSS compatible color value (ex. \"#FF0000\", \"red\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no stroke.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginStroke = function(color) {\r\n\t\treturn this._setStroke(color ? new G.Stroke(color) : null);\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a linear gradient stroke defined by the line (x0, y0) to (x1, y1). This ends the current sub-path. For\r\n\t * example, the following code defines a black to white vertical gradient ranging from 20px to 120px, and draws a\r\n\t * square to display it:\r\n\t *\r\n\t *      myGraphics.setStrokeStyle(10).\r\n\t *          beginLinearGradientStroke([\"#000\",\"#FFF\"], [0, 1], 0, 20, 0, 120).drawRect(20, 20, 120, 120);\r\n\t *\r\n\t * A tiny API method \"ls\" also exists.\r\n\t * @method beginLinearGradientStroke\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginLinearGradientStroke = function(colors, ratios, x0, y0, x1, y1) {\r\n\t\treturn this._setStroke(new G.Stroke().linearGradient(colors, ratios, x0, y0, x1, y1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a radial gradient stroke. This ends the current sub-path. For example, the following code defines a red to\r\n\t * blue radial gradient centered at (100, 100), with a radius of 50, and draws a rectangle to display it:\r\n\t *\r\n\t *      myGraphics.setStrokeStyle(10)\r\n\t *          .beginRadialGradientStroke([\"#F00\",\"#00F\"], [0, 1], 100, 100, 0, 100, 100, 50)\r\n\t *          .drawRect(50, 90, 150, 110);\r\n\t *\r\n\t * A tiny API method \"rs\" also exists.\r\n\t * @method beginRadialGradientStroke\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%, then draw the second color\r\n\t * to 100%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginRadialGradientStroke = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\r\n\t\treturn this._setStroke(new G.Stroke().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a pattern fill using the specified image. This ends the current sub-path. Note that unlike bitmap fills,\r\n\t * strokes do not currently support a matrix parameter due to limitations in the canvas API. A tiny API method \"bs\"\r\n\t * also exists.\r\n\t * @method beginBitmapStroke\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern. Must be loaded prior to creating a bitmap fill, or the fill will be empty.\r\n\t * @param {String} [repetition=repeat] Optional. Indicates whether to repeat the image in the fill area. One of\r\n\t * \"repeat\", \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\".\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginBitmapStroke = function(image, repetition) {\r\n\t\t// NOTE: matrix is not supported for stroke because transforms on strokes also affect the drawn stroke width.\r\n\t\treturn this._setStroke(new G.Stroke().bitmap(image, repetition));\r\n\t};\r\n\r\n\t/**\r\n\t * Ends the current sub-path, and begins a new one with no stroke. Functionally identical to <code>beginStroke(null)</code>.\r\n\t * A tiny API method \"es\" also exists.\r\n\t * @method endStroke\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.endStroke = function() {\r\n\t\treturn this.beginStroke();\r\n\t};\r\n\r\n\t/**\r\n\t * Maps the familiar ActionScript <code>curveTo()</code> method to the functionally similar {{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method curveTo\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.curveTo = p.quadraticCurveTo;\r\n\r\n\t/**\r\n\t *\r\n\t * Maps the familiar ActionScript <code>drawRect()</code> method to the functionally similar {{#crossLink \"Graphics/rect\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method drawRect\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawRect = p.rect;\r\n\r\n\t/**\r\n\t * Draws a rounded rectangle with all corners with the specified radius.\r\n\t * @method drawRoundRect\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t * @param {Number} radius Corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawRoundRect = function(x, y, w, h, radius) {\r\n\t\treturn this.drawRoundRectComplex(x, y, w, h, radius, radius, radius, radius);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a rounded rectangle with different corner radii. Supports positive and negative corner radii. A tiny API\r\n\t * method \"rc\" also exists.\r\n\t * @method drawRoundRectComplex\r\n\t * @param {Number} x The horizontal coordinate to draw the round rect.\r\n\t * @param {Number} y The vertical coordinate to draw the round rect.\r\n\t * @param {Number} w The width of the round rect.\r\n\t * @param {Number} h The height of the round rect.\r\n\t * @param {Number} radiusTL Top left corner radius.\r\n\t * @param {Number} radiusTR Top right corner radius.\r\n\t * @param {Number} radiusBR Bottom right corner radius.\r\n\t * @param {Number} radiusBL Bottom left corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawRoundRectComplex = function(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\r\n\t\treturn this.append(new G.RoundRect(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a circle with the specified radius at (x, y).\r\n\t *\r\n\t *      var g = new createjs.Graphics();\r\n\t *\t    g.setStrokeStyle(1);\r\n\t *\t    g.beginStroke(createjs.Graphics.getRGB(0,0,0));\r\n\t *\t    g.beginFill(createjs.Graphics.getRGB(255,0,0));\r\n\t *\t    g.drawCircle(0,0,3);\r\n\t *\r\n\t *\t    var s = new createjs.Shape(g);\r\n\t *\t\ts.x = 100;\r\n\t *\t\ts.y = 100;\r\n\t *\r\n\t *\t    stage.addChild(s);\r\n\t *\t    stage.update();\r\n\t *\r\n\t * A tiny API method \"dc\" also exists.\r\n\t * @method drawCircle\r\n\t * @param {Number} x x coordinate center point of circle.\r\n\t * @param {Number} y y coordinate center point of circle.\r\n\t * @param {Number} radius Radius of circle.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawCircle = function(x, y, radius) {\r\n\t\treturn this.append(new G.Circle(x, y, radius));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws an ellipse (oval) with a specified width (w) and height (h). Similar to {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}},\r\n\t * except the width and height can be different. A tiny API method \"de\" also exists.\r\n\t * @method drawEllipse\r\n\t * @param {Number} x The left coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from center.\r\n\t * @param {Number} y The top coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from the center.\r\n\t * @param {Number} w The height (horizontal diameter) of the ellipse. The horizontal radius will be half of this\r\n\t * number.\r\n\t * @param {Number} h The width (vertical diameter) of the ellipse. The vertical radius will be half of this number.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawEllipse = function(x, y, w, h) {\r\n\t\treturn this.append(new G.Ellipse(x, y, w, h));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a star if pointSize is greater than 0, or a regular polygon if pointSize is 0 with the specified number of\r\n\t * points. For example, the following code will draw a familiar 5 pointed star shape centered at 100, 100 and with a\r\n\t * radius of 50:\r\n\t *\r\n\t *      myGraphics.beginFill(\"#FF0\").drawPolyStar(100, 100, 50, 5, 0.6, -90);\r\n\t *      // Note: -90 makes the first point vertical\r\n\t *\r\n\t * A tiny API method \"dp\" also exists.\r\n\t *\r\n\t * @method drawPolyStar\r\n\t * @param {Number} x Position of the center of the shape.\r\n\t * @param {Number} y Position of the center of the shape.\r\n\t * @param {Number} radius The outer radius of the shape.\r\n\t * @param {Number} sides The number of points on the star or sides on the polygon.\r\n\t * @param {Number} pointSize The depth or \"pointy-ness\" of the star points. A pointSize of 0 will draw a regular\r\n\t * polygon (no points), a pointSize of 1 will draw nothing because the points are infinitely pointy.\r\n\t * @param {Number} angle The angle of the first point / corner. For example a value of 0 will draw the first point\r\n\t * directly to the right of the center.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawPolyStar = function(x, y, radius, sides, pointSize, angle) {\r\n\t\treturn this.append(new G.PolyStar(x, y, radius, sides, pointSize, angle));\r\n\t};\r\n\r\n\t/**\r\n\t * Appends a graphics command object to the graphics queue. Command objects expose an \"exec\" method\r\n\t * that accepts two parameters: the Context2D to operate on, and an arbitrary data object passed into\r\n\t * {{#crossLink \"Graphics/draw\"}}{{/crossLink}}. The latter will usually be the Shape instance that called draw.\r\n\t *\r\n\t * This method is used internally by Graphics methods, such as drawCircle, but can also be used directly to insert\r\n\t * built-in or custom graphics commands. For example:\r\n\t *\r\n\t * \t\t// attach data to our shape, so we can access it during the draw:\r\n\t * \t\tmyShape.color = \"red\";\r\n\t *\r\n\t * \t\t// append a Circle command object:\r\n\t * \t\tmyShape.graphics.append(new createjs.Graphics.Circle(50, 50, 30));\r\n\t *\r\n\t * \t\t// append a custom command object with an exec method that sets the fill style\r\n\t * \t\t// based on the shape's data, and then fills the circle.\r\n\t * \t\tmyShape.graphics.append({exec:function(ctx, shape) {\r\n\t * \t\t\tctx.fillStyle = shape.color;\r\n\t * \t\t\tctx.fill();\r\n\t * \t\t}});\r\n\t *\r\n\t * @method append\r\n\t * @param {Object} command A graphics command object exposing an \"exec\" method.\r\n\t * @param {boolean} clean The clean param is primarily for internal use. A value of true indicates that a command does not generate a path that should be stroked or filled.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.append = function(command, clean) {\r\n\t\tthis._activeInstructions.push(command);\r\n\t\tthis.command = command;\r\n\t\tif (!clean) { this._dirty = true; }\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Decodes a compact encoded path string into a series of draw instructions.\r\n\t * This format is not intended to be human readable, and is meant for use by authoring tools.\r\n\t * The format uses a base64 character set, with each character representing 6 bits, to define a series of draw\r\n\t * commands.\r\n\t *\r\n\t * Each command is comprised of a single \"header\" character followed by a variable number of alternating x and y\r\n\t * position values. Reading the header bits from left to right (most to least significant): bits 1 to 3 specify the\r\n\t * type of operation (0-moveTo, 1-lineTo, 2-quadraticCurveTo, 3-bezierCurveTo, 4-closePath, 5-7 unused). Bit 4\r\n\t * indicates whether position values use 12 bits (2 characters) or 18 bits (3 characters), with a one indicating the\r\n\t * latter. Bits 5 and 6 are currently unused.\r\n\t *\r\n\t * Following the header is a series of 0 (closePath), 2 (moveTo, lineTo), 4 (quadraticCurveTo), or 6 (bezierCurveTo)\r\n\t * parameters. These parameters are alternating x/y positions represented by 2 or 3 characters (as indicated by the\r\n\t * 4th bit in the command char). These characters consist of a 1 bit sign (1 is negative, 0 is positive), followed\r\n\t * by an 11 (2 char) or 17 (3 char) bit integer value. All position values are in tenths of a pixel. Except in the\r\n\t * case of move operations which are absolute, this value is a delta from the previous x or y position (as\r\n\t * appropriate).\r\n\t *\r\n\t * For example, the string \"A3cAAMAu4AAA\" represents a line starting at -150,0 and ending at 150,0.\r\n\t * <br />A - bits 000000. First 3 bits (000) indicate a moveTo operation. 4th bit (0) indicates 2 chars per\r\n\t * parameter.\r\n\t * <br />n0 - 110111011100. Absolute x position of -150.0px. First bit indicates a negative value, remaining bits\r\n\t * indicate 1500 tenths of a pixel.\r\n\t * <br />AA - 000000000000. Absolute y position of 0.\r\n\t * <br />I - 001100. First 3 bits (001) indicate a lineTo operation. 4th bit (1) indicates 3 chars per parameter.\r\n\t * <br />Au4 - 000000101110111000. An x delta of 300.0px, which is added to the previous x value of -150.0px to\r\n\t * provide an absolute position of +150.0px.\r\n\t * <br />AAA - 000000000000000000. A y delta value of 0.\r\n\t *\r\n\t * A tiny API method \"p\" also exists.\r\n\t * @method decodePath\r\n\t * @param {String} str The path string to decode.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.decodePath = function(str) {\r\n\t\tvar instructions = [this.moveTo, this.lineTo, this.quadraticCurveTo, this.bezierCurveTo, this.closePath];\r\n\t\tvar paramCount = [2, 2, 4, 6, 0];\r\n\t\tvar i=0, l=str.length;\r\n\t\tvar params = [];\r\n\t\tvar x=0, y=0;\r\n\t\tvar base64 = Graphics.BASE_64;\r\n\r\n\t\twhile (i<l) {\r\n\t\t\tvar c = str.charAt(i);\r\n\t\t\tvar n = base64[c];\r\n\t\t\tvar fi = n>>3; // highest order bits 1-3 code for operation.\r\n\t\t\tvar f = instructions[fi];\r\n\t\t\t// check that we have a valid instruction & that the unused bits are empty:\r\n\t\t\tif (!f || (n&3)) { throw(\"bad path data (@\"+i+\"): \"+c); }\r\n\t\t\tvar pl = paramCount[fi];\r\n\t\t\tif (!fi) { x=y=0; } // move operations reset the position.\r\n\t\t\tparams.length = 0;\r\n\t\t\ti++;\r\n\t\t\tvar charCount = (n>>2&1)+2;  // 4th header bit indicates number size for this operation.\r\n\t\t\tfor (var p=0; p<pl; p++) {\r\n\t\t\t\tvar num = base64[str.charAt(i)];\r\n\t\t\t\tvar sign = (num>>5) ? -1 : 1;\r\n\t\t\t\tnum = ((num&31)<<6)|(base64[str.charAt(i+1)]);\r\n\t\t\t\tif (charCount == 3) { num = (num<<6)|(base64[str.charAt(i+2)]); }\r\n\t\t\t\tnum = sign*num/10;\r\n\t\t\t\tif (p%2) { x = (num += x); }\r\n\t\t\t\telse { y = (num += y); }\r\n\t\t\t\tparams[p] = num;\r\n\t\t\t\ti += charCount;\r\n\t\t\t}\r\n\t\t\tf.apply(this,params);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Stores all graphics commands so they won't be executed in future draws. Calling store() a second time adds to\r\n\t * the existing store. This also affects `drawAsPath()`.\r\n\t *\r\n\t * This is useful in cases where you are creating vector graphics in an iterative manner (ex. generative art), so\r\n\t * that only new graphics need to be drawn (which can provide huge performance benefits), but you wish to retain all\r\n\t * of the vector instructions for later use (ex. scaling, modifying, or exporting).\r\n\t *\r\n\t * Note that calling store() will force the active path (if any) to be ended in a manner similar to changing\r\n\t * the fill or stroke.\r\n\t *\r\n\t * For example, consider a application where the user draws lines with the mouse. As each line segment (or collection of\r\n\t * segments) are added to a Shape, it can be rasterized using {{#crossLink \"DisplayObject/updateCache\"}}{{/crossLink}},\r\n\t * and then stored, so that it can be redrawn at a different scale when the application is resized, or exported to SVG.\r\n\t *\r\n\t * \t// set up cache:\r\n\t * \tmyShape.cache(0,0,500,500,scale);\r\n\t *\r\n\t * \t// when the user drags, draw a new line:\r\n\t * \tmyShape.graphics.moveTo(oldX,oldY).lineTo(newX,newY);\r\n\t * \t// then draw it into the existing cache:\r\n\t * \tmyShape.updateCache(\"source-over\");\r\n\t * \t// store the new line, so it isn't redrawn next time:\r\n\t * \tmyShape.store();\r\n\t *\r\n\t * \t// then, when the window resizes, we can re-render at a different scale:\r\n\t * \t// first, unstore all our lines:\r\n\t * \tmyShape.unstore();\r\n\t * \t// then cache using the new scale:\r\n\t * \tmyShape.cache(0,0,500,500,newScale);\r\n\t * \t// finally, store the existing commands again:\r\n\t * \tmyShape.store();\r\n\t *\r\n\t * @method store\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.store = function() {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis._storeIndex = this._instructions.length;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Unstores any graphics commands that were previously stored using {{#crossLink \"Graphics/store\"}}{{/crossLink}}\r\n\t * so that they will be executed in subsequent draw calls.\r\n\t *\r\n\t * @method unstore\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.unstore = function() {\r\n\t\tthis._storeIndex = 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Graphics instance. Note that the individual command objects are not cloned.\r\n\t * @method clone\r\n\t * @return {Graphics} A clone of the current Graphics instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tvar o = new Graphics();\r\n\t\to.command = this.command;\r\n\t\to._stroke = this._stroke;\r\n\t\to._strokeStyle = this._strokeStyle;\r\n\t\to._strokeDash = this._strokeDash;\r\n\t\to._strokeIgnoreScale = this._strokeIgnoreScale;\r\n\t\to._fill = this._fill;\r\n\t\to._instructions = this._instructions.slice();\r\n\t\to._commitIndex = this._commitIndex;\r\n\t\to._activeInstructions = this._activeInstructions.slice();\r\n\t\to._dirty = this._dirty;\r\n\t\to._storeIndex = this._storeIndex;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Graphics]\";\r\n\t};\r\n\r\n\r\n// tiny API:\r\n\t/**\r\n\t * Shortcut to moveTo.\r\n\t * @method mt\r\n\t * @param {Number} x The x coordinate the drawing point should move to.\r\n\t * @param {Number} y The y coordinate the drawing point should move to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls).\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.mt = p.moveTo;\r\n\r\n\t/**\r\n\t * Shortcut to lineTo.\r\n\t * @method lt\r\n\t * @param {Number} x The x coordinate the drawing point should draw to.\r\n\t * @param {Number} y The y coordinate the drawing point should draw to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.lt = p.lineTo;\r\n\r\n\t/**\r\n\t * Shortcut to arcTo.\r\n\t * @method at\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} x2\r\n\t * @param {Number} y2\r\n\t * @param {Number} radius\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.at = p.arcTo;\r\n\r\n\t/**\r\n\t * Shortcut to bezierCurveTo.\r\n\t * @method bt\r\n\t * @param {Number} cp1x\r\n\t * @param {Number} cp1y\r\n\t * @param {Number} cp2x\r\n\t * @param {Number} cp2y\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.bt = p.bezierCurveTo;\r\n\r\n\t/**\r\n\t * Shortcut to quadraticCurveTo / curveTo.\r\n\t * @method qt\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t * @chainable\r\n\t **/\r\n\tp.qt = p.quadraticCurveTo;\r\n\r\n\t/**\r\n\t * Shortcut to arc.\r\n\t * @method a\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} startAngle Measured in radians.\r\n\t * @param {Number} endAngle Measured in radians.\r\n\t * @param {Boolean} anticlockwise\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @protected\r\n\t * @chainable\r\n\t **/\r\n\tp.a = p.arc;\r\n\r\n\t/**\r\n\t * Shortcut to rect.\r\n\t * @method r\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.r = p.rect;\r\n\r\n\t/**\r\n\t * Shortcut to closePath.\r\n\t * @method cp\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.cp = p.closePath;\r\n\r\n\t/**\r\n\t * Shortcut to clear.\r\n\t * @method c\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.c = p.clear;\r\n\r\n\t/**\r\n\t * Shortcut to beginFill.\r\n\t * @method f\r\n\t * @param {String} color A CSS compatible color value (ex. \"red\", \"#FF0000\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no fill.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.f = p.beginFill;\r\n\r\n\t/**\r\n\t * Shortcut to beginLinearGradientFill.\r\n\t * @method lf\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define a gradient\r\n\t * drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1, 0.9] would draw\r\n\t * the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.lf = p.beginLinearGradientFill;\r\n\r\n\t/**\r\n\t * Shortcut to beginRadialGradientFill.\r\n\t * @method rf\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rf = p.beginRadialGradientFill;\r\n\r\n\t/**\r\n\t * Shortcut to beginBitmapFill.\r\n\t * @method bf\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern.\r\n\t * @param {String} repetition Optional. Indicates whether to repeat the image in the fill area. One of \"repeat\",\r\n\t * \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\". Note that Firefox does not support \"repeat-x\" or\r\n\t * \"repeat-y\" (latest tests were in FF 20.0), and will default to \"repeat\".\r\n\t * @param {Matrix2D} matrix Optional. Specifies a transformation matrix for the bitmap fill. This transformation\r\n\t * will be applied relative to the parent transform.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.bf = p.beginBitmapFill;\r\n\r\n\t/**\r\n\t * Shortcut to endFill.\r\n\t * @method ef\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.ef = p.endFill;\r\n\r\n\t/**\r\n\t * Shortcut to setStrokeStyle.\r\n\t * @method ss\r\n\t * @param {Number} thickness The width of the stroke.\r\n\t * @param {String | Number} [caps=0] Indicates the type of caps to use at the end of lines. One of butt,\r\n\t * round, or square. Defaults to \"butt\". Also accepts the values 0 (butt), 1 (round), and 2 (square) for use with\r\n\t * the tiny API.\r\n\t * @param {String | Number} [joints=0] Specifies the type of joints that should be used where two lines meet.\r\n\t * One of bevel, round, or miter. Defaults to \"miter\". Also accepts the values 0 (miter), 1 (round), and 2 (bevel)\r\n\t * for use with the tiny API.\r\n\t * @param {Number} [miterLimit=10] If joints is set to \"miter\", then you can specify a miter limit ratio which\r\n\t * controls at what point a mitered joint will be clipped.\r\n\t * @param {Boolean} [ignoreScale=false] If true, the stroke will be drawn at the specified thickness regardless\r\n\t * of active transformations.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.ss = p.setStrokeStyle;\r\n\t\r\n\t/**\r\n\t * Shortcut to setStrokeDash.\r\n\t * @method sd\r\n\t * @param {Array} [segments] An array specifying the dash pattern, alternating between line and gap.\r\n\t * For example, [20,10] would create a pattern of 20 pixel lines with 10 pixel gaps between them.\r\n\t * Passing null or an empty array will clear any existing dash.\r\n\t * @param {Number} [offset=0] The offset of the dash pattern. For example, you could increment this value to create a \"marching ants\" effect.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.sd = p.setStrokeDash;\r\n\r\n\t/**\r\n\t * Shortcut to beginStroke.\r\n\t * @method s\r\n\t * @param {String} color A CSS compatible color value (ex. \"#FF0000\", \"red\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no stroke.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.s = p.beginStroke;\r\n\r\n\t/**\r\n\t * Shortcut to beginLinearGradientStroke.\r\n\t * @method ls\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.ls = p.beginLinearGradientStroke;\r\n\r\n\t/**\r\n\t * Shortcut to beginRadialGradientStroke.\r\n\t * @method rs\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%, then draw the second color\r\n\t * to 100%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rs = p.beginRadialGradientStroke;\r\n\r\n\t/**\r\n\t * Shortcut to beginBitmapStroke.\r\n\t * @method bs\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern.\r\n\t * @param {String} [repetition=repeat] Optional. Indicates whether to repeat the image in the fill area. One of\r\n\t * \"repeat\", \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\".\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.bs = p.beginBitmapStroke;\r\n\r\n\t/**\r\n\t * Shortcut to endStroke.\r\n\t * @method es\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.es = p.endStroke;\r\n\r\n\t/**\r\n\t * Shortcut to drawRect.\r\n\t * @method dr\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.dr = p.drawRect;\r\n\r\n\t/**\r\n\t * Shortcut to drawRoundRect.\r\n\t * @method rr\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t * @param {Number} radius Corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rr = p.drawRoundRect;\r\n\r\n\t/**\r\n\t * Shortcut to drawRoundRectComplex.\r\n\t * @method rc\r\n\t * @param {Number} x The horizontal coordinate to draw the round rect.\r\n\t * @param {Number} y The vertical coordinate to draw the round rect.\r\n\t * @param {Number} w The width of the round rect.\r\n\t * @param {Number} h The height of the round rect.\r\n\t * @param {Number} radiusTL Top left corner radius.\r\n\t * @param {Number} radiusTR Top right corner radius.\r\n\t * @param {Number} radiusBR Bottom right corner radius.\r\n\t * @param {Number} radiusBL Bottom left corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rc = p.drawRoundRectComplex;\r\n\r\n\t/**\r\n\t * Shortcut to drawCircle.\r\n\t * @method dc\r\n\t * @param {Number} x x coordinate center point of circle.\r\n\t * @param {Number} y y coordinate center point of circle.\r\n\t * @param {Number} radius Radius of circle.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.dc = p.drawCircle;\r\n\r\n\t/**\r\n\t * Shortcut to drawEllipse.\r\n\t * @method de\r\n\t * @param {Number} x The left coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from center.\r\n\t * @param {Number} y The top coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from the center.\r\n\t * @param {Number} w The height (horizontal diameter) of the ellipse. The horizontal radius will be half of this\r\n\t * number.\r\n\t * @param {Number} h The width (vertical diameter) of the ellipse. The vertical radius will be half of this number.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.de = p.drawEllipse;\r\n\r\n\t/**\r\n\t * Shortcut to drawPolyStar.\r\n\t * @method dp\r\n\t * @param {Number} x Position of the center of the shape.\r\n\t * @param {Number} y Position of the center of the shape.\r\n\t * @param {Number} radius The outer radius of the shape.\r\n\t * @param {Number} sides The number of points on the star or sides on the polygon.\r\n\t * @param {Number} pointSize The depth or \"pointy-ness\" of the star points. A pointSize of 0 will draw a regular\r\n\t * polygon (no points), a pointSize of 1 will draw nothing because the points are infinitely pointy.\r\n\t * @param {Number} angle The angle of the first point / corner. For example a value of 0 will draw the first point\r\n\t * directly to the right of the center.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.dp = p.drawPolyStar;\r\n\r\n\t/**\r\n\t * Shortcut to decodePath.\r\n\t * @method p\r\n\t * @param {String} str The path string to decode.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.p = p.decodePath;\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _updateInstructions\r\n\t * @param commit\r\n\t * @protected\r\n\t **/\r\n\tp._updateInstructions = function(commit) {\r\n\t\tvar instr = this._instructions, active = this._activeInstructions, commitIndex = this._commitIndex;\r\n\r\n\t\tif (this._dirty && active.length) {\r\n\t\t\tinstr.length = commitIndex; // remove old, uncommitted commands\r\n\t\t\tinstr.push(Graphics.beginCmd);\r\n\r\n\t\t\tvar l = active.length, ll = instr.length;\r\n\t\t\tinstr.length = ll+l;\r\n\t\t\tfor (var i=0; i<l; i++) { instr[i+ll] = active[i]; }\r\n\r\n\t\t\tif (this._fill) { instr.push(this._fill); }\r\n\t\t\tif (this._stroke) {\r\n\t\t\t\t// doesn't need to be re-applied if it hasn't changed.\r\n\t\t\t\tif (this._strokeDash !== this._oldStrokeDash) {\r\n\t\t\t\t\tinstr.push(this._strokeDash);\r\n\t\t\t\t}\r\n\t\t\t\tif (this._strokeStyle !== this._oldStrokeStyle) {\r\n\t\t\t\t\tinstr.push(this._strokeStyle);\r\n\t\t\t\t}\r\n\t\t\t\tif (commit) {\r\n\t\t\t\t\tthis._oldStrokeStyle = this._strokeStyle;\r\n\t\t\t\t\tthis._oldStrokeDash = this._strokeDash;\r\n\t\t\t\t}\r\n\t\t\t\tinstr.push(this._stroke);\r\n\t\t\t}\r\n\r\n\t\t\tthis._dirty = false;\r\n\t\t}\r\n\r\n\t\tif (commit) {\r\n\t\t\tactive.length = 0;\r\n\t\t\tthis._commitIndex = instr.length;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setFill\r\n\t * @param fill\r\n\t * @protected\r\n\t **/\r\n\tp._setFill = function(fill) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis.command = this._fill = fill;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setStroke\r\n\t * @param stroke\r\n\t * @protected\r\n\t **/\r\n\tp._setStroke = function(stroke) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tif (this.command = this._stroke = stroke) {\r\n\t\t\tstroke.ignoreScale = this._strokeIgnoreScale;\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n// Command Objects:\r\n\t/**\r\n\t * @namespace Graphics\r\n\t */\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/lineTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information. See {{#crossLink \"Graphics\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class LineTo\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.LineTo = function(x, y) {\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.lineTo(this.x,this.y); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class MoveTo\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t */\r\n\t(G.MoveTo = function(x, y) {\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.moveTo(this.x, this.y); };\r\n\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/arcTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class ArcTo\r\n\t * @constructor\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} x2\r\n\t * @param {Number} y2\r\n\t * @param {Number} radius\r\n\t **/\r\n\t/**\r\n\t * @property x1\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y1\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property x2\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y2\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.ArcTo = function(x1, y1, x2, y2, radius) {\r\n\t\tthis.x1 = x1; this.y1 = y1;\r\n\t\tthis.x2 = x2; this.y2 = y2;\r\n\t\tthis.radius = radius;\r\n\t}).prototype.exec = function(ctx) { ctx.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/arc\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Arc\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} startAngle\r\n\t * @param {Number} endAngle\r\n\t * @param {Number} anticlockwise\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property startAngle\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property endAngle\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property anticlockwise\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Arc = function(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.radius = radius;\r\n\t\tthis.startAngle = startAngle; this.endAngle = endAngle;\r\n\t\tthis.anticlockwise = !!anticlockwise;\r\n\t}).prototype.exec = function(ctx) { ctx.arc(this.x, this.y, this.radius, this.startAngle, this.endAngle, this.anticlockwise); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class QuadraticCurveTo\r\n\t * @constructor\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property cpx\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cpy\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.QuadraticCurveTo = function(cpx, cpy, x, y) {\r\n\t\tthis.cpx = cpx; this.cpy = cpy;\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.quadraticCurveTo(this.cpx, this.cpy, this.x, this.y); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/bezierCurveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class BezierCurveTo\r\n\t * @constructor\r\n\t * @param {Number} cp1x\r\n\t * @param {Number} cp1y\r\n\t * @param {Number} cp2x\r\n\t * @param {Number} cp2y\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property cp1x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cp1y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cp2x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cp2y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.BezierCurveTo = function(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n\t\tthis.cp1x = cp1x; this.cp1y = cp1y;\r\n\t\tthis.cp2x = cp2x; this.cp2y = cp2y;\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.bezierCurveTo(this.cp1x, this.cp1y, this.cp2x, this.cp2y, this.x, this.y); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/rect\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Rect\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property w\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property h\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Rect = function(x, y, w, h) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.w = w; this.h = h;\r\n\t}).prototype.exec = function(ctx) { ctx.rect(this.x, this.y, this.w, this.h); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/closePath\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class ClosePath\r\n\t * @constructor\r\n\t **/\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.ClosePath = function() {\r\n\t}).prototype.exec = function(ctx) { ctx.closePath(); };\r\n\r\n\t/**\r\n\t * Graphics command object to begin a new path. See {{#crossLink \"Graphics\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class BeginPath\r\n\t * @constructor\r\n\t **/\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.BeginPath = function() {\r\n\t}).prototype.exec = function(ctx) { ctx.beginPath(); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/beginFill\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Fill\r\n\t * @constructor\r\n\t * @param {Object} style A valid Context2D fillStyle.\r\n\t * @param {Matrix2D} matrix\r\n\t **/\r\n\t/**\r\n\t * A valid Context2D fillStyle.\r\n\t * @property style\r\n\t * @type Object\r\n\t */\r\n\t/**\r\n\t * @property matrix\r\n\t * @type Matrix2D\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\tp = (G.Fill = function(style, matrix) {\r\n\t\tthis.style = style;\r\n\t\tthis.matrix = matrix;\r\n\t}).prototype;\r\n\tp.exec = function(ctx) {\r\n\t\tif (!this.style) { return; }\r\n\t\tctx.fillStyle = this.style;\r\n\t\tvar mtx = this.matrix;\r\n\t\tif (mtx) { ctx.save(); ctx.transform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty); }\r\n\t\tctx.fill();\r\n\t\tif (mtx) { ctx.restore(); }\r\n\t};\r\n\t/**\r\n\t * Creates a linear gradient style and assigns it to {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginLinearGradientFill\"}}{{/crossLink}} for more information.\r\n\t * @method linearGradient\r\n\t * @param {Array} colors\r\n\t *\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\r\n\t */\r\n\tp.linearGradient = function(colors, ratios, x0, y0, x1, y1) {\r\n\t\tvar o = this.style =  Graphics._ctx.createLinearGradient(x0, y0, x1, y1);\r\n\t\tfor (var i=0, l=colors.length; i<l; i++) { o.addColorStop(ratios[i], colors[i]); }\r\n\t\to.props = {colors:colors, ratios:ratios, x0:x0, y0:y0, x1:x1, y1:y1, type:\"linear\"};\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * Creates a radial gradient style and assigns it to {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginRadialGradientFill\"}}{{/crossLink}} for more information.\r\n\t * @method radialGradient\r\n\t * @param {Array} colors\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} r0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} r1\r\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\r\n\t */\r\n\tp.radialGradient = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\r\n\t\tvar o = this.style =  Graphics._ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\r\n\t\tfor (var i=0, l=colors.length; i<l; i++) { o.addColorStop(ratios[i], colors[i]); }\r\n\t\to.props = {colors:colors, ratios:ratios, x0:x0, y0:y0, r0:r0, x1:x1, y1:y1, r1:r1, type:\"radial\"};\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * Creates a bitmap fill style and assigns it to the {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginBitmapFill\"}}{{/crossLink}} for more information.\r\n\t * @method bitmap\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image  Must be loaded prior to creating a bitmap fill, or the fill will be empty.\r\n\t * @param {String} [repetition] One of: repeat, repeat-x, repeat-y, or no-repeat.\r\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\r\n\t */\r\n\tp.bitmap = function(image, repetition) {\r\n\t\tif (image.naturalWidth || image.getContext || image.readyState >= 2) {\r\n\t\t\tvar o = this.style = Graphics._ctx.createPattern(image, repetition || \"\");\r\n\t\t\to.props = {image: image, repetition: repetition, type: \"bitmap\"};\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\tp.path = false;\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/beginStroke\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Stroke\r\n\t * @constructor\r\n\t * @param {Object} style A valid Context2D fillStyle.\r\n\t * @param {Boolean} ignoreScale\r\n\t **/\r\n\t/**\r\n\t * A valid Context2D strokeStyle.\r\n\t * @property style\r\n\t * @type Object\r\n\t */\r\n\t/**\r\n\t * @property ignoreScale\r\n\t * @type Boolean\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\tp = (G.Stroke = function(style, ignoreScale) {\r\n\t\tthis.style = style;\r\n\t\tthis.ignoreScale = ignoreScale;\r\n\t}).prototype;\r\n\tp.exec = function(ctx) {\r\n\t\tif (!this.style) { return; }\r\n\t\tctx.strokeStyle = this.style;\r\n\t\tif (this.ignoreScale) { ctx.save(); ctx.setTransform(1,0,0,1,0,0); }\r\n\t\tctx.stroke();\r\n\t\tif (this.ignoreScale) { ctx.restore(); }\r\n\t};\r\n\t/**\r\n\t * Creates a linear gradient style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginLinearGradientStroke\"}}{{/crossLink}} for more information.\r\n\t * @method linearGradient\r\n\t * @param {Array} colors\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\r\n\t */\r\n\tp.linearGradient = G.Fill.prototype.linearGradient;\r\n\t/**\r\n\t * Creates a radial gradient style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginRadialGradientStroke\"}}{{/crossLink}} for more information.\r\n\t * @method radialGradient\r\n\t * @param {Array} colors\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} r0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} r1\r\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\r\n\t */\r\n\tp.radialGradient = G.Fill.prototype.radialGradient;\r\n\t/**\r\n\t * Creates a bitmap fill style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginBitmapStroke\"}}{{/crossLink}} for more information.\r\n\t * @method bitmap\r\n\t * @param {HTMLImageElement} image\r\n\t * @param {String} [repetition] One of: repeat, repeat-x, repeat-y, or no-repeat.\r\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\r\n\t */\r\n\tp.bitmap = G.Fill.prototype.bitmap;\r\n\tp.path = false;\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class StrokeStyle\r\n\t * @constructor\r\n\t * @param {Number} width\r\n\t * @param {String} [caps=butt]\r\n\t * @param {String} [joints=miter]\r\n\t * @param {Number} [miterLimit=10]\r\n\t * @param {Boolean} [ignoreScale=false]\r\n\t **/\r\n\t/**\r\n\t * @property width\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * One of: butt, round, square\r\n\t * @property caps\r\n\t * @type String\r\n\t */\r\n\t/**\r\n\t * One of: round, bevel, miter\r\n\t * @property joints\r\n\t * @type String\r\n\t */\r\n\t/**\r\n\t * @property miterLimit\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\tp = (G.StrokeStyle = function(width, caps, joints, miterLimit, ignoreScale) {\r\n\t\tthis.width = width;\r\n\t\tthis.caps = caps;\r\n\t\tthis.joints = joints;\r\n\t\tthis.miterLimit = miterLimit;\r\n\t\tthis.ignoreScale = ignoreScale;\r\n\t}).prototype;\r\n\tp.exec = function(ctx) {\r\n\t\tctx.lineWidth = (this.width == null ? \"1\" : this.width);\r\n\t\tctx.lineCap = (this.caps == null ? \"butt\" : (isNaN(this.caps) ? this.caps : Graphics.STROKE_CAPS_MAP[this.caps]));\r\n\t\tctx.lineJoin = (this.joints == null ? \"miter\" : (isNaN(this.joints) ? this.joints : Graphics.STROKE_JOINTS_MAP[this.joints]));\r\n\t\tctx.miterLimit = (this.miterLimit == null ? \"10\" : this.miterLimit);\r\n\t\tctx.ignoreScale = (this.ignoreScale == null ? false : this.ignoreScale);\r\n\t};\r\n\tp.path = false;\r\n\t\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/setStrokeDash\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class StrokeDash\r\n\t * @constructor\r\n\t * @param {Array} [segments]\r\n\t * @param {Number} [offset=0]\r\n\t **/\r\n\t/**\r\n\t * @property segments\r\n\t * @type Array\r\n\t */\r\n\t/**\r\n\t * @property offset\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.StrokeDash = function(segments, offset) {\r\n\t\tthis.segments = segments;\r\n\t\tthis.offset = offset||0;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tif (ctx.setLineDash) { // feature detection.\r\n\t\t\tctx.setLineDash(this.segments|| G.StrokeDash.EMPTY_SEGMENTS); // instead of [] to reduce churn.\r\n\t\t\tctx.lineDashOffset = this.offset||0;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * The default value for segments (ie. no dash).\r\n\t * @property EMPTY_SEGMENTS\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @protected\r\n\t * @type {Array}\r\n\t **/\r\n\tG.StrokeDash.EMPTY_SEGMENTS = [];\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawRoundRectComplex\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class RoundRect\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t * @param {Number} radiusTL\r\n\t * @param {Number} radiusTR\r\n\t * @param {Number} radiusBR\r\n\t * @param {Number} radiusBL\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property w\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property h\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusTL\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusTR\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusBR\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusBL\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.RoundRect = function(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.w = w; this.h = h;\r\n\t\tthis.radiusTL = radiusTL; this.radiusTR = radiusTR;\r\n\t\tthis.radiusBR = radiusBR; this.radiusBL = radiusBL;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tvar max = (w<h?w:h)/2;\r\n\t\tvar mTL=0, mTR=0, mBR=0, mBL=0;\r\n\t\tvar x = this.x, y = this.y, w = this.w, h = this.h;\r\n\t\tvar rTL = this.radiusTL, rTR = this.radiusTR, rBR = this.radiusBR, rBL = this.radiusBL;\r\n\r\n\t\tif (rTL < 0) { rTL *= (mTL=-1); }\r\n\t\tif (rTL > max) { rTL = max; }\r\n\t\tif (rTR < 0) { rTR *= (mTR=-1); }\r\n\t\tif (rTR > max) { rTR = max; }\r\n\t\tif (rBR < 0) { rBR *= (mBR=-1); }\r\n\t\tif (rBR > max) { rBR = max; }\r\n\t\tif (rBL < 0) { rBL *= (mBL=-1); }\r\n\t\tif (rBL > max) { rBL = max; }\r\n\r\n\t\tctx.moveTo(x+w-rTR, y);\r\n\t\tctx.arcTo(x+w+rTR*mTR, y-rTR*mTR, x+w, y+rTR, rTR);\r\n\t\tctx.lineTo(x+w, y+h-rBR);\r\n\t\tctx.arcTo(x+w+rBR*mBR, y+h+rBR*mBR, x+w-rBR, y+h, rBR);\r\n\t\tctx.lineTo(x+rBL, y+h);\r\n\t\tctx.arcTo(x-rBL*mBL, y+h+rBL*mBL, x, y+h-rBL, rBL);\r\n\t\tctx.lineTo(x, y+rTL);\r\n\t\tctx.arcTo(x-rTL*mTL, y-rTL*mTL, x+rTL, y, rTL);\r\n\t\tctx.closePath();\r\n\t};\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Circle\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Circle = function(x, y, radius) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.radius = radius;\r\n\t}).prototype.exec = function(ctx) { ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawEllipse\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Ellipse\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property w\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property h\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Ellipse = function(x, y, w, h) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.w = w; this.h = h;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tvar x = this.x, y = this.y;\r\n\t\tvar w = this.w, h = this.h;\r\n\r\n\t\tvar k = 0.5522848;\r\n\t\tvar ox = (w / 2) * k;\r\n\t\tvar oy = (h / 2) * k;\r\n\t\tvar xe = x + w;\r\n\t\tvar ye = y + h;\r\n\t\tvar xm = x + w / 2;\r\n\t\tvar ym = y + h / 2;\r\n\r\n\t\tctx.moveTo(x, ym);\r\n\t\tctx.bezierCurveTo(x, ym-oy, xm-ox, y, xm, y);\r\n\t\tctx.bezierCurveTo(xm+ox, y, xe, ym-oy, xe, ym);\r\n\t\tctx.bezierCurveTo(xe, ym+oy, xm+ox, ye, xm, ye);\r\n\t\tctx.bezierCurveTo(xm-ox, ye, x, ym+oy, x, ym);\r\n\t};\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawPolyStar\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class PolyStar\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} sides\r\n\t * @param {Number} pointSize\r\n\t * @param {Number} angle\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property sides\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property pointSize\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property angle\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.PolyStar = function(x, y, radius, sides, pointSize, angle) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.radius = radius;\r\n\t\tthis.sides = sides;\r\n\t\tthis.pointSize = pointSize;\r\n\t\tthis.angle = angle;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tvar x = this.x, y = this.y;\r\n\t\tvar radius = this.radius;\r\n\t\tvar angle = (this.angle||0)/180*Math.PI;\r\n\t\tvar sides = this.sides;\r\n\t\tvar ps = 1-(this.pointSize||0);\r\n\t\tvar a = Math.PI/sides;\r\n\r\n\t\tctx.moveTo(x+Math.cos(angle)*radius, y+Math.sin(angle)*radius);\r\n\t\tfor (var i=0; i<sides; i++) {\r\n\t\t\tangle += a;\r\n\t\t\tif (ps != 1) {\r\n\t\t\t\tctx.lineTo(x+Math.cos(angle)*radius*ps, y+Math.sin(angle)*radius*ps);\r\n\t\t\t}\r\n\t\t\tangle += a;\r\n\t\t\tctx.lineTo(x+Math.cos(angle)*radius, y+Math.sin(angle)*radius);\r\n\t\t}\r\n\t\tctx.closePath();\r\n\t};\r\n\r\n\t// docced above.\r\n\tGraphics.beginCmd = new G.BeginPath(); // so we don't have to instantiate multiple instances.\r\n\r\n\r\n\tcreatejs.Graphics = Graphics;\r\n}());\r\n\r\n//##############################################################################\r\n// DisplayObject.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * DisplayObject is an abstract class that should not be constructed directly. Instead construct subclasses such as\r\n\t * {{#crossLink \"Container\"}}{{/crossLink}}, {{#crossLink \"Bitmap\"}}{{/crossLink}}, and {{#crossLink \"Shape\"}}{{/crossLink}}.\r\n\t * DisplayObject is the base class for all display classes in the EaselJS library. It defines the core properties and\r\n\t * methods that are shared between all display objects, such as transformation properties (x, y, scaleX, scaleY, etc),\r\n\t * caching, and mouse handlers.\r\n\t * @class DisplayObject\r\n\t * @extends EventDispatcher\r\n\t * @constructor\r\n\t **/\r\n\tfunction DisplayObject() {\r\n\t\tthis.EventDispatcher_constructor();\r\n\r\n\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The alpha (transparency) for this display object. 0 is fully transparent, 1 is fully opaque.\r\n\t\t * @property alpha\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.alpha = 1;\r\n\r\n\t\t/**\r\n\t\t * If a cache is active, this returns the canvas that holds the image of this display object. See {{#crossLink \"DisplayObject/cache:method\"}}{{/crossLink}}\r\n\t\t * for more information. Use this to display the result of a cache. This will be a HTMLCanvasElement unless special cache rules have been deliberately enabled for this cache.\r\n\t\t * @property cacheCanvas\r\n\t\t * @type {HTMLCanvasElement | Object}\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.cacheCanvas = null;\r\n\r\n\t\t/**\r\n\t\t * If a cache has been made, this returns the class that is managing the cacheCanvas and its properties. See {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * for more information. Use this to control, inspect, and change the cache. In special circumstances this may be a modified or subclassed BitmapCache.\r\n\t\t * @property bitmapCache\r\n\t\t * @type {BitmapCache}\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.bitmapCache = null;\r\n\r\n\t\t/**\r\n\t\t * Unique ID for this display object. Makes display objects easier for some uses.\r\n\t\t * @property id\r\n\t\t * @type {Number}\r\n\t\t * @default -1\r\n\t\t **/\r\n\t\tthis.id = createjs.UID.get();\r\n\r\n\t\t/**\r\n\t\t * Indicates whether to include this object when running mouse interactions. Setting this to `false` for children\r\n\t\t * of a {{#crossLink \"Container\"}}{{/crossLink}} will cause events on the Container to not fire when that child is\r\n\t\t * clicked. Setting this property to `false` does not prevent the {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}\r\n\t\t * method from returning the child.\r\n\t\t *\r\n\t\t * <strong>Note:</strong> In EaselJS 0.7.0, the mouseEnabled property will not work properly with nested Containers. Please\r\n\t\t * check out the latest NEXT version in <a href=\"https://github.com/CreateJS/EaselJS/tree/master/lib\">GitHub</a> for an updated version with this issue resolved. The fix will be\r\n\t\t * provided in the next release of EaselJS.\r\n\t\t * @property mouseEnabled\r\n\t\t * @type {Boolean}\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.mouseEnabled = true;\r\n\r\n\t\t/**\r\n\t\t * If false, the tick will not run on this display object (or its children). This can provide some performance benefits.\r\n\t\t * In addition to preventing the \"tick\" event from being dispatched, it will also prevent tick related updates\r\n\t\t * on some display objects (ex. Sprite & MovieClip frame advancing, and DOMElement display properties).\r\n\t\t * @property tickEnabled\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.tickEnabled = true;\r\n\r\n\t\t/**\r\n\t\t * An optional name for this display object. Included in {{#crossLink \"DisplayObject/toString\"}}{{/crossLink}} . Useful for\r\n\t\t * debugging.\r\n\t\t * @property name\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.name = null;\r\n\r\n\t\t/**\r\n\t\t * A reference to the {{#crossLink \"Container\"}}{{/crossLink}} or {{#crossLink \"Stage\"}}{{/crossLink}} object that\r\n\t\t * contains this display object, or null if it has not been added\r\n\t\t * to one.\r\n\t\t * @property parent\r\n\t\t * @final\r\n\t\t * @type {Container}\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.parent = null;\r\n\r\n\t\t/**\r\n\t\t * The left offset for this display object's registration point. For example, to make a 100x100px Bitmap rotate\r\n\t\t * around its center, you would set regX and {{#crossLink \"DisplayObject/regY:property\"}}{{/crossLink}} to 50.\r\n\t\t * Cached object's registration points should be set based on pre-cache conditions, not cached size.\r\n\t\t * @property regX\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.regX = 0;\r\n\r\n\t\t/**\r\n\t\t * The y offset for this display object's registration point. For example, to make a 100x100px Bitmap rotate around\r\n\t\t * its center, you would set {{#crossLink \"DisplayObject/regX:property\"}}{{/crossLink}} and regY to 50.\r\n\t\t * Cached object's registration points should be set based on pre-cache conditions, not cached size.\r\n\t\t * @property regY\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.regY = 0;\r\n\r\n\t\t/**\r\n\t\t * The rotation in degrees for this display object.\r\n\t\t * @property rotation\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.rotation = 0;\r\n\r\n\t\t/**\r\n\t\t * The factor to stretch this display object horizontally. For example, setting scaleX to 2 will stretch the display\r\n\t\t * object to twice its nominal width. To horizontally flip an object, set the scale to a negative number.\r\n\t\t * @property scaleX\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scaleX = 1;\r\n\r\n\t\t/**\r\n\t\t * The factor to stretch this display object vertically. For example, setting scaleY to 0.5 will stretch the display\r\n\t\t * object to half its nominal height. To vertically flip an object, set the scale to a negative number.\r\n\t\t * @property scaleY\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scaleY = 1;\r\n\r\n\t\t/**\r\n\t\t * The factor to skew this display object horizontally.\r\n\t\t * @property skewX\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.skewX = 0;\r\n\r\n\t\t/**\r\n\t\t * The factor to skew this display object vertically.\r\n\t\t * @property skewY\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.skewY = 0;\r\n\r\n\t\t/**\r\n\t\t * A shadow object that defines the shadow to render on this display object. Set to `null` to remove a shadow. If\r\n\t\t * null, this property is inherited from the parent container.\r\n\t\t * @property shadow\r\n\t\t * @type {Shadow}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.shadow = null;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether this display object should be rendered to the canvas and included when running the Stage\r\n\t\t * {{#crossLink \"Stage/getObjectsUnderPoint\"}}{{/crossLink}} method.\r\n\t\t * @property visible\r\n\t\t * @type {Boolean}\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.visible = true;\r\n\r\n\t\t/**\r\n\t\t * The x (horizontal) position of the display object, relative to its parent.\r\n\t\t * @property x\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.x = 0;\r\n\r\n\t\t/** The y (vertical) position of the display object, relative to its parent.\r\n\t\t * @property y\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.y = 0;\r\n\r\n\t\t/**\r\n\t\t * If set, defines the transformation for this display object, overriding all other transformation properties\r\n\t\t * (x, y, rotation, scale, skew).\r\n\t\t * @property transformMatrix\r\n\t\t * @type {Matrix2D}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.transformMatrix = null;\r\n\r\n\t\t/**\r\n\t\t * The composite operation indicates how the pixels of this display object will be composited with the elements\r\n\t\t * behind it. If `null`, this property is inherited from the parent container. For more information, read the\r\n\t\t * <a href=\"https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-globalcompositeoperation\">\r\n\t\t * whatwg spec on compositing</a>. For a list of supported compositeOperation value, visit\r\n\t\t * <a href=\"https://drafts.fxtf.org/compositing/\">the W3C draft on Compositing and Blending</a>.\r\n\t\t * @property compositeOperation\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.compositeOperation = null;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the display object should be drawn to a whole pixel when\r\n\t\t * {{#crossLink \"Stage/snapToPixelEnabled\"}}{{/crossLink}} is true. To enable/disable snapping on whole\r\n\t\t * categories of display objects, set this value on the prototype (Ex. Text.prototype.snapToPixel = true).\r\n\t\t * @property snapToPixel\r\n\t\t * @type {Boolean}\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.snapToPixel = true;\r\n\r\n\t\t/**\r\n\t\t * An array of Filter objects to apply to this display object. Filters are only applied / updated when {{#crossLink \"cache\"}}{{/crossLink}}\r\n\t\t * or {{#crossLink \"updateCache\"}}{{/crossLink}} is called on the display object, and only apply to the area that is\r\n\t\t * cached.\r\n\t\t * @property filters\r\n\t\t * @type {Array}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.filters = null;\r\n\r\n\t\t/**\r\n\t\t * A Shape instance that defines a vector mask (clipping path) for this display object.  The shape's transformation\r\n\t\t * will be applied relative to the display object's parent coordinates (as if it were a child of the parent).\r\n\t\t * @property mask\r\n\t\t * @type {Shape}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.mask = null;\r\n\r\n\t\t/**\r\n\t\t * A display object that will be tested when checking mouse interactions or testing {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}.\r\n\t\t * The hit area will have its transformation applied relative to this display object's coordinate space (as though\r\n\t\t * the hit test object were a child of this display object and relative to its regX/Y). The hitArea will be tested\r\n\t\t * using only its own `alpha` value regardless of the alpha value on the target display object, or the target's\r\n\t\t * ancestors (parents).\r\n\t\t * \r\n\t\t * If set on a {{#crossLink \"Container\"}}{{/crossLink}}, children of the Container will not receive mouse events.\r\n\t\t * This is similar to setting {{#crossLink \"mouseChildren\"}}{{/crossLink}} to false.\r\n\t\t *\r\n\t\t * Note that hitArea is NOT currently used by the `hitTest()` method, nor is it supported for {{#crossLink \"Stage\"}}{{/crossLink}}.\r\n\t\t * @property hitArea\r\n\t\t * @type {DisplayObject}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.hitArea = null;\r\n\r\n\t\t/**\r\n\t\t * A CSS cursor (ex. \"pointer\", \"help\", \"text\", etc) that will be displayed when the user hovers over this display\r\n\t\t * object. You must enable mouseover events using the {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}} method to\r\n\t\t * use this property. Setting a non-null cursor on a Container will override the cursor set on its descendants.\r\n\t\t * @property cursor\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.cursor = null;\r\n\r\n\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * @property _cacheScale\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t * @deprecated\r\n\t\t **/\r\n\r\n\t\t/**\r\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * @property _cacheDataURLID\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t * @deprecated\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * @property _cacheDataURL\r\n\t\t * @protected\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t * @deprecated\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * @property _props\r\n\t\t * @protected\r\n\t\t * @type {DisplayObject}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._props = new createjs.DisplayProps();\r\n\r\n\t\t/**\r\n\t\t * @property _rectangle\r\n\t\t * @protected\r\n\t\t * @type {Rectangle}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._rectangle = new createjs.Rectangle();\r\n\r\n\t\t/**\r\n\t\t * @property _bounds\r\n\t\t * @protected\r\n\t\t * @type {Rectangle}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._bounds = null;\r\n\r\n\t\t/**\r\n\t\t * Where StageGL should look for required display properties, matters only for leaf display objects. Containers\r\n\t\t * or cached objects won't use this property, it's for native display of terminal elements.\r\n\t\t * @property _webGLRenderStyle\r\n\t\t * @protected\r\n\t\t * @type {number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._webGLRenderStyle = DisplayObject._StageGL_NONE;\r\n\t}\r\n\tvar p = createjs.extend(DisplayObject, createjs.EventDispatcher);\r\n\r\n// static properties:\r\n\t/**\r\n\t * Listing of mouse event names. Used in _hasMouseEventListener.\r\n\t * @property _MOUSE_EVENTS\r\n\t * @protected\r\n\t * @static\r\n\t * @type {Array}\r\n\t **/\r\n\tDisplayObject._MOUSE_EVENTS = [\"click\",\"dblclick\",\"mousedown\",\"mouseout\",\"mouseover\",\"pressmove\",\"pressup\",\"rollout\",\"rollover\"];\r\n\r\n\t/**\r\n\t * Suppresses errors generated when using features like hitTest, mouse events, and {{#crossLink \"getObjectsUnderPoint\"}}{{/crossLink}}\r\n\t * with cross domain content.\r\n\t * @property suppressCrossDomainErrors\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @default false\r\n\t **/\r\n\tDisplayObject.suppressCrossDomainErrors = false;\r\n\r\n\t/**\r\n\t * @property _snapToPixelEnabled\r\n\t * @protected\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @default false\r\n\t **/\r\n\tDisplayObject._snapToPixelEnabled = false; // stage.snapToPixelEnabled is temporarily copied here during a draw to provide global access.\r\n\r\n\t/**\r\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\r\n\t * @property _StageGL_NONE\r\n\t * @protected\r\n\t * @static\r\n\t * @type {number}\r\n\t */\r\n\tDisplayObject._StageGL_NONE = 0;\r\n\r\n\t/**\r\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\r\n\t * @property _StageGL_SPRITE\r\n\t * @protected\r\n\t * @static\r\n\t * @type {number}\r\n\t */\r\n\tDisplayObject._StageGL_SPRITE = 1;\r\n\r\n\t/**\r\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\r\n\t * @property _StageGL_BITMAP\r\n\t * @protected\r\n\t * @static\r\n\t * @type {number}\r\n\t */\r\n\tDisplayObject._StageGL_BITMAP = 2;\r\n\r\n\t/**\r\n\t * @property _hitTestCanvas\r\n\t * @type {HTMLCanvasElement | Object}\r\n\t * @static\r\n\t * @protected\r\n\t **/\r\n\t/**\r\n\t * @property _hitTestContext\r\n\t * @type {CanvasRenderingContext2D}\r\n\t * @static\r\n\t * @protected\r\n\t **/\r\n\tvar canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"); // prevent errors on load in browsers without canvas.\r\n\tif (canvas.getContext) {\r\n\t\tDisplayObject._hitTestCanvas = canvas;\r\n\t\tDisplayObject._hitTestContext = canvas.getContext(\"2d\");\r\n\t\tcanvas.width = canvas.height = 1;\r\n\t}\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when the user presses their left mouse button over the display object. See the \r\n\t * {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event mousedown\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user presses their left mouse button and then releases it while over the display object.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event click\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user double clicks their left mouse button over this display object.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event dblclick\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user's mouse enters this display object. This event must be enabled using \r\n\t * {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}. See also {{#crossLink \"DisplayObject/rollover:event\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event mouseover\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user's mouse leaves this display object. This event must be enabled using \r\n\t * {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}. See also {{#crossLink \"DisplayObject/rollout:event\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event mouseout\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * This event is similar to {{#crossLink \"DisplayObject/mouseover:event\"}}{{/crossLink}}, with the following\r\n\t * differences: it does not bubble, and it considers {{#crossLink \"Container\"}}{{/crossLink}} instances as an\r\n\t * aggregate of their content.\r\n\t * \r\n\t * For example, myContainer contains two overlapping children: shapeA and shapeB. The user moves their mouse over\r\n\t * shapeA and then directly on to shapeB. With a listener for {{#crossLink \"mouseover:event\"}}{{/crossLink}} on\r\n\t * myContainer, two events would be received, each targeting a child element:<OL>\r\n\t * <LI>when the mouse enters shapeA (target=shapeA)</LI>\r\n\t * <LI>when the mouse enters shapeB (target=shapeB)</LI>\r\n\t * </OL>\r\n\t * However, with a listener for \"rollover\" instead, only a single event is received when the mouse first enters\r\n\t * the aggregate myContainer content (target=myContainer).\r\n\t * \r\n\t * This event must be enabled using {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event rollover\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * This event is similar to {{#crossLink \"DisplayObject/mouseout:event\"}}{{/crossLink}}, with the following\r\n\t * differences: it does not bubble, and it considers {{#crossLink \"Container\"}}{{/crossLink}} instances as an\r\n\t * aggregate of their content.\r\n\t * \r\n\t * For example, myContainer contains two overlapping children: shapeA and shapeB. The user moves their mouse over\r\n\t * shapeA, then directly on to shapeB, then off both. With a listener for {{#crossLink \"mouseout:event\"}}{{/crossLink}}\r\n\t * on myContainer, two events would be received, each targeting a child element:<OL>\r\n\t * <LI>when the mouse leaves shapeA (target=shapeA)</LI>\r\n\t * <LI>when the mouse leaves shapeB (target=shapeB)</LI>\r\n\t * </OL>\r\n\t * However, with a listener for \"rollout\" instead, only a single event is received when the mouse leaves\r\n\t * the aggregate myContainer content (target=myContainer).\r\n\t * \r\n\t * This event must be enabled using {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event rollout\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * After a {{#crossLink \"DisplayObject/mousedown:event\"}}{{/crossLink}} occurs on a display object, a pressmove\r\n\t * event will be generated on that object whenever the mouse moves until the mouse press is released. This can be\r\n\t * useful for dragging and similar operations.\r\n\t *\r\n\t * **Please note** that if the initial mouse target from a `mousedown` event is removed from the stage after being pressed\r\n\t * (e.g. during a `pressmove` event), a `pressmove` event is still generated. However since it is no longer in the\r\n\t * display list, the event can not bubble. This means that previous ancestors (parent containers) will not receive\r\n\t * the event, and therefore can not re-dispatch it. If you intend to listen for `{{#crossLink \"DisplayObject/pressup:event\"}}{{/crossLink}}`\r\n\t * or `pressmove` on a dynamic object (such as a {{#crossLink \"MovieClip\"}}{{/crossLink}} or {{#crossLink \"Container\"}}{{/crossLink}}),\r\n\t * then ensure you set {{#crossLink \"Container/mouseChildren:property\"}}{{/crossLink}} to `false`.\r\n\t * @event pressmove\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * After a {{#crossLink \"DisplayObject/mousedown:event\"}}{{/crossLink}} occurs on a display object, a pressup event\r\n\t * will be generated on that object when that mouse press is released. This can be useful for dragging and similar\r\n\t * operations.\r\n\t *\r\n\t * **Please note** that if the initial mouse target from a `mousedown` event is removed from the stage after being pressed\r\n\t * (e.g. during a `pressmove` event), a `pressup` event is still generated. However since it is no longer in the\r\n\t * display list, the event can not bubble. This means that previous ancestors (parent containers) will not receive\r\n\t * the event, and therefore can not re-dispatch it. If you intend to listen for `{{#crossLink \"DisplayObject/pressmove:event\"}}{{/crossLink}}`\r\n\t * or `pressup` on a dynamic object (such as a {{#crossLink \"MovieClip\"}}{{/crossLink}} or {{#crossLink \"Container\"}}{{/crossLink}}),\r\n\t * then ensure you set {{#crossLink \"Container/mouseChildren:property\"}}{{/crossLink}} to `false`.\r\n\t * @event pressup\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the display object is added to a parent container.\r\n\t * @event added\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the display object is removed from its parent container.\r\n\t * @event removed\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched on each display object on a stage whenever the stage updates. This occurs immediately before the\r\n\t * rendering (draw) pass. When {{#crossLink \"Stage/update\"}}{{/crossLink}} is called, first all display objects on\r\n\t * the stage dispatch the tick event, then all of the display objects are drawn to stage. Children will have their\r\n\t * {{#crossLink \"tick:event\"}}{{/crossLink}} event dispatched in order of their depth prior to the event being\r\n\t * dispatched on their parent.\r\n\t * @event tick\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {Array} params An array containing any arguments that were passed to the Stage.update() method. For\r\n\t *      example if you called stage.update(\"hello\"), then the params would be [\"hello\"].\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"DisplayObject/stage:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getStage\r\n\t * @protected\r\n\t * @return {Stage}\r\n\t **/\r\n\tp._getStage = function() {\r\n\t\t// uses dynamic access to avoid circular dependencies;\r\n\t\tvar o = this, _Stage = createjs[\"Stage\"];\r\n\t\twhile (o.parent) { o = o.parent; }\r\n\t\tif (o instanceof _Stage) { return o; }\r\n\t\treturn null;\r\n\t};\r\n\t// DisplayObject.getStage is @deprecated. Remove for 1.1+\r\n\tp.getStage = createjs.deprecate(p._getStage, \"DisplayObject.getStage\");\r\n\r\n\t/**\r\n\t * Returns the Stage instance that this display object will be rendered on, or null if it has not been added to one.\r\n\t * @property stage\r\n\t * @type {Stage}\r\n\t * @readonly\r\n\t **/\r\n\r\n\t/**\r\n\t * Returns an ID number that uniquely identifies the current cache for this display object. This can be used to\r\n\t * determine if the cache has changed since a previous check.\r\n\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t * @property cacheID\r\n\t * @deprecated\r\n\t * @type {Number}\r\n\t * @default 0\r\n\t */\r\n\r\n\t/**\r\n\t * Set both the {{#crossLink \"DisplayObject/scaleX:property\"}}{{/crossLink}} and the {{#crossLink \"DisplayObject/scaleY\"}}{{/crossLink}}\r\n\t * property to the same value. Note that when you get the value, if the `scaleX` and `scaleY` are different values,\r\n\t * it will return only the `scaleX`.\r\n\t * @property scaleX\r\n\t * @type {Number}\r\n\t * @default 1\r\n\t */\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tstage: { get: p._getStage },\r\n\t\t\tcacheID: {\r\n\t\t\t\tget: function(){ return this.bitmapCache && this.bitmapCache.cacheID },\r\n\t\t\t\tset: function(a){ this.bitmapCache && (this.bitmapCache.cacheID = a) }\r\n\t\t\t},\r\n\t\t\tscale: {\r\n\t\t\t\tget: function() { return this.scaleX; },\r\n\t\t\t\tset: function(scale) { this.scaleX = this.scaleY = scale; },\r\n\t\t\t}\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns <code>true</code> if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For example,\r\n\t * used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tvar cache = this.bitmapCache;\r\n\t\tif(cache && !ignoreCache) {\r\n\t\t\treturn cache.draw(ctx);\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies this display object's transformation, alpha, globalCompositeOperation, clipping path (mask), and shadow\r\n\t * to the specified context. This is typically called prior to {{#crossLink \"DisplayObject/draw\"}}{{/crossLink}}.\r\n\t * @method updateContext\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D to update.\r\n\t **/\r\n\tp.updateContext = function(ctx) {\r\n\t\tvar o=this, mask=o.mask, mtx= o._props.matrix;\r\n\t\t\r\n\t\tif (mask && mask.graphics && !mask.graphics.isEmpty()) {\r\n\t\t\tmask.getMatrix(mtx);\r\n\t\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\r\n\t\t\t\r\n\t\t\tmask.graphics.drawAsPath(ctx);\r\n\t\t\tctx.clip();\r\n\t\t\t\r\n\t\t\tmtx.invert();\r\n\t\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\r\n\t\t}\r\n\t\t\r\n\t\tthis.getMatrix(mtx);\r\n\t\tvar tx = mtx.tx, ty = mtx.ty;\r\n\t\tif (DisplayObject._snapToPixelEnabled && o.snapToPixel) {\r\n\t\t\ttx = tx + (tx < 0 ? -0.5 : 0.5) | 0;\r\n\t\t\tty = ty + (ty < 0 ? -0.5 : 0.5) | 0;\r\n\t\t}\r\n\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, tx, ty);\r\n\t\tctx.globalAlpha *= o.alpha;\r\n\t\tif (o.compositeOperation) { ctx.globalCompositeOperation = o.compositeOperation; }\r\n\t\tif (o.shadow) { this._applyShadow(ctx, o.shadow); }\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into a new element, which is then used for subsequent draws. Intended for complex content\r\n\t * that does not change frequently (ex. a Container with many children that do not move, or a complex vector Shape),\r\n\t * this can provide for much faster rendering because the content does not need to be re-rendered each tick. The\r\n\t * cached display object can be moved, rotated, faded, etc freely, however if its content changes, you must manually\r\n\t * update the cache by calling <code>updateCache()</code> again. You must specify the cached area via the x, y, w,\r\n\t * and h parameters. This defines the rectangle that will be rendered and cached using this display object's coordinates.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * For example if you defined a Shape that drew a circle at 0, 0 with a radius of 25:\r\n\t *\r\n\t *      var shape = new createjs.Shape();\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0, 0, 25);\r\n\t *      shape.cache(-25, -25, 50, 50);\r\n\t *\r\n\t * Note that filters need to be defined <em>before</em> the cache is applied or you will have to call updateCache after\r\n\t * application. Check out the {{#crossLink \"Filter\"}}{{/crossLink}} class for more information. Some filters\r\n\t * (ex. BlurFilter) may not work as expected in conjunction with the scale param.\r\n\t * \r\n\t * Usually, the resulting cacheCanvas will have the dimensions width * scale, height * scale, however some filters (ex. BlurFilter)\r\n\t * will add padding to the canvas dimensions.\r\n\t *\r\n\t * In previous versions caching was handled on DisplayObject but has since been moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}.\r\n\t * This allows for easier interaction and alternate cache methods like WebGL with {{#crossLink \"StageGL\"}}{{/crossLink}}.\r\n\t * For more information on the options object, see the BitmapCache {{#crossLink \"BitmapCache/define\"}}{{/crossLink}}.\r\n\t *\r\n\t * @method cache\r\n\t * @param {Number} x The x coordinate origin for the cache region.\r\n\t * @param {Number} y The y coordinate origin for the cache region.\r\n\t * @param {Number} width The width of the cache region.\r\n\t * @param {Number} height The height of the cache region.\r\n\t * @param {Number} [scale=1] The scale at which the cache will be created. For example, if you cache a vector shape using\r\n\t * \tmyShape.cache(0,0,100,100,2) then the resulting cacheCanvas will be 200x200 px. This lets you scale and rotate\r\n\t * \tcached elements with greater fidelity. Default is 1.\r\n\t * @param {Object} [options=undefined] Specify additional parameters for the cache logic\r\n\t **/\r\n\tp.cache = function(x, y, width, height, scale, options) {\r\n\t\tif(!this.bitmapCache){\r\n\t\t\tthis.bitmapCache = new createjs.BitmapCache();\r\n\t\t}\r\n\t\tthis.bitmapCache.define(this, x, y, width, height, scale, options);\r\n\t};\r\n\r\n\t/**\r\n\t * Redraws the display object to its cache. Calling updateCache without an active cache will throw an error.\r\n\t * If compositeOperation is null the current cache will be cleared prior to drawing. Otherwise the display object\r\n\t * will be drawn over the existing cache using the specified compositeOperation.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * Clear the current graphics of a cached shape, draw some new instructions, and then update the cache. The new line\r\n\t * will be drawn on top of the old one.\r\n\t *\r\n\t *      // Not shown: Creating the shape, and caching it.\r\n\t *      shapeInstance.clear();\r\n\t *      shapeInstance.setStrokeStyle(3).beginStroke(\"#ff0000\").moveTo(100, 100).lineTo(200,200);\r\n\t *      shapeInstance.updateCache();\r\n\t *\r\n\t * In previous versions caching was handled on DisplayObject but has since been moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}.\r\n\t * This allows for easier interaction and alternate cache methods like WebGL and {{#crossLink \"StageGL\"}}{{/crossLink}}.\r\n\t *\r\n\t * @method updateCache\r\n\t * @param {String} compositeOperation The compositeOperation to use, or null to clear the cache and redraw it.\r\n\t * <a href=\"https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-globalcompositeoperation\">\r\n\t * whatwg spec on compositing</a>.\r\n\t **/\r\n\tp.updateCache = function(compositeOperation) {\r\n\t\tif(!this.bitmapCache) {\r\n\t\t\tthrow \"cache() must be called before updateCache()\";\r\n\t\t}\r\n\t\tthis.bitmapCache.update(compositeOperation);\r\n\t};\r\n\r\n\t/**\r\n\t * Clears the current cache. See {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} for more information.\r\n\t * @method uncache\r\n\t **/\r\n\tp.uncache = function() {\r\n\t\tif(this.bitmapCache) {\r\n\t\t\tthis.bitmapCache.release();\r\n\t\t\tthis.bitmapCache = undefined;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a data URL for the cache, or null if this display object is not cached.\r\n\t * Only generated if the cache has changed, otherwise returns last result.\r\n\t * @method getCacheDataURL\r\n\t * @return {String} The image data url for the cache.\r\n\t **/\r\n\tp.getCacheDataURL = function() {\r\n\t\treturn this.bitmapCache?this.bitmapCache.getDataURL():null;\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms the specified x and y position from the coordinate space of the display object\r\n\t * to the global (stage) coordinate space. For example, this could be used to position an HTML label\r\n\t * over a specific point on a nested display object. Returns a Point instance with x and y properties\r\n\t * correlating to the transformed coordinates on the stage.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.x = 300;\r\n\t *      displayObject.y = 200;\r\n\t *      stage.addChild(displayObject);\r\n\t *      var point = displayObject.localToGlobal(100, 100);\r\n\t *      // Results in x=400, y=300\r\n\t *\r\n\t * @method localToGlobal\r\n\t * @param {Number} x The x position in the source display object to transform.\r\n\t * @param {Number} y The y position in the source display object to transform.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \r\n\t * @return {Point} A Point instance with x and y properties correlating to the transformed coordinates\r\n\t * on the stage.\r\n\t **/\r\n\tp.localToGlobal = function(x, y, pt) {\r\n\t\treturn this.getConcatenatedMatrix(this._props.matrix).transformPoint(x,y, pt||new createjs.Point());\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms the specified x and y position from the global (stage) coordinate space to the\r\n\t * coordinate space of the display object. For example, this could be used to determine\r\n\t * the current mouse position within the display object. Returns a Point instance with x and y properties\r\n\t * correlating to the transformed position in the display object's coordinate space.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.x = 300;\r\n\t *      displayObject.y = 200;\r\n\t *      stage.addChild(displayObject);\r\n\t *      var point = displayObject.globalToLocal(100, 100);\r\n\t *      // Results in x=-200, y=-100\r\n\t *\r\n\t * @method globalToLocal\r\n\t * @param {Number} x The x position on the stage to transform.\r\n\t * @param {Number} y The y position on the stage to transform.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \r\n\t * @return {Point} A Point instance with x and y properties correlating to the transformed position in the\r\n\t * display object's coordinate space.\r\n\t **/\r\n\tp.globalToLocal = function(x, y, pt) {\r\n\t\treturn this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(x,y, pt||new createjs.Point());\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms the specified x and y position from the coordinate space of this display object to the coordinate\r\n\t * space of the target display object. Returns a Point instance with x and y properties correlating to the\r\n\t * transformed position in the target's coordinate space. Effectively the same as using the following code with\r\n\t * {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}} and {{#crossLink \"DisplayObject/globalToLocal\"}}{{/crossLink}}.\r\n\t *\r\n\t *      var pt = this.localToGlobal(x, y);\r\n\t *      pt = target.globalToLocal(pt.x, pt.y);\r\n\t *\r\n\t * @method localToLocal\r\n\t * @param {Number} x The x position in the source display object to transform.\r\n\t * @param {Number} y The y position on the source display object to transform.\r\n\t * @param {DisplayObject} target The target display object to which the coordinates will be transformed.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \r\n\t * @return {Point} Returns a Point instance with x and y properties correlating to the transformed position\r\n\t * in the target's coordinate space.\r\n\t **/\r\n\tp.localToLocal = function(x, y, target, pt) {\r\n\t\tpt = this.localToGlobal(x, y, pt);\r\n\t\treturn target.globalToLocal(pt.x, pt.y, pt);\r\n\t};\r\n\r\n\t/**\r\n\t * Shortcut method to quickly set the transform properties on the display object. All parameters are optional.\r\n\t * Omitted parameters will have the default value set.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.setTransform(100, 100, 2, 2);\r\n\t *\r\n\t * @method setTransform\r\n\t * @param {Number} [x=0] The horizontal translation (x position) in pixels\r\n\t * @param {Number} [y=0] The vertical translation (y position) in pixels\r\n\t * @param {Number} [scaleX=1] The horizontal scale, as a percentage of 1\r\n\t * @param {Number} [scaleY=1] the vertical scale, as a percentage of 1\r\n\t * @param {Number} [rotation=0] The rotation, in degrees\r\n\t * @param {Number} [skewX=0] The horizontal skew factor\r\n\t * @param {Number} [skewY=0] The vertical skew factor\r\n\t * @param {Number} [regX=0] The horizontal registration point in pixels\r\n\t * @param {Number} [regY=0] The vertical registration point in pixels\r\n\t * @return {DisplayObject} Returns this instance. Useful for chaining commands.\r\n\t * @chainable\r\n\t*/\r\n\tp.setTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\tthis.x = x || 0;\r\n\t\tthis.y = y || 0;\r\n\t\tthis.scaleX = scaleX == null ? 1 : scaleX;\r\n\t\tthis.scaleY = scaleY == null ? 1 : scaleY;\r\n\t\tthis.rotation = rotation || 0;\r\n\t\tthis.skewX = skewX || 0;\r\n\t\tthis.skewY = skewY || 0;\r\n\t\tthis.regX = regX || 0;\r\n\t\tthis.regY = regY || 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a matrix based on this object's current transform.\r\n\t * @method getMatrix\r\n\t * @param {Matrix2D} matrix Optional. A Matrix2D object to populate with the calculated values. If null, a new\r\n\t * Matrix object is returned.\r\n\t * @return {Matrix2D} A matrix representing this display object's transform.\r\n\t **/\r\n\tp.getMatrix = function(matrix) {\r\n\t\tvar o = this, mtx = matrix&&matrix.identity() || new createjs.Matrix2D();\r\n\t\treturn o.transformMatrix ?  mtx.copy(o.transformMatrix) : mtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY);\r\n\t};\r\n\r\n\t/**\r\n\t * Generates a Matrix2D object representing the combined transform of the display object and all of its\r\n\t * parent Containers up to the highest level ancestor (usually the {{#crossLink \"Stage\"}}{{/crossLink}}). This can\r\n\t * be used to transform positions between coordinate spaces, such as with {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"DisplayObject/globalToLocal\"}}{{/crossLink}}.\r\n\t * @method getConcatenatedMatrix\r\n\t * @param {Matrix2D} [matrix] A {{#crossLink \"Matrix2D\"}}{{/crossLink}} object to populate with the calculated values.\r\n\t * If null, a new Matrix2D object is returned.\r\n\t * @return {Matrix2D} The combined matrix.\r\n\t **/\r\n\tp.getConcatenatedMatrix = function(matrix) {\r\n\t\tvar o = this, mtx = this.getMatrix(matrix);\r\n\t\twhile (o = o.parent) {\r\n\t\t\tmtx.prependMatrix(o.getMatrix(o._props.matrix));\r\n\t\t}\r\n\t\treturn mtx;\r\n\t};\r\n\r\n\t/**\r\n\t * Generates a DisplayProps object representing the combined display properties of the  object and all of its\r\n\t * parent Containers up to the highest level ancestor (usually the {{#crossLink \"Stage\"}}{{/crossLink}}).\r\n\t * @method getConcatenatedDisplayProps\r\n\t * @param {DisplayProps} [props] A {{#crossLink \"DisplayProps\"}}{{/crossLink}} object to populate with the calculated values.\r\n\t * If null, a new DisplayProps object is returned.\r\n\t * @return {DisplayProps} The combined display properties.\r\n\t **/\r\n\tp.getConcatenatedDisplayProps = function(props) {\r\n\t\tprops = props ? props.identity() : new createjs.DisplayProps();\r\n\t\tvar o = this, mtx = o.getMatrix(props.matrix); \r\n\t\tdo {\r\n\t\t\tprops.prepend(o.visible, o.alpha, o.shadow, o.compositeOperation);\r\n\t\t\t\r\n\t\t\t// we do this to avoid problems with the matrix being used for both operations when o._props.matrix is passed in as the props param.\r\n\t\t\t// this could be simplified (ie. just done as part of the prepend above) if we switched to using a pool.\r\n\t\t\tif (o != this) { mtx.prependMatrix(o.getMatrix(o._props.matrix)); }\r\n\t\t} while (o = o.parent);\r\n\t\treturn props;\r\n\t};\r\n\r\n\t/**\r\n\t * Tests whether the display object intersects the specified point in local coordinates (ie. draws a pixel with alpha > 0 at\r\n\t * the specified position). This ignores the alpha, shadow, hitArea, mask, and compositeOperation of the display object.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      stage.addEventListener(\"stagemousedown\", handleMouseDown);\r\n\t *      function handleMouseDown(event) {\r\n\t *          var hit = myShape.hitTest(event.stageX, event.stageY);\r\n\t *      }\r\n\t *\r\n\t * Please note that shape-to-shape collision is not currently supported by EaselJS.\r\n\t * @method hitTest\r\n\t * @param {Number} x The x position to check in the display object's local coordinates.\r\n\t * @param {Number} y The y position to check in the display object's local coordinates.\r\n\t * @return {Boolean} A Boolean indicating whether a visible portion of the DisplayObject intersect the specified\r\n\t * local Point.\r\n\t*/\r\n\tp.hitTest = function(x, y) {\r\n\t\tvar ctx = DisplayObject._hitTestContext;\r\n\t\tctx.setTransform(1, 0, 0, 1, -x, -y);\r\n\t\tthis.draw(ctx);\r\n\r\n\t\tvar hit = this._testHit(ctx);\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tctx.clearRect(0, 0, 2, 2);\r\n\t\treturn hit;\r\n\t};\r\n\r\n\t/**\r\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var myGraphics = new createjs.Graphics().beginFill(\"#ff0000\").drawCircle(0, 0, 25);\r\n\t *      var shape = stage.addChild(new Shape()).set({graphics:myGraphics, x:100, y:100, alpha:0.5});\r\n\t *\r\n\t * @method set\r\n\t * @param {Object} props A generic object containing properties to copy to the DisplayObject instance.\r\n\t * @return {DisplayObject} Returns the instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t*/\r\n\tp.set = function(props) {\r\n\t\tfor (var n in props) { this[n] = props[n]; }\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a rectangle representing this object's bounds in its local coordinate system (ie. with no transformation).\r\n\t * Objects that have been cached will return the bounds of the cache.\r\n\t * \r\n\t * Not all display objects can calculate their own bounds (ex. Shape). For these objects, you can use \r\n\t * {{#crossLink \"DisplayObject/setBounds\"}}{{/crossLink}} so that they are included when calculating Container\r\n\t * bounds.\r\n\t * \r\n\t * <table>\r\n\t * \t<tr><td><b>All</b></td><td>\r\n\t * \t\tAll display objects support setting bounds manually using setBounds(). Likewise, display objects that\r\n\t * \t\thave been cached using cache() will return the bounds of their cache. Manual and cache bounds will override\r\n\t * \t\tthe automatic calculations listed below.\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Bitmap</b></td><td>\r\n\t * \t\tReturns the width and height of the sourceRect (if specified) or image, extending from (x=0,y=0).\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Sprite</b></td><td>\r\n\t * \t\tReturns the bounds of the current frame. May have non-zero x/y if a frame registration point was specified\r\n\t * \t\tin the spritesheet data. See also {{#crossLink \"SpriteSheet/getFrameBounds\"}}{{/crossLink}}\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Container</b></td><td>\r\n\t * \t\tReturns the aggregate (combined) bounds of all children that return a non-null value from getBounds().\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Shape</b></td><td>\r\n\t * \t\tDoes not currently support automatic bounds calculations. Use setBounds() to manually define bounds.\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Text</b></td><td>\r\n\t * \t\tReturns approximate bounds. Horizontal values (x/width) are quite accurate, but vertical values (y/height) are\r\n\t * \t\tnot, especially when using textBaseline values other than \"top\".\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>BitmapText</b></td><td>\r\n\t * \t\tReturns approximate bounds. Values will be more accurate if spritesheet frame registration points are close\r\n\t * \t\tto (x=0,y=0).\r\n\t * \t</td></tr>\r\n\t* </table>\r\n\t * \r\n\t * Bounds can be expensive to calculate for some objects (ex. text, or containers with many children), and\r\n\t * are recalculated each time you call getBounds(). You can prevent recalculation on static objects by setting the\r\n\t * bounds explicitly:\r\n\t * \r\n\t * \tvar bounds = obj.getBounds();\r\n\t * \tobj.setBounds(bounds.x, bounds.y, bounds.width, bounds.height);\r\n\t * \t// getBounds will now use the set values, instead of recalculating\r\n\t * \r\n\t * To reduce memory impact, the returned Rectangle instance may be reused internally; clone the instance or copy its\r\n\t * values if you need to retain it.\r\n\t * \r\n\t * \tvar myBounds = obj.getBounds().clone();\r\n\t * \t// OR:\r\n\t * \tmyRect.copy(obj.getBounds());\r\n\t * \r\n\t * @method getBounds\r\n\t * @return {Rectangle} A Rectangle instance representing the bounds, or null if bounds are not available for this\r\n\t * object.\r\n\t **/\r\n\tp.getBounds = function() {\r\n\t\tif (this._bounds) { return this._rectangle.copy(this._bounds); }\r\n\t\tvar cacheCanvas = this.cacheCanvas;\r\n\t\tif (cacheCanvas) {\r\n\t\t\tvar scale = this._cacheScale;\r\n\t\t\treturn this._rectangle.setValues(this._cacheOffsetX, this._cacheOffsetY, cacheCanvas.width/scale, cacheCanvas.height/scale);\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a rectangle representing this object's bounds in its parent's coordinate system (ie. with transformations applied).\r\n\t * Objects that have been cached will return the transformed bounds of the cache.\r\n\t * \r\n\t * Not all display objects can calculate their own bounds (ex. Shape). For these objects, you can use \r\n\t * {{#crossLink \"DisplayObject/setBounds\"}}{{/crossLink}} so that they are included when calculating Container\r\n\t * bounds.\r\n\t * \r\n\t * To reduce memory impact, the returned Rectangle instance may be reused internally; clone the instance or copy its\r\n\t * values if you need to retain it.\r\n\t * \r\n\t * Container instances calculate aggregate bounds for all children that return bounds via getBounds.\r\n\t * @method getTransformedBounds\r\n\t * @return {Rectangle} A Rectangle instance representing the bounds, or null if bounds are not available for this object.\r\n\t **/\r\n\tp.getTransformedBounds = function() {\r\n\t\treturn this._getBounds();\r\n\t};\r\n\r\n\t/**\r\n\t * Allows you to manually specify the bounds of an object that either cannot calculate their own bounds (ex. Shape &\r\n\t * Text) for future reference, or so the object can be included in Container bounds. Manually set bounds will always\r\n\t * override calculated bounds.\r\n\t * \r\n\t * The bounds should be specified in the object's local (untransformed) coordinates. For example, a Shape instance\r\n\t * with a 25px radius circle centered at 0,0 would have bounds of (-25, -25, 50, 50).\r\n\t * @method setBounds\r\n\t * @param {Number} x The x origin of the bounds. Pass null to remove the manual bounds.\r\n\t * @param {Number} y The y origin of the bounds.\r\n\t * @param {Number} width The width of the bounds.\r\n\t * @param {Number} height The height of the bounds.\r\n\t **/\r\n\tp.setBounds = function(x, y, width, height) {\r\n\t\tif (x == null) { this._bounds = x; return; }\r\n\t\tthis._bounds = (this._bounds || new createjs.Rectangle()).setValues(x, y, width, height);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this DisplayObject. Some properties that are specific to this instance's current context are\r\n\t * reverted to their defaults (for example .parent). Caches are not maintained across clones, and some elements\r\n\t * are copied by reference (masks, individual filter instances, hit area)\r\n\t * @method clone\r\n\t * @return {DisplayObject} A clone of the current DisplayObject instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new DisplayObject());\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[DisplayObject (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * Called before the object gets drawn and is a chance to ensure the display state of the object is correct.\r\n\t * Mostly used by {{#crossLink \"MovieClip\"}}{{/crossLink}} and {{#crossLink \"BitmapText\"}}{{/crossLink}} to\r\n\t * correct their internal state and children prior to being drawn.\r\n\t *\r\n\t * Is manually called via draw in a {{#crossLink \"Stage\"}}{{/crossLink}} but is automatically called when\r\n\t * present in a {{#crossLink \"StageGL\"}}{{/crossLink}} instance.\r\n\t *\r\n\t * @method _updateState\r\n\t * @default null\r\n\t */\r\n\tp._updateState = null;\r\n\r\n\t// separated so it can be used more easily in subclasses:\r\n\t/**\r\n\t * @method _cloneProps\r\n\t * @param {DisplayObject} o The DisplayObject instance which will have properties from the current DisplayObject\r\n\t * instance copied into.\r\n\t * @return {DisplayObject} o\r\n\t * @protected\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\to.alpha = this.alpha;\r\n\t\to.mouseEnabled = this.mouseEnabled;\r\n\t\to.tickEnabled = this.tickEnabled;\r\n\t\to.name = this.name;\r\n\t\to.regX = this.regX;\r\n\t\to.regY = this.regY;\r\n\t\to.rotation = this.rotation;\r\n\t\to.scaleX = this.scaleX;\r\n\t\to.scaleY = this.scaleY;\r\n\t\to.shadow = this.shadow;\r\n\t\to.skewX = this.skewX;\r\n\t\to.skewY = this.skewY;\r\n\t\to.visible = this.visible;\r\n\t\to.x  = this.x;\r\n\t\to.y = this.y;\r\n\t\to.compositeOperation = this.compositeOperation;\r\n\t\to.snapToPixel = this.snapToPixel;\r\n\t\to.filters = this.filters==null?null:this.filters.slice(0);\r\n\t\to.mask = this.mask;\r\n\t\to.hitArea = this.hitArea;\r\n\t\to.cursor = this.cursor;\r\n\t\to._bounds = this._bounds;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _applyShadow\r\n\t * @protected\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @param {Shadow} shadow\r\n\t **/\r\n\tp._applyShadow = function(ctx, shadow) {\r\n\t\tshadow = shadow || Shadow.identity;\r\n\t\tctx.shadowColor = shadow.color;\r\n\t\tctx.shadowOffsetX = shadow.offsetX;\r\n\t\tctx.shadowOffsetY = shadow.offsetY;\r\n\t\tctx.shadowBlur = shadow.blur;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * @protected\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\t// because tick can be really performance sensitive, check for listeners before calling dispatchEvent.\r\n\t\tvar ls = this._listeners;\r\n\t\tif (ls && ls[\"tick\"]) {\r\n\t\t\t// reset & reuse the event object to avoid construction / GC costs:\r\n\t\t\tevtObj.target = null;\r\n\t\t\tevtObj.propagationStopped = evtObj.immediatePropagationStopped = false;\r\n\t\t\tthis.dispatchEvent(evtObj);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _testHit\r\n\t * @protected\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp._testHit = function(ctx) {\r\n\t\ttry {\r\n\t\t\tvar hit = ctx.getImageData(0, 0, 1, 1).data[3] > 1;\r\n\t\t} catch (e) {\r\n\t\t\tif (!DisplayObject.suppressCrossDomainErrors) {\r\n\t\t\t\tthrow \"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn hit;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getBounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform If true, does not apply this object's transform.\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._getBounds = function(matrix, ignoreTransform){\r\n\t\treturn this._transformBounds(this.getBounds(), matrix, ignoreTransform);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _transformBounds\r\n\t * @param {Rectangle} bounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._transformBounds = function(bounds, matrix, ignoreTransform) {\r\n\t\tif (!bounds) { return bounds; }\r\n\t\tvar x = bounds.x, y = bounds.y, width = bounds.width, height = bounds.height, mtx = this._props.matrix;\r\n\t\tmtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\r\n\t\t\r\n\t\tif (x || y) { mtx.appendTransform(0,0,1,1,0,0,0,-x,-y); } // TODO: simplify this.\r\n\t\tif (matrix) { mtx.prependMatrix(matrix); }\r\n\t\t\r\n\t\tvar x_a = width*mtx.a, x_b = width*mtx.b;\r\n\t\tvar y_c = height*mtx.c, y_d = height*mtx.d;\r\n\t\tvar tx = mtx.tx, ty = mtx.ty;\r\n\t\t\r\n\t\tvar minX = tx, maxX = tx, minY = ty, maxY = ty;\r\n\r\n\t\tif ((x = x_a + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\r\n\t\tif ((x = x_a + y_c + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\r\n\t\tif ((x = y_c + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\r\n\r\n\t\tif ((y = x_b + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\r\n\t\tif ((y = x_b + y_d + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\r\n\t\tif ((y = y_d + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\r\n\r\n\t\treturn bounds.setValues(minX, minY, maxX-minX, maxY-minY);\r\n\t};\r\n\r\n\t/**\r\n\t * Indicates whether the display object has any mouse event listeners or a cursor.\r\n\t * @method _isMouseOpaque\r\n\t * @return {Boolean}\r\n\t * @protected\r\n\t **/\r\n\tp._hasMouseEventListener = function() {\r\n\t\tvar evts = DisplayObject._MOUSE_EVENTS;\r\n\t\tfor (var i= 0, l=evts.length; i<l; i++) {\r\n\t\t\tif (this.hasEventListener(evts[i])) { return true; }\r\n\t\t}\r\n\t\treturn !!this.cursor;\r\n\t};\r\n\r\n\tcreatejs.DisplayObject = createjs.promote(DisplayObject, \"EventDispatcher\");\r\n}());\r\n\r\n//##############################################################################\r\n// Container.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\t\r\n\r\n// constructor:\r\n/**\r\n * A Container is a nestable display list that allows you to work with compound display elements. For  example you could\r\n * group arm, leg, torso and head {{#crossLink \"Bitmap\"}}{{/crossLink}} instances together into a Person Container, and\r\n * transform them as a group, while still being able to move the individual parts relative to each other. Children of\r\n * containers have their <code>transform</code> and <code>alpha</code> properties concatenated with their parent\r\n * Container.\r\n *\r\n * For example, a {{#crossLink \"Shape\"}}{{/crossLink}} with x=100 and alpha=0.5, placed in a Container with <code>x=50</code>\r\n * and <code>alpha=0.7</code> will be rendered to the canvas at <code>x=150</code> and <code>alpha=0.35</code>.\r\n * Containers have some overhead, so you generally shouldn't create a Container to hold a single child.\r\n *\r\n * <h4>Example</h4>\r\n *\r\n *      var container = new createjs.Container();\r\n *      container.addChild(bitmapInstance, shapeInstance);\r\n *      container.x = 100;\r\n *\r\n * @class Container\r\n * @extends DisplayObject\r\n * @constructor\r\n **/\r\n\tfunction Container() {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The array of children in the display list. You should usually use the child management methods such as\r\n\t\t * {{#crossLink \"Container/addChild\"}}{{/crossLink}}, {{#crossLink \"Container/removeChild\"}}{{/crossLink}},\r\n\t\t * {{#crossLink \"Container/swapChildren\"}}{{/crossLink}}, etc, rather than accessing this directly, but it is\r\n\t\t * included for advanced uses.\r\n\t\t * @property children\r\n\t\t * @type Array\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.children = [];\r\n\t\t\r\n\t\t/**\r\n\t\t * Indicates whether the children of this container are independently enabled for mouse/pointer interaction.\r\n\t\t * If false, the children will be aggregated under the container - for example, a click on a child shape would\r\n\t\t * trigger a click event on the container.\r\n\t\t * @property mouseChildren\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.mouseChildren = true;\r\n\t\t\r\n\t\t/**\r\n\t\t * If false, the tick will not be propagated to children of this Container. This can provide some performance benefits.\r\n\t\t * In addition to preventing the \"tick\" event from being dispatched, it will also prevent tick related updates\r\n\t\t * on some display objects (ex. Sprite & MovieClip frame advancing, DOMElement visibility handling).\r\n\t\t * @property tickChildren\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.tickChildren = true;\r\n\t}\r\n\tvar p = createjs.extend(Container, createjs.DisplayObject);\r\n\t\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"Container/numChildren:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getNumChildren\r\n\t * @protected\r\n\t * @return {Number}\r\n\t **/\r\n\tp._getNumChildren = function() {\r\n\t\treturn this.children.length;\r\n\t};\r\n\t// Container.getNumChildren is @deprecated. Remove for 1.1+\r\n\tp.getNumChildren = createjs.deprecate(p._getNumChildren, \"Container.getNumChildren\");\r\n\r\n\t/**\r\n\t * Returns the number of children in the container.\r\n\t * @property numChildren\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tnumChildren: { get: p._getNumChildren }\r\n\t\t});\r\n\t} catch (e) {}\r\n\t\r\n\r\n// public methods:\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = Container; // TODO: deprecated.\r\n\t\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || this.children.length;\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\t\r\n\t\t// this ensures we don't have issues with display list changes that occur during a draw:\r\n\t\tvar list = this.children.slice();\r\n\t\tfor (var i=0,l=list.length; i<l; i++) {\r\n\t\t\tvar child = list[i];\r\n\t\t\tif (!child.isVisible()) { continue; }\r\n\t\t\t\r\n\t\t\t// draw the child:\r\n\t\t\tctx.save();\r\n\t\t\tchild.updateContext(ctx);\r\n\t\t\tchild.draw(ctx);\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Adds a child to the top of the display list.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t * \t\tcontainer.addChild(bitmapInstance);\r\n\t *\r\n\t * You can also add multiple children at once:\r\n\t *\r\n\t * \t\tcontainer.addChild(bitmapInstance, shapeInstance, textInstance);\r\n\t *\r\n\t * @method addChild\r\n\t * @param {DisplayObject} child The display object to add.\r\n\t * @return {DisplayObject} The child that was added, or the last child if multiple children were added.\r\n\t **/\r\n\tp.addChild = function(child) {\r\n\t\tif (child == null) { return child; }\r\n\t\tvar l = arguments.length;\r\n\t\tif (l > 1) {\r\n\t\t\tfor (var i=0; i<l; i++) { this.addChild(arguments[i]); }\r\n\t\t\treturn arguments[l-1];\r\n\t\t}\r\n\t\t// Note: a lot of duplication with addChildAt, but push is WAY faster than splice.\r\n\t\tvar par=child.parent, silent = par === this;\r\n\t\tpar&&par._removeChildAt(createjs.indexOf(par.children, child), silent);\r\n\t\tchild.parent = this;\r\n\t\tthis.children.push(child);\r\n\t\tif (!silent) { child.dispatchEvent(\"added\"); }\r\n\t\treturn child;\r\n\t};\r\n\r\n\t/**\r\n\t * Adds a child to the display list at the specified index, bumping children at equal or greater indexes up one, and\r\n\t * setting its parent to this Container.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      addChildAt(child1, index);\r\n\t *\r\n\t * You can also add multiple children, such as:\r\n\t *\r\n\t *      addChildAt(child1, child2, ..., index);\r\n\t *\r\n\t * The index must be between 0 and numChildren. For example, to add myShape under otherShape in the display list,\r\n\t * you could use:\r\n\t *\r\n\t *      container.addChildAt(myShape, container.getChildIndex(otherShape));\r\n\t *\r\n\t * This would also bump otherShape's index up by one. Fails silently if the index is out of range.\r\n\t *\r\n\t * @method addChildAt\r\n\t * @param {DisplayObject} child The display object to add.\r\n\t * @param {Number} index The index to add the child at.\r\n\t * @return {DisplayObject} Returns the last child that was added, or the last child if multiple children were added.\r\n\t **/\r\n\tp.addChildAt = function(child, index) {\r\n\t\tvar l = arguments.length;\r\n\t\tvar indx = arguments[l-1]; // can't use the same name as the index param or it replaces arguments[1]\r\n\t\tif (indx < 0 || indx > this.children.length) { return arguments[l-2]; }\r\n\t\tif (l > 2) {\r\n\t\t\tfor (var i=0; i<l-1; i++) { this.addChildAt(arguments[i], indx+i); }\r\n\t\t\treturn arguments[l-2];\r\n\t\t}\r\n\t\tvar par=child.parent, silent = par === this;\r\n\t\tpar&&par._removeChildAt(createjs.indexOf(par.children, child), silent);\r\n\t\tchild.parent = this;\r\n\t\tthis.children.splice(index, 0, child);\r\n\t\tif (!silent) { child.dispatchEvent(\"added\"); }\r\n\t\treturn child;\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the specified child from the display list. Note that it is faster to use removeChildAt() if the index is\r\n\t * already known.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      container.removeChild(child);\r\n\t *\r\n\t * You can also remove multiple children:\r\n\t *\r\n\t *      removeChild(child1, child2, ...);\r\n\t *\r\n\t * Returns true if the child (or children) was removed, or false if it was not in the display list.\r\n\t * @method removeChild\r\n\t * @param {DisplayObject} child The child to remove.\r\n\t * @return {Boolean} true if the child (or children) was removed, or false if it was not in the display list.\r\n\t **/\r\n\tp.removeChild = function(child) {\r\n\t\tvar l = arguments.length;\r\n\t\tif (l > 1) {\r\n\t\t\tvar good = true;\r\n\t\t\tfor (var i=0; i<l; i++) { good = good && this.removeChild(arguments[i]); }\r\n\t\t\treturn good;\r\n\t\t}\r\n\t\treturn this._removeChildAt(createjs.indexOf(this.children, child));\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the child at the specified index from the display list, and sets its parent to null.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      container.removeChildAt(2);\r\n\t *\r\n\t * You can also remove multiple children:\r\n\t *\r\n\t *      container.removeChild(2, 7, ...)\r\n\t *\r\n\t * Returns true if the child (or children) was removed, or false if any index was out of range.\r\n\t * @method removeChildAt\r\n\t * @param {Number} index The index of the child to remove.\r\n\t * @return {Boolean} true if the child (or children) was removed, or false if any index was out of range.\r\n\t **/\r\n\tp.removeChildAt = function(index) {\r\n\t\tvar l = arguments.length;\r\n\t\tif (l > 1) {\r\n\t\t\tvar a = [];\r\n\t\t\tfor (var i=0; i<l; i++) { a[i] = arguments[i]; }\r\n\t\t\ta.sort(function(a, b) { return b-a; });\r\n\t\t\tvar good = true;\r\n\t\t\tfor (var i=0; i<l; i++) { good = good && this._removeChildAt(a[i]); }\r\n\t\t\treturn good;\r\n\t\t}\r\n\t\treturn this._removeChildAt(index);\r\n\t};\r\n\r\n\t/**\r\n\t * Removes all children from the display list.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t * \tcontainer.removeAllChildren();\r\n\t *\r\n\t * @method removeAllChildren\r\n\t **/\r\n\tp.removeAllChildren = function() {\r\n\t\tvar kids = this.children;\r\n\t\twhile (kids.length) { this._removeChildAt(0); }\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the child at the specified index.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      container.getChildAt(2);\r\n\t *\r\n\t * @method getChildAt\r\n\t * @param {Number} index The index of the child to return.\r\n\t * @return {DisplayObject} The child at the specified index. Returns null if there is no child at the index.\r\n\t **/\r\n\tp.getChildAt = function(index) {\r\n\t\treturn this.children[index];\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns the child with the specified name.\r\n\t * @method getChildByName\r\n\t * @param {String} name The name of the child to return.\r\n\t * @return {DisplayObject} The child with the specified name.\r\n\t **/\r\n\tp.getChildByName = function(name) {\r\n\t\tvar kids = this.children;\r\n\t\tfor (var i=0,l=kids.length;i<l;i++) {\r\n\t\t\tif(kids[i].name == name) { return kids[i]; }\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/**\r\n\t * Performs an array sort operation on the child list.\r\n\t *\r\n\t * <h4>Example: Display children with a higher y in front.</h4>\r\n\t * \r\n\t *      var sortFunction = function(obj1, obj2, options) {\r\n\t *          if (obj1.y > obj2.y) { return 1; }\r\n\t *          if (obj1.y < obj2.y) { return -1; }\r\n\t *          return 0;\r\n\t *      }\r\n\t *      container.sortChildren(sortFunction);\r\n\t *\r\n\t * @method sortChildren\r\n\t * @param {Function} sortFunction the function to use to sort the child list. See JavaScript's <code>Array.sort</code>\r\n\t * documentation for details.\r\n\t **/\r\n\tp.sortChildren = function(sortFunction) {\r\n\t\tthis.children.sort(sortFunction);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the index of the specified child in the display list, or -1 if it is not in the display list.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var index = container.getChildIndex(child);\r\n\t *\r\n\t * @method getChildIndex\r\n\t * @param {DisplayObject} child The child to return the index of.\r\n\t * @return {Number} The index of the specified child. -1 if the child is not found.\r\n\t **/\r\n\tp.getChildIndex = function(child) {\r\n\t\treturn createjs.indexOf(this.children, child);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Swaps the children at the specified indexes. Fails silently if either index is out of range.\r\n\t * @method swapChildrenAt\r\n\t * @param {Number} index1\r\n\t * @param {Number} index2\r\n\t **/\r\n\tp.swapChildrenAt = function(index1, index2) {\r\n\t\tvar kids = this.children;\r\n\t\tvar o1 = kids[index1];\r\n\t\tvar o2 = kids[index2];\r\n\t\tif (!o1 || !o2) { return; }\r\n\t\tkids[index1] = o2;\r\n\t\tkids[index2] = o1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Swaps the specified children's depth in the display list. Fails silently if either child is not a child of this\r\n\t * Container.\r\n\t * @method swapChildren\r\n\t * @param {DisplayObject} child1\r\n\t * @param {DisplayObject} child2\r\n\t **/\r\n\tp.swapChildren = function(child1, child2) {\r\n\t\tvar kids = this.children;\r\n\t\tvar index1,index2;\r\n\t\tfor (var i=0,l=kids.length;i<l;i++) {\r\n\t\t\tif (kids[i] == child1) { index1 = i; }\r\n\t\t\tif (kids[i] == child2) { index2 = i; }\r\n\t\t\tif (index1 != null && index2 != null) { break; }\r\n\t\t}\r\n\t\tif (i==l) { return; } // TODO: throw error?\r\n\t\tkids[index1] = child2;\r\n\t\tkids[index2] = child1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Changes the depth of the specified child. Fails silently if the child is not a child of this container, or the index is out of range.\r\n\t * @param {DisplayObject} child\r\n\t * @param {Number} index  \r\n\t * @method setChildIndex\r\n\t **/\r\n\tp.setChildIndex = function(child, index) {\r\n\t\tvar kids = this.children, l=kids.length;\r\n\t\tif (child.parent != this || index < 0 || index >= l) { return; }\r\n\t\tfor (var i=0;i<l;i++) {\r\n\t\t\tif (kids[i] == child) { break; }\r\n\t\t}\r\n\t\tif (i==l || i == index) { return; }\r\n\t\tkids.splice(i,1);\r\n\t\tkids.splice(index,0,child);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if the specified display object either is this container or is a descendent (child, grandchild, etc)\r\n\t * of this container.\r\n\t * @method contains\r\n\t * @param {DisplayObject} child The DisplayObject to be checked.\r\n\t * @return {Boolean} true if the specified display object either is this container or is a descendent.\r\n\t **/\r\n\tp.contains = function(child) {\r\n\t\twhile (child) {\r\n\t\t\tif (child == this) { return true; }\r\n\t\t\tchild = child.parent;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Tests whether the display object intersects the specified local point (ie. draws a pixel with alpha > 0 at the\r\n\t * specified position). This ignores the alpha, shadow and compositeOperation of the display object, and all\r\n\t * transform properties including regX/Y.\r\n\t * @method hitTest\r\n\t * @param {Number} x The x position to check in the display object's local coordinates.\r\n\t * @param {Number} y The y position to check in the display object's local coordinates.\r\n\t * @return {Boolean} A Boolean indicating whether there is a visible section of a DisplayObject that overlaps the specified\r\n\t * coordinates.\r\n\t **/\r\n\tp.hitTest = function(x, y) {\r\n\t\t// TODO: optimize to use the fast cache check where possible.\r\n\t\treturn (this.getObjectUnderPoint(x, y) != null);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an array of all display objects under the specified coordinates that are in this container's display\r\n\t * list. This routine ignores any display objects with {{#crossLink \"DisplayObject/mouseEnabled:property\"}}{{/crossLink}}\r\n\t * set to `false`. The array will be sorted in order of visual depth, with the top-most display object at index 0.\r\n\t * This uses shape based hit detection, and can be an expensive operation to run, so it is best to use it carefully.\r\n\t * For example, if testing for objects under the mouse, test on tick (instead of on {{#crossLink \"DisplayObject/mousemove:event\"}}{{/crossLink}}),\r\n\t * and only if the mouse's position has changed.\r\n\t * \r\n\t * <ul>\r\n\t *     <li>By default (mode=0) this method evaluates all display objects.</li>\r\n\t *     <li>By setting the `mode` parameter to `1`, the {{#crossLink \"DisplayObject/mouseEnabled:property\"}}{{/crossLink}}\r\n\t * \t\tand {{#crossLink \"mouseChildren:property\"}}{{/crossLink}} properties will be respected.</li>\r\n\t * \t   <li>Setting the `mode` to `2` additionally excludes display objects that do not have active mouse event\r\n\t * \t   \tlisteners or a {{#crossLink \"DisplayObject:cursor:property\"}}{{/crossLink}} property. That is, only objects\r\n\t * \t   \tthat would normally intercept mouse interaction will be included. This can significantly improve performance\r\n\t * \t   \tin some cases by reducing the number of display objects that need to be tested.</li>\r\n\t * </li>\r\n\t * \r\n\t * This method accounts for both {{#crossLink \"DisplayObject/hitArea:property\"}}{{/crossLink}} and {{#crossLink \"DisplayObject/mask:property\"}}{{/crossLink}}.\r\n\t * @method getObjectsUnderPoint\r\n\t * @param {Number} x The x position in the container to test.\r\n\t * @param {Number} y The y position in the container to test.\r\n\t * @param {Number} [mode=0] The mode to use to determine which display objects to include. 0-all, 1-respect mouseEnabled/mouseChildren, 2-only mouse opaque objects.\r\n\t * @return {Array} An Array of DisplayObjects under the specified coordinates.\r\n\t **/\r\n\tp.getObjectsUnderPoint = function(x, y, mode) {\r\n\t\tvar arr = [];\r\n\t\tvar pt = this.localToGlobal(x, y);\r\n\t\tthis._getObjectsUnderPoint(pt.x, pt.y, arr, mode>0, mode==1);\r\n\t\treturn arr;\r\n\t};\r\n\r\n\t/**\r\n\t * Similar to {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}, but returns only the top-most display\r\n\t * object. This runs significantly faster than <code>getObjectsUnderPoint()</code>, but is still potentially an expensive\r\n\t * operation. See {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}} for more information.\r\n\t * @method getObjectUnderPoint\r\n\t * @param {Number} x The x position in the container to test.\r\n\t * @param {Number} y The y position in the container to test.\r\n\t * @param {Number} mode The mode to use to determine which display objects to include.  0-all, 1-respect mouseEnabled/mouseChildren, 2-only mouse opaque objects.\r\n\t * @return {DisplayObject} The top-most display object under the specified coordinates.\r\n\t **/\r\n\tp.getObjectUnderPoint = function(x, y, mode) {\r\n\t\tvar pt = this.localToGlobal(x, y);\r\n\t\treturn this._getObjectsUnderPoint(pt.x, pt.y, null, mode>0, mode==1);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getBounds = function() {\r\n\t\treturn this._getBounds(null, true);\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getTransformedBounds = function() {\r\n\t\treturn this._getBounds();\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Container. Some properties that are specific to this instance's current context are\r\n\t * reverted to their defaults (for example .parent).\r\n\t * @method clone\r\n\t * @param {Boolean} [recursive=false] If true, all of the descendants of this container will be cloned recursively. If false, the\r\n\t * properties of the container will be cloned, but the new instance will not have any children.\r\n\t * @return {Container} A clone of the current Container instance.\r\n\t **/\r\n\tp.clone = function(recursive) {\r\n\t\tvar o = this._cloneProps(new Container());\r\n\t\tif (recursive) { this._cloneChildren(o); }\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Container (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * @protected\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\tif (this.tickChildren) {\r\n\t\t\tfor (var i=this.children.length-1; i>=0; i--) {\r\n\t\t\t\tvar child = this.children[i];\r\n\t\t\t\tif (child.tickEnabled && child._tick) { child._tick(evtObj); }\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.DisplayObject__tick(evtObj);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Recursively clones all children of this container, and adds them to the target container.\r\n\t * @method cloneChildren\r\n\t * @protected\r\n\t * @param {Container} o The target container.\r\n\t **/\r\n\tp._cloneChildren = function(o) {\r\n\t\tif (o.children.length) { o.removeAllChildren(); }\r\n\t\tvar arr = o.children;\r\n\t\tfor (var i=0, l=this.children.length; i<l; i++) {\r\n\t\t\tvar clone = this.children[i].clone(true);\r\n\t\t\tclone.parent = o;\r\n\t\t\tarr.push(clone);\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * Removes the child at the specified index from the display list, and sets its parent to null.\r\n\t * Used by `removeChildAt`, `addChild`, and `addChildAt`.\r\n\t * @method removeChildAt\r\n\t * @protected\r\n\t * @param {Number} index The index of the child to remove.\r\n\t * @param {Boolean} [silent] Prevents dispatch of `removed` event if true.\r\n\t * @return {Boolean} true if the child (or children) was removed, or false if any index was out of range.\r\n\t **/\r\n\tp._removeChildAt = function(index, silent) {\r\n\t\tif (index < 0 || index > this.children.length-1) { return false; }\r\n\t\tvar child = this.children[index];\r\n\t\tif (child) { child.parent = null; }\r\n\t\tthis.children.splice(index, 1);\r\n\t\tif (!silent) { child.dispatchEvent(\"removed\"); }\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getObjectsUnderPoint\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Array} arr\r\n\t * @param {Boolean} mouse If true, it will respect mouse interaction properties like mouseEnabled, mouseChildren, and active listeners.\r\n\t * @param {Boolean} activeListener If true, there is an active mouse event listener on a parent object.\r\n\t * @param {Number} currentDepth Indicates the current depth of the search.\r\n\t * @return {DisplayObject}\r\n\t * @protected\r\n\t **/\r\n\tp._getObjectsUnderPoint = function(x, y, arr, mouse, activeListener, currentDepth) {\r\n\t\tcurrentDepth = currentDepth || 0;\r\n\t\tif (!currentDepth && !this._testMask(this, x, y)) { return null; }\r\n\t\tvar mtx, ctx = createjs.DisplayObject._hitTestContext;\r\n\t\tactiveListener = activeListener || (mouse&&this._hasMouseEventListener());\r\n\r\n\t\t// draw children one at a time, and check if we get a hit:\r\n\t\tvar children = this.children, l = children.length;\r\n\t\tfor (var i=l-1; i>=0; i--) {\r\n\t\t\tvar child = children[i];\r\n\t\t\tvar hitArea = child.hitArea;\r\n\t\t\tif (!child.visible || (!hitArea && !child.isVisible()) || (mouse && !child.mouseEnabled)) { continue; }\r\n\t\t\tif (!hitArea && !this._testMask(child, x, y)) { continue; }\r\n\t\t\t\r\n\t\t\t// if a child container has a hitArea then we only need to check its hitAre2a, so we can treat it as a normal DO:\r\n\t\t\tif (!hitArea && child instanceof Container) {\r\n\t\t\t\tvar result = child._getObjectsUnderPoint(x, y, arr, mouse, activeListener, currentDepth+1);\r\n\t\t\t\tif (!arr && result) { return (mouse && !this.mouseChildren) ? this : result; }\r\n\t\t\t} else {\r\n\t\t\t\tif (mouse && !activeListener && !child._hasMouseEventListener()) { continue; }\r\n\t\t\t\t\r\n\t\t\t\t// TODO: can we pass displayProps forward, to avoid having to calculate this backwards every time? It's kind of a mixed bag. When we're only hunting for DOs with event listeners, it may not make sense.\r\n\t\t\t\tvar props = child.getConcatenatedDisplayProps(child._props);\r\n\t\t\t\tmtx = props.matrix;\r\n\t\t\t\t\r\n\t\t\t\tif (hitArea) {\r\n\t\t\t\t\tmtx.appendMatrix(hitArea.getMatrix(hitArea._props.matrix));\r\n\t\t\t\t\tprops.alpha = hitArea.alpha;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tctx.globalAlpha = props.alpha;\r\n\t\t\t\tctx.setTransform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx-x, mtx.ty-y);\r\n\t\t\t\t(hitArea||child).draw(ctx);\r\n\t\t\t\tif (!this._testHit(ctx)) { continue; }\r\n\t\t\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\t\t\tctx.clearRect(0, 0, 2, 2);\r\n\t\t\t\tif (arr) { arr.push(child); }\r\n\t\t\t\telse { return (mouse && !this.mouseChildren) ? this : child; }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _testMask\r\n\t * @param {DisplayObject} target\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Boolean} Indicates whether the x/y is within the masked region.\r\n\t * @protected\r\n\t **/\r\n\tp._testMask = function(target, x, y) {\r\n\t\tvar mask = target.mask;\r\n\t\tif (!mask || !mask.graphics || mask.graphics.isEmpty()) { return true; }\r\n\t\t\r\n\t\tvar mtx = this._props.matrix, parent = target.parent;\r\n\t\tmtx = parent ? parent.getConcatenatedMatrix(mtx) : mtx.identity();\r\n\t\tmtx = mask.getMatrix(mask._props.matrix).prependMatrix(mtx);\r\n\t\t\r\n\t\tvar ctx = createjs.DisplayObject._hitTestContext;\r\n\t\tctx.setTransform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx-x, mtx.ty-y);\r\n\t\t\r\n\t\t// draw the mask as a solid fill:\r\n\t\tmask.graphics.drawAsPath(ctx);\r\n\t\tctx.fillStyle = \"#000\";\r\n\t\tctx.fill();\r\n\t\t\r\n\t\tif (!this._testHit(ctx)) { return false; }\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tctx.clearRect(0, 0, 2, 2);\r\n\t\t\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getBounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform If true, does not apply this object's transform.\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._getBounds = function(matrix, ignoreTransform) {\r\n\t\tvar bounds = this.DisplayObject_getBounds();\r\n\t\tif (bounds) { return this._transformBounds(bounds, matrix, ignoreTransform); }\r\n\t\t\r\n\t\tvar mtx = this._props.matrix;\r\n\t\tmtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\r\n\t\tif (matrix) { mtx.prependMatrix(matrix); }\r\n\t\t\r\n\t\tvar l = this.children.length, rect=null;\r\n\t\tfor (var i=0; i<l; i++) {\r\n\t\t\tvar child = this.children[i];\r\n\t\t\tif (!child.visible || !(bounds = child._getBounds(mtx))) { continue; }\r\n\t\t\tif (rect) { rect.extend(bounds.x, bounds.y, bounds.width, bounds.height); }\r\n\t\t\telse { rect = bounds.clone(); }\r\n\t\t}\r\n\t\treturn rect;\r\n\t};\r\n\r\n\r\n\tcreatejs.Container = createjs.promote(Container, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Stage.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * A stage is the root level {{#crossLink \"Container\"}}{{/crossLink}} for a display list. Each time its {{#crossLink \"Stage/tick\"}}{{/crossLink}}\r\n\t * method is called, it will render its display list to its target canvas.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a stage, adds a child to it, then uses {{#crossLink \"Ticker\"}}{{/crossLink}} to update the child\r\n\t * and redraw the stage using {{#crossLink \"Stage/update\"}}{{/crossLink}}.\r\n\t *\r\n\t *      var stage = new createjs.Stage(\"canvasElementId\");\r\n\t *      var image = new createjs.Bitmap(\"imagePath.png\");\r\n\t *      stage.addChild(image);\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      function handleTick(event) {\r\n\t *          image.x += 10;\r\n\t *          stage.update();\r\n\t *      }\r\n\t *\r\n\t * @class Stage\r\n\t * @extends Container\r\n\t * @constructor\r\n\t * @param {HTMLCanvasElement | String | Object} canvas A canvas object that the Stage will render to, or the string id\r\n\t * of a canvas object in the current document.\r\n\t **/\r\n\tfunction Stage(canvas) {\r\n\t\tthis.Container_constructor();\r\n\t\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * Indicates whether the stage should automatically clear the canvas before each render. You can set this to <code>false</code>\r\n\t\t * to manually control clearing (for generative art, or when pointing multiple stages at the same canvas for\r\n\t\t * example).\r\n\t\t *\r\n\t\t * <h4>Example</h4>\r\n\t\t *\r\n\t\t *      var stage = new createjs.Stage(\"canvasId\");\r\n\t\t *      stage.autoClear = false;\r\n\t\t *\r\n\t\t * @property autoClear\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.autoClear = true;\r\n\t\r\n\t\t/**\r\n\t\t * The canvas the stage will render to. Multiple stages can share a single canvas, but you must disable autoClear for all but the\r\n\t\t * first stage that will be ticked (or they will clear each other's render).\r\n\t\t *\r\n\t\t * When changing the canvas property you must disable the events on the old canvas, and enable events on the\r\n\t\t * new canvas or mouse events will not work as expected. For example:\r\n\t\t *\r\n\t\t *      myStage.enableDOMEvents(false);\r\n\t\t *      myStage.canvas = anotherCanvas;\r\n\t\t *      myStage.enableDOMEvents(true);\r\n\t\t *\r\n\t\t * @property canvas\r\n\t\t * @type HTMLCanvasElement | Object\r\n\t\t **/\r\n\t\tthis.canvas = (typeof canvas == \"string\") ? document.getElementById(canvas) : canvas;\r\n\t\r\n\t\t/**\r\n\t\t * The current mouse X position on the canvas. If the mouse leaves the canvas, this will indicate the most recent\r\n\t\t * position over the canvas, and mouseInBounds will be set to false.\r\n\t\t * @property mouseX\r\n\t\t * @type Number\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.mouseX = 0;\r\n\t\r\n\t\t/**\r\n\t\t * The current mouse Y position on the canvas. If the mouse leaves the canvas, this will indicate the most recent\r\n\t\t * position over the canvas, and mouseInBounds will be set to false.\r\n\t\t * @property mouseY\r\n\t\t * @type Number\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.mouseY = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies the area of the stage to affect when calling update. This can be use to selectively\r\n\t\t * re-draw specific regions of the canvas. If null, the whole canvas area is drawn.\r\n\t\t * @property drawRect\r\n\t\t * @type {Rectangle}\r\n\t\t */\r\n\t\tthis.drawRect = null;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether display objects should be rendered on whole pixels. You can set the\r\n\t\t * {{#crossLink \"DisplayObject/snapToPixel\"}}{{/crossLink}} property of\r\n\t\t * display objects to false to enable/disable this behaviour on a per instance basis.\r\n\t\t * @property snapToPixelEnabled\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.snapToPixelEnabled = false;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether the mouse is currently within the bounds of the canvas.\r\n\t\t * @property mouseInBounds\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.mouseInBounds = false;\r\n\t\r\n\t\t/**\r\n\t\t * If true, tick callbacks will be called on all display objects on the stage prior to rendering to the canvas.\r\n\t\t * @property tickOnUpdate\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.tickOnUpdate = true;\r\n\t\r\n\t\t/**\r\n\t\t * If true, mouse move events will continue to be called when the mouse leaves the target canvas. See\r\n\t\t * {{#crossLink \"Stage/mouseInBounds:property\"}}{{/crossLink}}, and {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t\t * x/y/rawX/rawY.\r\n\t\t * @property mouseMoveOutside\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.mouseMoveOutside = false;\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Prevents selection of other elements in the html page if the user clicks and drags, or double clicks on the canvas.\r\n\t\t * This works by calling `preventDefault()` on any mousedown events (or touch equivalent) originating on the canvas.\r\n\t\t * @property preventSelection\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.preventSelection = true;\r\n\t\r\n\t\t/**\r\n\t\t * The hitArea property is not supported for Stage.\r\n\t\t * @property hitArea\r\n\t\t * @type {DisplayObject}\r\n\t\t * @default null\r\n\t\t */\r\n\t\t \r\n\t\t \r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Holds objects with data for each active pointer id. Each object has the following properties:\r\n\t\t * x, y, event, target, overTarget, overX, overY, inBounds, posEvtObj (native event that last updated position)\r\n\t\t * @property _pointerData\r\n\t\t * @type {Object}\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._pointerData = {};\r\n\t\r\n\t\t/**\r\n\t\t * Number of active pointers.\r\n\t\t * @property _pointerCount\r\n\t\t * @type {Object}\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._pointerCount = 0;\r\n\t\r\n\t\t/**\r\n\t\t * The ID of the primary pointer.\r\n\t\t * @property _primaryPointerID\r\n\t\t * @type {Object}\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._primaryPointerID = null;\r\n\t\r\n\t\t/**\r\n\t\t * @property _mouseOverIntervalID\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._mouseOverIntervalID = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _nextStage\r\n\t\t * @protected\r\n\t\t * @type Stage\r\n\t\t **/\r\n\t\tthis._nextStage = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _prevStage\r\n\t\t * @protected\r\n\t\t * @type Stage\r\n\t\t **/\r\n\t\tthis._prevStage = null;\r\n\t\t\r\n\t\t\r\n\t// initialize:\r\n\t\tthis.enableDOMEvents(true);\r\n\t}\r\n\tvar p = createjs.extend(Stage, createjs.Container);\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when the user moves the mouse over the canvas.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event stagemousemove\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user presses their left mouse button on the canvas. See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t * class for a listing of event properties.\r\n\t * @event stagemousedown\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user the user presses somewhere on the stage, then releases the mouse button anywhere that the page can detect it (this varies slightly between browsers).\r\n\t * You can use {{#crossLink \"Stage/mouseInBounds:property\"}}{{/crossLink}} to check whether the mouse is currently within the stage bounds.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event stagemouseup\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the mouse moves from within the canvas area (mouseInBounds == true) to outside it (mouseInBounds == false).\r\n\t * This is currently only dispatched for mouse input (not touch). See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t * class for a listing of event properties.\r\n\t * @event mouseleave\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the mouse moves into the canvas area (mouseInBounds == false) from outside it (mouseInBounds == true).\r\n\t * This is currently only dispatched for mouse input (not touch). See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t * class for a listing of event properties.\r\n\t * @event mouseenter\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately before the tick event is propagated through the display list.\r\n\t * You can call preventDefault on the event object to cancel propagating the tick event.\r\n\t * @event tickstart\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately after the tick event is propagated through the display list. Does not fire if\r\n\t * tickOnUpdate is false. Precedes the \"drawstart\" event.\r\n\t * @event tickend\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately before the canvas is cleared and the display list is drawn to it.\r\n\t * You can call preventDefault on the event object to cancel the draw.\r\n\t * @event drawstart\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately after the display list is drawn to the canvas and the canvas context is restored.\r\n\t * @event drawend\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t \r\n// getter / setters:\r\n\t/**\r\n\t * Specifies a target stage that will have mouse / touch interactions relayed to it after this stage handles them.\r\n\t * This can be useful in cases where you have multiple layered canvases and want user interactions\r\n\t * events to pass through. For example, this would relay mouse events from topStage to bottomStage:\r\n\t *\r\n\t *      topStage.nextStage = bottomStage;\r\n\t *\r\n\t * To disable relaying, set nextStage to null.\r\n\t * \r\n\t * MouseOver, MouseOut, RollOver, and RollOut interactions are also passed through using the mouse over settings\r\n\t * of the top-most stage, but are only processed if the target stage has mouse over interactions enabled.\r\n\t * Considerations when using roll over in relay targets:<OL>\r\n\t * <LI> The top-most (first) stage must have mouse over interactions enabled (via enableMouseOver)</LI>\r\n\t * <LI> All stages that wish to participate in mouse over interaction must enable them via enableMouseOver</LI>\r\n\t * <LI> All relay targets will share the frequency value of the top-most stage</LI>\r\n\t * </OL>\r\n\t * To illustrate, in this example the targetStage would process mouse over interactions at 10hz (despite passing\r\n\t * 30 as it's desired frequency):\r\n\t * \ttopStage.nextStage = targetStage;\r\n\t * \ttopStage.enableMouseOver(10);\r\n\t * \ttargetStage.enableMouseOver(30);\r\n\t * \r\n\t * If the target stage's canvas is completely covered by this stage's canvas, you may also want to disable its\r\n\t * DOM events using:\r\n\t * \r\n\t *\ttargetStage.enableDOMEvents(false);\r\n\t * \r\n\t * @property nextStage\r\n\t * @type {Stage}\r\n\t **/\r\n\tp._get_nextStage = function() {\r\n\t\treturn this._nextStage;\r\n\t};\r\n\tp._set_nextStage = function(value) {\r\n\t\tif (this._nextStage) { this._nextStage._prevStage = null; }\r\n\t\tif (value) { value._prevStage = this; }\r\n\t\tthis._nextStage = value;\r\n\t};\r\n\t\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tnextStage: { get: p._get_nextStage, set: p._set_nextStage }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Each time the update method is called, the stage will call {{#crossLink \"Stage/tick\"}}{{/crossLink}}\r\n\t * unless {{#crossLink \"Stage/tickOnUpdate:property\"}}{{/crossLink}} is set to false,\r\n\t * and then render the display list to the canvas.\r\n\t *\r\n\t * @method update\r\n\t * @param {Object} [props] Props object to pass to `tick()`. Should usually be a {{#crossLink \"Ticker\"}}{{/crossLink}} event object, or similar object with a delta property.\r\n\t **/\r\n\tp.update = function(props) {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tif (this.dispatchEvent(\"drawstart\", false, true) === false) { return; }\r\n\t\tcreatejs.DisplayObject._snapToPixelEnabled = this.snapToPixelEnabled;\r\n\t\tvar r = this.drawRect, ctx = this.canvas.getContext(\"2d\");\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tif (this.autoClear) {\r\n\t\t\tif (r) { ctx.clearRect(r.x, r.y, r.width, r.height); }\r\n\t\t\telse { ctx.clearRect(0, 0, this.canvas.width+1, this.canvas.height+1); }\r\n\t\t}\r\n\t\tctx.save();\r\n\t\tif (this.drawRect) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(r.x, r.y, r.width, r.height);\r\n\t\t\tctx.clip();\r\n\t\t}\r\n\t\tthis.updateContext(ctx);\r\n\t\tthis.draw(ctx, false);\r\n\t\tctx.restore();\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t};\r\n\t\r\n\t/**\r\n\t * Propagates a tick event through the display list. This is automatically called by {{#crossLink \"Stage/update\"}}{{/crossLink}}\r\n\t * unless {{#crossLink \"Stage/tickOnUpdate:property\"}}{{/crossLink}} is set to false.\r\n\t *\r\n\t * If a props object is passed to `tick()`, then all of its properties will be copied to the event object that is\r\n\t * propagated to listeners.\r\n\t *\r\n\t * Some time-based features in EaselJS (for example {{#crossLink \"Sprite/framerate\"}}{{/crossLink}} require that\r\n\t * a {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}} event object (or equivalent object with a delta property) be\r\n\t * passed as the `props` parameter to `tick()`. For example:\r\n\t *\r\n\t * \tTicker.on(\"tick\", handleTick);\r\n\t * \tfunction handleTick(evtObj) {\r\n\t * \t\t// clone the event object from Ticker, and add some custom data to it:\r\n\t * \t\tvar evt = evtObj.clone().set({greeting:\"hello\", name:\"world\"});\r\n\t * \t\t\r\n\t * \t\t// pass it to stage.update():\r\n\t * \t\tmyStage.update(evt); // subsequently calls tick() with the same param\r\n\t * \t}\r\n\t * \t\r\n\t * \t// ...\r\n\t * \tmyDisplayObject.on(\"tick\", handleDisplayObjectTick);\r\n\t * \tfunction handleDisplayObjectTick(evt) {\r\n\t * \t\tconsole.log(evt.delta); // the delta property from the Ticker tick event object\r\n\t * \t\tconsole.log(evt.greeting, evt.name); // custom data: \"hello world\"\r\n\t * \t}\r\n\t * \r\n\t * @method tick\r\n\t * @param {Object} [props] An object with properties that should be copied to the event object. Should usually be a Ticker event object, or similar object with a delta property.\r\n\t **/\r\n\tp.tick = function(props) {\r\n\t\tif (!this.tickEnabled || this.dispatchEvent(\"tickstart\", false, true) === false) { return; }\r\n\t\tvar evtObj = new createjs.Event(\"tick\");\r\n\t\tif (props) {\r\n\t\t\tfor (var n in props) {\r\n\t\t\t\tif (props.hasOwnProperty(n)) { evtObj[n] = props[n]; }\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._tick(evtObj);\r\n\t\tthis.dispatchEvent(\"tickend\");\r\n\t};\r\n\r\n\t/**\r\n\t * Default event handler that calls the Stage {{#crossLink \"Stage/update\"}}{{/crossLink}} method when a {{#crossLink \"DisplayObject/tick:event\"}}{{/crossLink}}\r\n\t * event is received. This allows you to register a Stage instance as a event listener on {{#crossLink \"Ticker\"}}{{/crossLink}}\r\n\t * directly, using:\r\n\t *\r\n\t *      Ticker.addEventListener(\"tick\", myStage);\r\n\t *\r\n\t * Note that if you subscribe to ticks using this pattern, then the tick event object will be passed through to\r\n\t * display object tick handlers, instead of <code>delta</code> and <code>paused</code> parameters.\r\n\t * @property handleEvent\r\n\t * @type Function\r\n\t **/\r\n\tp.handleEvent = function(evt) {\r\n\t\tif (evt.type == \"tick\") { this.update(evt); }\r\n\t};\r\n\r\n\t/**\r\n\t * Clears the target canvas. Useful if {{#crossLink \"Stage/autoClear:property\"}}{{/crossLink}} is set to `false`.\r\n\t * @method clear\r\n\t **/\r\n\tp.clear = function() {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tvar ctx = this.canvas.getContext(\"2d\");\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tctx.clearRect(0, 0, this.canvas.width+1, this.canvas.height+1);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a data url that contains a Base64-encoded image of the contents of the stage. The returned data url can\r\n\t * be specified as the src value of an image element.\r\n\t * @method toDataURL\r\n\t * @param {String} [backgroundColor] The background color to be used for the generated image. Any valid CSS color\r\n\t * value is allowed. The default value is a transparent background.\r\n\t * @param {String} [mimeType=\"image/png\"] The MIME type of the image format to be create. The default is \"image/png\". If an unknown MIME type\r\n\t * is passed in, or if the browser does not support the specified MIME type, the default value will be used.\r\n\t * @return {String} a Base64 encoded image.\r\n\t **/\r\n\tp.toDataURL = function(backgroundColor, mimeType) {\r\n\t\tvar data, ctx = this.canvas.getContext('2d'), w = this.canvas.width, h = this.canvas.height;\r\n\r\n\t\tif (backgroundColor) {\r\n\t\t\tdata = ctx.getImageData(0, 0, w, h);\r\n\t\t\tvar compositeOperation = ctx.globalCompositeOperation;\r\n\t\t\tctx.globalCompositeOperation = \"destination-over\";\r\n\t\t\t\r\n\t\t\tctx.fillStyle = backgroundColor;\r\n\t\t\tctx.fillRect(0, 0, w, h);\r\n\t\t}\r\n\r\n\t\tvar dataURL = this.canvas.toDataURL(mimeType||\"image/png\");\r\n\r\n\t\tif(backgroundColor) {\r\n\t\t\tctx.putImageData(data, 0, 0);\r\n\t\t\tctx.globalCompositeOperation = compositeOperation;\r\n\t\t}\r\n\r\n\t\treturn dataURL;\r\n\t};\r\n\r\n\t/**\r\n\t * Enables or disables (by passing a frequency of 0) mouse over ({{#crossLink \"DisplayObject/mouseover:event\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"DisplayObject/mouseout:event\"}}{{/crossLink}}) and roll over events ({{#crossLink \"DisplayObject/rollover:event\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"DisplayObject/rollout:event\"}}{{/crossLink}}) for this stage's display list. These events can\r\n\t * be expensive to generate, so they are disabled by default. The frequency of the events can be controlled\r\n\t * independently of mouse move events via the optional `frequency` parameter.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var stage = new createjs.Stage(\"canvasId\");\r\n\t *      stage.enableMouseOver(10); // 10 updates per second\r\n\t *\r\n\t * @method enableMouseOver\r\n\t * @param {Number} [frequency=20] Optional param specifying the maximum number of times per second to broadcast\r\n\t * mouse over/out events. Set to 0 to disable mouse over events completely. Maximum is 50. A lower frequency is less\r\n\t * responsive, but uses less CPU.\r\n\t **/\r\n\tp.enableMouseOver = function(frequency) {\r\n\t\tif (this._mouseOverIntervalID) {\r\n\t\t\tclearInterval(this._mouseOverIntervalID);\r\n\t\t\tthis._mouseOverIntervalID = null;\r\n\t\t\tif (frequency == 0) {\r\n\t\t\t\tthis._testMouseOver(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequency == null) { frequency = 20; }\r\n\t\telse if (frequency <= 0) { return; }\r\n\t\tvar o = this;\r\n\t\tthis._mouseOverIntervalID = setInterval(function(){ o._testMouseOver(); }, 1000/Math.min(50,frequency));\r\n\t};\r\n\r\n\t/**\r\n\t * Enables or disables the event listeners that stage adds to DOM elements (window, document and canvas). It is good\r\n\t * practice to disable events when disposing of a Stage instance, otherwise the stage will continue to receive\r\n\t * events from the page.\r\n\t *\r\n\t * When changing the canvas property you must disable the events on the old canvas, and enable events on the\r\n\t * new canvas or mouse events will not work as expected. For example:\r\n\t *\r\n\t *      myStage.enableDOMEvents(false);\r\n\t *      myStage.canvas = anotherCanvas;\r\n\t *      myStage.enableDOMEvents(true);\r\n\t *\r\n\t * @method enableDOMEvents\r\n\t * @param {Boolean} [enable=true] Indicates whether to enable or disable the events. Default is true.\r\n\t **/\r\n\tp.enableDOMEvents = function(enable) {\r\n\t\tif (enable == null) { enable = true; }\r\n\t\tvar n, o, ls = this._eventListeners;\r\n\t\tif (!enable && ls) {\r\n\t\t\tfor (n in ls) {\r\n\t\t\t\to = ls[n];\r\n\t\t\t\to.t.removeEventListener(n, o.f, false);\r\n\t\t\t}\r\n\t\t\tthis._eventListeners = null;\r\n\t\t} else if (enable && !ls && this.canvas) {\r\n\t\t\tvar t = window.addEventListener ? window : document;\r\n\t\t\tvar _this = this;\r\n\t\t\tls = this._eventListeners = {};\r\n\t\t\tls[\"mouseup\"] = {t:t, f:function(e) { _this._handleMouseUp(e)} };\r\n\t\t\tls[\"mousemove\"] = {t:t, f:function(e) { _this._handleMouseMove(e)} };\r\n\t\t\tls[\"dblclick\"] = {t:this.canvas, f:function(e) { _this._handleDoubleClick(e)} };\r\n\t\t\tls[\"mousedown\"] = {t:this.canvas, f:function(e) { _this._handleMouseDown(e)} };\r\n\r\n\t\t\tfor (n in ls) {\r\n\t\t\t\to = ls[n];\r\n\t\t\t\to.t.addEventListener(n, o.f, false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Stage instances cannot be cloned.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tthrow(\"Stage cannot be cloned.\");\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Stage (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _getElementRect\r\n\t * @protected\r\n\t * @param {HTMLElement} e\r\n\t **/\r\n\tp._getElementRect = function(e) {\r\n\t\tvar bounds;\r\n\t\ttry { bounds = e.getBoundingClientRect(); } // this can fail on disconnected DOM elements in IE9\r\n\t\tcatch (err) { bounds = {top: e.offsetTop, left: e.offsetLeft, width:e.offsetWidth, height:e.offsetHeight}; }\r\n\r\n\t\tvar offX = (window.pageXOffset || document.scrollLeft || 0) - (document.clientLeft || document.body.clientLeft || 0);\r\n\t\tvar offY = (window.pageYOffset || document.scrollTop || 0) - (document.clientTop  || document.body.clientTop  || 0);\r\n\r\n\t\tvar styles = window.getComputedStyle ? getComputedStyle(e,null) : e.currentStyle; // IE <9 compatibility.\r\n\t\tvar padL = parseInt(styles.paddingLeft)+parseInt(styles.borderLeftWidth);\r\n\t\tvar padT = parseInt(styles.paddingTop)+parseInt(styles.borderTopWidth);\r\n\t\tvar padR = parseInt(styles.paddingRight)+parseInt(styles.borderRightWidth);\r\n\t\tvar padB = parseInt(styles.paddingBottom)+parseInt(styles.borderBottomWidth);\r\n\r\n\t\t// note: in some browsers bounds properties are read only.\r\n\t\treturn {\r\n\t\t\tleft: bounds.left+offX+padL,\r\n\t\t\tright: bounds.right+offX-padR,\r\n\t\t\ttop: bounds.top+offY+padT,\r\n\t\t\tbottom: bounds.bottom+offY-padB\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getPointerData\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t **/\r\n\tp._getPointerData = function(id) {\r\n\t\tvar data = this._pointerData[id];\r\n\t\tif (!data) { data = this._pointerData[id] = {x:0,y:0}; }\r\n\t\treturn data;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMouseMove\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t **/\r\n\tp._handleMouseMove = function(e) {\r\n\t\tif(!e){ e = window.event; }\r\n\t\tthis._handlePointerMove(-1, e, e.pageX, e.pageY);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handlePointerMove\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Number} pageX\r\n\t * @param {Number} pageY\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handlePointerMove = function(id, e, pageX, pageY, owner) {\r\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\r\n\t\tif (!this.canvas) { return; }\r\n\t\tvar nextStage=this._nextStage, o=this._getPointerData(id);\r\n\r\n\t\tvar inBounds = o.inBounds;\r\n\t\tthis._updatePointerPosition(id, e, pageX, pageY);\r\n\t\tif (inBounds || o.inBounds || this.mouseMoveOutside) {\r\n\t\t\tif (id === -1 && o.inBounds == !inBounds) {\r\n\t\t\t\tthis._dispatchMouseEvent(this, (inBounds ? \"mouseleave\" : \"mouseenter\"), false, id, o, e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._dispatchMouseEvent(this, \"stagemousemove\", false, id, o, e);\r\n\t\t\tthis._dispatchMouseEvent(o.target, \"pressmove\", true, id, o, e);\r\n\t\t}\r\n\t\t\r\n\t\tnextStage&&nextStage._handlePointerMove(id, e, pageX, pageY, null);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _updatePointerPosition\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Number} pageX\r\n\t * @param {Number} pageY\r\n\t **/\r\n\tp._updatePointerPosition = function(id, e, pageX, pageY) {\r\n\t\tvar rect = this._getElementRect(this.canvas);\r\n\t\tpageX -= rect.left;\r\n\t\tpageY -= rect.top;\r\n\r\n\t\tvar w = this.canvas.width;\r\n\t\tvar h = this.canvas.height;\r\n\t\tpageX /= (rect.right-rect.left)/w;\r\n\t\tpageY /= (rect.bottom-rect.top)/h;\r\n\t\tvar o = this._getPointerData(id);\r\n\t\tif (o.inBounds = (pageX >= 0 && pageY >= 0 && pageX <= w-1 && pageY <= h-1)) {\r\n\t\t\to.x = pageX;\r\n\t\t\to.y = pageY;\r\n\t\t} else if (this.mouseMoveOutside) {\r\n\t\t\to.x = pageX < 0 ? 0 : (pageX > w-1 ? w-1 : pageX);\r\n\t\t\to.y = pageY < 0 ? 0 : (pageY > h-1 ? h-1 : pageY);\r\n\t\t}\r\n\r\n\t\to.posEvtObj = e;\r\n\t\to.rawX = pageX;\r\n\t\to.rawY = pageY;\r\n\r\n\t\tif (id === this._primaryPointerID || id === -1) {\r\n\t\t\tthis.mouseX = o.x;\r\n\t\t\tthis.mouseY = o.y;\r\n\t\t\tthis.mouseInBounds = o.inBounds;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMouseUp\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t **/\r\n\tp._handleMouseUp = function(e) {\r\n\t\tthis._handlePointerUp(-1, e, false);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handlePointerUp\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Boolean} clear\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handlePointerUp = function(id, e, clear, owner) {\r\n\t\tvar nextStage = this._nextStage, o = this._getPointerData(id);\r\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\r\n\t\t\r\n\t\tvar target=null, oTarget = o.target;\r\n\t\tif (!owner && (oTarget || nextStage)) { target = this._getObjectsUnderPoint(o.x, o.y, null, true); }\r\n\t\t\r\n\t\tif (o.down) { this._dispatchMouseEvent(this, \"stagemouseup\", false, id, o, e, target); o.down = false; }\r\n\t\t\r\n\t\tif (target == oTarget) { this._dispatchMouseEvent(oTarget, \"click\", true, id, o, e); }\r\n\t\tthis._dispatchMouseEvent(oTarget, \"pressup\", true, id, o, e);\r\n\t\t\r\n\t\tif (clear) {\r\n\t\t\tif (id==this._primaryPointerID) { this._primaryPointerID = null; }\r\n\t\t\tdelete(this._pointerData[id]);\r\n\t\t} else { o.target = null; }\r\n\t\t\r\n\t\tnextStage&&nextStage._handlePointerUp(id, e, clear, owner || target && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMouseDown\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t **/\r\n\tp._handleMouseDown = function(e) {\r\n\t\tthis._handlePointerDown(-1, e, e.pageX, e.pageY);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handlePointerDown\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Number} pageX\r\n\t * @param {Number} pageY\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handlePointerDown = function(id, e, pageX, pageY, owner) {\r\n\t\tif (this.preventSelection) { e.preventDefault(); }\r\n\t\tif (this._primaryPointerID == null || id === -1) { this._primaryPointerID = id; } // mouse always takes over.\r\n\t\t\r\n\t\tif (pageY != null) { this._updatePointerPosition(id, e, pageX, pageY); }\r\n\t\tvar target = null, nextStage = this._nextStage, o = this._getPointerData(id);\r\n\t\tif (!owner) { target = o.target = this._getObjectsUnderPoint(o.x, o.y, null, true); }\r\n\r\n\t\tif (o.inBounds) { this._dispatchMouseEvent(this, \"stagemousedown\", false, id, o, e, target); o.down = true; }\r\n\t\tthis._dispatchMouseEvent(target, \"mousedown\", true, id, o, e);\r\n\t\t\r\n\t\tnextStage&&nextStage._handlePointerDown(id, e, pageX, pageY, owner || target && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _testMouseOver\r\n\t * @param {Boolean} clear If true, clears the mouseover / rollover (ie. no target)\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t * @param {Stage} eventTarget The stage that the cursor is actively over.\r\n\t * @protected\r\n\t **/\r\n\tp._testMouseOver = function(clear, owner, eventTarget) {\r\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\r\n\t\t\r\n\t\tvar nextStage = this._nextStage;\r\n\t\tif (!this._mouseOverIntervalID) {\r\n\t\t\t// not enabled for mouseover, but should still relay the event.\r\n\t\t\tnextStage&&nextStage._testMouseOver(clear, owner, eventTarget);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar o = this._getPointerData(-1);\r\n\t\t// only update if the mouse position has changed. This provides a lot of optimization, but has some trade-offs.\r\n\t\tif (!o || (!clear && this.mouseX == this._mouseOverX && this.mouseY == this._mouseOverY && this.mouseInBounds)) { return; }\r\n\t\t\r\n\t\tvar e = o.posEvtObj;\r\n\t\tvar isEventTarget = eventTarget || e&&(e.target == this.canvas);\r\n\t\tvar target=null, common = -1, cursor=\"\", t, i, l;\r\n\t\t\r\n\t\tif (!owner && (clear || this.mouseInBounds && isEventTarget)) {\r\n\t\t\ttarget = this._getObjectsUnderPoint(this.mouseX, this.mouseY, null, true);\r\n\t\t\tthis._mouseOverX = this.mouseX;\r\n\t\t\tthis._mouseOverY = this.mouseY;\r\n\t\t}\r\n\r\n\t\tvar oldList = this._mouseOverTarget||[];\r\n\t\tvar oldTarget = oldList[oldList.length-1];\r\n\t\tvar list = this._mouseOverTarget = [];\r\n\r\n\t\t// generate ancestor list and check for cursor:\r\n\t\tt = target;\r\n\t\twhile (t) {\r\n\t\t\tlist.unshift(t);\r\n\t\t\tif (!cursor) { cursor = t.cursor; }\r\n\t\t\tt = t.parent;\r\n\t\t}\r\n\t\tthis.canvas.style.cursor = cursor;\r\n\t\tif (!owner && eventTarget) { eventTarget.canvas.style.cursor = cursor; }\r\n\r\n\t\t// find common ancestor:\r\n\t\tfor (i=0,l=list.length; i<l; i++) {\r\n\t\t\tif (list[i] != oldList[i]) { break; }\r\n\t\t\tcommon = i;\r\n\t\t}\r\n\r\n\t\tif (oldTarget != target) {\r\n\t\t\tthis._dispatchMouseEvent(oldTarget, \"mouseout\", true, -1, o, e, target);\r\n\t\t}\r\n\r\n\t\tfor (i=oldList.length-1; i>common; i--) {\r\n\t\t\tthis._dispatchMouseEvent(oldList[i], \"rollout\", false, -1, o, e, target);\r\n\t\t}\r\n\r\n\t\tfor (i=list.length-1; i>common; i--) {\r\n\t\t\tthis._dispatchMouseEvent(list[i], \"rollover\", false, -1, o, e, oldTarget);\r\n\t\t}\r\n\r\n\t\tif (oldTarget != target) {\r\n\t\t\tthis._dispatchMouseEvent(target, \"mouseover\", true, -1, o, e, oldTarget);\r\n\t\t}\r\n\t\t\r\n\t\tnextStage&&nextStage._testMouseOver(clear, owner || target && this, eventTarget || isEventTarget && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleDoubleClick\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handleDoubleClick = function(e, owner) {\r\n\t\tvar target=null, nextStage=this._nextStage, o=this._getPointerData(-1);\r\n\t\tif (!owner) {\r\n\t\t\ttarget = this._getObjectsUnderPoint(o.x, o.y, null, true);\r\n\t\t\tthis._dispatchMouseEvent(target, \"dblclick\", true, -1, o, e);\r\n\t\t}\r\n\t\tnextStage&&nextStage._handleDoubleClick(e, owner || target && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _dispatchMouseEvent\r\n\t * @protected\r\n\t * @param {DisplayObject} target\r\n\t * @param {String} type\r\n\t * @param {Boolean} bubbles\r\n\t * @param {Number} pointerId\r\n\t * @param {Object} o\r\n\t * @param {MouseEvent} [nativeEvent]\r\n\t * @param {DisplayObject} [relatedTarget]\r\n\t **/\r\n\tp._dispatchMouseEvent = function(target, type, bubbles, pointerId, o, nativeEvent, relatedTarget) {\r\n\t\t// TODO: might be worth either reusing MouseEvent instances, or adding a willTrigger method to avoid GC.\r\n\t\tif (!target || (!bubbles && !target.hasEventListener(type))) { return; }\r\n\t\t/*\r\n\t\t// TODO: account for stage transformations?\r\n\t\tthis._mtx = this.getConcatenatedMatrix(this._mtx).invert();\r\n\t\tvar pt = this._mtx.transformPoint(o.x, o.y);\r\n\t\tvar evt = new createjs.MouseEvent(type, bubbles, false, pt.x, pt.y, nativeEvent, pointerId, pointerId==this._primaryPointerID || pointerId==-1, o.rawX, o.rawY);\r\n\t\t*/\r\n\t\tvar evt = new createjs.MouseEvent(type, bubbles, false, o.x, o.y, nativeEvent, pointerId, pointerId === this._primaryPointerID || pointerId === -1, o.rawX, o.rawY, relatedTarget);\r\n\t\ttarget.dispatchEvent(evt);\r\n\t};\r\n\r\n\r\n\tcreatejs.Stage = createjs.promote(Stage, \"Container\");\r\n}());\r\n\r\n//##############################################################################\r\n// StageGL.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/*\r\n * README IF EDITING:\r\n * Terminology for developers:\r\n *\r\n * Vertex: a point that help defines a shape, 3 per triangle. Usually has an x,y,z but can have more/less info.\r\n * Vertex Property: a piece of information attached to the vertex like a vector3 containing x,y,z\r\n * Index/Indices: used in groups of 3 to define a triangle, points to vertices by their index in an array (some render\r\n * \t\tmodes do not use these)\r\n * Card: a group of 2 triangles used to display a rectangular image\r\n * U/V: common names for the [0-1] texture co-ordinates on an image\r\n * Batch: a single call to the renderer, best done as little as possible so multiple cards are put into a single batch\r\n * Buffer: WebGL array data\r\n * Program/Shader: For every vertex we run the Vertex shader. The results are used per pixel by the Fragment shader. When\r\n * \t\tcombined and paired these are a shader \"program\"\r\n * Texture: WebGL representation of image data and associated extra information\r\n * Slot: A space on the GPU into which textures can be loaded for use in a batch, using \"ActiveTexture\" switches texture slot.\r\n */\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * A StageGL instance is the root level {{#crossLink \"Container\"}}{{/crossLink}} for an WebGL-optimized display list,\r\n\t * which is used in place of the usual {{#crossLink \"Stage\"}}{{/crossLink}}. This class should behave identically to\r\n\t * a {{#crossLink \"Stage\"}}{{/crossLink}} except for WebGL-specific functionality.\r\n\t *\r\n\t * Each time the {{#crossLink \"Stage/tick\"}}{{/crossLink}} method is called, the display list is rendered to the\r\n\t * target &lt;canvas/&gt; instance, ignoring non-WebGL-compatible display objects. On devices and browsers that don't\r\n\t * support WebGL, content will automatically be rendered to canvas 2D context instead.\r\n\t *\r\n\t * <h4>Limitations</h4>\r\n\t * - {{#crossLink \"Shape\"}}{{/crossLink}}, {{#crossLink \"Shadow\"}}{{/crossLink}}, and {{#crossLink \"Text\"}}{{/crossLink}}\r\n\t * \tare not rendered when added to the display list.\r\n\t * - To display something StageGL cannot render, {{#crossLink \"displayObject/cache\"}}{{/crossLink}} the object.\r\n\t *\tCaches can be rendered regardless of source.\r\n\t * - Images are wrapped as a webGL \"Texture\". Each graphics card has a limit to its concurrent Textures, too many \r\n\t * Textures will noticeably slow performance.\r\n\t * - Each cache counts as an individual Texture. As such {{#crossLink \"SpriteSheet\"}}{{/crossLink}} and \r\n\t * {{#crossLink \"SpriteSheetBuilder\"}}{{/crossLink}} are recommended practices to help keep texture counts low.\r\n\t * - To use any image node (DOM Image/Canvas Element) between multiple StageGL instances it must be a \r\n\t * {{#crossLink \"Bitmap/clone\"}}{{/crossLink}}, otherwise the GPU texture loading and tracking will get confused.\r\n\t * - to avoid an up/down scaled render you must call {{#crossLink \"StageGL/updateViewport\"}}{{/crossLink}} if you\r\n\t * resize your canvas after making a StageGL instance, this will properly size the WebGL context stored in memory.\r\n\t * - Best performance in demanding scenarios will come from manual management of texture memory, but it is handled\r\n\t * automatically by default. See {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}} for details.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a StageGL instance, adds a child to it, then uses the EaselJS {{#crossLink \"Ticker\"}}{{/crossLink}}\r\n\t * to update the child and redraw the stage.\r\n\t *\r\n\t *      var stage = new createjs.StageGL(\"canvasElementId\");\r\n\t *\r\n\t *      var image = new createjs.Bitmap(\"imagePath.png\");\r\n\t *      stage.addChild(image);\r\n\t *\r\n\t *      createjs.Ticker.on(\"tick\", handleTick);\r\n\t *\r\n\t *      function handleTick(event) {\r\n\t *          image.x += 10;\r\n\t *          stage.update();\r\n\t *      }\r\n\t *\r\n\t * <h4>Notes</h4>\r\n\t * - StageGL is not currently included in the minified version of EaselJS.\r\n\t * - {{#crossLink \"SpriteContainer\"}}{{/crossLink}} (the previous approach to WebGL with EaselJS) has been deprecated.\r\n\t * - Earlier versions of WebGL support in EaselJS (SpriteStage and SpriteContainer) had hard limitations on images\r\n\t * \tper container, which have been solved.\r\n\t *\r\n\t * @class StageGL\r\n\t * @extends Stage\r\n\t * @constructor\r\n\t * @param {HTMLCanvasElement | String | Object} canvas A canvas object that StageGL will render to, or the string id\r\n\t *  of a canvas object in the current DOM.\r\n\t * @param {Object} options All the option parameters in a reference object, some are not supported by some browsers.\r\n\t * @param {Boolean} [options.preserveBuffer=false] If `true`, the canvas is NOT auto-cleared by WebGL (the spec\r\n\t *  discourages setting this to `true`). This is useful if you want persistent draw effects.\r\n\t * @param {Boolean} [options.antialias=false] Specifies whether or not the browser's WebGL implementation should try\r\n\t *  to perform anti-aliasing. This will also enable linear pixel sampling on power-of-two textures (smoother images).\r\n\t * @param {Boolean} [options.transparent=false] If `true`, the canvas is transparent. This is <strong>very</strong>\r\n\t * expensive, and should be used with caution.\r\n\t * @param {Boolean} [options.premultiply=false] Alters color handling. If `true`, this assumes the shader must\r\n\t * account for pre-multiplied alpha. This can help avoid visual halo effects with some assets, but may also cause\r\n\t * problems with other assets.\r\n\t * @param {Integer} [options.autoPurge=1200] How often the system should automatically dump unused textures with\r\n\t * `purgeTextures(autoPurge)` every `autoPurge/2` draws. See {{#crossLink \"StageGL/purgeTextures\"}}{{/crossLink}} for more\r\n\t * information.\r\n\t */\r\n\tfunction StageGL(canvas, options) {\r\n\t\tthis.Stage_constructor(canvas);\r\n\r\n\t\tif (options !== undefined) {\r\n\t\t\tif (typeof options !== \"object\"){ throw(\"Invalid options object\"); }\r\n\t\t\tvar premultiply = options.premultiply;\r\n\t\t\tvar transparent = options.transparent;\r\n\t\t\tvar antialias = options.antialias;\r\n\t\t\tvar preserveBuffer = options.preserveBuffer;\r\n\t\t\tvar autoPurge = options.autoPurge;\r\n\t\t}\r\n\r\n// public properties:\r\n\t\t/**\r\n\t\t * Console log potential issues and problems. This is designed to have <em>minimal</em> performance impact, so\r\n\t\t * if extensive debugging information is required, this may be inadequate. See {{#crossLink \"WebGLInspector\"}}{{/crossLink}}\r\n\t\t * @property vocalDebug\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis.vocalDebug = false;\r\n\r\n// private properties:\r\n\t\t/**\r\n\t\t * Specifies whether or not the canvas is auto-cleared by WebGL. The WebGL spec discourages `true`.\r\n\t\t * If true, the canvas is NOT auto-cleared by WebGL. Used when the canvas context is created and requires\r\n\t\t * context re-creation to update.\r\n\t\t * @property _preserveBuffer\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._preserveBuffer = preserveBuffer||false;\r\n\r\n\t\t/**\r\n\t\t * Specifies whether or not the browser's WebGL implementation should try to perform anti-aliasing.\r\n\t\t * @property _antialias\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._antialias = antialias||false;\r\n\r\n\t\t/**\r\n\t\t * Specifies whether or not the browser's WebGL implementation should be transparent.\r\n\t\t * @property _transparent\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._transparent = transparent||false;\r\n\r\n\t\t/**\r\n\t\t * Specifies whether or not StageGL is handling colours as premultiplied alpha.\r\n\t\t * @property _premultiply\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._premultiply = premultiply||false;\r\n\r\n\t\t/**\r\n\t\t * Internal value of {{#crossLink \"StageGL/autoPurge\"}}{{/crossLink}}\r\n\t\t * @property _autoPurge\r\n\t\t * @protected\r\n\t\t * @type {Integer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._autoPurge = undefined;\r\n\t\tthis.autoPurge = autoPurge;\t//getter/setter handles setting the real value and validating\r\n\r\n\t\t/**\r\n\t\t * The width in px of the drawing surface saved in memory.\r\n\t\t * @property _viewportWidth\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._viewportWidth = 0;\r\n\r\n\t\t/**\r\n\t\t * The height in px of the drawing surface saved in memory.\r\n\t\t * @property _viewportHeight\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._viewportHeight = 0;\r\n\r\n\t\t/**\r\n\t\t * A 2D projection matrix used to convert WebGL's viewspace into canvas co-ordinates. Regular canvas display\r\n\t\t * uses Top-Left values of [0,0] where WebGL uses a Center [0,0] Top-Right [1,1] (euclidean) system.\r\n\t\t * @property _projectionMatrix\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._projectionMatrix = null;\r\n\r\n\t\t/**\r\n\t\t * The current WebGL canvas context. Often shorthanded to just \"gl\" in many parts of the code.\r\n\t\t * @property _webGLContext\r\n\t\t * @protected\r\n\t\t * @type {WebGLRenderingContext}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._webGLContext = null;\r\n\r\n\t\t/**\r\n\t\t * The color to use when the WebGL canvas has been cleared. May appear as a background color. Defaults to grey.\r\n\t\t * @property _clearColor\r\n\t\t * @protected\r\n\t\t * @type {Object}\r\n\t\t * @default {r: 0.50, g: 0.50, b: 0.50, a: 0.00}\r\n\t\t */\r\n\t\tthis._clearColor = {r: 0.50, g: 0.50, b: 0.50, a: 0.00};\r\n\r\n\t\t/**\r\n\t\t * The maximum number of cards (aka a single sprite) that can be drawn in one draw call. Use getter/setters to\r\n\t\t * modify otherwise internal buffers may be incorrect sizes.\r\n\t\t * @property _maxCardsPerBatch\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default StageGL.DEFAULT_MAX_BATCH_SIZE (10000)\r\n\t\t */\r\n\t\tthis._maxCardsPerBatch = StageGL.DEFAULT_MAX_BATCH_SIZE;\t\t\t\t\t\t\t\t\t\t\t\t\t\t//TODO: write getter/setters for this\r\n\r\n\t\t/**\r\n\t\t * The shader program used to draw the current batch.\r\n\t\t * @property _activeShader\r\n\t\t * @protected\r\n\t\t * @type {WebGLProgram}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._activeShader = null;\r\n\r\n\t\t/**\r\n\t\t * The vertex position data for the current draw call.\r\n\t\t * @property _vertices\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._vertices = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_vertices:property\"}}{{/crossLink}}.\r\n\t\t * @property _vertexPositionBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._vertexPositionBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * The vertex U/V data for the current draw call.\r\n\t\t * @property _uvs\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._uvs = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_uvs:property\"}}{{/crossLink}}.\r\n\t\t * @property _uvPositionBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._uvPositionBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * The vertex indices data for the current draw call.\r\n\t\t * @property _indices\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._indices = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_indices:property\"}}{{/crossLink}}.\r\n\t\t * @property _textureIndexBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._textureIndexBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * The vertices data for the current draw call.\r\n\t\t * @property _alphas\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._alphas = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_alphas:property\"}}{{/crossLink}}.\r\n\t\t * @property _alphaBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._alphaBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * An index based lookup of every WebGL Texture currently in use.\r\n\t\t * @property _drawTexture\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._textureDictionary = [];\r\n\r\n\t\t/**\r\n\t\t * A string based lookup hash of which index a texture is stored at in the dictionary. The lookup string is\r\n\t\t * often the src url.\r\n\t\t * @property _textureIDs\r\n\t\t * @protected\r\n\t\t * @type {Object}\r\n\t\t */\r\n\t\tthis._textureIDs = {};\r\n\r\n\t\t/**\r\n\t\t * An array of all the textures currently loaded into the GPU. The index in the array matches the GPU index.\r\n\t\t * @property _batchTextures\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._batchTextures = [];\r\n\r\n\t\t/**\r\n\t\t * An array of all the simple filler textures used to prevent issues with missing textures in a batch.\r\n\t\t * @property _baseTextures\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._baseTextures = [];\r\n\r\n\t\t/**\r\n\t\t * The number of concurrent textures the GPU can handle. This value is dynamically set from WebGL during initialization\r\n\t\t * via `gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS)`. The WebGL spec states that the lowest guaranteed value is 8,\r\n\t\t * but it could be higher. Do not set this value higher than the value returned by the GPU. Setting it lower will\r\n\t\t * probably reduce performance, but may be advisable to reserve slots for custom filter work.\r\n\t\t * NOTE: Can also act as a length for {{#crossLink \"StageGL/_batchTextures:property\"}}.\r\n\t\t * @property _batchTextureCount\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 8\r\n\t\t */\r\n\t\tthis._batchTextureCount = 8;\r\n\r\n\t\t/**\r\n\t\t * The location at which the last texture was inserted into a GPU slot in {{#crossLink \"StageGL/_batchTextures:property\"}}{{/crossLink}}.\r\n\t\t * Manual control of this variable can yield improvements in performance by intelligently replacing textures\r\n\t\t * inside a batch to reduce texture re-load. It is impossible to write automated general use code, as it requires\r\n\t\t * display list look ahead inspection and/or render foreknowledge.\r\n\t\t * @property _lastTextureInsert\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default -1\r\n\t\t */\r\n\t\tthis._lastTextureInsert = -1;\r\n\r\n\t\t/**\r\n\t\t * The current batch being drawn, A batch consists of a call to `drawElements` on the GPU. Many of these calls\r\n\t\t * can occur per draw.\r\n\t\t * @property _batchId\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._batchID = 0;\r\n\r\n\t\t/**\r\n\t\t * The current draw being performed, may contain multiple batches. Comparing to {{#crossLink \"StageGL/_batchID:property\"}}{{/crossLink}}\r\n\t\t * can reveal batching efficiency.\r\n\t\t * @property _drawID\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._drawID = 0;\r\n\r\n\t\t/**\r\n\t\t * Used to prevent textures in certain GPU slots from being replaced by an insert.\r\n\t\t * @property _slotBlackList\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._slotBlacklist = [];\r\n\r\n\t\t/**\r\n\t\t * Used to prevent nested draw calls from accidentally overwriting drawing information by tracking depth.\r\n\t\t * @property _isDrawing\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._isDrawing = 0;\r\n\r\n\t\t/**\r\n\t\t * Used to ensure every canvas used as a texture source has a unique ID.\r\n\t\t * @property _lastTrackedCanvas\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._lastTrackedCanvas = 0;\r\n\r\n\t\t/**\r\n\t\t * Controls whether final rendering output of a {{#crossLink \"cacheDraw\"}}{{/crossLink}} is the canvas or a render\r\n\t\t * texture. See the {{#crossLink \"cache\"}}{{/crossLink}} function modifications for full implications and discussion.\r\n\t\t * @property isCacheControlled\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t * @todo LM: is this supposed to be _isCacheControlled since its private?\r\n\t\t */\r\n\t\tthis.isCacheControlled = false;\r\n\r\n\t\t/**\r\n\t\t * Used to counter-position the object being cached so it aligns with the cache surface. Additionally ensures\r\n\t\t * that all rendering starts with a top level container.\r\n\t\t * @property _cacheContainer\r\n\t\t * @protected\r\n\t\t * @type {Container}\r\n\t\t * @default An instance of an EaselJS Container.\r\n\t\t */\r\n\t\tthis._cacheContainer = new createjs.Container();\r\n\r\n\t\t// and begin\r\n\t\tthis._initializeWebGL();\r\n\t}\r\n\tvar p = createjs.extend(StageGL, createjs.Stage);\r\n\r\n// static methods:\r\n\t/**\r\n\t * Calculate the U/V co-ordinate based info for sprite frames. Instead of pixel count it uses a 0-1 space. Also includes\r\n\t * the ability to get info back for a specific frame, or only calculate that one frame.\r\n\t *\r\n\t *     //generate UV rects for all entries\r\n\t *     StageGL.buildUVRects( spriteSheetA );\r\n\t *     //generate all, fetch the first\r\n\t *     var firstFrame = StageGL.buildUVRects( spriteSheetB, 0 );\r\n\t *     //generate the rect for just a single frame for performance's sake\r\n\t *     var newFrame = StageGL.buildUVRects( dynamicSpriteSheet, newFrameIndex, true );\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method buildUVRects\r\n\t * @param  {SpriteSheet} spritesheet The spritesheet to find the frames on\r\n\t * @param  {int} [target=-1] The index of the frame to return\r\n\t * @param  {Boolean} [onlyTarget=false] Whether \"target\" is the only frame that gets calculated\r\n\t * @static\r\n\t * @return {Object} the target frame if supplied and present or a generic frame {t, l, b, r}\r\n\t */\r\n\tStageGL.buildUVRects = function (spritesheet, target, onlyTarget) {\r\n\t\tif (!spritesheet || !spritesheet._frames) { return null; }\r\n\t\tif (target === undefined) { target = -1; }\r\n\t\tif (onlyTarget === undefined) { onlyTarget = false; }\r\n\r\n\t\tvar start = (target != -1 && onlyTarget)?(target):(0);\r\n\t\tvar end = (target != -1 && onlyTarget)?(target+1):(spritesheet._frames.length);\r\n\t\tfor (var i=start; i<end; i++) {\r\n\t\t\tvar f = spritesheet._frames[i];\r\n\t\t\tif (f.uvRect || f.image.width <= 0 || f.image.height <= 0) { continue; }\r\n\r\n\t\t\tvar r = f.rect;\r\n\t\t\tf.uvRect = {\r\n\t\t\t\tt: r.y / f.image.height,\r\n\t\t\t\tl: r.x / f.image.width,\r\n\t\t\t\tb: (r.y + r.height) / f.image.height,\r\n\t\t\t\tr: (r.x + r.width) / f.image.width\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn spritesheet._frames[(target != -1) ? target : 0].uvRect || {t:0, l:0, b:1, r:1};\r\n\t};\r\n\r\n\t/**\r\n\t * Test a context to see if it has WebGL enabled on it.\r\n\t * @method isWebGLActive\r\n\t * @param {CanvasContext} ctx The context to test\r\n\t * @static\r\n\t * @return {Boolean} Whether WebGL is enabled\r\n\t */\r\n\tStageGL.isWebGLActive = function (ctx) {\r\n\t\treturn ctx &&\r\n\t\t\tctx instanceof WebGLRenderingContext &&\r\n\t\t\ttypeof WebGLRenderingContext !== 'undefined';\r\n\t};\r\n\r\n// static properties:\r\n\t/**\r\n\t * The number of properties defined per vertex (x, y, textureU, textureV, textureIndex, alpha)\r\n\t * @property VERTEX_PROPERTY_COUNT\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 6\r\n\t * @readonly\r\n\t */\r\n\tStageGL.VERTEX_PROPERTY_COUNT = 6;\r\n\r\n\t/**\r\n\t * The number of triangle indices it takes to form a Card. 3 per triangle, 2 triangles.\r\n\t * @property INDICIES_PER_CARD\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 6\r\n\t * @readonly\r\n\t */\r\n\tStageGL.INDICIES_PER_CARD = 6;\r\n\r\n\t/**\r\n\t * The default value for the maximum number of cards we want to process in a batch. See\r\n\t * {{#crossLink \"StageGL/WEBGL_MAX_INDEX_NUM:property\"}}{{/crossLink}} for a hard limit.\r\n\t * @property DEFAULT_MAX_BATCH_SIZE\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 10000\r\n\t * @readonly\r\n\t */\r\n\tStageGL.DEFAULT_MAX_BATCH_SIZE = 10000;\r\n\r\n\t/**\r\n\t * The maximum size WebGL allows for element index numbers. Uses a 16 bit unsigned integer. It takes 6 indices to\r\n\t * make a unique card.\r\n\t * @property WEBGL_MAX_INDEX_NUM\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 65536\r\n\t * @readonly\r\n\t */\r\n\tStageGL.WEBGL_MAX_INDEX_NUM = Math.pow(2, 16);\r\n\r\n\t/**\r\n\t * Default U/V rect for dealing with full coverage from an image source.\r\n\t * @property UV_RECT\r\n\t * @static\r\n\t * @final\r\n\t * @type {Object}\r\n\t * @default {t:0, l:0, b:1, r:1}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.UV_RECT = {t:0, l:0, b:1, r:1};\r\n\r\n\ttry {\r\n\t\t/**\r\n\t\t * Vertex positions for a card that covers the entire render. Used with render targets primarily.\r\n\t\t * @property COVER_VERT\r\n\t\t * @static\r\n\t\t * @final\r\n\t\t * @type {Float32Array}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tStageGL.COVER_VERT = new Float32Array([\r\n\t\t\t-1,\t\t 1,\t\t//TL\r\n\t\t\t1,\t\t 1,\t\t//TR\r\n\t\t\t-1,\t\t-1,\t\t//BL\r\n\t\t\t1,\t\t 1,\t\t//TR\r\n\t\t\t1,\t\t-1,\t\t//BR\r\n\t\t\t-1,\t\t-1\t\t//BL\r\n\t\t]);\r\n\r\n\t\t/**\r\n\t\t * U/V for {{#crossLink \"StageGL/COVER_VERT:property\"}}{{/crossLink}}.\r\n\t\t * @property COVER_UV\r\n\t\t * @static\r\n\t\t * @final\r\n\t\t * @type {Float32Array}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tStageGL.COVER_UV = new Float32Array([\r\n\t\t\t 0,\t\t 0,\t\t//TL\r\n\t\t\t 1,\t\t 0,\t\t//TR\r\n\t\t\t 0,\t\t 1,\t\t//BL\r\n\t\t\t 1,\t\t 0,\t\t//TR\r\n\t\t\t 1,\t\t 1,\t\t//BR\r\n\t\t\t 0,\t\t 1\t\t//BL\r\n\t\t]);\r\n\r\n\t\t/**\r\n\t\t * Flipped U/V for {{#crossLink \"StageGL:COVER_VERT:property\"}}{{/crossLink}}.\r\n\t\t * @property COVER_UV_FLIP\r\n\t\t * @static\r\n\t\t * @final\r\n\t\t * @type {Float32Array}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tStageGL.COVER_UV_FLIP = new Float32Array([\r\n\t\t\t 0,\t\t 1,\t\t//TL\r\n\t\t\t 1,\t\t 1,\t\t//TR\r\n\t\t\t 0,\t\t 0,\t\t//BL\r\n\t\t\t 1,\t\t 1,\t\t//TR\r\n\t\t\t 1,\t\t 0,\t\t//BR\r\n\t\t\t 0,\t\t 0\t\t//BL\r\n\t\t]);\r\n\t} catch(e) { /* Breaking in older browsers, but those browsers wont run StageGL so no recovery or warning needed */ }\r\n\r\n\t/**\r\n\t * Portion of the shader that contains the \"varying\" properties required in both vertex and fragment shaders. The\r\n\t * regular shader is designed to render all expected objects. Shader code may contain templates that are replaced\r\n\t * pre-compile.\r\n\t * @property REGULAR_VARYING_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_VARYING_HEADER = (\r\n\t\t\"precision mediump float;\" +\r\n\t\t\"varying vec2 vTextureCoord;\" +\r\n\t\t\"varying lowp float indexPicker;\" +\r\n\t\t\"varying lowp float alphaValue;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the vertex shader. Includes the varying header. The regular shader is designed to render\r\n\t * all expected objects. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property REGULAR_VERTEX_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_VERTEX_HEADER = (\r\n\t\tStageGL.REGULAR_VARYING_HEADER +\r\n\t\t\"attribute vec2 vertexPosition;\" +\r\n\t\t\"attribute vec2 uvPosition;\" +\r\n\t\t\"attribute lowp float textureIndex;\" +\r\n\t\t\"attribute lowp float objectAlpha;\" +\r\n\t\t\"uniform mat4 pMatrix;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the fragment shader. Includes the varying header. The regular shader is designed to render\r\n\t * all expected objects. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property REGULAR_FRAGMENT_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_FRAGMENT_HEADER = (\r\n\t\tStageGL.REGULAR_VARYING_HEADER +\r\n\t\t\"uniform sampler2D uSampler[{{count}}];\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the vertex shader. The regular shader is designed to render all expected objects. Shader code may contain\r\n\t * templates that are replaced pre-compile.\r\n\t * @property REGULAR_VERTEX_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_VERTEX_BODY  = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t//DHG TODO: This doesn't work. Must be something wrong with the hand built matrix see js... bypass for now\r\n\t\t\t//vertexPosition, round if flag\r\n\t\t\t//\"gl_Position = pMatrix * vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);\" +\r\n\t\t\t\"gl_Position = vec4(\"+\r\n\t\t\t\t\"(vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],\" +\r\n\t\t\t\t\"(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],\" +\r\n\t\t\t\t\"pMatrix[3][2],\" +\r\n\t\t\t\t\"1.0\" +\r\n\t\t\t\");\" +\r\n\t\t\t\"alphaValue = objectAlpha;\" +\r\n\t\t\t\"indexPicker = textureIndex;\" +\r\n\t\t\t\"vTextureCoord = uvPosition;\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the fragment shader. The regular shader is designed to render all expected objects. Shader code may\r\n\t * contain templates that are replaced pre-compile.\r\n\t * @property REGULAR_FRAGMENT_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_FRAGMENT_BODY = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t\"vec4 color = vec4(1.0, 0.0, 0.0, 1.0);\" +\r\n\r\n\t\t\t\"if (indexPicker <= 0.5) {\" +\r\n\t\t\t\t\"color = texture2D(uSampler[0], vTextureCoord);\" +\r\n\t\t\t\t\"{{alternates}}\" +\r\n\t\t\t\"}\" +\r\n\r\n\t\t\t\"{{fragColor}}\" +\r\n\t\t\"}\"\r\n\t);\r\n\tStageGL.REGULAR_FRAG_COLOR_NORMAL = (\r\n\t\t\"gl_FragColor = vec4(color.rgb, color.a * alphaValue);\"\r\n\t);\r\n\tStageGL.REGULAR_FRAG_COLOR_PREMULTIPLY = (\r\n\t\t\"if(color.a > 0.0035) {\" +\t\t// 1/255 = 0.0039, so ignore any value below 1 because it's probably noise\r\n\t\t\t\"gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);\" +\r\n\t\t\"} else {\" +\r\n\t\t\t\"gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n\t//TODO: DHG: a real particle shader\r\n\t/**\r\n\t * @property PARTICLE_VERTEX_BODY\r\n\t * @todo\r\n\t * @final\r\n\t * @static\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.PARTICLE_VERTEX_BODY = (\r\n\t\tStageGL.REGULAR_VERTEX_BODY\r\n\t);\r\n\t/**\r\n\t * @property PARTICLE_FRAGMENT_BODY\r\n\t * @todo\r\n\t * @final\r\n\t * @static\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.PARTICLE_FRAGMENT_BODY = (\r\n\t\tStageGL.REGULAR_FRAGMENT_BODY\r\n\t);\r\n\r\n\t/**\r\n\t * Portion of the shader that contains the \"varying\" properties required in both vertex and fragment shaders. The\r\n\t * cover shader is designed to be a simple vertex/uv only texture render that covers the render surface. Shader\r\n\t * code may contain templates that are replaced pre-compile.\r\n\t * @property COVER_VARYING_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_VARYING_HEADER = (\r\n\t\t\"precision mediump float;\" +\r\n\r\n\t\t\"varying highp vec2 vRenderCoord;\" +\r\n\t\t\"varying highp vec2 vTextureCoord;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the vertex shader. Includes the varying header. The cover shader is designed to be a\r\n\t * simple vertex/uv only texture render that covers the render surface. Shader code may contain templates that are\r\n\t * replaced pre-compile.\r\n\t * @property COVER_VERTEX_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_VERTEX_HEADER = (\r\n\t\tStageGL.COVER_VARYING_HEADER +\r\n\t\t\"attribute vec2 vertexPosition;\" +\r\n\t\t\"attribute vec2 uvPosition;\" +\r\n\t\t\"uniform float uUpright;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the fragment shader. Includes the varying header. The cover shader is designed to be a\r\n\t * simple vertex/uv only texture render that covers the render surface. Shader code may contain templates that are\r\n\t * replaced pre-compile.\r\n\t * @property COVER_FRAGMENT_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_FRAGMENT_HEADER = (\r\n\t\tStageGL.COVER_VARYING_HEADER +\r\n\t\t\"uniform sampler2D uSampler;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the vertex shader. The cover shader is designed to be a simple vertex/uv only texture render that covers\r\n\t * the render surface. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property COVER_VERTEX_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_VERTEX_BODY  = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t\"gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);\" +\r\n\t\t\t\"vRenderCoord = uvPosition;\" +\r\n\t\t\t\"vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the fragment shader. The cover shader is designed to be a simple vertex/uv only texture render that\r\n\t * covers the render surface. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property COVER_FRAGMENT_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_FRAGMENT_BODY = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\t\t\t\"gl_FragColor = color;\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched each update immediately before the canvas is cleared and the display list is drawn to it. You can call\r\n\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} on the event to cancel the draw.\r\n\t * @event drawstart\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched each update immediately after the display list is drawn to the canvas and the canvas context is restored.\r\n\t * @event drawend\r\n\t */\r\n\r\n// getter / setters:\r\n\tp._get_isWebGL = function () {\r\n\t\treturn !!this._webGLContext;\r\n\t};\r\n\r\n\tp._set_autoPurge = function (value) {\r\n\t\tvalue = isNaN(value)?1200:value;\r\n\t\tif (value != -1) {\r\n\t\t\tvalue = value<10?10:value;\r\n\t\t}\r\n\t\tthis._autoPurge = value;\r\n\t};\r\n\tp._get_autoPurge = function () {\r\n\t\treturn Number(this._autoPurge);\r\n\t};\r\n\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\t/**\r\n\t\t\t * Indicates whether WebGL is being used for rendering. For example, this would be `false` if WebGL is not\r\n\t\t\t * supported in the browser.\r\n\t\t\t * @property isWebGL\r\n\t\t\t * @type {Boolean}\r\n\t\t\t * @readonly\r\n\t\t\t */\r\n\t\t\tisWebGL: { get: p._get_isWebGL },\r\n\r\n\t\t\t/**\r\n\t\t\t * Specifies whether or not StageGL is automatically purging unused textures. Higher numbers purge less\r\n\t\t\t * often. Values below 10 are upgraded to 10, and -1 disables this feature.\r\n\t\t\t * @property autoPurge\r\n\t\t\t * @protected\r\n\t\t\t * @type {Integer}\r\n\t\t\t * @default 1000\r\n\t\t\t */\r\n\t\t\tautoPurge: { get: p._get_autoPurge, set: p._set_autoPurge }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// constructor methods:\r\n\t/**\r\n\t * Create and properly initialize the WebGL instance.\r\n\t * @method _initializeWebGL\r\n\t * @protected\r\n\t * @return {WebGLRenderingContext}\r\n\t */\r\n\tp._initializeWebGL = function () {\r\n\t\tif (this.canvas) {\r\n\t\t\tif (!this._webGLContext || this._webGLContext.canvas !== this.canvas) {\r\n\t\t\t\t// A context hasn't been defined yet,\r\n\t\t\t\t// OR the defined context belongs to a different canvas, so reinitialize.\r\n\r\n\t\t\t\t// defaults and options\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\tdepth: false, // Disable the depth buffer as it isn't used.\r\n\t\t\t\t\talpha: this._transparent, // Make the canvas background transparent.\r\n\t\t\t\t\tstencil: true,\r\n\t\t\t\t\tantialias: this._antialias,\r\n\t\t\t\t\tpremultipliedAlpha: this._premultiply, // Assume the drawing buffer contains colors with premultiplied alpha.\r\n\t\t\t\t\tpreserveDrawingBuffer: this._preserveBuffer\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar gl = this._webGLContext = this._fetchWebGLContext(this.canvas, options);\r\n\t\t\t\tif (!gl) { return null; }\r\n\r\n\t\t\t\tthis.updateSimultaneousTextureCount(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));\r\n\t\t\t\tthis._maxTextureSlots = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\r\n\t\t\t\tthis._createBuffers(gl);\r\n\t\t\t\tthis._initTextures(gl);\r\n\r\n\t\t\t\tgl.disable(gl.DEPTH_TEST);\r\n\t\t\t\tgl.enable(gl.BLEND);\r\n\t\t\t\tgl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\r\n\t\t\t\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiply);\r\n\t\t\t\t//gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\r\n\r\n\t\t\t\tthis._webGLContext.clearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a);\r\n\t\t\t\tthis.updateViewport(this._viewportWidth || this.canvas.width, this._viewportHeight || this.canvas.height);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis._webGLContext = null;\r\n\t\t}\r\n\t\treturn this._webGLContext;\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Docced in superclass\r\n\t */\r\n\tp.update = function (props) {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tif (this.autoClear) { this.clear(); }\r\n\r\n\t\tif (this._webGLContext) {\r\n\t\t\t// Use WebGL.\r\n\t\t\tthis._batchDraw(this, this._webGLContext);\r\n\t\t\tif (this._autoPurge != -1 && !(this._drawID%((this._autoPurge/2)|0))) {\r\n\t\t\t\tthis.purgeTextures(this._autoPurge);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Use 2D.\r\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\r\n\t\t\tctx.save();\r\n\t\t\tthis.updateContext(ctx);\r\n\t\t\tthis.draw(ctx, false);\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t};\r\n\r\n\t/**\r\n\t * Docced in superclass\r\n\t */\r\n\tp.clear = function () {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tif (StageGL.isWebGLActive(this._webGLContext)) {\r\n\t\t\tvar gl = this._webGLContext;\r\n\t\t\tvar cc = this._clearColor;\r\n\t\t\tvar adjust = this._transparent ? cc.a : 1.0;\r\n\t\t\t// Use WebGL settings; adjust for pre multiplied alpha appropriate to scenario\r\n\t\t\tthis._webGLContext.clearColor(cc.r * adjust, cc.g * adjust, cc.b * adjust, adjust);\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\tthis._webGLContext.clearColor(cc.r, cc.g, cc.b, cc.a);\r\n\t\t} else {\r\n\t\t\t// Use 2D.\r\n\t\t\tthis.Stage_clear();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the stage into the supplied context if possible. Many WebGL properties only exist on their context. As such\r\n\t * you cannot share contexts among many StageGLs and each context requires a unique StageGL instance. Contexts that\r\n\t * don't match the context managed by this StageGL will be treated as a 2D context.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D | WebGLRenderingContext} context The context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For\r\n\t *  example, used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @return {Boolean} If the draw was handled by this function\r\n\t */\r\n\tp.draw = function (context, ignoreCache) {\r\n\t\tif (context === this._webGLContext && StageGL.isWebGLActive(this._webGLContext)) {\r\n\t\t\tvar gl = this._webGLContext;\r\n\t\t\tthis._batchDraw(this, gl, ignoreCache);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn this.Stage_draw(context, ignoreCache);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the target into the correct context, be it a canvas or Render Texture using WebGL.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method cacheDraw\r\n\t * @param {DisplayObject} target The object we're drawing into cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @param {Array} filters The filters we're drawing into cache.\r\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\r\n\t * @return {Boolean} If the draw was handled by this function\r\n\t */\r\n\tp.cacheDraw = function (target, filters, manager) {\r\n\t\tif (StageGL.isWebGLActive(this._webGLContext)) {\r\n\t\t\tvar gl = this._webGLContext;\r\n\t\t\tthis._cacheDraw(gl, target, filters, manager);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Blocks, or frees a texture \"slot\" on the GPU. Can be useful if you are overflowing textures. When overflowing\r\n\t * textures they are re-uploaded to the GPU every time they're encountered, this can be expensive with large textures.\r\n\t * By blocking the slot you reduce available slots, potentially increasing draw calls, but mostly you prevent a\r\n\t * texture being re-uploaded if it would have moved slots due to overflow.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * For example, block the slot a background image is stored in so there is less re-loading of that image.\r\n\t * @method protectTextureSlot\r\n\t * @param  {Number} id The slot to be affected\r\n\t * @param  {Boolean} [lock=false] Whether this slot is the one being locked.\r\n\t */\r\n\tp.protectTextureSlot = function (id, lock) {\r\n\t\tif (id > this._maxTextureSlots || id < 0) {\r\n\t\t\tthrow \"Slot outside of acceptable range\";\r\n\t\t}\r\n\t\tthis._slotBlacklist[id] = !!lock;\r\n\t};\r\n\r\n\t/**\r\n\t * Render textures can't draw into themselves so any item being used for renderTextures needs two to alternate between.\r\n\t * This function creates, gets, and toggles the render surface between the two.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method getTargetRenderTexture\r\n\t * @param  {DisplayObject} target The object associated with the render textures, usually a cached object.\r\n\t * @param  {Number} w The width to create the texture at.\r\n\t * @param  {Number} h The height to create the texture at.\r\n\t * @return {Objet}\r\n\t * @todo fill in return type\r\n\t */\r\n\tp.getTargetRenderTexture = function (target, w, h) {\r\n\t\tvar result, toggle = false;\r\n\t\tvar gl = this._webGLContext;\r\n\t\tif (target.__lastRT !== undefined && target.__lastRT === target.__rtA) { toggle = true; }\r\n\t\tif (!toggle) {\r\n\t\t\tif (target.__rtA === undefined) {\r\n\t\t\t\ttarget.__rtA = this.getRenderBufferTexture(w, h);\r\n\t\t\t} else {\r\n\t\t\t\tif (w != target.__rtA._width || h != target.__rtA._height) {\r\n\t\t\t\t\tthis.resizeTexture(target.__rtA, w, h);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setTextureParams(gl);\r\n\t\t\t}\r\n\t\t\tresult = target.__rtA;\r\n\t\t} else {\r\n\t\t\tif (target.__rtB === undefined) {\r\n\t\t\t\ttarget.__rtB = this.getRenderBufferTexture(w, h);\r\n\t\t\t} else {\r\n\t\t\t\tif (w != target.__rtB._width || h != target.__rtB._height) {\r\n\t\t\t\t\tthis.resizeTexture(target.__rtB, w, h);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setTextureParams(gl);\r\n\t\t\t}\r\n\t\t\tresult = target.__rtB;\r\n\t\t}\r\n\t\tif (!result) {\r\n\t\t\tthrow \"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances\";\r\n\t\t}\r\n\t\ttarget.__lastRT = result;\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * For every image encountered StageGL registers and tracks it automatically. This tracking can cause memory leaks \r\n\t * if not purged. StageGL, by default, automatically purges them. This does have a cost and may unfortunately find\r\n\t * false positives. This function is for manual management of this memory instead of the automatic system controlled\r\n\t * by the {{#crossLink \"StageGL/autoPurge:property\"}}{{/crossLink}} property.\r\n\t *\r\n\t * This function will recursively remove all textures found on the object, its children, cache, etc. It will uncache \r\n\t * objects and remove any texture it finds REGARDLESS of whether it is currently in use elsewhere. It is up to the\r\n\t * developer to ensure that a texture in use is not removed.\r\n\t *\r\n\t * Textures in use, or to be used again shortly, should not be removed. This is simply for performance reasons.\r\n\t * Removing a texture in use will cause the texture to have to be re-uploaded slowing rendering.\r\n\t * @method releaseTexture\r\n\t * @param  {DisplayObject | Texture | Image | Canvas} item An object that used the texture to be discarded.\r\n\t */\r\n\tp.releaseTexture = function (item) {\r\n\t\tvar i, l;\r\n\t\tif (!item) { return; }\r\n\r\n\t\t// this is a container object\r\n\t\tif (item.children) {\r\n\t\t\tfor (i = 0, l = item.children.length; i < l; i++) {\r\n\t\t\t\tthis.releaseTexture(item.children[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// this has a cache canvas\r\n\t\tif (item.cacheCanvas) {\r\n\t\t\titem.uncache();\r\n\t\t}\r\n\r\n\t\tvar foundImage = undefined;\r\n\t\tif (item._storeID !== undefined) {\r\n\t\t\t// this is a texture itself\r\n\t\t\tif (item === this._textureDictionary[item._storeID]) {\r\n\t\t\t\tthis._killTextureObject(item);\r\n\t\t\t\titem._storeID = undefined;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// this is an image or canvas\r\n\t\t\tfoundImage = item;\r\n\t\t} else if (item._webGLRenderStyle === 2) {\r\n\t\t\t// this is a Bitmap class\r\n\t\t\tfoundImage = item.image;\r\n\t\t} else if (item._webGLRenderStyle === 1) {\r\n\t\t\t// this is a SpriteSheet, we can't tell which image we used from the list easily so remove them all!\r\n\t\t\tfor (i = 0, l = item.spriteSheet._images.length; i < l; i++) {\r\n\t\t\t\tthis.releaseTexture(item.spriteSheet._images[i]);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// did we find anything\r\n\t\tif (foundImage === undefined) {\r\n\t\t\tif (this.vocalDebug) {\r\n\t\t\t\tconsole.log(\"No associated texture found on release\");\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// remove it\r\n\t\tthis._killTextureObject(this._textureDictionary[foundImage._storeID]);\r\n\t\tfoundImage._storeID = undefined;\r\n\t};\r\n\r\n\t/**\r\n\t * Similar to {{#crossLink \"releaseTexture\"}}{{/crossLink}}, but this function differs by searching for textures to\r\n\t * release. It works by assuming that it can purge any texture which was last used more than \"count\" draw calls ago.\r\n\t * Because this process is unaware of the objects and whether they may be used on your stage, false positives can\r\n\t * occur. It is recommended to manually manage your memory with {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}},\r\n\t * however, there are many use cases where this is simpler and error-free. This process is also run by default under\r\n\t * the hood to prevent leaks. To disable it see the {{#crossLink \"StageGL/autoPurge:property\"}}{{/crossLink}} property.\r\n\t * @method purgeTextures\r\n\t * @param {Number} [count=100] How many renders ago the texture was last used\r\n\t */\r\n\tp.purgeTextures = function (count) {\r\n\t\tif (count == undefined){ count = 100; }\r\n\r\n\t\tvar dict = this._textureDictionary;\r\n\t\tvar l = dict.length;\r\n\t\tfor (var i= 0; i<l; i++) {\r\n\t\t\tvar item = dict[i];\r\n\t\t\tif (!item) { continue; }\r\n\t\t\tif (item._drawID + count <= this._drawID) {\t// use draw not batch as draw is more indicative of time\r\n\t\t\t\tthis._killTextureObject(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Try to set the max textures the system can handle. It should default to the hardware maximum, and lower values\r\n\t * may limit performance. Some devices have been known to mis-report their max textures, or you may need a standard\r\n\t * baseline cross devices for testing. Barring the previous suggestions, there is little need to call this function\r\n\t * as the library will automatically try to find the best value.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method updateSimultaneousTextureCount\r\n\t * @param {Number} [count=1] The number of textures intended for simultaneous loading.\r\n\t */\r\n\tp.updateSimultaneousTextureCount = function (count) {\r\n\t\t// TODO: DHG: make sure API works in all instances, may be some issues with buffers etc I haven't foreseen\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar success = false;\r\n\r\n\t\tif (count < 1 || isNaN(count)) { count = 1; }\r\n\t\tthis._batchTextureCount = count;\r\n\r\n\t\twhile (!success) {\r\n\t\t\ttry {\r\n\t\t\t\tthis._activeShader = this._fetchShaderProgram(gl);\r\n\t\t\t\tsuccess = true;\r\n\t\t\t} catch(e) {\r\n\t\t\t\tif (this._batchTextureCount == 1) {\r\n\t\t\t\t\tthrow \"Cannot compile shader \" + e;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._batchTextureCount -= 4;\r\n\t\t\t\tif (this._batchTextureCount < 1) { this._batchTextureCount = 1; }\r\n\r\n\t\t\t\tif (this.vocalDebug) {\r\n\t\t\t\t\tconsole.log(\"Reducing desired texture count due to errors: \" + this._batchTextureCount);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Update the WebGL viewport. Note that this does <strong>not</strong> update the canvas element's width/height, but\r\n\t * the render surface's instead. This is necessary after manually resizing the canvas element on the DOM to avoid a\r\n\t * up/down scaled render.\r\n\t * @method updateViewport\r\n\t * @param {Integer} width The width of the render surface in pixels.\r\n\t * @param {Integer} height The height of the render surface in pixels.\r\n\t */\r\n\tp.updateViewport = function (width, height) {\r\n\t\tthis._viewportWidth = width|0;\r\n\t\tthis._viewportHeight = height|0;\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\tif (gl) {\r\n\t\t\tgl.viewport(0, 0, this._viewportWidth, this._viewportHeight);\r\n\r\n\t\t\t// WebGL works with a -1,1 space on its screen. It also follows Y-Up\r\n\t\t\t// we need to flip the y, scale and then translate the co-ordinates to match this\r\n\t\t\t// additionally we offset into they Y so the polygons are inside the camera's \"clipping\" plane\r\n\t\t\tthis._projectionMatrix = new Float32Array([\r\n\t\t\t\t2 / this._viewportWidth,\t0,\t\t\t\t\t\t\t\t0,\t\t\t\t\t\t\t0,\r\n\t\t\t\t0,\t\t\t\t\t\t\t-2 / this._viewportHeight,\t\t1,\t\t\t\t\t\t\t0,\r\n\t\t\t\t0,\t\t\t\t\t\t\t0,\t\t\t\t\t\t\t\t1,\t\t\t\t\t\t\t0,\r\n\t\t\t\t-1,\t\t\t\t\t\t\t1,\t\t\t\t\t\t\t\t0.1,\t\t\t\t\t\t0\r\n\t\t\t]);\r\n\t\t\t// create the flipped version for use with render texture flipping\r\n\t\t\t// DHG: this would be a slice/clone but some platforms don't offer them for Float32Array\r\n\t\t\tthis._projectionMatrixFlip = new Float32Array([0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0]);\r\n\t\t\tthis._projectionMatrixFlip.set(this._projectionMatrix);\r\n\t\t\tthis._projectionMatrixFlip[5] *= -1;\r\n\t\t\tthis._projectionMatrixFlip[13] *= -1;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Fetches the shader compiled and set up to work with the provided filter/object. The shader is compiled on first\r\n\t * use and returned on subsequent calls.\r\n\t * @method getFilterShader\r\n\t * @param  {Filter|Object} filter The object which will provide the information needed to construct the filter shader.\r\n\t * @return {WebGLProgram}\r\n\t */\r\n\tp.getFilterShader = function (filter) {\r\n\t\tif (!filter) { filter = this; }\r\n\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar targetShader = this._activeShader;\r\n\r\n\t\tif (filter._builtShader) {\r\n\t\t\ttargetShader = filter._builtShader;\r\n\t\t\tif (filter.shaderParamSetup) {\r\n\t\t\t\tgl.useProgram(targetShader);\r\n\t\t\t\tfilter.shaderParamSetup(gl, this, targetShader);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\ttargetShader = this._fetchShaderProgram(\r\n\t\t\t\t\tgl, \"filter\",\r\n\t\t\t\t\tfilter.VTX_SHADER_BODY, filter.FRAG_SHADER_BODY,\r\n\t\t\t\t\tfilter.shaderParamSetup && filter.shaderParamSetup.bind(filter)\r\n\t\t\t\t);\r\n\t\t\t\tfilter._builtShader = targetShader;\r\n\t\t\t\ttargetShader._name = filter.toString();\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole && console.log(\"SHADER SWITCH FAILURE\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn targetShader;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a base texture that has no image or data loaded. Not intended for loading images. It may return `null`\r\n\t * in some error cases, and trying to use a \"null\" texture can cause renders to fail.\r\n\t * @method getBaseTexture\r\n\t * @param  {uint} [w=1] The width of the texture in pixels, defaults to 1\r\n\t * @param  {uint} [h=1] The height of the texture in pixels, defaults to 1\r\n\t */\r\n\tp.getBaseTexture = function (w, h) {\r\n\t\tvar width = Math.ceil(w > 0 ? w : 1) || 1;\r\n\t\tvar height = Math.ceil(h > 0 ? h : 1) || 1;\r\n\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar texture = gl.createTexture();\r\n\t\tthis.resizeTexture(texture, width, height);\r\n\t\tthis.setTextureParams(gl, false);\r\n\r\n\t\treturn texture;\r\n\t};\r\n\r\n\t/**\r\n\t * Resizes a supplied texture element. May generate invalid textures in some error cases such as; when the texture\r\n\t * is too large, when an out of texture memory error occurs, or other error scenarios. Trying to use an invalid texture\r\n\t * can cause renders to hard stop on some devices. Check the WebGL bound texture after running this function.\r\n\t *\r\n\t * NOTE: The supplied texture must have been made with the WebGL \"texImage2D\" function, all default APIs in StageGL\r\n\t * use this, so this note only matters for library developers and plugins.\r\n\t *\r\n\t * @protected\r\n\t * @method resizeTexture\r\n\t * @param  {WebGLTexture} texture The GL Texture to be modified.\r\n\t * @param  {uint} [width=1] The width of the texture in pixels, defaults to 1\r\n\t * @param  {uint} [height=1] The height of the texture in pixels, defaults to 1\r\n\t */\r\n\tp.resizeTexture = function (texture, width,height) {\r\n\t\tvar gl = this._webGLContext;\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\tgl.texImage2D(\r\n\t\t\tgl.TEXTURE_2D,\t\t\t\t// target\r\n\t\t\t0,\t\t\t\t\t\t\t// level of detail\r\n\t\t\tgl.RGBA,\t\t\t\t\t// internal format\r\n\t\t\twidth, height, 0,\t\t\t// width, height, border (only for array/null sourced textures)\r\n\t\t\tgl.RGBA,\t\t\t\t\t// format (match internal format)\r\n\t\t\tgl.UNSIGNED_BYTE,\t\t\t// type of texture(pixel color depth)\r\n\t\t\tnull\t\t\t\t\t\t// image data, we can do null because we're doing array data\r\n\t\t);\r\n\t\ttexture.width = width;\r\n\t\ttexture.height = height;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a base texture (see {{#crossLink \"StageGL/getBaseTexture\"}}{{/crossLink}}) for details. Also includes an\r\n\t * attached and linked render buffer in `texture._frameBuffer`. RenderTextures can be thought of as an internal\r\n\t * canvas on the GPU that can be drawn to.\r\n\t * @method getRenderBufferTexture\r\n\t * @param  {Number} w The width of the texture in pixels.\r\n\t * @param  {Number} h The height of the texture in pixels.\r\n\t * @return {Texture} the basic texture instance with a render buffer property.\r\n\t */\r\n\tp.getRenderBufferTexture = function (w, h) {\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\t// get the texture\r\n\t\tvar renderTexture = this.getBaseTexture(w, h);\r\n\t\tif (!renderTexture) { return null; }\r\n\r\n\t\t// get the frame buffer\r\n\t\tvar frameBuffer = gl.createFramebuffer();\r\n\t\tif (!frameBuffer) { return null; }\r\n\r\n\t\t// set its width and height for spoofing as an image\r\n\t\trenderTexture.width = w;\r\n\t\trenderTexture.height = h;\r\n\r\n\t\t// attach frame buffer to texture and provide cross links to look up each other\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\r\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, renderTexture, 0);\r\n\t\tframeBuffer._renderTexture = renderTexture;\r\n\t\trenderTexture._frameBuffer = frameBuffer;\r\n\r\n\t\t// these keep track of themselves simply to reduce complexity of some lookup code\r\n\t\trenderTexture._storeID = this._textureDictionary.length;\r\n\t\tthis._textureDictionary[renderTexture._storeID] = renderTexture;\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\treturn renderTexture;\r\n\t};\r\n\r\n\t/**\r\n\t * Common utility function used to apply the correct texture processing parameters for the bound texture.\r\n\t * @method setTextureParams\r\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param  {Boolean} [isPOT=false] Marks whether the texture is \"Power of Two\", this may allow better quality AA.\r\n\t */\r\n\tp.setTextureParams = function (gl, isPOT) {\r\n\t\tif (isPOT && this._antialias) {\r\n\t\t\t//non POT linear works in some devices, but performance is NOT good, investigate\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n\t\t} else {\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\t\t}\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\t};\r\n\r\n\t/**\r\n\t * Changes the webGL clear, aka \"background\" color to the provided value. A transparent clear is recommended, as\r\n\t * non-transparent colours may create undesired boxes around some visuals.\r\n\t *\r\n\t * The clear color will also be used for filters and other \"render textures\". The stage background will ignore the\r\n\t * transparency value and display a solid color normally. For the stage to recognize and use transparency it must be\r\n\t * created with the transparent flag set to `true` (see {{#crossLink \"StageGL/constructor\"}}{{/crossLink}})).\r\n\t *\r\n\t * Using \"transparent white\" to demonstrate, the valid data formats are as follows:\r\n\t * <ul>\r\n\t *     <li>\"#FFF\"</li>\r\n\t *     <li>\"#FFFFFF\"</li>\r\n\t *     <li>\"#FFFFFF00\"</li>\r\n\t *     <li>\"rgba(255,255,255,0.0)\"</li>\r\n\t * </ul>\r\n\t * @method setClearColor\r\n\t * @param {String|int} [color=0x00000000] The new color to use as the background\r\n\t */\r\n\tp.setClearColor = function (color) {\r\n\t\tvar r, g, b, a, output;\r\n\r\n\t\tif (typeof color == \"string\") {\r\n\t\t\tif (color.indexOf(\"#\") == 0) {\r\n\t\t\t\tif (color.length == 4) {\r\n\t\t\t\t\tcolor = \"#\" + color.charAt(1)+color.charAt(1) + color.charAt(2)+color.charAt(2) + color.charAt(3)+color.charAt(3)\r\n\t\t\t\t}\r\n\t\t\t\tr = Number(\"0x\"+color.slice(1, 3))/255;\r\n\t\t\t\tg = Number(\"0x\"+color.slice(3, 5))/255;\r\n\t\t\t\tb = Number(\"0x\"+color.slice(5, 7))/255;\r\n\t\t\t\ta = Number(\"0x\"+color.slice(7, 9))/255;\r\n\t\t\t} else if (color.indexOf(\"rgba(\") == 0) {\r\n\t\t\t\toutput = color.slice(5, -1).split(\",\");\r\n\t\t\t\tr = Number(output[0])/255;\r\n\t\t\t\tg = Number(output[1])/255;\r\n\t\t\t\tb = Number(output[2])/255;\r\n\t\t\t\ta = Number(output[3]);\r\n\t\t\t}\r\n\t\t} else {\t// >>> is an unsigned shift which is what we want as 0x80000000 and up are negative values\r\n\t\t\tr = ((color & 0xFF000000) >>> 24)/255;\r\n\t\t\tg = ((color & 0x00FF0000) >>> 16)/255;\r\n\t\t\tb = ((color & 0x0000FF00) >>> 8)/255;\r\n\t\t\ta = (color & 0x000000FF)/255;\r\n\t\t}\r\n\r\n\t\tthis._clearColor.r = r || 0;\r\n\t\tthis._clearColor.g = g || 0;\r\n\t\tthis._clearColor.b = b || 0;\r\n\t\tthis._clearColor.a = a || 0;\r\n\r\n\t\tif (!this._webGLContext) { return; }\r\n\t\tthis._webGLContext.clearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a);\r\n\t};\r\n\r\n\t/**\r\n\t * docced in subclass\r\n\t */\r\n\tp.toString = function () {\r\n\t\treturn \"[StageGL (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * Sets up and returns the WebGL context for the canvas. May return undefined in error scenarios. These can include \r\n\t * situations where the canvas element already has a context, 2D or GL.\r\n\t * @param  {Canvas} canvas The DOM canvas element to attach to\r\n\t * @param  {Object} options The options to be handed into the WebGL object, see WebGL spec\r\n\t * @method _fetchWebGLContext\r\n\t * @protected\r\n\t * @return {WebGLRenderingContext} The WebGL context, may return undefined in error scenarios\r\n\t */\r\n\tp._fetchWebGLContext = function (canvas, options) {\r\n\t\tvar gl;\r\n\r\n\t\ttry {\r\n\t\t\tgl = canvas.getContext(\"webgl\", options) || canvas.getContext(\"experimental-webgl\", options);\r\n\t\t} catch (e) {\r\n\t\t\t// don't do anything in catch, null check will handle it\r\n\t\t}\r\n\r\n\t\tif (!gl) {\r\n\t\t\tvar msg = \"Could not initialize WebGL\";\r\n\t\t\tconsole.error?console.error(msg):console.log(msg);\r\n\t\t} else {\r\n\t\t\tgl.viewportWidth = canvas.width;\r\n\t\t\tgl.viewportHeight = canvas.height;\r\n\t\t}\r\n\r\n\t\treturn gl;\r\n\t};\r\n\r\n\t/**\r\n\t * Create the completed Shader Program from the vertex and fragment shaders. Allows building of custom shaders for\r\n\t * filters. Once compiled, shaders are saved so. If the Shader code requires dynamic alterations re-run this function\r\n\t * to generate a new shader.\r\n\t * @method _fetchShaderProgram\r\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param  {String} [shaderName=\"regular\"] Working values: \"regular\", \"override\", and \"filter\". Which type of shader to build.\r\n\t * Filter and override both accept the custom params. Regular and override have all features. Filter is a special case reduced feature shader meant to be over-ridden.\r\n\t * @param  {String} [customVTX] Extra vertex shader information to replace a regular draw, see \r\n\t * {{#crossLink \"StageGL/COVER_VERTEX_BODY\"}}{{/crossLink}} for default and {{#crossLink \"Filter\"}}{{/crossLink}} for examples.\r\n\t * @param  {String} [customFRAG] Extra fragment shader information to replace a regular draw, see \r\n\t * {{#crossLink \"StageGL/COVER_FRAGMENT_BODY\"}}{{/crossLink}} for default and {{#crossLink \"Filter\"}}{{/crossLink}} for examples.\r\n\t * @param  {Function} [shaderParamSetup] Function to run so custom shader parameters can get applied for the render.\r\n\t * @protected\r\n\t * @return {WebGLProgram} The compiled and linked shader\r\n\t */\r\n\tp._fetchShaderProgram = function (gl, shaderName, customVTX, customFRAG, shaderParamSetup) {\r\n\t\tgl.useProgram(null);\t\t// safety to avoid collisions\r\n\r\n\t\t// build the correct shader string out of the right headers and bodies\r\n\t\tvar targetFrag, targetVtx;\r\n\t\tswitch (shaderName) {\r\n\t\t\tcase \"filter\":\r\n\t\t\t\ttargetVtx = StageGL.COVER_VERTEX_HEADER + (customVTX || StageGL.COVER_VERTEX_BODY);\r\n\t\t\t\ttargetFrag = StageGL.COVER_FRAGMENT_HEADER + (customFRAG || StageGL.COVER_FRAGMENT_BODY);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"particle\": //TODO\r\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + StageGL.PARTICLE_VERTEX_BODY;\r\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + StageGL.PARTICLE_FRAGMENT_BODY;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"override\":\r\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + (customVTX || StageGL.REGULAR_VERTEX_BODY);\r\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + (customFRAG || StageGL.REGULAR_FRAGMENT_BODY);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"regular\":\r\n\t\t\tdefault:\r\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + StageGL.REGULAR_VERTEX_BODY;\r\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + StageGL.REGULAR_FRAGMENT_BODY;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// create the separate vars\r\n\t\tvar vertexShader = this._createShader(gl, gl.VERTEX_SHADER, targetVtx);\r\n\t\tvar fragmentShader = this._createShader(gl, gl.FRAGMENT_SHADER, targetFrag);\r\n\r\n\t\t// link them together\r\n\t\tvar shaderProgram = gl.createProgram();\r\n\t\tgl.attachShader(shaderProgram, vertexShader);\r\n\t\tgl.attachShader(shaderProgram, fragmentShader);\r\n\t\tgl.linkProgram(shaderProgram);\r\n\t\tshaderProgram._type = shaderName;\r\n\r\n\t\t// check compile status\r\n\t\tif (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\r\n\t\t\tgl.useProgram(this._activeShader);\r\n\t\t\tthrow gl.getProgramInfoLog(shaderProgram);\r\n\t\t}\r\n\r\n\t\t// set up the parameters on the shader\r\n\t\tgl.useProgram(shaderProgram);\r\n\t\tswitch (shaderName) {\r\n\t\t\tcase \"filter\":\r\n\t\t\t\t// get the places in memory the shader is stored so we can feed information into them\r\n\t\t\t\t// then save it off on the shader because it's so tied to the shader itself\r\n\t\t\t\tshaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"vertexPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.uvPositionAttribute = gl.getAttribLocation(shaderProgram, \"uvPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.uvPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.samplerUniform = gl.getUniformLocation(shaderProgram, \"uSampler\");\r\n\t\t\t\tgl.uniform1i(shaderProgram.samplerUniform, 0);\r\n\r\n\t\t\t\tshaderProgram.uprightUniform = gl.getUniformLocation(shaderProgram, \"uUpright\");\r\n\t\t\t\tgl.uniform1f(shaderProgram.uprightUniform, 0);\r\n\r\n\t\t\t\t// if there's some custom attributes be sure to hook them up\r\n\t\t\t\tif (shaderParamSetup) {\r\n\t\t\t\t\tshaderParamSetup(gl, this, shaderProgram);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"override\":\r\n\t\t\tcase \"particle\":\r\n\t\t\tcase \"regular\":\r\n\t\t\tdefault:\r\n\t\t\t\t// get the places in memory the shader is stored so we can feed information into them\r\n\t\t\t\t// then save it off on the shader because it's so tied to the shader itself\r\n\t\t\t\tshaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"vertexPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.uvPositionAttribute = gl.getAttribLocation(shaderProgram, \"uvPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.uvPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.textureIndexAttribute = gl.getAttribLocation(shaderProgram, \"textureIndex\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.textureIndexAttribute);\r\n\r\n\t\t\t\tshaderProgram.alphaAttribute = gl.getAttribLocation(shaderProgram, \"objectAlpha\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.alphaAttribute);\r\n\r\n\t\t\t\tvar samplers = [];\r\n\t\t\t\tfor (var i = 0; i < this._batchTextureCount; i++) {\r\n\t\t\t\t\tsamplers[i] = i;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tshaderProgram.samplerData = samplers;\r\n\t\t\t\tshaderProgram.samplerUniform = gl.getUniformLocation(shaderProgram, \"uSampler\");\r\n\t\t\t\tgl.uniform1iv(shaderProgram.samplerUniform, samplers);\r\n\r\n\t\t\t\tshaderProgram.pMatrixUniform = gl.getUniformLocation(shaderProgram, \"pMatrix\");\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tgl.useProgram(this._activeShader);\r\n\t\treturn shaderProgram;\r\n\t};\r\n\r\n\t/**\r\n\t * Creates a shader from the specified string replacing templates. Template items are defined via `{{` `key` `}}``.\r\n\t * @method _createShader\r\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param  {Number} type The type of shader to create. gl.VERTEX_SHADER | gl.FRAGMENT_SHADER\r\n\t * @param  {String} str The definition for the shader.\r\n\t * @return {WebGLShader}\r\n\t * @protected\r\n\t */\r\n\tp._createShader = function (gl, type, str) {\r\n\t\t// inject the static number\r\n\t\tstr = str.replace(/{{count}}/g, this._batchTextureCount);\r\n\r\n\t\t// resolve issue with no dynamic samplers by creating correct samplers in if else chain\r\n\t\t// TODO: WebGL 2.0 does not need this support\r\n\t\tvar insert = \"\";\r\n\t\tfor (var i = 1; i<this._batchTextureCount; i++) {\r\n\t\t\tinsert += \"} else if (indexPicker <= \"+ i +\".5) { color = texture2D(uSampler[\"+ i +\"], vTextureCoord);\";\r\n\t\t}\r\n\t\tstr = str.replace(/{{alternates}}/g, insert);\r\n\t\tstr = str.replace(/{{fragColor}}/g, this._premultiply ? StageGL.REGULAR_FRAG_COLOR_PREMULTIPLY : StageGL.REGULAR_FRAG_COLOR_NORMAL);\r\n\r\n\t\t// actually compile the shader\r\n\t\tvar shader = gl.createShader(type);\r\n\t\tgl.shaderSource(shader, str);\r\n\t\tgl.compileShader(shader);\r\n\r\n\t\t// check compile status\r\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t\tthrow gl.getShaderInfoLog(shader);\r\n\t\t}\r\n\r\n\t\treturn shader;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets up the necessary vertex property buffers, including position and U/V.\r\n\t * @method _createBuffers\r\n\t * @param {WebGLRenderingContext} gl\r\n\t * @protected\r\n\t */\r\n\tp._createBuffers = function (gl) {\r\n\t\tvar groupCount = this._maxCardsPerBatch * StageGL.INDICIES_PER_CARD;\r\n\t\tvar groupSize, i, l;\r\n\r\n\t\t// INFO:\r\n\t\t// all buffers are created using this pattern\r\n\t\t// create a WebGL buffer\r\n\t\t// attach it to context\r\n\t\t// figure out how many parts it has to an entry\r\n\t\t// fill it with empty data to reserve the memory\r\n\t\t// attach the empty data to the GPU\r\n\t\t// track the sizes on the buffer object\r\n\r\n\t\t// INFO:\r\n\t\t// a single buffer may be optimal in some situations and would be approached like this,\r\n\t\t// currently not implemented due to lack of need and potential complications with drawCover\r\n\r\n\t\t// var vertexBuffer = this._vertexBuffer = gl.createBuffer();\r\n\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n\t\t// groupSize = 2 + 2 + 1 + 1; //x/y, u/v, index, alpha\r\n\t\t// var vertexData = this._vertexData = new Float32Array(groupCount * groupSize);\r\n\t\t// for (i=0; i<vertexData.length; i+=groupSize) {\r\n\t\t// \tvertexData[i+0] = vertexData[i+1] = 0;\r\n\t\t// \tvertexData[i+2] = vertexData[i+3] = 0.5;\r\n\t\t// \tvertexData[i+4] = 0;\r\n\t\t// \tvertexData[i+5] = 1;\r\n\t\t// }\r\n\t\t// vertexBuffer.itemSize = groupSize;\r\n\t\t// vertexBuffer.numItems = groupCount;\r\n\t\t// TODO bechmark and test using unified buffer\r\n\r\n\t\t// the actual position information\r\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\r\n\t\tgroupSize = 2;\r\n\t\tvar vertices = this._vertices = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=vertices.length; i<l; i+=groupSize) { vertices[i] = vertices[i+1] = 0; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, vertices, gl.DYNAMIC_DRAW);\r\n\t\tvertexPositionBuffer.itemSize = groupSize;\r\n\t\tvertexPositionBuffer.numItems = groupCount;\r\n\r\n\t\t// where on the texture it gets its information\r\n\t\tvar uvPositionBuffer = this._uvPositionBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\r\n\t\tgroupSize = 2;\r\n\t\tvar uvs = this._uvs = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=uvs.length; i<l; i+=groupSize) { uvs[i] = uvs[i+1] = 0; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, uvs, gl.DYNAMIC_DRAW);\r\n\t\tuvPositionBuffer.itemSize = groupSize;\r\n\t\tuvPositionBuffer.numItems = groupCount;\r\n\r\n\t\t// what texture it should use\r\n\t\tvar textureIndexBuffer = this._textureIndexBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, textureIndexBuffer);\r\n\t\tgroupSize = 1;\r\n\t\tvar indices = this._indices = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=indices.length; i<l; i++) { indices[i] = 0; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, indices, gl.DYNAMIC_DRAW);\r\n\t\ttextureIndexBuffer.itemSize = groupSize;\r\n\t\ttextureIndexBuffer.numItems = groupCount;\r\n\r\n\t\t// what alpha it should have\r\n\t\tvar alphaBuffer = this._alphaBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, alphaBuffer);\r\n\t\tgroupSize = 1;\r\n\t\tvar alphas = this._alphas = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=alphas.length; i<l; i++) { alphas[i] = 1; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, alphas, gl.DYNAMIC_DRAW);\r\n\t\talphaBuffer.itemSize = groupSize;\r\n\t\talphaBuffer.numItems = groupCount;\r\n\t};\r\n\r\n\t/**\r\n\t * Do all the setup steps for textures in the system.\r\n\t * @method _initTextures\r\n\t * @protected\r\n\t */\r\n\tp._initTextures = function () {\r\n\t\t//TODO: DHG: add a cleanup routine in here in case this happens mid stream\r\n\r\n\t\t// reset counters\r\n\t\tthis._lastTextureInsert = -1;\r\n\r\n\t\t// clear containers\r\n\t\tthis._textureDictionary = [];\r\n\t\tthis._textureIDs = {};\r\n\t\tthis._baseTextures = [];\r\n\t\tthis._batchTextures = [];\r\n\r\n\t\t// fill in blanks as it helps the renderer be stable while textures are loading and reduces need for safety code\r\n\t\tfor (var i=0; i<this._batchTextureCount;i++) {\r\n\t\t\tvar tex = this.getBaseTexture();\r\n\t\t\tthis._baseTextures[i] = this._batchTextures[i] = tex;\r\n\t\t\tif (!tex) {\r\n\t\t\t\tthrow \"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances\";\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Load a specific texture, accounting for potential delay, as it might not be preloaded.\r\n\t * @method _loadTextureImage\r\n\t * @param {WebGLRenderingContext} gl\r\n\t * @param {Image} image Actual image to be loaded\r\n\t * @return {WebGLTexture} The resulting Texture object\r\n\t * @protected\r\n\t */\r\n\tp._loadTextureImage = function (gl, image) {\r\n\t\tvar src = image.src;\r\n\r\n\t\tif (!src) {\r\n\t\t\t// one time canvas property setup\r\n\t\t\timage._isCanvas = true;\r\n\t\t\tsrc = image.src = \"canvas_\" + this._lastTrackedCanvas++;\r\n\t\t}\r\n\r\n\t\t// put the texture into our storage system\r\n\t\tvar storeID = this._textureIDs[src];\r\n\t\tif (storeID === undefined) {\r\n\t\t\tstoreID = this._textureIDs[src] = this._textureDictionary.length;\r\n\t\t}\r\n\t\tif (this._textureDictionary[storeID] === undefined) {\r\n\t\t\tthis._textureDictionary[storeID] = this.getBaseTexture();\r\n\t\t}\r\n\r\n\t\tvar texture = this._textureDictionary[storeID];\r\n\r\n\t\tif (texture) {\r\n\t\t\t// get texture params all set up\r\n\t\t\ttexture._batchID = this._batchID;\r\n\t\t\ttexture._storeID = storeID;\r\n\t\t\ttexture._imageData = image;\r\n\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\r\n\t\t\t// get the data into the texture or wait for it to load\r\n\t\t\timage._storeID = storeID;\r\n\t\t\tif (image.complete || image.naturalWidth || image._isCanvas) {\t// is it already loaded\r\n\t\t\t\tthis._updateTextureImageData(gl, image);\r\n\t\t\t} else  {\r\n\t\t\t\timage.addEventListener(\"load\", this._updateTextureImageData.bind(this, gl, image));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// we really really should have a texture, try to recover the error by using a saved empty texture so we don't crash\r\n\t\t\tvar msg = \"Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances\";\r\n\t\t\t(console.error && console.error(msg)) || console.log(msg);\r\n\r\n\t\t\ttexture = this._baseTextures[0];\r\n\t\t\ttexture._batchID = this._batchID;\r\n\t\t\ttexture._storeID = -1;\r\n\t\t\ttexture._imageData = texture;\r\n\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\t};\r\n\r\n\t/**\r\n\t * Necessary to upload the actual image data to the GPU. Without this the texture will be blank. Called automatically\r\n\t * in most cases due to loading and caching APIs. Flagging an image source with `_invalid = true` will trigger this\r\n\t * next time the image is rendered.\r\n\t * @param {WebGLRenderingContext} gl\r\n\t * @param {Image | Canvas} image The image data to be uploaded\r\n\t * @protected\r\n\t */\r\n\tp._updateTextureImageData = function (gl, image) {\r\n\t\t// the bitwise & is intentional, cheap exponent 2 check\r\n\t\tvar isNPOT = (image.width & image.width-1) || (image.height & image.height-1);\r\n\t\tvar texture = this._textureDictionary[image._storeID];\r\n\r\n\t\tgl.activeTexture(gl.TEXTURE0 + texture._activeIndex);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n\t\ttexture.isPOT = !isNPOT;\r\n\t\tthis.setTextureParams(gl, texture.isPOT);\r\n\r\n\t\ttry {\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\t\t} catch(e) {\r\n\t\t\tvar errString = \"\\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins\";\r\n\t\t\tif(console.error) {\r\n\t\t\t\t//TODO: LM: I recommend putting this into a log function internally, since you do it so often, and each is implemented differently.\r\n\t\t\t\tconsole.error(errString);\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t} else if (console) {\r\n\t\t\t\tconsole.log(errString);\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\timage._invalid = false;\r\n\r\n\t\ttexture._w = image.width;\r\n\t\ttexture._h = image.height;\r\n\r\n\t\tif (this.vocalDebug) {\r\n\t\t\tif (isNPOT) {\r\n\t\t\t\tconsole.warn(\"NPOT(Non Power of Two) Texture: \"+ image.src);\r\n\t\t\t}\r\n\t\t\tif (image.width > gl.MAX_TEXTURE_SIZE || image.height > gl.MAX_TEXTURE_SIZE){\r\n\t\t\t\tconsole && console.error(\"Oversized Texture: \"+ image.width+\"x\"+image.height +\" vs \"+ gl.MAX_TEXTURE_SIZE +\"max\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Adds the texture to a spot in the current batch, forcing a draw if no spots are free.\r\n\t * @method _insertTextureInBatch\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {WebGLTexture} texture The texture to be inserted.\r\n\t * @protected\r\n\t */\r\n\tp._insertTextureInBatch = function (gl, texture) {\r\n\t\t// if it wasn't used last batch\r\n\t\tif (this._batchTextures[texture._activeIndex] !== texture) {\r\n\t\t\t// we've got to find it a a spot.\r\n\t\t\tvar found = -1;\r\n\t\t\tvar start = (this._lastTextureInsert+1) % this._batchTextureCount;\r\n\t\t\tvar look = start;\r\n\t\t\tdo {\r\n\t\t\t\tif (this._batchTextures[look]._batchID != this._batchID && !this._slotBlacklist[look]) {\r\n\t\t\t\t\tfound = look;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlook = (look+1) % this._batchTextureCount;\r\n\t\t\t} while (look !== start);\r\n\r\n\t\t\t// we couldn't find anywhere for it go, meaning we're maxed out\r\n\t\t\tif (found === -1) {\r\n\t\t\t\tthis.batchReason = \"textureOverflow\";\r\n\t\t\t\tthis._drawBuffers(gl);\t\t// <------------------------------------------------------------------------\r\n\t\t\t\tthis.batchCardCount = 0;\r\n\t\t\t\tfound = start;\r\n\t\t\t}\r\n\r\n\t\t\t// lets put it into that spot\r\n\t\t\tthis._batchTextures[found] = texture;\r\n\t\t\ttexture._activeIndex = found;\r\n\t\t\tvar image = texture._imageData;\r\n\t\t\tif (image && image._invalid && texture._drawID !== undefined) {\r\n\t\t\t\tthis._updateTextureImageData(gl, image);\r\n\t\t\t} else {\r\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + found);\r\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\t\t\tthis.setTextureParams(gl);\r\n\t\t\t}\r\n\t\t\tthis._lastTextureInsert = found;\r\n\t\t} else {\r\n\t\t\tvar image = texture._imageData;\r\n\t\t\tif (texture._storeID != undefined && image && image._invalid) {\r\n\t\t\t\tthis._updateTextureImageData(gl, image);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttexture._drawID = this._drawID;\r\n\t\ttexture._batchID = this._batchID;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove and clean the texture, expects a texture and is inflexible. Mostly for internal use, recommended to call \r\n\t * {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}} instead as it will call this with the correct texture object(s).\r\n\t * Note: Testing shows this may not happen immediately, have to wait frames for WebGL to have actually adjust memory.\r\n\t * @method _killTextureObject\r\n\t * @param {Texture} tex The texture to be cleaned out\r\n\t * @protected\r\n\t */\r\n\tp._killTextureObject = function (tex) {\r\n\t\tif (!tex) { return; }\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\t// remove linkage\r\n\t\tif (tex._storeID !== undefined && tex._storeID >= 0) {\r\n\t\t\tthis._textureDictionary[tex._storeID] = undefined;\r\n\t\t\tfor (var n in this._textureIDs) {\r\n\t\t\t\tif (this._textureIDs[n] == tex._storeID) { delete this._textureIDs[n]; }\r\n\t\t\t}\r\n\t\t\tif(tex._imageData) { tex._imageData._storeID = undefined; }\r\n\t\t\ttex._imageData = tex._storeID = undefined;\r\n\t\t}\r\n\r\n\t\t// make sure to drop it out of an active slot\r\n\t\tif (tex._activeIndex !== undefined && this._batchTextures[tex._activeIndex] === tex) {\r\n\t\t\tthis._batchTextures[tex._activeIndex] = this._baseTextures[tex._activeIndex];\r\n\t\t}\r\n\r\n\t\t// remove buffers if present\r\n\t\ttry {\r\n\t\t\tif (tex._frameBuffer) { gl.deleteFramebuffer(tex._frameBuffer); }\r\n\t\t\ttex._frameBuffer = undefined;\r\n\t\t} catch(e) {\r\n\t\t\t/* suppress delete errors because it's already gone or didn't need deleting probably */\r\n\t\t\tif (this.vocalDebug) { console.log(e); }\r\n\t\t}\r\n\r\n\t\t// remove entry\r\n\t\ttry {\r\n\t\t\tgl.deleteTexture(tex);\r\n\t\t} catch(e) {\r\n\t\t\t/* suppress delete errors because it's already gone or didn't need deleting probably */\r\n\t\t\tif (this.vocalDebug) { console.log(e); }\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Store or restore current batch textures into a backup array\r\n\t * @method _backupBatchTextures\r\n\t * @param {Boolean} restore Perform a restore instead of a store.\r\n\t * @param {Array} [target=this._backupTextures] Where to perform the backup, defaults to internal backup.\r\n\t * @protected\r\n\t */\r\n\tp._backupBatchTextures = function (restore, target) {\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\tif (!this._backupTextures) { this._backupTextures = []; }\r\n\t\tif (target === undefined) { target = this._backupTextures; }\r\n\r\n\t\tfor (var i=0; i<this._batchTextureCount; i++) {\r\n\t\t\tgl.activeTexture(gl.TEXTURE0 + i);\r\n\t\t\tif (restore) {\r\n\t\t\t\tthis._batchTextures[i] = target[i];\r\n\t\t\t} else {\r\n\t\t\t\ttarget[i] = this._batchTextures[i];\r\n\t\t\t\tthis._batchTextures[i] = this._baseTextures[i];\r\n\t\t\t}\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this._batchTextures[i]);\r\n\t\t\tthis.setTextureParams(gl, this._batchTextures[i].isPOT);\r\n\t\t}\r\n\r\n\t\tif (restore && target === this._backupTextures) { this._backupTextures = []; }\r\n\t};\r\n\r\n\t/**\r\n\t * Begin the drawing process for a regular render.\r\n\t * @method _batchDraw\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {Stage || Container} sceneGraph {{#crossLink \"Container\"}}{{/crossLink}} object with all that needs to rendered, preferably a Stage.\r\n\t * @param {Boolean} ignoreCache\r\n\t * @protected\r\n\t */\r\n\tp._batchDraw = function (sceneGraph, gl, ignoreCache) {\r\n\t\tif (this._isDrawing > 0) {\r\n\t\t\tthis._drawBuffers(gl);\r\n\t\t}\r\n\t\tthis._isDrawing++;\r\n\t\tthis._drawID++;\r\n\r\n\t\tthis.batchCardCount = 0;\r\n\t\tthis.depth = 0;\r\n\r\n\t\tthis._appendToBatchGroup(sceneGraph, gl, new createjs.Matrix2D(), this.alpha, ignoreCache);\r\n\r\n\t\tthis.batchReason = \"drawFinish\";\r\n\t\tthis._drawBuffers(gl);\t\t\t\t\t\t\t\t// <--------------------------------------------------------\r\n\t\tthis._isDrawing--;\r\n\t};\r\n\r\n\t/**\r\n\t * Perform the drawing process to fill a specific cache texture, including applying filters.\r\n\t * @method _cacheDraw\r\n\t * @param {DisplayObject} target The object we're drawing into the cache. For example, used for drawing the cache\r\n\t * (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @param {Array} filters The filters we're drawing into cache.\r\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\r\n\t * @protected\r\n\t */\r\n\tp._cacheDraw = function (gl, target, filters, manager) {\r\n\t\t/*\r\n\t\tImplicitly there are 4 modes to this function: filtered-sameContext, filtered-uniqueContext, sameContext, uniqueContext.\r\n\t\tEach situation must be handled slightly differently as 'sameContext' or 'uniqueContext' define how the output works,\r\n\t\tone drawing directly into the main context and the other drawing into a stored renderTexture respectively.\r\n\t\tWhen the draw is a 'filtered' draw, the filters are applied sequentially and will draw into saved textures repeatedly.\r\n\t\tOnce the final filter is done the final output is treated depending upon whether it is a same or unique context.\r\n\t\tThe internal complexity comes from reducing over-draw, shared code, and issues like textures needing to be flipped\r\n\t\tsometimes when written to render textures.\r\n\t\t*/\r\n\t\tvar renderTexture;\r\n\t\tvar shaderBackup = this._activeShader;\r\n\t\tvar blackListBackup = this._slotBlacklist;\r\n\t\tvar lastTextureSlot = this._maxTextureSlots-1;\r\n\t\tvar wBackup = this._viewportWidth, hBackup = this._viewportHeight;\r\n\r\n\t\t// protect the last slot so that we have somewhere to bind the renderTextures so it doesn't get upset\r\n\t\tthis.protectTextureSlot(lastTextureSlot, true);\r\n\r\n\t\t// create offset container for drawing item\r\n\t\tvar mtx = target.getMatrix();\r\n\t\tmtx = mtx.clone();\r\n\t\tmtx.scale(1/manager.scale, 1/manager.scale);\r\n\t\tmtx = mtx.invert();\r\n\t\tmtx.translate(-manager.offX/manager.scale*target.scaleX, -manager.offY/manager.scale*target.scaleY);\r\n\t\tvar container = this._cacheContainer;\r\n\t\tcontainer.children = [target];\r\n\t\tcontainer.transformMatrix = mtx;\r\n\r\n\t\tthis._backupBatchTextures(false);\r\n\r\n\t\tif (filters && filters.length) {\r\n\t\t\tthis._drawFilters(target, filters, manager);\r\n\t\t} else {\r\n\t\t\t// is this for another stage or mine?\r\n\t\t\tif (this.isCacheControlled) {\r\n\t\t\t\t// draw item to canvas\t\t\t\tI -> C\r\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\t\tthis._batchDraw(container, gl, true);\r\n\t\t\t} else {\r\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\t\t\ttarget.cacheCanvas = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\t\t\t\trenderTexture = target.cacheCanvas;\r\n\r\n\t\t\t\t// draw item to render texture\t\tI -> T\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\t\t\t\tthis.updateViewport(manager._drawWidth, manager._drawHeight);\r\n\t\t\t\tthis._projectionMatrix = this._projectionMatrixFlip;\r\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\t\tthis._batchDraw(container, gl, true);\r\n\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\t\tthis.updateViewport(wBackup, hBackup);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._backupBatchTextures(true);\r\n\r\n\t\tthis.protectTextureSlot(lastTextureSlot, false);\r\n\t\tthis._activeShader = shaderBackup;\r\n\t\tthis._slotBlacklist = blackListBackup;\r\n\t};\r\n\r\n\t/**\r\n\t * Sub portion of _cacheDraw, split off for readability. Do not call independently.\r\n\t * @method _drawFilters\r\n\t * @param {DisplayObject} target The object we're drawing with a filter.\r\n\t * @param {Array} filters The filters we're drawing into cache.\r\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\r\n\t */\r\n\tp._drawFilters = function (target, filters, manager) {\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar renderTexture;\r\n\t\tvar lastTextureSlot = this._maxTextureSlots-1;\r\n\t\tvar wBackup = this._viewportWidth, hBackup = this._viewportHeight;\r\n\r\n\t\tvar container = this._cacheContainer;\r\n\t\tvar filterCount = filters.length;\r\n\r\n\t\t// we don't know which texture slot we're dealing with previously and we need one out of the way\r\n\t\t// once we're using that slot activate it so when we make and bind our RenderTexture it's safe there\r\n\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\r\n\t\t// draw item to render texture\t\tI -> T\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\t\tthis.updateViewport(manager._drawWidth, manager._drawHeight);\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\tthis._batchDraw(container, gl, true);\r\n\r\n\t\t// bind the result texture to slot 0 as all filters and cover draws assume original content is in slot 0\r\n\t\tgl.activeTexture(gl.TEXTURE0);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, renderTexture);\r\n\t\tthis.setTextureParams(gl);\r\n\r\n\t\tvar flipY = false;\r\n\t\tvar i = 0, filter = filters[i];\r\n\t\tdo { // this is safe because we wouldn't be in apply filters without a filter count of at least 1\r\n\r\n\t\t\t// swap to correct shader\r\n\t\t\tthis._activeShader = this.getFilterShader(filter);\r\n\t\t\tif (!this._activeShader) { continue; }\r\n\r\n\t\t\t// now the old result is stored in slot 0, make a new render texture\r\n\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\r\n\t\t\t// draw result to render texture\tR -> T\r\n\t\t\tgl.viewport(0, 0, manager._drawWidth, manager._drawHeight);\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\tthis._drawCover(gl, flipY);\r\n\r\n\t\t\t// bind the result texture to slot 0 as all filters and cover draws assume original content is in slot 0\r\n\t\t\tgl.activeTexture(gl.TEXTURE0);\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, renderTexture);\r\n\t\t\tthis.setTextureParams(gl);\r\n\r\n\t\t\t// use flipping to keep things upright, things already cancel out on a single filter\r\n\t\t\t// this needs to be here as multiPass is not accurate to _this_ frame until after shader acquisition\r\n\t\t\tif (filterCount > 1 || filters[0]._multiPass) {\r\n\t\t\t\tflipY = !flipY;\r\n\t\t\t}\r\n\r\n\t\t\t// work through the multipass if it's there, otherwise move on\r\n\t\t\tfilter = filter._multiPass !== null ? filter._multiPass : filters[++i];\r\n\t\t} while (filter);\r\n\r\n\t\t// is this for another stage or mine\r\n\t\tif (this.isCacheControlled) {\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\tthis.updateViewport(wBackup, hBackup);\r\n\r\n\t\t\t// draw result to canvas\t\t\tR -> C\r\n\t\t\tthis._activeShader = this.getFilterShader(this);\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\tthis._drawCover(gl, flipY);\r\n\t\t} else {\r\n\t\t\t//TODO: DHG: this is less than ideal. A flipped initial render for this circumstance might help. Adjust the perspective matrix?\r\n\t\t\tif (flipY) {\r\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\t\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\r\n\t\t\t\tthis._activeShader = this.getFilterShader(this);\r\n\t\t\t\tgl.viewport(0, 0, manager._drawWidth, manager._drawHeight);\r\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\t\tthis._drawCover(gl, !flipY);\r\n\t\t\t}\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\tthis.updateViewport(wBackup, hBackup);\r\n\r\n\t\t\t// make sure the last texture is the active thing to draw\r\n\t\t\ttarget.cacheCanvas = renderTexture;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Add all the contents of a container to the pending buffers, called recursively on each container. This may\r\n\t * trigger a draw if a buffer runs out of space. This is the main workforce of the render loop.\r\n\t * @method _appendToBatchGroup\r\n\t * @param {Container} container The {{#crossLink \"Container\"}}{{/crossLink}} that contains everything to be drawn.\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {Matrix2D} concatMtx The effective (concatenated) transformation matrix when beginning this container\r\n\t * @param {Number} concatAlpha The effective (concatenated) alpha when beginning this container\r\n\t * @param {Boolean} ignoreCache Don't use an element's cache during this draw\r\n\t * @protected\r\n\t */\r\n\tp._appendToBatchGroup = function (container, gl, concatMtx, concatAlpha, ignoreCache) {\r\n\t\t// sort out shared properties\r\n\t\tif (!container._glMtx) { container._glMtx = new createjs.Matrix2D(); }\r\n\t\tvar cMtx = container._glMtx;\r\n\t\tcMtx.copy(concatMtx);\r\n\t\tif (container.transformMatrix) {\r\n\t\t\tcMtx.appendMatrix(container.transformMatrix);\r\n\t\t} else {\r\n\t\t\tcMtx.appendTransform(\r\n\t\t\t\tcontainer.x, container.y,\r\n\t\t\t\tcontainer.scaleX, container.scaleY,\r\n\t\t\t\tcontainer.rotation, container.skewX, container.skewY,\r\n\t\t\t\tcontainer.regX, container.regY\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// sub components of figuring out the position an object holds\r\n\t\tvar subL, subT, subR, subB;\r\n\r\n\t\t// actually apply its data to the buffers\r\n\t\tvar l = container.children.length;\r\n\t\tfor (var i = 0; i < l; i++) {\r\n\t\t\tvar item = container.children[i];\r\n\r\n\t\t\tif (!(item.visible && concatAlpha)) { continue; }\r\n\t\t\tif (!item.cacheCanvas || ignoreCache) {\r\n\t\t\t\tif (item._updateState){\r\n\t\t\t\t\titem._updateState();\r\n\t\t\t\t}\r\n\t\t\t\tif (item.children) {\r\n\t\t\t\t\tthis._appendToBatchGroup(item, gl, cMtx, item.alpha * concatAlpha);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// check for overflowing batch, if yes then force a render\r\n\t\t\t// TODO: DHG: consider making this polygon count dependant for things like vector draws\r\n\t\t\tif (this.batchCardCount+1 > this._maxCardsPerBatch) {\r\n\t\t\t\tthis.batchReason = \"vertexOverflow\";\r\n\t\t\t\tthis._drawBuffers(gl);\t\t\t\t\t// <------------------------------------------------------------\r\n\t\t\t\tthis.batchCardCount = 0;\r\n\t\t\t}\r\n\r\n\t\t\t// keep track of concatenated position\r\n\t\t\tif (!item._glMtx) { item._glMtx = new createjs.Matrix2D(); }\r\n\t\t\tvar iMtx = item._glMtx;\r\n\t\t\tiMtx.copy(cMtx);\r\n\t\t\tif (item.transformMatrix) {\r\n\t\t\t\tiMtx.appendMatrix(item.transformMatrix);\r\n\t\t\t} else {\r\n\t\t\t\tiMtx.appendTransform(\r\n\t\t\t\t\titem.x, item.y,\r\n\t\t\t\t\titem.scaleX, item.scaleY,\r\n\t\t\t\t\titem.rotation, item.skewX, item.skewY,\r\n\t\t\t\t\titem.regX, item.regY\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tvar uvRect, texIndex, image, frame, texture, src;\r\n\t\t\tvar useCache = item.cacheCanvas && !ignoreCache;\r\n\r\n\t\t\tif (item._webGLRenderStyle === 2 || useCache) {\t\t\t// BITMAP / Cached Canvas\r\n\t\t\t\timage = (ignoreCache?false:item.cacheCanvas) || item.image;\r\n\t\t\t} else if (item._webGLRenderStyle === 1) {\t\t\t\t\t\t\t\t\t\t\t// SPRITE\r\n\t\t\t\tframe = item.spriteSheet.getFrame(item.currentFrame);\t//TODO: Faster way?\r\n\t\t\t\tif (frame === null) { continue; }\r\n\t\t\t\timage = frame.image;\r\n\t\t\t} else {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// MISC (DOM objects render themselves later)\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar uvs = this._uvs;\r\n\t\t\tvar vertices = this._vertices;\r\n\t\t\tvar texI = this._indices;\r\n\t\t\tvar alphas = this._alphas;\r\n\r\n\t\t\t// calculate texture\r\n\t\t\tif (!image) { continue; }\r\n\t\t\tif (image._storeID === undefined) {\r\n\t\t\t\t// this texture is new to us so load it and add it to the batch\r\n\t\t\t\ttexture = this._loadTextureImage(gl, image);\r\n\t\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\t\t\t} else {\r\n\t\t\t\t// fetch the texture (render textures know how to look themselves up to simplify this logic)\r\n\t\t\t\ttexture = this._textureDictionary[image._storeID];\r\n\t\t\t\tif (!texture){\r\n\t\t\t\t\tif (this.vocalDebug){ console.log(\"Texture should not be looked up while not being stored.\"); }\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// put it in the batch if needed\r\n\t\t\t\tif (texture._batchID !== this._batchID) {\r\n\t\t\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttexIndex = texture._activeIndex;\r\n\r\n\t\t\tif (item._webGLRenderStyle === 2 || useCache) {\t\t\t// BITMAP / Cached Canvas\r\n\t\t\t\tif (!useCache && item.sourceRect) {\r\n\t\t\t\t\t// calculate uvs\r\n\t\t\t\t\tif (!item._uvRect) { item._uvRect = {}; }\r\n\t\t\t\t\tsrc = item.sourceRect;\r\n\t\t\t\t\tuvRect = item._uvRect;\r\n\t\t\t\t\tuvRect.t = (src.y)/image.height;\r\n\t\t\t\t\tuvRect.l = (src.x)/image.width;\r\n\t\t\t\t\tuvRect.b = (src.y + src.height)/image.height;\r\n\t\t\t\t\tuvRect.r = (src.x + src.width)/image.width;\r\n\r\n\t\t\t\t\t// calculate vertices\r\n\t\t\t\t\tsubL = 0;\t\t\t\t\t\t\tsubT = 0;\r\n\t\t\t\t\tsubR = src.width+subL;\t\t\t\tsubB = src.height+subT;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// calculate uvs\r\n\t\t\t\t\tuvRect = StageGL.UV_RECT;\r\n\t\t\t\t\t// calculate vertices\r\n\t\t\t\t\tif (useCache) {\r\n\t\t\t\t\t\tsrc = item.bitmapCache;\r\n\t\t\t\t\t\tsubL = src.x+(src._filterOffX/src.scale);\tsubT = src.y+(src._filterOffY/src.scale);\r\n\t\t\t\t\t\tsubR = (src._drawWidth/src.scale)+subL;\t\tsubB = (src._drawHeight/src.scale)+subT;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsubL = 0;\t\t\t\t\t\tsubT = 0;\r\n\t\t\t\t\t\tsubR = image.width+subL;\t\tsubB = image.height+subT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (item._webGLRenderStyle === 1) {\t\t\t\t\t\t\t\t\t\t\t// SPRITE\r\n\t\t\t\tvar rect = frame.rect;\r\n\r\n\t\t\t\t// calculate uvs\r\n\t\t\t\tuvRect = frame.uvRect;\r\n\t\t\t\tif (!uvRect) {\r\n\t\t\t\t\tuvRect = StageGL.buildUVRects(item.spriteSheet, item.currentFrame, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// calculate vertices\r\n\t\t\t\tsubL = -frame.regX;\t\t\t\t\t\t\t\tsubT = -frame.regY;\r\n\t\t\t\tsubR = rect.width-frame.regX;\t\t\t\t\tsubB = rect.height-frame.regY;\r\n\t\t\t}\r\n\r\n\t\t\t// These must be calculated here else a forced draw might happen after they're set\r\n\t\t\tvar offV1 = this.batchCardCount*StageGL.INDICIES_PER_CARD;\t\t// offset for 1 component vectors\r\n\t\t\tvar offV2 = offV1*2;\t\t\t\t\t\t\t\t\t\t\t// offset for 2 component vectors\r\n\r\n\t\t\t//DHG: See Matrix2D.transformPoint for why this math specifically\r\n\t\t\t// apply vertices\r\n\t\t\tvertices[offV2] =\t\tsubL *iMtx.a + subT *iMtx.c +iMtx.tx;\t\tvertices[offV2+1] =\t\tsubL *iMtx.b + subT *iMtx.d +iMtx.ty;\r\n\t\t\tvertices[offV2+2] =\t\tsubL *iMtx.a + subB *iMtx.c +iMtx.tx;\t\tvertices[offV2+3] =\t\tsubL *iMtx.b + subB *iMtx.d +iMtx.ty;\r\n\t\t\tvertices[offV2+4] =\t\tsubR *iMtx.a + subT *iMtx.c +iMtx.tx;\t\tvertices[offV2+5] =\t\tsubR *iMtx.b + subT *iMtx.d +iMtx.ty;\r\n\t\t\tvertices[offV2+6] =\t\tvertices[offV2+2];\t\t\t\t\t\t\tvertices[offV2+7] =\t\tvertices[offV2+3];\r\n\t\t\tvertices[offV2+8] =\t\tvertices[offV2+4];\t\t\t\t\t\t\tvertices[offV2+9] =\t\tvertices[offV2+5];\r\n\t\t\tvertices[offV2+10] =\tsubR *iMtx.a + subB *iMtx.c +iMtx.tx;\t\tvertices[offV2+11] =\tsubR *iMtx.b + subB *iMtx.d +iMtx.ty;\r\n\r\n\t\t\t// apply uvs\r\n\t\t\tuvs[offV2] =\tuvRect.l;\t\t\tuvs[offV2+1] =\tuvRect.t;\r\n\t\t\tuvs[offV2+2] =\tuvRect.l;\t\t\tuvs[offV2+3] =\tuvRect.b;\r\n\t\t\tuvs[offV2+4] =\tuvRect.r;\t\t\tuvs[offV2+5] =\tuvRect.t;\r\n\t\t\tuvs[offV2+6] =\tuvRect.l;\t\t\tuvs[offV2+7] =\tuvRect.b;\r\n\t\t\tuvs[offV2+8] =\tuvRect.r;\t\t\tuvs[offV2+9] =\tuvRect.t;\r\n\t\t\tuvs[offV2+10] =\tuvRect.r;\t\t\tuvs[offV2+11] =\tuvRect.b;\r\n\r\n\t\t\t// apply texture\r\n\t\t\ttexI[offV1] = texI[offV1+1] = texI[offV1+2] = texI[offV1+3] = texI[offV1+4] = texI[offV1+5] = texIndex;\r\n\r\n\t\t\t// apply alpha\r\n\t\t\talphas[offV1] = alphas[offV1+1] = alphas[offV1+2] = alphas[offV1+3] = alphas[offV1+4] = alphas[offV1+5] = item.alpha * concatAlpha;\r\n\r\n\t\t\tthis.batchCardCount++;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws all the currently defined cards in the buffer to the render surface.\r\n\t * @method _drawBuffers\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @protected\r\n\t */\r\n\tp._drawBuffers = function (gl) {\r\n\t\tif (this.batchCardCount <= 0) { return; }\t// prevents error logs on stages filled with un-renederable content.\r\n\r\n\t\tif (this.vocalDebug) {\r\n\t\t\tconsole.log(\"Draw[\"+ this._drawID +\":\"+ this._batchID +\"] : \"+ this.batchReason);\r\n\t\t}\r\n\t\tvar shaderProgram = this._activeShader;\r\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer;\r\n\t\tvar textureIndexBuffer = this._textureIndexBuffer;\r\n\t\tvar uvPositionBuffer = this._uvPositionBuffer;\r\n\t\tvar alphaBuffer = this._alphaBuffer;\r\n\r\n\t\tgl.useProgram(shaderProgram);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, vertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._vertices);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, textureIndexBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.textureIndexAttribute, textureIndexBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._indices);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.uvPositionAttribute, uvPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._uvs);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, alphaBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.alphaAttribute, alphaBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._alphas);\r\n\r\n\t\tgl.uniformMatrix4fv(shaderProgram.pMatrixUniform, gl.FALSE, this._projectionMatrix);\r\n\r\n\t\tfor (var i = 0; i < this._batchTextureCount; i++) {\r\n\t\t\tvar texture = this._batchTextures[i];\r\n\t\t\tgl.activeTexture(gl.TEXTURE0 + i);\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\t\tthis.setTextureParams(gl, texture.isPOT);\r\n\t\t}\r\n\r\n\t\tgl.drawArrays(gl.TRIANGLES, 0, this.batchCardCount*StageGL.INDICIES_PER_CARD);\r\n\t\tthis._batchID++;\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a card that covers the entire render surface. Mainly used for filters.\r\n\t * @method _drawBuffers\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {Boolean} flipY Covers are used for things like RenderTextures and because of 3D vs Canvas space this can\r\n\t * end up meaning the `y` space sometimes requires flipping in the render.\r\n\t * @protected\r\n\t */\r\n\tp._drawCover = function (gl, flipY) {\r\n\t\tif (this._isDrawing > 0) {\r\n\t\t\tthis._drawBuffers(gl);\r\n\t\t}\r\n\r\n\t\tif (this.vocalDebug) {\r\n\t\t\tconsole.log(\"Draw[\"+ this._drawID +\":\"+ this._batchID +\"] : \"+ \"Cover\");\r\n\t\t}\r\n\t\tvar shaderProgram = this._activeShader;\r\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer;\r\n\t\tvar uvPositionBuffer = this._uvPositionBuffer;\r\n\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\tgl.useProgram(shaderProgram);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, vertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, StageGL.COVER_VERT);\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.uvPositionAttribute, uvPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, flipY?StageGL.COVER_UV_FLIP:StageGL.COVER_UV);\r\n\r\n\t\tgl.uniform1i(shaderProgram.samplerUniform, 0);\r\n\t\tgl.uniform1f(shaderProgram.uprightUniform, flipY?0:1);\r\n\r\n\t\tgl.drawArrays(gl.TRIANGLES, 0, StageGL.INDICIES_PER_CARD);\r\n\t};\r\n\r\n\tcreatejs.StageGL = createjs.promote(StageGL, \"Stage\");\r\n}());\r\n\r\n//##############################################################################\r\n// Bitmap.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\r\n\t/**\r\n\t * A Bitmap represents an Image, Canvas, or Video in the display list. A Bitmap can be instantiated using an existing\r\n\t * HTML element, or a string.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t * \tvar bitmap = new createjs.Bitmap(\"imagePath.jpg\");\r\n\t *\r\n\t * <strong>Notes:</strong>\r\n\t * <ol>\r\n\t * \t<li>When using a video source that may loop or seek, use a {{#crossLink \"VideoBuffer\"}}{{/crossLink}} object to\r\n\t * \t prevent blinking / flashing.\r\n\t * \t<li>When a string path or image tag that is not yet loaded is used, the stage may need to be redrawn before it\r\n\t * \t will be displayed.</li>\r\n\t * \t<li>Bitmaps with an SVG source currently will not respect an alpha value other than 0 or 1. To get around this,\r\n\t * \tthe Bitmap can be cached.</li>\r\n\t * \t<li>Bitmaps with an SVG source will taint the canvas with cross-origin data, which prevents interactivity. This\r\n\t * \thappens in all browsers except recent Firefox builds.</li>\r\n\t * \t<li>Images loaded cross-origin will throw cross-origin security errors when interacted with using a mouse, using\r\n\t * \tmethods such as `getObjectUnderPoint`, or using filters, or caching. You can get around this by setting\r\n\t * \t`crossOrigin` flags on your images before passing them to EaselJS, eg: `img.crossOrigin=\"Anonymous\";`</li>\r\n\t * </ol>\r\n\t *\r\n\t * @class Bitmap\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {CanvasImageSource | String | Object} imageOrUri The source image to display. This can be a CanvasImageSource\r\n\t * (image, video, canvas), an object with a `getImage` method that returns a CanvasImageSource, or a string URL to an image.\r\n\t * If the latter, a new Image instance with the URL as its src will be used.\r\n\t **/\r\n\tfunction Bitmap(imageOrUri) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The source image to display. This can be a CanvasImageSource\r\n\t\t * (image, video, canvas), an object with a `getImage` method that returns a CanvasImageSource, or a string URL to an image.\r\n\t\t * If the latter, a new Image instance with the URL as its src will be used.\r\n\t\t * @property image\r\n\t\t * @type CanvasImageSource | Object\r\n\t\t **/\r\n\t\tif (typeof imageOrUri == \"string\") {\r\n\t\t\tthis.image = document.createElement(\"img\");\r\n\t\t\tthis.image.src = imageOrUri;\r\n\t\t} else {\r\n\t\t\tthis.image = imageOrUri;\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Specifies an area of the source image to draw. If omitted, the whole image will be drawn.\r\n\t\t * Notes:\r\n\t\t * <ul>\r\n\t\t *     <li>that video sources must have a width / height set to work correctly with `sourceRect`</li>\r\n\t\t *     <li>Cached objects will ignore the `sourceRect` property</li>\r\n\t\t * </ul>\r\n\t\t * @property sourceRect\r\n\t\t * @type Rectangle\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.sourceRect = null;\r\n\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Docced in superclass.\r\n\t\t */\r\n\t\tthis._webGLRenderStyle = createjs.DisplayObject._StageGL_BITMAP;\r\n\t}\r\n\tvar p = createjs.extend(Bitmap, createjs.DisplayObject);\r\n\t\r\n\t\r\n// public methods:\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = Bitmap; // TODO: deprecated.\r\n\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar image = this.image;\r\n\t\tvar hasContent = this.cacheCanvas || (image && (image.naturalWidth || image.getContext || image.readyState >= 2));\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tvar img = this.image, rect = this.sourceRect;\r\n\t\tif (img.getImage) { img = img.getImage(); }\r\n\t\tif (!img) { return true; }\r\n\t\tif (rect) {\r\n\t\t\t// some browsers choke on out of bound values, so we'll fix them:\r\n\t\t\tvar x1 = rect.x, y1 = rect.y, x2 = x1 + rect.width, y2 = y1 + rect.height, x = 0, y = 0, w = img.width, h = img.height;\r\n\t\t\tif (x1 < 0) { x -= x1; x1 = 0; }\r\n\t\t\tif (x2 > w) { x2 = w; }\r\n\t\t\tif (y1 < 0) { y -= y1; y1 = 0; }\r\n\t\t\tif (y2 > h) { y2 = h; }\r\n\t\t\tctx.drawImage(img, x1, y1, x2-x1, y2-y1, x, y, x2-x1, y2-y1);\r\n\t\t} else {\r\n\t\t\tctx.drawImage(img, 0, 0);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\t//Note, the doc sections below document using the specified APIs (from DisplayObject)  from\r\n\t//Bitmap. This is why they have no method implementations.\r\n\t\r\n\t/**\r\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\r\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\r\n\t *\r\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\r\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method cache\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\r\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\r\n\t *\r\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\r\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method updateCache\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\r\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\r\n\t *\r\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\r\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method uncache\r\n\t **/\r\n\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getBounds = function() {\r\n\t\tvar rect = this.DisplayObject_getBounds();\r\n\t\tif (rect) { return rect; }\r\n\t\tvar image = this.image, o = this.sourceRect || image;\r\n\t\tvar hasContent = (image && (image.naturalWidth || image.getContext || image.readyState >= 2));\r\n\t\treturn hasContent ? this._rectangle.setValues(0, 0, o.width, o.height) : null;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Bitmap instance.\r\n\t * @method clone\r\n\t * @param {Boolean} node Whether the underlying dom element should be cloned as well.\r\n\t * @return {Bitmap} a clone of the Bitmap instance.\r\n\t **/\r\n\tp.clone = function(node) {\r\n\t\tvar image = this.image;\r\n\t\tif(image && node){ image = image.cloneNode(); }\r\n\t\tvar o = new Bitmap(image);\r\n\t\tif (this.sourceRect) { o.sourceRect = this.sourceRect.clone(); }\r\n\t\tthis._cloneProps(o);\r\n\t\treturn o;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Bitmap (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\t\r\n\tcreatejs.Bitmap = createjs.promote(Bitmap, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Sprite.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Displays a frame or sequence of frames (ie. an animation) from a SpriteSheet instance. A sprite sheet is a series of\r\n\t * images (usually animation frames) combined into a single image. For example, an animation consisting of 8 100x100\r\n\t * images could be combined into a 400x200 sprite sheet (4 frames across by 2 high). You can display individual frames,\r\n\t * play frames as an animation, and even sequence animations together.\r\n\t *\r\n\t * See the {{#crossLink \"SpriteSheet\"}}{{/crossLink}} class for more information on setting up frames and animations.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var instance = new createjs.Sprite(spriteSheet);\r\n\t *      instance.gotoAndStop(\"frameName\");\r\n\t *\r\n\t * Until {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} or {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}} is called,\r\n\t * only the first defined frame defined in the sprite sheet will be displayed.\r\n\t *\r\n\t * @class Sprite\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {SpriteSheet} spriteSheet The SpriteSheet instance to play back. This includes the source image(s), frame\r\n\t * dimensions, and frame data. See {{#crossLink \"SpriteSheet\"}}{{/crossLink}} for more information.\r\n\t * @param {String|Number} [frameOrAnimation] The frame number or animation to play initially.\r\n\t **/\r\n\tfunction Sprite(spriteSheet, frameOrAnimation) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The frame index that will be drawn when draw is called. Note that with some {{#crossLink \"SpriteSheet\"}}{{/crossLink}}\r\n\t\t * definitions, this will advance non-sequentially. This will always be an integer value.\r\n\t\t * @property currentFrame\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.currentFrame = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Returns the name of the currently playing animation.\r\n\t\t * @property currentAnimation\r\n\t\t * @type {String}\r\n\t\t * @final\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.currentAnimation = null;\r\n\t\r\n\t\t/**\r\n\t\t * Prevents the animation from advancing each tick automatically. For example, you could create a sprite\r\n\t\t * sheet of icons, set paused to true, and display the appropriate icon by setting <code>currentFrame</code>.\r\n\t\t * @property paused\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.paused = true;\r\n\t\r\n\t\t/**\r\n\t\t * The SpriteSheet instance to play back. This includes the source image, frame dimensions, and frame\r\n\t\t * data. See {{#crossLink \"SpriteSheet\"}}{{/crossLink}} for more information.\r\n\t\t * @property spriteSheet\r\n\t\t * @type {SpriteSheet}\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.spriteSheet = spriteSheet;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies the current frame index within the currently playing animation. When playing normally, this will increase\r\n\t\t * from 0 to n-1, where n is the number of frames in the current animation.\r\n\t\t *\r\n\t\t * This could be a non-integer value if\r\n\t\t * using time-based playback (see {{#crossLink \"Sprite/framerate\"}}{{/crossLink}}, or if the animation's speed is\r\n\t\t * not an integer.\r\n\t\t * @property currentAnimationFrame\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.currentAnimationFrame = 0;\r\n\t\r\n\t\t/**\r\n\t\t * By default Sprite instances advance one frame per tick. Specifying a framerate for the Sprite (or its related\r\n\t\t * SpriteSheet) will cause it to advance based on elapsed time between ticks as appropriate to maintain the target\r\n\t\t * framerate.\r\n\t\t *\r\n\t\t * For example, if a Sprite with a framerate of 10 is placed on a Stage being updated at 40fps, then the Sprite will\r\n\t\t * advance roughly one frame every 4 ticks. This will not be exact, because the time between each tick will\r\n\t\t * vary slightly between frames.\r\n\t\t *\r\n\t\t * This feature is dependent on the tick event object (or an object with an appropriate \"delta\" property) being\r\n\t\t * passed into {{#crossLink \"Stage/update\"}}{{/crossLink}}.\r\n\t\t * @property framerate\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.framerate = 0;\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Current animation object.\r\n\t\t * @property _animation\r\n\t\t * @protected\r\n\t\t * @type {Object}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._animation = null;\r\n\t\r\n\t\t/**\r\n\t\t * Current frame index.\r\n\t\t * @property _currentFrame\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._currentFrame = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * Skips the next auto advance. Used by gotoAndPlay to avoid immediately jumping to the next frame\r\n\t\t * @property _skipAdvance\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis._skipAdvance = false;\r\n\r\n\t\t/**\r\n\t\t * Docced in superclass.\r\n\t\t */\r\n\t\tthis._webGLRenderStyle = createjs.DisplayObject._StageGL_SPRITE;\r\n\r\n\t\tif (frameOrAnimation != null) { this.gotoAndPlay(frameOrAnimation); }\r\n\t}\r\n\tvar p = createjs.extend(Sprite, createjs.DisplayObject);\r\n\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = Sprite; // TODO: Deprecated. This is for backwards support of Flash/Animate spritesheet export.\r\n\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when an animation reaches its ends.\r\n\t * @event animationend\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {String} name The name of the animation that just ended.\r\n\t * @param {String} next The name of the next animation that will be played, or null. This will be the same as name if the animation is looping.\r\n\t * @since 0.6.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched any time the current frame changes. For example, this could be due to automatic advancement on a tick,\r\n\t * or calling gotoAndPlay() or gotoAndStop().\r\n\t * @event change\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t */\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || this.spriteSheet.complete;\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tthis._normalizeFrame();\r\n\t\tvar o = this.spriteSheet.getFrame(this._currentFrame|0);\r\n\t\tif (!o) { return false; }\r\n\t\tvar rect = o.rect;\r\n\t\tif (rect.width && rect.height) { ctx.drawImage(o.image, rect.x, rect.y, rect.width, rect.height, -o.regX, -o.regY, rect.width, rect.height); }\r\n\t\treturn true;\r\n\t};\r\n\r\n\t//Note, the doc sections below document using the specified APIs (from DisplayObject)  from\r\n\t//Bitmap. This is why they have no method implementations.\r\n\r\n\t/**\r\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\r\n\t * You should not cache Sprite instances as it can degrade performance.\r\n\t * @method cache\r\n\t **/\r\n\r\n\t/**\r\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\r\n\t * You should not cache Sprite instances as it can degrade performance.\r\n\t * @method updateCache\r\n\t **/\r\n\r\n\t/**\r\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\r\n\t * You should not cache Sprite instances as it can degrade performance.\r\n\t * @method uncache\r\n\t **/\r\n\r\n\t/**\r\n\t * Play (unpause) the current animation. The Sprite will be paused if either {{#crossLink \"Sprite/stop\"}}{{/crossLink}}\r\n\t * or {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} is called. Single frame animations will remain\r\n\t * unchanged.\r\n\t * @method play\r\n\t **/\r\n\tp.play = function() {\r\n\t\tthis.paused = false;\r\n\t};\r\n\r\n\t/**\r\n\t * Stop playing a running animation. The Sprite will be playing if {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}}\r\n\t * is called. Note that calling {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}} or {{#crossLink \"Sprite/play\"}}{{/crossLink}}\r\n\t * will resume playback.\r\n\t * @method stop\r\n\t **/\r\n\tp.stop = function() {\r\n\t\tthis.paused = true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets paused to false and plays the specified animation name, named frame, or frame number.\r\n\t * @method gotoAndPlay\r\n\t * @param {String|Number} frameOrAnimation The frame number or animation name that the playhead should move to\r\n\t * and begin playing.\r\n\t **/\r\n\tp.gotoAndPlay = function(frameOrAnimation) {\r\n\t\tthis.paused = false;\r\n\t\tthis._skipAdvance = true;\r\n\t\tthis._goto(frameOrAnimation);\r\n\t};\r\n\r\n\t/**\r\n\t * Sets paused to true and seeks to the specified animation name, named frame, or frame number.\r\n\t * @method gotoAndStop\r\n\t * @param {String|Number} frameOrAnimation The frame number or animation name that the playhead should move to\r\n\t * and stop.\r\n\t **/\r\n\tp.gotoAndStop = function(frameOrAnimation) {\r\n\t\tthis.paused = true;\r\n\t\tthis._goto(frameOrAnimation);\r\n\t};\r\n\r\n\t/**\r\n\t * Advances the playhead. This occurs automatically each tick by default.\r\n\t * @param [time] {Number} The amount of time in ms to advance by. Only applicable if framerate is set on the Sprite\r\n\t * or its SpriteSheet.\r\n\t * @method advance\r\n\t*/\r\n\tp.advance = function(time) {\r\n\t\tvar fps = this.framerate || this.spriteSheet.framerate;\r\n\t\tvar t = (fps && time != null) ? time/(1000/fps) : 1;\r\n\t\tthis._normalizeFrame(t);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a {{#crossLink \"Rectangle\"}}{{/crossLink}} instance defining the bounds of the current frame relative to\r\n\t * the origin. For example, a 90 x 70 frame with <code>regX=50</code> and <code>regY=40</code> would return a\r\n\t * rectangle with [x=-50, y=-40, width=90, height=70]. This ignores transformations on the display object.\r\n\t *\r\n\t * Also see the SpriteSheet {{#crossLink \"SpriteSheet/getFrameBounds\"}}{{/crossLink}} method.\r\n\t * @method getBounds\r\n\t * @return {Rectangle} A Rectangle instance. Returns null if the frame does not exist, or the image is not fully\r\n\t * loaded.\r\n\t **/\r\n\tp.getBounds = function() {\r\n\t\t// TODO: should this normalizeFrame?\r\n\t\treturn this.DisplayObject_getBounds() || this.spriteSheet.getFrameBounds(this.currentFrame, this._rectangle);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of the Sprite instance. Note that the same SpriteSheet is shared between cloned\r\n\t * instances.\r\n\t * @method clone\r\n\t * @return {Sprite} a clone of the Sprite instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new Sprite(this.spriteSheet));\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Sprite (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _cloneProps\r\n\t * @param {Sprite} o\r\n\t * @return {Sprite} o\r\n\t * @protected\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\tthis.DisplayObject__cloneProps(o);\r\n\t\to.currentFrame = this.currentFrame;\r\n\t\to.currentAnimation = this.currentAnimation;\r\n\t\to.paused = this.paused;\r\n\t\to.currentAnimationFrame = this.currentAnimationFrame;\r\n\t\to.framerate = this.framerate;\r\n\t\t\r\n\t\to._animation = this._animation;\r\n\t\to._currentFrame = this._currentFrame;\r\n\t\to._skipAdvance = this._skipAdvance;\r\n\t\treturn o;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances the <code>currentFrame</code> if paused is not true. This is called automatically when the {{#crossLink \"Stage\"}}{{/crossLink}}\r\n\t * ticks.\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * @protected\r\n\t * @method _tick\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\tif (!this.paused) {\r\n\t\t\tif (!this._skipAdvance) { this.advance(evtObj&&evtObj.delta); }\r\n\t\t\tthis._skipAdvance = false;\r\n\t\t}\r\n\t\tthis.DisplayObject__tick(evtObj);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Normalizes the current frame, advancing animations and dispatching callbacks as appropriate.\r\n\t * @protected\r\n\t * @method _normalizeFrame\r\n\t **/\r\n\tp._normalizeFrame = function(frameDelta) {\r\n\t\tframeDelta = frameDelta || 0;\r\n\t\tvar animation = this._animation;\r\n\t\tvar paused = this.paused;\r\n\t\tvar frame = this._currentFrame;\r\n\t\tvar l;\r\n\t\t\r\n\t\tif (animation) {\r\n\t\t\tvar speed = animation.speed || 1;\r\n\t\t\tvar animFrame = this.currentAnimationFrame;\r\n\t\t\tl = animation.frames.length;\r\n\t\t\tif (animFrame + frameDelta * speed >= l) {\r\n\t\t\t\tvar next = animation.next;\r\n\t\t\t\tif (this._dispatchAnimationEnd(animation, frame, paused, next, l - 1)) {\r\n\t\t\t\t\t// something changed in the event stack, so we shouldn't make any more changes here.\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (next) {\r\n\t\t\t\t\t// sequence. Automatically calls _normalizeFrame again with the remaining frames.\r\n\t\t\t\t\treturn this._goto(next, frameDelta - (l - animFrame) / speed);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// end.\r\n\t\t\t\t\tthis.paused = true;\r\n\t\t\t\t\tanimFrame = animation.frames.length - 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tanimFrame += frameDelta * speed;\r\n\t\t\t}\r\n\t\t\tthis.currentAnimationFrame = animFrame;\r\n\t\t\tthis._currentFrame = animation.frames[animFrame | 0]\r\n\t\t} else {\r\n\t\t\tframe = (this._currentFrame += frameDelta);\r\n\t\t\tl = this.spriteSheet.getNumFrames();\r\n\t\t\tif (frame >= l && l > 0) {\r\n\t\t\t\tif (!this._dispatchAnimationEnd(animation, frame, paused, l - 1)) {\r\n\t\t\t\t\t// looped.\r\n\t\t\t\t\tif ((this._currentFrame -= l) >= l) { return this._normalizeFrame(); }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tframe = this._currentFrame | 0;\r\n\t\tif (this.currentFrame != frame) {\r\n\t\t\tthis.currentFrame = frame;\r\n\t\t\tthis.dispatchEvent(\"change\");\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Dispatches the \"animationend\" event. Returns true if a handler changed the animation (ex. calling {{#crossLink \"Sprite/stop\"}}{{/crossLink}},\r\n\t * {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}}, etc.)\r\n\t * @property _dispatchAnimationEnd\r\n\t * @private\r\n\t * @type {Function}\r\n\t **/\r\n\tp._dispatchAnimationEnd = function(animation, frame, paused, next, end) {\r\n\t\tvar name = animation ? animation.name : null;\r\n\t\tif (this.hasEventListener(\"animationend\")) {\r\n\t\t\tvar evt = new createjs.Event(\"animationend\");\r\n\t\t\tevt.name = name;\r\n\t\t\tevt.next = next;\r\n\t\t\tthis.dispatchEvent(evt);\r\n\t\t}\r\n\t\t// did the animation get changed in the event stack?:\r\n\t\tvar changed = (this._animation != animation || this._currentFrame != frame);\r\n\t\t// if the animation hasn't changed, but the sprite was paused, then we want to stick to the last frame:\r\n\t\tif (!changed && !paused && this.paused) { this.currentAnimationFrame = end; changed = true; }\r\n\t\treturn changed;\r\n\t};\r\n\r\n\t/**\r\n\t * Moves the playhead to the specified frame number or animation.\r\n\t * @method _goto\r\n\t * @param {String|Number} frameOrAnimation The frame number or animation that the playhead should move to.\r\n\t * @param {Boolean} [frame] The frame of the animation to go to. Defaults to 0.\r\n\t * @protected\r\n\t **/\r\n\tp._goto = function(frameOrAnimation, frame) {\r\n\t\tthis.currentAnimationFrame = 0;\r\n\t\tif (isNaN(frameOrAnimation)) {\r\n\t\t\tvar data = this.spriteSheet.getAnimation(frameOrAnimation);\r\n\t\t\tif (data) {\r\n\t\t\t\tthis._animation = data;\r\n\t\t\t\tthis.currentAnimation = frameOrAnimation;\r\n\t\t\t\tthis._normalizeFrame(frame);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.currentAnimation = this._animation = null;\r\n\t\t\tthis._currentFrame = frameOrAnimation;\r\n\t\t\tthis._normalizeFrame();\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tcreatejs.Sprite = createjs.promote(Sprite, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Shape.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * A Shape allows you to display vector art in the display list. It composites a {{#crossLink \"Graphics\"}}{{/crossLink}}\r\n\t * instance which exposes all of the vector drawing methods. The Graphics instance can be shared between multiple Shape\r\n\t * instances to display the same vector graphics with different positions or transforms.\r\n\t *\r\n\t * If the vector art will not\r\n\t * change between draws, you may want to use the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} method to reduce the\r\n\t * rendering cost.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var graphics = new createjs.Graphics().beginFill(\"#ff0000\").drawRect(0, 0, 100, 100);\r\n\t *      var shape = new createjs.Shape(graphics);\r\n\t *\r\n\t *      //Alternatively use can also use the graphics property of the Shape class to renderer the same as above.\r\n\t *      var shape = new createjs.Shape();\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawRect(0, 0, 100, 100);\r\n\t *\r\n\t * @class Shape\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {Graphics} graphics Optional. The graphics instance to display. If null, a new Graphics instance will be created.\r\n\t **/\r\n\tfunction Shape(graphics) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The graphics instance to display.\r\n\t\t * @property graphics\r\n\t\t * @type Graphics\r\n\t\t **/\r\n\t\tthis.graphics = graphics ? graphics : new createjs.Graphics();\r\n\t}\r\n\tvar p = createjs.extend(Shape, createjs.DisplayObject);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the Shape would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the Shape would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || (this.graphics && !this.graphics.isEmpty());\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the Shape into the specified context ignoring its visible, alpha, shadow, and transform. Returns true if\r\n\t * the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * <i>NOTE: This method is mainly for internal use, though it may be useful for advanced uses.</i>\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For example,\r\n\t * used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tthis.graphics.draw(ctx, this);\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Shape. Some properties that are specific to this instance's current context are reverted to\r\n\t * their defaults (for example .parent).\r\n\t * @method clone\r\n\t * @param {Boolean} recursive If true, this Shape's {{#crossLink \"Graphics\"}}{{/crossLink}} instance will also be\r\n\t * cloned. If false, the Graphics instance will be shared with the new Shape.\r\n\t **/\r\n\tp.clone = function(recursive) {\r\n\t\tvar g = (recursive && this.graphics) ? this.graphics.clone() : this.graphics;\r\n\t\treturn  this._cloneProps(new Shape(g));\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Shape (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n\tcreatejs.Shape = createjs.promote(Shape, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Text.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Display one or more lines of dynamic text (not user editable) in the display list. Line wrapping support (using the\r\n\t * lineWidth) is very basic, wrapping on spaces and tabs only. Note that as an alternative to Text, you can position HTML\r\n\t * text above or below the canvas relative to items in the display list using the {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}}\r\n\t * method, or using {{#crossLink \"DOMElement\"}}{{/crossLink}}.\r\n\t *\r\n\t * <b>Please note that Text does not support HTML text, and can only display one font style at a time.</b> To use\r\n\t * multiple font styles, you will need to create multiple text instances, and position them manually.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var text = new createjs.Text(\"Hello World\", \"20px Arial\", \"#ff7700\");\r\n\t *      text.x = 100;\r\n\t *      text.textBaseline = \"alphabetic\";\r\n\t *\r\n\t * CreateJS Text supports web fonts (the same rules as Canvas). The font must be loaded and supported by the browser\r\n\t * before it can be displayed.\r\n\t *\r\n\t * <strong>Note:</strong> Text can be expensive to generate, so cache instances where possible. Be aware that not all\r\n\t * browsers will render Text exactly the same.\r\n\t * @class Text\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {String} [text] The text to display.\r\n\t * @param {String} [font] The font style to use. Any valid value for the CSS font attribute is acceptable (ex. \"bold\r\n\t * 36px Arial\").\r\n\t * @param {String} [color] The color to draw the text in. Any valid value for the CSS color attribute is acceptable (ex.\r\n\t * \"#F00\", \"red\", or \"#FF0000\").\r\n\t **/\r\n\tfunction Text(text, font, color) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The text to display.\r\n\t\t * @property text\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.text = text;\r\n\t\r\n\t\t/**\r\n\t\t * The font style to use. Any valid value for the CSS font attribute is acceptable (ex. \"bold 36px Arial\").\r\n\t\t * @property font\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.font = font;\r\n\t\r\n\t\t/**\r\n\t\t * The color to draw the text in. Any valid value for the CSS color attribute is acceptable (ex. \"#F00\"). Default is \"#000\".\r\n\t\t * It will also accept valid canvas fillStyle values.\r\n\t\t * @property color\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.color = color;\r\n\t\r\n\t\t/**\r\n\t\t * The horizontal text alignment. Any of \"start\", \"end\", \"left\", \"right\", and \"center\". For detailed\r\n\t\t * information view the\r\n\t\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\r\n\t\t * whatwg spec</a>. Default is \"left\".\r\n\t\t * @property textAlign\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.textAlign = \"left\";\r\n\t\r\n\t\t/**\r\n\t\t * The vertical alignment point on the font. Any of \"top\", \"hanging\", \"middle\", \"alphabetic\", \"ideographic\", or\r\n\t\t * \"bottom\". For detailed information view the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\r\n\t\t * whatwg spec</a>. Default is \"top\".\r\n\t\t * @property textBaseline\r\n\t\t * @type String\r\n\t\t*/\r\n\t\tthis.textBaseline = \"top\";\r\n\t\r\n\t\t/**\r\n\t\t * The maximum width to draw the text. If maxWidth is specified (not null), the text will be condensed or\r\n\t\t * shrunk to make it fit in this width. For detailed information view the\r\n\t\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\r\n\t\t * whatwg spec</a>.\r\n\t\t * @property maxWidth\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.maxWidth = null;\r\n\t\r\n\t\t/**\r\n\t\t * If greater than 0, the text will be drawn as a stroke (outline) of the specified width.\r\n\t\t * @property outline\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.outline = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates the line height (vertical distance between baselines) for multi-line text. If null or 0,\r\n\t\t * the value of getMeasuredLineHeight is used.\r\n\t\t * @property lineHeight\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.lineHeight = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates the maximum width for a line of text before it is wrapped to multiple lines. If null,\r\n\t\t * the text will not be wrapped.\r\n\t\t * @property lineWidth\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.lineWidth = null;\r\n\t}\r\n\tvar p = createjs.extend(Text, createjs.DisplayObject);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t\r\n// static properties:\r\n\t/**\r\n\t * @property _workingContext\r\n\t * @type CanvasRenderingContext2D\r\n\t * @private\r\n\t **/\r\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\r\n\tif (canvas.getContext) { Text._workingContext = canvas.getContext(\"2d\"); canvas.width = canvas.height = 1; }\r\n\t\r\n\t\r\n// constants:\r\n\t/**\r\n\t * Lookup table for the ratio to offset bounds x calculations based on the textAlign property.\r\n\t * @property H_OFFSETS\r\n\t * @type Object\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tText.H_OFFSETS = {start: 0, left: 0, center: -0.5, end: -1, right: -1};\r\n\t\r\n\t/**\r\n\t * Lookup table for the ratio to offset bounds y calculations based on the textBaseline property.\r\n\t * @property H_OFFSETS\r\n\t * @type Object\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tText.V_OFFSETS = {top: 0, hanging: -0.01, middle: -0.4, alphabetic: -0.8, ideographic: -0.85, bottom: -1};\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || (this.text != null && this.text !== \"\");\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the Text into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\r\n\t\tvar col = this.color || \"#000\";\r\n\t\tif (this.outline) { ctx.strokeStyle = col; ctx.lineWidth = this.outline*1; }\r\n\t\telse { ctx.fillStyle = col; }\r\n\t\t\r\n\t\tthis._drawText(this._prepContext(ctx));\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the measured, untransformed width of the text without wrapping. Use getBounds for a more robust value.\r\n\t * @method getMeasuredWidth\r\n\t * @return {Number} The measured, untransformed width of the text.\r\n\t **/\r\n\tp.getMeasuredWidth = function() {\r\n\t\treturn this._getMeasuredWidth(this.text);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an approximate line height of the text, ignoring the lineHeight property. This is based on the measured\r\n\t * width of a \"M\" character multiplied by 1.2, which provides an approximate line height for most fonts.\r\n\t * @method getMeasuredLineHeight\r\n\t * @return {Number} an approximate line height of the text, ignoring the lineHeight property. This is\r\n\t * based on the measured width of a \"M\" character multiplied by 1.2, which approximates em for most fonts.\r\n\t **/\r\n\tp.getMeasuredLineHeight = function() {\r\n\t\treturn this._getMeasuredWidth(\"M\")*1.2;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the approximate height of multi-line text by multiplying the number of lines against either the\r\n\t * <code>lineHeight</code> (if specified) or {{#crossLink \"Text/getMeasuredLineHeight\"}}{{/crossLink}}. Note that\r\n\t * this operation requires the text flowing logic to run, which has an associated CPU cost.\r\n\t * @method getMeasuredHeight\r\n\t * @return {Number} The approximate height of the untransformed multi-line text.\r\n\t **/\r\n\tp.getMeasuredHeight = function() {\r\n\t\treturn this._drawText(null,{}).height;\r\n\t};\r\n\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getBounds = function() {\r\n\t\tvar rect = this.DisplayObject_getBounds();\r\n\t\tif (rect) { return rect; }\r\n\t\tif (this.text == null || this.text === \"\") { return null; }\r\n\t\tvar o = this._drawText(null, {});\r\n\t\tvar w = (this.maxWidth && this.maxWidth < o.width) ? this.maxWidth : o.width;\r\n\t\tvar x = w * Text.H_OFFSETS[this.textAlign||\"left\"];\r\n\t\tvar lineHeight = this.lineHeight||this.getMeasuredLineHeight();\r\n\t\tvar y = lineHeight * Text.V_OFFSETS[this.textBaseline||\"top\"];\r\n\t\treturn this._rectangle.setValues(x, y, w, o.height);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns an object with width, height, and lines properties. The width and height are the visual width and height\r\n\t * of the drawn text. The lines property contains an array of strings, one for\r\n\t * each line of text that will be drawn, accounting for line breaks and wrapping. These strings have trailing\r\n\t * whitespace removed.\r\n\t * @method getMetrics\r\n\t * @return {Object} An object with width, height, and lines properties.\r\n\t **/\r\n\tp.getMetrics = function() {\r\n\t\tvar o = {lines:[]};\r\n\t\to.lineHeight = this.lineHeight || this.getMeasuredLineHeight();\r\n\t\to.vOffset = o.lineHeight * Text.V_OFFSETS[this.textBaseline||\"top\"];\r\n\t\treturn this._drawText(null, o, o.lines);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of the Text instance.\r\n\t * @method clone\r\n\t * @return {Text} a clone of the Text instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new Text(this.text, this.font, this.color));\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Text (text=\"+  (this.text.length > 20 ? this.text.substr(0, 17)+\"...\" : this.text) +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _cloneProps\r\n\t * @param {Text} o\r\n\t * @protected\r\n\t * @return {Text} o\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\tthis.DisplayObject__cloneProps(o);\r\n\t\to.textAlign = this.textAlign;\r\n\t\to.textBaseline = this.textBaseline;\r\n\t\to.maxWidth = this.maxWidth;\r\n\t\to.outline = this.outline;\r\n\t\to.lineHeight = this.lineHeight;\r\n\t\to.lineWidth = this.lineWidth;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getWorkingContext\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @return {CanvasRenderingContext2D}\r\n\t * @protected\r\n\t **/\r\n\tp._prepContext = function(ctx) {\r\n\t\tctx.font = this.font||\"10px sans-serif\";\r\n\t\tctx.textAlign = this.textAlign||\"left\";\r\n\t\tctx.textBaseline = this.textBaseline||\"top\";\r\n\t\tctx.lineJoin = \"miter\";\r\n\t\tctx.miterLimit = 2.5;\r\n\t\treturn ctx;\r\n\t};\r\n\r\n\t/**\r\n\t * Draws multiline text.\r\n\t * @method _drawText\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @param {Object} o\r\n\t * @param {Array} lines\r\n\t * @return {Object}\r\n\t * @protected\r\n\t **/\r\n\tp._drawText = function(ctx, o, lines) {\r\n\t\tvar paint = !!ctx;\r\n\t\tif (!paint) {\r\n\t\t\tctx = Text._workingContext;\r\n\t\t\tctx.save();\r\n\t\t\tthis._prepContext(ctx);\r\n\t\t}\r\n\t\tvar lineHeight = this.lineHeight||this.getMeasuredLineHeight();\r\n\t\t\r\n\t\tvar maxW = 0, count = 0;\r\n\t\tvar hardLines = String(this.text).split(/(?:\\r\\n|\\r|\\n)/);\r\n\t\tfor (var i=0, l=hardLines.length; i<l; i++) {\r\n\t\t\tvar str = hardLines[i];\r\n\t\t\tvar w = null;\r\n\t\t\t\r\n\t\t\tif (this.lineWidth != null && (w = ctx.measureText(str).width) > this.lineWidth) {\r\n\t\t\t\t// text wrapping:\r\n\t\t\t\tvar words = str.split(/(\\s)/);\r\n\t\t\t\tstr = words[0];\r\n\t\t\t\tw = ctx.measureText(str).width;\r\n\t\t\t\t\r\n\t\t\t\tfor (var j=1, jl=words.length; j<jl; j+=2) {\r\n\t\t\t\t\t// Line needs to wrap:\r\n\t\t\t\t\tvar wordW = ctx.measureText(words[j] + words[j+1]).width;\r\n\t\t\t\t\tif (w + wordW > this.lineWidth) {\r\n\t\t\t\t\t\tif (paint) { this._drawTextLine(ctx, str, count*lineHeight); }\r\n\t\t\t\t\t\tif (lines) { lines.push(str); }\r\n\t\t\t\t\t\tif (w > maxW) { maxW = w; }\r\n\t\t\t\t\t\tstr = words[j+1];\r\n\t\t\t\t\t\tw = ctx.measureText(str).width;\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstr += words[j] + words[j+1];\r\n\t\t\t\t\t\tw += wordW;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (paint) { this._drawTextLine(ctx, str, count*lineHeight); }\r\n\t\t\tif (lines) { lines.push(str); }\r\n\t\t\tif (o && w == null) { w = ctx.measureText(str).width; }\r\n\t\t\tif (w > maxW) { maxW = w; }\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tif (o) {\r\n\t\t\to.width = maxW;\r\n\t\t\to.height = count*lineHeight;\r\n\t\t}\r\n\t\tif (!paint) { ctx.restore(); }\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _drawTextLine\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @param {String} text\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t **/\r\n\tp._drawTextLine = function(ctx, text, y) {\r\n\t\t// Chrome 17 will fail to draw the text if the last param is included but null, so we feed it a large value instead:\r\n\t\tif (this.outline) { ctx.strokeText(text, 0, y, this.maxWidth||0xFFFF); }\r\n\t\telse { ctx.fillText(text, 0, y, this.maxWidth||0xFFFF); }\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * @method _getMeasuredWidth\r\n\t * @param {String} text\r\n\t * @protected\r\n\t **/\r\n\tp._getMeasuredWidth = function(text) {\r\n\t\tvar ctx = Text._workingContext;\r\n\t\tctx.save();\r\n\t\tvar w = this._prepContext(ctx).measureText(text).width;\r\n\t\tctx.restore();\r\n\t\treturn w;\r\n\t};\r\n\r\n\r\n\tcreatejs.Text = createjs.promote(Text, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// BitmapText.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Displays text using bitmap glyphs defined in a sprite sheet. Multi-line text is supported using new line characters,\r\n\t * but automatic wrapping is not supported. See the {{#crossLink \"BitmapText/spriteSheet:property\"}}{{/crossLink}}\r\n\t * property for more information on defining glyphs.\r\n\t *\r\n\t * <strong>Important:</strong> While BitmapText extends Container, it is not designed to be used as one.\r\n\t * As such, methods like addChild and removeChild are disabled.\r\n\t *\r\n\t *\r\n\t * @class BitmapText\r\n\t * @extends DisplayObject\r\n\t * @param {String} [text=\"\"] The text to display.\r\n\t * @param {SpriteSheet} [spriteSheet=null] The spritesheet that defines the character glyphs.\r\n\t * @constructor\r\n\t **/\r\n\tfunction BitmapText(text, spriteSheet) {\r\n\t\tthis.Container_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The text to display.\r\n\t\t * @property text\r\n\t\t * @type String\r\n\t\t * @default \"\"\r\n\t\t **/\r\n\t\tthis.text = text||\"\";\r\n\t\t\r\n\t\t/**\r\n\t\t * A SpriteSheet instance that defines the glyphs for this bitmap text. Each glyph/character\r\n\t\t * should have a single frame animation defined in the sprite sheet named the same as\r\n\t\t * corresponding character. For example, the following animation definition:\r\n\t\t *\r\n\t\t * \t\t\"A\": {frames: [0]}\r\n\t\t *\r\n\t\t * would indicate that the frame at index 0 of the spritesheet should be drawn for the \"A\" character. The short form\r\n\t\t * is also acceptable:\r\n\t\t * \r\n\t\t * \t\t\"A\": 0\r\n\t\t *\r\n\t\t * Note that if a character in the text is not found in the sprite sheet, it will also\r\n\t\t * try to use the alternate case (upper or lower).\r\n\t\t *\r\n\t\t * See SpriteSheet for more information on defining sprite sheet data.\r\n\t\t * @property spriteSheet\r\n\t\t * @type SpriteSheet\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.spriteSheet = spriteSheet;\r\n\t\r\n\t\t/**\r\n\t\t * The height of each line of text. If 0, then it will use a line height calculated\r\n\t\t * by checking for the height of the \"1\", \"T\", or \"L\" character (in that order). If\r\n\t\t * those characters are not defined, it will use the height of the first frame of the\r\n\t\t * sprite sheet.\r\n\t\t * @property lineHeight\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.lineHeight = 0;\r\n\t\r\n\t\t/**\r\n\t\t * This spacing (in pixels) will be added after each character in the output.\r\n\t\t * @property letterSpacing\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.letterSpacing = 0;\r\n\t\r\n\t\t/**\r\n\t\t * If a space character is not defined in the sprite sheet, then empty pixels equal to\r\n\t\t * spaceWidth will be inserted instead. If 0, then it will use a value calculated\r\n\t\t * by checking for the width of the \"1\", \"l\", \"E\", or \"A\" character (in that order). If\r\n\t\t * those characters are not defined, it will use the width of the first frame of the\r\n\t\t * sprite sheet.\r\n\t\t * @property spaceWidth\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.spaceWidth = 0;\r\n\t\t\r\n\t\t\r\n\t// private properties:\r\n\t \t/**\r\n\t\t * @property _oldProps\r\n\t\t * @type Object\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._oldProps = {text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0};\r\n\r\n\t\t/**\r\n\t\t * Used to track the object which this class attached listeners to, helps optimize listener attachment.\r\n\t\t * @property _oldStage\r\n\t\t * @type Stage\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._oldStage = null;\r\n\t\t/**\r\n\t\t * The event listener proxy triggered drawing draw for special circumstances.\r\n\t\t * @property _drawAction\r\n\t\t * @type function\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._drawAction = null;\r\n\t}\r\n\tvar p = createjs.extend(BitmapText, createjs.Container);\r\n\r\n// static properties:\r\n\t/**\r\n\t * BitmapText uses Sprite instances to draw text. To reduce the creation and destruction of instances (and thus garbage collection), it maintains\r\n\t * an internal object pool of sprite instances to reuse. Increasing this value can cause more sprites to be\r\n\t * retained, slightly increasing memory use, but reducing instantiation.\r\n\t * @property maxPoolSize\r\n\t * @type Number\r\n\t * @static\r\n\t * @default 100\r\n\t **/\r\n\tBitmapText.maxPoolSize = 100;\r\n\t\r\n\t/**\r\n\t * Sprite object pool.\r\n\t * @type {Array}\r\n\t * @static\r\n\t * @private\r\n\t */\r\n\tBitmapText._spritePool = [];\r\n\r\n\t\r\n// public methods:\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return; }\r\n\t\tthis._updateState();\r\n\t\tthis.Container_draw(ctx, ignoreCache);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp.getBounds = function() {\r\n\t\tthis._updateText();\r\n\t\treturn this.Container_getBounds();\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || (this.spriteSheet && this.spriteSheet.complete && this.text);\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX !== 0 && this.scaleY !== 0 && hasContent);\r\n\t};\r\n\t\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new BitmapText(this.text, this.spriteSheet));\r\n\t};\r\n\t\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method addChild\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method addChildAt\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method removeChild\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method removeChildAt\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method removeAllChildren\r\n\t **/\r\n\tp.addChild = p.addChildAt = p.removeChild = p.removeChildAt = p.removeAllChildren = function() {};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp._updateState = function() {\r\n\t\tthis._updateText();\r\n\t};\r\n\r\n \t/**\r\n\t * @method _cloneProps\r\n\t * @param {BitmapText} o\r\n\t * @return {BitmapText} o\r\n\t * @protected\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\tthis.Container__cloneProps(o);\r\n\t\to.lineHeight = this.lineHeight;\r\n\t\to.letterSpacing = this.letterSpacing;\r\n\t\to.spaceWidth = this.spaceWidth;\r\n\t\treturn o;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getFrameIndex\r\n\t * @param {String} character\r\n\t * @param {SpriteSheet} spriteSheet\r\n\t * @return {Number}\r\n\t * @protected\r\n\t **/\r\n\tp._getFrameIndex = function(character, spriteSheet) {\r\n\t\tvar c, o = spriteSheet.getAnimation(character);\r\n\t\tif (!o) {\r\n\t\t\t(character != (c = character.toUpperCase())) || (character != (c = character.toLowerCase())) || (c=null);\r\n\t\t\tif (c) { o = spriteSheet.getAnimation(c); }\r\n\t\t}\r\n\t\treturn o && o.frames[0];\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getFrame\r\n\t * @param {String} character\r\n\t * @param {SpriteSheet} spriteSheet\r\n\t * @return {Object}\r\n\t * @protected\r\n\t **/\r\n\tp._getFrame = function(character, spriteSheet) {\r\n\t\tvar index = this._getFrameIndex(character, spriteSheet);\r\n\t\treturn index == null ? index : spriteSheet.getFrame(index);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getLineHeight\r\n\t * @param {SpriteSheet} ss\r\n\t * @return {Number}\r\n\t * @protected\r\n\t **/\r\n\tp._getLineHeight = function(ss) {\r\n\t\tvar frame = this._getFrame(\"1\",ss) || this._getFrame(\"T\",ss) || this._getFrame(\"L\",ss) || ss.getFrame(0);\r\n\t\treturn frame ? frame.rect.height : 1;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getSpaceWidth\r\n\t * @param {SpriteSheet} ss\r\n\t * @return {Number}\r\n\t * @protected\r\n\t **/\r\n\tp._getSpaceWidth = function(ss) {\r\n\t\tvar frame = this._getFrame(\"1\",ss) || this._getFrame(\"l\",ss) || this._getFrame(\"e\",ss) || this._getFrame(\"a\",ss) || ss.getFrame(0);\r\n\t\treturn frame ? frame.rect.width : 1;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _updateText\r\n\t * @protected\r\n\t **/\r\n\tp._updateText = function() {\r\n\t\tvar x=0, y=0, o=this._oldProps, change=false, spaceW=this.spaceWidth, lineH=this.lineHeight, ss=this.spriteSheet;\r\n\t\tvar pool=BitmapText._spritePool, kids=this.children, childIndex=0, numKids=kids.length, sprite;\r\n\t\t\r\n\t\tfor (var n in o) {\r\n\t\t\tif (o[n] != this[n]) {\r\n\t\t\t\to[n] = this[n];\r\n\t\t\t\tchange = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!change) { return; }\r\n\t\t\r\n\t\tvar hasSpace = !!this._getFrame(\" \", ss);\r\n\t\tif (!hasSpace && !spaceW) { spaceW = this._getSpaceWidth(ss); }\r\n\t\tif (!lineH) { lineH = this._getLineHeight(ss); }\r\n\t\t\r\n\t\tfor(var i=0, l=this.text.length; i<l; i++) {\r\n\t\t\tvar character = this.text.charAt(i);\r\n\t\t\tif (character == \" \" && !hasSpace) {\r\n\t\t\t\tx += spaceW;\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (character==\"\\n\" || character==\"\\r\") {\r\n\t\t\t\tif (character==\"\\r\" && this.text.charAt(i+1) == \"\\n\") { i++; } // crlf\r\n\t\t\t\tx = 0;\r\n\t\t\t\ty += lineH;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar index = this._getFrameIndex(character, ss);\r\n\t\t\tif (index == null) { continue; }\r\n\t\t\t\r\n\t\t\tif (childIndex < numKids) {\r\n\t\t\t\tsprite = kids[childIndex];\r\n\t\t\t} else {\r\n\t\t\t\tkids.push(sprite = pool.length ? pool.pop() : new createjs.Sprite());\r\n\t\t\t\tsprite.parent = this;\r\n\t\t\t\tnumKids++;\r\n\t\t\t}\r\n\t\t\tsprite.spriteSheet = ss;\r\n\t\t\tsprite.gotoAndStop(index);\r\n\t\t\tsprite.x = x;\r\n\t\t\tsprite.y = y;\r\n\t\t\tchildIndex++;\r\n\t\t\t\r\n\t\t\tx += sprite.getBounds().width + this.letterSpacing;\r\n\t\t}\r\n\t\twhile (numKids > childIndex) {\r\n\t\t\t // faster than removeChild.\r\n\t\t\tpool.push(sprite = kids.pop());\r\n\t\t\tsprite.parent = null;\r\n\t\t\tnumKids--;\r\n\t\t}\r\n\t\tif (pool.length > BitmapText.maxPoolSize) { pool.length = BitmapText.maxPoolSize; }\r\n\t};\r\n\r\n\r\n\tcreatejs.BitmapText = createjs.promote(BitmapText, \"Container\");\r\n}());\r\n\r\n//##############################################################################\r\n// MovieClip.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The MovieClip class associates a TweenJS Timeline with an EaselJS {{#crossLink \"Container\"}}{{/crossLink}}. It allows\r\n\t * you to create objects which encapsulate timeline animations, state changes, and synched actions. The MovieClip\r\n\t * class has been included in the EaselJS minified file since 0.7.0.\r\n\t *\r\n\t * Currently MovieClip only works properly if it is tick based (as opposed to time based) though some concessions have\r\n\t * been made to support time-based timelines in the future.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example animates two shapes back and forth. The grey shape starts on the left, but we jump to a mid-point in\r\n\t * the animation using {{#crossLink \"MovieClip/gotoAndPlay\"}}{{/crossLink}}.\r\n\t *\r\n\t *      var stage = new createjs.Stage(\"canvas\");\r\n\t *      createjs.Ticker.addEventListener(\"tick\", stage);\r\n\t *\r\n\t *      var mc = new createjs.MovieClip({loop:-1, labels:{myLabel:20}});\r\n\t *      stage.addChild(mc);\r\n\t *\r\n\t *      var child1 = new createjs.Shape(\r\n\t *          new createjs.Graphics().beginFill(\"#999999\")\r\n\t *              .drawCircle(30,30,30));\r\n\t *      var child2 = new createjs.Shape(\r\n\t *          new createjs.Graphics().beginFill(\"#5a9cfb\")\r\n\t *              .drawCircle(30,30,30));\r\n\t *\r\n\t *      mc.timeline.addTween(\r\n\t *          createjs.Tween.get(child1)\r\n\t *              .to({x:0}).to({x:60}, 50).to({x:0}, 50));\r\n\t *      mc.timeline.addTween(\r\n\t *          createjs.Tween.get(child2)\r\n\t *              .to({x:60}).to({x:0}, 50).to({x:60}, 50));\r\n\t *\r\n\t *      mc.gotoAndPlay(\"start\");\r\n\t *\r\n\t * It is recommended to use <code>tween.to()</code> to animate and set properties (use no duration to have it set\r\n\t * immediately), and the <code>tween.wait()</code> method to create delays between animations. Note that using the\r\n\t * <code>tween.set()</code> method to affect properties will likely not provide the desired result.\r\n\t *\r\n\t * @class MovieClip\r\n\t * @main MovieClip\r\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{mode:MovieClip.SYNCHED}`).\r\n\t * Supported props for the MovieClip are listed below. These props are set on the corresponding instance properties except where\r\n\t * specified.<UL>\r\n\t *    <LI> `mode`</LI>\r\n\t *    <LI> `startPosition`</LI>\r\n\t *    <LI> `frameBounds`</LI>\r\n\t * </UL>\r\n\t * \r\n\t * This object will also be passed into the Timeline instance associated with this MovieClip. See the documentation\r\n\t * for Timeline for a list of supported props (ex. `paused`, `labels`, `loop`, `reversed`, etc.)\r\n\t * @extends Container\r\n\t * @constructor\r\n\t **/\r\n\tfunction MovieClip(props) {\r\n\t\tthis.Container_constructor();\r\n\t\t!MovieClip.inited&&MovieClip.init(); // static init\r\n\t\t\r\n\t\tvar mode, startPosition, loop, labels;\r\n\t\t\r\n\t\t// handle old params (mode, startPosition, loop, labels):\r\n\t\t// TODO: deprecated param handling:\r\n\t\tif (props instanceof String || arguments.length > 1) {\r\n\t\t\tmode = props;\r\n\t\t\tstartPosition = arguments[1];\r\n\t\t\tloop = arguments[2];\r\n\t\t\tlabels = arguments[3];\r\n\t\t\tif (loop == null) { loop = -1; }\r\n\t\t\tprops = null;\r\n\t\t} else if (props) {\r\n\t\t\tmode = props.mode;\r\n\t\t\tstartPosition = props.startPosition;\r\n\t\t\tloop = props.loop;\r\n\t\t\tlabels = props.labels;\r\n\t\t}\r\n\t\tif (!props) { props = {labels:labels}; }\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * Controls how this MovieClip advances its time. Must be one of 0 (INDEPENDENT), 1 (SINGLE_FRAME), or 2 (SYNCHED).\r\n\t\t * See each constant for a description of the behaviour.\r\n\t\t * @property mode\r\n\t\t * @type String\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.mode = mode||MovieClip.INDEPENDENT;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies what the first frame to play in this movieclip, or the only frame to display if mode is SINGLE_FRAME.\r\n\t\t * @property startPosition\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.startPosition = startPosition||0;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies how many times this MovieClip should loop. A value of -1 indicates it should loop indefinitely. A value of\r\n\t\t * 1 would cause it to loop once (ie. play a total of twice).\r\n\t\t * @property loop\r\n\t\t * @type Number\r\n\t\t * @default -1\r\n\t\t */\r\n\t\tthis.loop = loop === true ? -1 : (loop || 0);\r\n\t\r\n\t\t/**\r\n\t\t * The current frame of the movieclip.\r\n\t\t * @property currentFrame\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.currentFrame = 0;\r\n\t\r\n\t\t/**\r\n\t\t * If true, the MovieClip's position will not advance when ticked.\r\n\t\t * @property paused\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis.paused = props.paused||false;\r\n\t\r\n\t\t/**\r\n\t\t * If true, actions in this MovieClip's tweens will be run when the playhead advances.\r\n\t\t * @property actionsEnabled\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t */\r\n\t\tthis.actionsEnabled = true;\r\n\t\r\n\t\t/**\r\n\t\t * If true, the MovieClip will automatically be reset to its first frame whenever the timeline adds\r\n\t\t * it back onto the display list. This only applies to MovieClip instances with mode=INDEPENDENT.\r\n\t\t * <br><br>\r\n\t\t * For example, if you had a character animation with a \"body\" child MovieClip instance\r\n\t\t * with different costumes on each frame, you could set body.autoReset = false, so that\r\n\t\t * you can manually change the frame it is on, without worrying that it will be reset\r\n\t\t * automatically.\r\n\t\t * @property autoReset\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t */\r\n\t\tthis.autoReset = true;\r\n\t\t\r\n\t\t/**\r\n\t\t * An array of bounds for each frame in the MovieClip. This is mainly intended for tool output.\r\n\t\t * @property frameBounds\r\n\t\t * @type Array\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.frameBounds = this.frameBounds||props.frameBounds; // frameBounds are set on the prototype in Animate.\r\n\t\t\r\n\t\t/**\r\n\t\t * By default MovieClip instances advance one frame per tick. Specifying a framerate for the MovieClip\r\n\t\t * will cause it to advance based on elapsed time between ticks as appropriate to maintain the target\r\n\t\t * framerate.\r\n\t\t *\r\n\t\t * For example, if a MovieClip with a framerate of 10 is placed on a Stage being updated at 40fps, then the MovieClip will\r\n\t\t * advance roughly one frame every 4 ticks. This will not be exact, because the time between each tick will\r\n\t\t * vary slightly between frames.\r\n\t\t *\r\n\t\t * This feature is dependent on the tick event object (or an object with an appropriate \"delta\" property) being\r\n\t\t * passed into {{#crossLink \"Stage/update\"}}{{/crossLink}}.\r\n\t\t * @property framerate\r\n\t\t * @type {Number}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.framerate = null;\r\n\t\t\r\n\t\t// set up the needed props for Timeline:\r\n\t\tprops.useTicks = props.paused = true;\r\n\t\t\r\n\t\t/**\r\n\t\t * The TweenJS Timeline that is associated with this MovieClip. This is created automatically when the MovieClip\r\n\t\t * instance is initialized. Animations are created by adding <a href=\"http://tweenjs.com\">TweenJS</a> Tween\r\n\t\t * instances to the timeline.\r\n\t\t *\r\n\t\t * <h4>Example</h4>\r\n\t\t *\r\n\t\t *      var tween = createjs.Tween.get(target).to({x:0}).to({x:100}, 30);\r\n\t\t *      var mc = new createjs.MovieClip();\r\n\t\t *      mc.timeline.addTween(tween);\r\n\t\t *\r\n\t\t * Elements can be added and removed from the timeline by toggling an \"_off\" property\r\n\t\t * using the <code>tweenInstance.to()</code> method. Note that using <code>Tween.set</code> is not recommended to\r\n\t\t * create MovieClip animations. The following example will toggle the target off on frame 0, and then back on for\r\n\t\t * frame 1. You can use the \"visible\" property to achieve the same effect.\r\n\t\t *\r\n\t\t *      var tween = createjs.Tween.get(target).to({_off:false})\r\n\t\t *          .wait(1).to({_off:true})\r\n\t\t *          .wait(1).to({_off:false});\r\n\t\t *\r\n\t\t * @property timeline\r\n\t\t * @type Timeline\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.timeline = new createjs.Timeline(props);\r\n\t\t\r\n\t\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _synchOffset\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._synchOffset = 0;\r\n\t\r\n\t\t/**\r\n\t\t * @property _rawPosition\r\n\t\t * @type Number\r\n\t\t * @default -1\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._rawPosition = -1; // TODO: evaluate using a ._reset Boolean prop instead of -1.\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _bound_resolveState\r\n\t\t * @type Function\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._bound_resolveState = this._resolveState.bind(this);\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * The time remaining from the previous tick, only applicable when .framerate is set.\r\n\t\t * @property _t\r\n\t\t * @type Number\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._t = 0;\r\n\t\r\n\t\t/**\r\n\t\t * List of display objects that are actively being managed by the MovieClip.\r\n\t\t * @property _managed\r\n\t\t * @type Object\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._managed = {};\r\n\t}\r\n\tvar p = createjs.extend(MovieClip, createjs.Container);\r\n\r\n\r\n// constants:\r\n\t/**\r\n\t * The MovieClip will advance independently of its parent, even if its parent is paused.\r\n\t * This is the default mode.\r\n\t * @property INDEPENDENT\r\n\t * @static\r\n\t * @type String\r\n\t * @default \"independent\"\r\n\t * @readonly\r\n\t **/\r\n\tMovieClip.INDEPENDENT = \"independent\";\r\n\r\n\t/**\r\n\t * The MovieClip will only display a single frame (as determined by the startPosition property).\r\n\t * @property SINGLE_FRAME\r\n\t * @static\r\n\t * @type String\r\n\t * @default \"single\"\r\n\t * @readonly\r\n\t **/\r\n\tMovieClip.SINGLE_FRAME = \"single\";\r\n\r\n\t/**\r\n\t * The MovieClip will be advanced only when its parent advances and will be synched to the position of\r\n\t * the parent MovieClip.\r\n\t * @property SYNCHED\r\n\t * @static\r\n\t * @type String\r\n\t * @default \"synched\"\r\n\t * @readonly\r\n\t **/\r\n\tMovieClip.SYNCHED = \"synched\";\r\n\t\r\n\t\r\n// static properties:\r\n\tMovieClip.inited = false;\r\n\t\r\n\t\r\n// static methods:\r\n\tMovieClip.init = function() {\r\n\t\tif (MovieClip.inited) { return; }\r\n\t\t// plugins introduce some overhead to Tween, so we only install this if an MC is instantiated.\r\n\t\tMovieClipPlugin.install();\r\n\t\tMovieClip.inited = true;\r\n\t};\r\n\t\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"MovieClip/labels:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getLabels\r\n\t * @protected\r\n\t * @return {Array}\r\n\t **/\r\n\tp._getLabels = function() {\r\n\t\treturn this.timeline.getLabels();\r\n\t};\r\n\t// MovieClip.getLabels is @deprecated. Remove for 1.1+\r\n\tp.getLabels = createjs.deprecate(p._getLabels, \"MovieClip.getLabels\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"MovieClip/currentLabel:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getCurrentLabel\r\n\t * @protected\r\n\t * @return {String}\r\n\t **/\r\n\tp._getCurrentLabel = function() {\r\n\t\treturn this.timeline.currentLabel;\r\n\t};\r\n\t// MovieClip.getCurrentLabel is @deprecated. Remove for 1.1+\r\n\tp.getCurrentLabel = createjs.deprecate(p._getCurrentLabel, \"MovieClip.getCurrentLabel\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"MovieClip/duration:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getDuration\r\n\t * @protected\r\n\t * @return {Number}\r\n\t **/\r\n\tp._getDuration = function() {\r\n\t\treturn this.timeline.duration;\r\n\t};\r\n\t// MovieClip.getDuration is @deprecated. Remove for 1.1+\r\n\tp.getDuration = createjs.deprecate(p._getDuration, \"MovieClip.getDuration\");\r\n\r\n\t/**\r\n\t * Returns an array of objects with label and position (aka frame) properties, sorted by position.\r\n\t * @property labels\r\n\t * @type {Array}\r\n\t * @readonly\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Returns the name of the label on or immediately before the current frame.\r\n\t * @property currentLabel\r\n\t * @type {String}\r\n\t * @readonly\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Returns the duration of this MovieClip in seconds or ticks.\r\n\t * @property totalFrames\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Returns the duration of this MovieClip in seconds or ticks.\r\n\t * @property duration\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tlabels: { get: p._getLabels },\r\n\t\t\tcurrentLabel: { get: p._getCurrentLabel },\r\n\t\t\ttotalFrames: { get: p._getDuration },\r\n\t\t\tduration: { get: p._getDuration }\r\n\t\t\t// TODO: can we just proxy .currentFrame to tl.position as well? Ditto for .loop (or just remove entirely).\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = MovieClip; // TODO: Deprecated. This is for backwards support of Adobe Flash/Animate\r\n\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\t// children are placed in draw, so we can't determine if we have content.\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\t// draw to cache first:\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tthis._updateState();\r\n\t\tthis.Container_draw(ctx, ignoreCache);\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets paused to false.\r\n\t * @method play\r\n\t **/\r\n\tp.play = function() {\r\n\t\tthis.paused = false;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Sets paused to true.\r\n\t * @method stop\r\n\t **/\r\n\tp.stop = function() {\r\n\t\tthis.paused = true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances this movie clip to the specified position or label and sets paused to false.\r\n\t * @method gotoAndPlay\r\n\t * @param {String|Number} positionOrLabel The animation name or frame number to go to.\r\n\t **/\r\n\tp.gotoAndPlay = function(positionOrLabel) {\r\n\t\tthis.paused = false;\r\n\t\tthis._goto(positionOrLabel);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances this movie clip to the specified position or label and sets paused to true.\r\n\t * @method gotoAndStop\r\n\t * @param {String|Number} positionOrLabel The animation or frame name to go to.\r\n\t **/\r\n\tp.gotoAndStop = function(positionOrLabel) {\r\n\t\tthis.paused = true;\r\n\t\tthis._goto(positionOrLabel);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances the playhead. This occurs automatically each tick by default.\r\n\t * @param [time] {Number} The amount of time in ms to advance by. Only applicable if framerate is set.\r\n\t * @method advance\r\n\t*/\r\n\tp.advance = function(time) {\r\n\t\tvar independent = MovieClip.INDEPENDENT;\r\n\t\tif (this.mode !== independent) { return; } // update happens in draw for synched clips\r\n\t\t\r\n\t\t// if this MC doesn't have a framerate, hunt ancestors for one:\r\n\t\tvar o=this, fps = o.framerate;\r\n\t\twhile ((o = o.parent) && fps === null) { if (o.mode === independent) { fps = o._framerate; } }\r\n\t\tthis._framerate = fps;\r\n\t\t\r\n\t\tif (this.paused) { return; }\r\n\t\t\r\n\t\t// calculate how many frames to advance:\r\n\t\tvar t = (fps !== null && fps !== -1 && time !== null) ? time/(1000/fps) + this._t : 1;\r\n\t\tvar frames = t|0;\r\n\t\tthis._t = t-frames; // leftover time, save to add to next advance.\r\n\t\t\r\n\t\twhile (frames--) { this._updateTimeline(this._rawPosition+1, false); }\r\n\t};\r\n\t\r\n\t/**\r\n\t * MovieClip instances cannot be cloned.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\t// TODO: add support for this? Need to clone the Timeline & retarget tweens - pretty complex.\r\n\t\tthrow(\"MovieClip cannot be cloned.\");\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[MovieClip (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp._updateState = function() {\r\n\t\tif (this._rawPosition === -1 || this.mode !== MovieClip.INDEPENDENT) { this._updateTimeline(-1); }\r\n\t};\r\n\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * function.\r\n\t * @protected\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\tthis.advance(evtObj&&evtObj.delta);\r\n\t\tthis.Container__tick(evtObj);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _goto\r\n\t * @param {String|Number} positionOrLabel The animation name or frame number to go to.\r\n\t * @protected\r\n\t **/\r\n\tp._goto = function(positionOrLabel) {\r\n\t\tvar pos = this.timeline.resolve(positionOrLabel);\r\n\t\tif (pos == null) { return; }\r\n\t\tthis._t = 0;\r\n\t\tthis._updateTimeline(pos, true);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _reset\r\n\t * @private\r\n\t **/\r\n\tp._reset = function() {\r\n\t\tthis._rawPosition = -1;\r\n\t\tthis._t = this.currentFrame = 0;\r\n\t\tthis.paused = false;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _updateTimeline\r\n\t * @param {Boolean} jump Indicates whether this update is due to jumping (via gotoAndXX) to a new position.\r\n\t * @protected\r\n\t **/\r\n\tp._updateTimeline = function(rawPosition, jump) {\r\n\t\tvar synced = this.mode !== MovieClip.INDEPENDENT, tl = this.timeline;\r\n\t\tif (synced) { rawPosition = this.startPosition + (this.mode===MovieClip.SINGLE_FRAME?0:this._synchOffset); }\r\n\t\tif (rawPosition < 0) { rawPosition = 0; }\r\n\t\tif (this._rawPosition === rawPosition && !synced) { return; }\r\n\t\tthis._rawPosition = rawPosition;\r\n\t\t\r\n\t\t// update timeline position, ignoring actions if this is a graphic.\r\n\t\ttl.loop = this.loop; // TODO: should we maintain this on MovieClip, or just have it on timeline?\r\n\t\ttl.setPosition(rawPosition, synced || !this.actionsEnabled, jump, this._bound_resolveState);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Renders position 0 without running actions or updating _rawPosition.\r\n\t * Primarily used by Animate CC to build out the first frame in the constructor of MC symbols.\r\n\t * NOTE: not tested when run after the MC advances past the first frame.\r\n\t * @method _renderFirstFrame\r\n\t * @protected\r\n\t **/\r\n\tp._renderFirstFrame = function() {\r\n\t\tvar tl = this.timeline, pos = tl.rawPosition;\r\n\t\ttl.setPosition(0, true, true, this._bound_resolveState);\r\n\t\ttl.rawPosition = pos;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Runs via a callback after timeline property updates and before actions.\r\n\t * @method _resolveState\r\n\t * @protected\r\n\t **/\r\n\tp._resolveState = function() {\r\n\t\tvar tl = this.timeline;\r\n\t\tthis.currentFrame = tl.position;\r\n\t\t\r\n\t\tfor (var n in this._managed) { this._managed[n] = 1; }\r\n\r\n\t\tvar tweens = tl.tweens;\r\n\t\tfor (var i=0, l=tweens.length; i<l; i++) {\r\n\t\t\tvar tween = tweens[i],  target = tween.target;\r\n\t\t\tif (target === this || tween.passive) { continue; } // TODO: this assumes the actions tween from Animate has `this` as the target. There's likely a better approach.\r\n\t\t\tvar offset = tween._stepPosition;\r\n\r\n\t\t\tif (target instanceof createjs.DisplayObject) {\r\n\t\t\t\t// motion tween.\r\n\t\t\t\tthis._addManagedChild(target, offset);\r\n\t\t\t} else {\r\n\t\t\t\t// state tween.\r\n\t\t\t\tthis._setState(target.state, offset);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar kids = this.children;\r\n\t\tfor (i=kids.length-1; i>=0; i--) {\r\n\t\t\tvar id = kids[i].id;\r\n\t\t\tif (this._managed[id] === 1) {\r\n\t\t\t\tthis.removeChildAt(i);\r\n\t\t\t\tdelete(this._managed[id]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setState\r\n\t * @param {Array} state\r\n\t * @param {Number} offset\r\n\t * @protected\r\n\t **/\r\n\tp._setState = function(state, offset) {\r\n\t\tif (!state) { return; }\r\n\t\tfor (var i=state.length-1;i>=0;i--) {\r\n\t\t\tvar o = state[i];\r\n\t\t\tvar target = o.t;\r\n\t\t\tvar props = o.p;\r\n\t\t\tfor (var n in props) { target[n] = props[n]; }\r\n\t\t\tthis._addManagedChild(target, offset);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Adds a child to the timeline, and sets it up as a managed child.\r\n\t * @method _addManagedChild\r\n\t * @param {MovieClip} child The child MovieClip to manage\r\n\t * @param {Number} offset\r\n\t * @private\r\n\t **/\r\n\tp._addManagedChild = function(child, offset) {\r\n\t\tif (child._off) { return; }\r\n\t\tthis.addChildAt(child,0);\r\n\r\n\t\tif (child instanceof MovieClip) {\r\n\t\t\tchild._synchOffset = offset;\r\n\t\t\t// TODO: this does not precisely match Adobe Flash/Animate, which loses track of the clip if it is renamed or removed from the timeline, which causes it to reset.\r\n\t\t\t// TODO: should also reset when MovieClip loops, though that will be a bit tricky to detect.\r\n\t\t\tif (child.mode === MovieClip.INDEPENDENT && child.autoReset && (!this._managed[child.id])) { child._reset(); }\r\n\t\t}\r\n\t\tthis._managed[child.id] = 2;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getBounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._getBounds = function(matrix, ignoreTransform) {\r\n\t\tvar bounds = this.DisplayObject_getBounds();\r\n\t\tif (!bounds) {\r\n\t\t\tif (this.frameBounds) { bounds = this._rectangle.copy(this.frameBounds[this.currentFrame]); }\r\n\t\t}\r\n\t\tif (bounds) { return this._transformBounds(bounds, matrix, ignoreTransform); }\r\n\t\treturn this.Container__getBounds(matrix, ignoreTransform);\r\n\t};\r\n\r\n\r\n\tcreatejs.MovieClip = createjs.promote(MovieClip, \"Container\");\r\n\r\n\r\n\r\n// MovieClipPlugin for TweenJS:\r\n\t/**\r\n\t * This plugin works with <a href=\"http://tweenjs.com\" target=\"_blank\">TweenJS</a> to prevent the startPosition\r\n\t * property from tweening.\r\n\t * @private\r\n\t * @class MovieClipPlugin\r\n\t * @constructor\r\n\t **/\r\n\tfunction MovieClipPlugin() {\r\n\t\tthrow(\"MovieClipPlugin cannot be instantiated.\")\r\n\t}\r\n\t\r\n\t/**\r\n\t * @property priority\r\n\t * @type {Number}\r\n\t * @static\r\n\t * @readonly\r\n\t **/\r\n\tMovieClipPlugin.priority = 100; // very high priority, should run first\r\n\t\r\n\t/**\r\n\t * @property ID\r\n\t * @type {String}\r\n\t * @static\r\n\t * @readonly\r\n\t **/\r\n\tMovieClipPlugin.ID = \"MovieClip\";\r\n\r\n\t/**\r\n\t * @method install\r\n\t * @static\r\n\t **/\r\n\tMovieClipPlugin.install = function() {\r\n\t\tcreatejs.Tween._installPlugin(MovieClipPlugin);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method init\r\n\t * @param {Tween} tween\r\n\t * @param {String} prop\r\n\t * @param {*} value\r\n\t * @static\r\n\t **/\r\n\tMovieClipPlugin.init = function(tween, prop, value) {\r\n\t\tif (prop === \"startPosition\" && tween.target instanceof MovieClip) { tween._addPlugin(MovieClipPlugin); }\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method step\r\n\t * @param {Tween} tween\r\n\t * @param {TweenStep} step\r\n\t * @param {Object} props\r\n\t * @static\r\n\t **/\r\n\tMovieClipPlugin.step = function(tween, step, props) {};\r\n\r\n\t/**\r\n\t * @method change\r\n\t * @param {Tween} tween\r\n\t * @param {TweenStep} step\r\n\t * @param {*} value\r\n\t * @param {Number} ratio\r\n\t * @param {Object} end\r\n\t * @return {*}\r\n\t * @static\r\n\t */\r\n\tMovieClipPlugin.change = function(tween, step, prop, value, ratio, end) {\r\n\t\tif (prop === \"startPosition\") { return (ratio === 1 ? step.props[prop] : step.prev.props[prop]); }\r\n\t};\r\n\r\n}());\r\n\r\n//##############################################################################\r\n// SpriteSheetUtils.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\t\r\n\t\r\n// constructor:\r\n\t/**\r\n\t * The SpriteSheetUtils class is a collection of static methods for working with {{#crossLink \"SpriteSheet\"}}{{/crossLink}}s.\r\n\t * A sprite sheet is a series of images (usually animation frames) combined into a single image on a regular grid. For\r\n\t * example, an animation consisting of 8 100x100 images could be combined into a 400x200 sprite sheet (4 frames across\r\n\t * by 2 high). The SpriteSheetUtils class uses a static interface and should not be instantiated.\r\n\t * @class SpriteSheetUtils\r\n\t * @static\r\n\t **/\r\n\tfunction SpriteSheetUtils() {\r\n\t\tthrow \"SpriteSheetUtils cannot be instantiated\";\r\n\t}\r\n\r\n\r\n// private static properties:\r\n\t/**\r\n\t * @property _workingCanvas\r\n\t * @static\r\n\t * @type HTMLCanvasElement | Object\r\n\t * @protected\r\n\t*/\r\n\t/**\r\n\t * @property _workingContext\r\n\t * @static\r\n\t * @type CanvasRenderingContext2D\r\n\t * @protected\r\n\t*/\r\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\r\n\tif (canvas.getContext) {\r\n\t\tSpriteSheetUtils._workingCanvas = canvas;\r\n\t\tSpriteSheetUtils._workingContext = canvas.getContext(\"2d\");\r\n\t\tcanvas.width = canvas.height = 1;\r\n\t}\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Returns a single frame of the specified sprite sheet as a new PNG image. An example of when this may be useful is\r\n\t * to use a spritesheet frame as the source for a bitmap fill.\r\n\t *\r\n\t * <strong>WARNING:</strong> In almost all cases it is better to display a single frame using a {{#crossLink \"Sprite\"}}{{/crossLink}}\r\n\t * with a {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} call than it is to slice out a frame using this\r\n\t * method and display it with a Bitmap instance. You can also crop an image using the {{#crossLink \"Bitmap/sourceRect\"}}{{/crossLink}}\r\n\t * property of {{#crossLink \"Bitmap\"}}{{/crossLink}}.\r\n\t *\r\n\t * The extractFrame method may cause cross-domain warnings since it accesses pixels directly on the canvas.\r\n\t * @method extractFrame\r\n\t * @static\r\n\t * @param {SpriteSheet} spriteSheet The SpriteSheet instance to extract a frame from.\r\n\t * @param {Number|String} frameOrAnimation The frame number or animation name to extract. If an animation\r\n\t * name is specified, only the first frame of the animation will be extracted.\r\n\t * @return {HTMLImageElement} a single frame of the specified sprite sheet as a new PNG image.\r\n\t*/\r\n\tSpriteSheetUtils.extractFrame = function(spriteSheet, frameOrAnimation) {\r\n\t\tif (isNaN(frameOrAnimation)) {\r\n\t\t\tframeOrAnimation = spriteSheet.getAnimation(frameOrAnimation).frames[0];\r\n\t\t}\r\n\t\tvar data = spriteSheet.getFrame(frameOrAnimation);\r\n\t\tif (!data) { return null; }\r\n\t\tvar r = data.rect;\r\n\t\tvar canvas = SpriteSheetUtils._workingCanvas;\r\n\t\tcanvas.width = r.width;\r\n\t\tcanvas.height = r.height;\r\n\t\tSpriteSheetUtils._workingContext.drawImage(data.image, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height);\r\n\t\tvar img = document.createElement(\"img\");\r\n\t\timg.src = canvas.toDataURL(\"image/png\");\r\n\t\treturn img;\r\n\t};\r\n\r\n\t// SpriteSheetUtils.addFlippedFrames is @deprecated. Remove for 1.1+\r\n\tSpriteSheetUtils.addFlippedFrames = createjs.deprecate(null, \"SpriteSheetUtils.addFlippedFrames\");\r\n\r\n\t// SpriteSheetUtils.addFlippedFrames is @deprecated. Remove for 1.1+\r\n\tSpriteSheetUtils.mergeAlpha = createjs.deprecate(null, \"SpriteSheetUtils.mergeAlpha\");\r\n\r\n\t\r\n// private static methods:\r\n\tSpriteSheetUtils._flip = function(spriteSheet, count, h, v) {\r\n\t\tvar imgs = spriteSheet._images;\r\n\t\tvar canvas = SpriteSheetUtils._workingCanvas;\r\n\t\tvar ctx = SpriteSheetUtils._workingContext;\r\n\t\tvar il = imgs.length/count;\r\n\t\tfor (var i=0;i<il;i++) {\r\n\t\t\tvar src = imgs[i];\r\n\t\t\tsrc.__tmp = i; // a bit hacky, but faster than doing indexOf below.\r\n\t\t\tctx.setTransform(1,0,0,1,0,0);\r\n\t\t\tctx.clearRect(0,0,canvas.width+1,canvas.height+1);\r\n\t\t\tcanvas.width = src.width;\r\n\t\t\tcanvas.height = src.height;\r\n\t\t\tctx.setTransform(h?-1:1, 0, 0, v?-1:1, h?src.width:0, v?src.height:0);\r\n\t\t\tctx.drawImage(src,0,0);\r\n\t\t\tvar img = document.createElement(\"img\");\r\n\t\t\timg.src = canvas.toDataURL(\"image/png\");\r\n\t\t\t// work around a strange bug in Safari:\r\n\t\t\timg.width = (src.width||src.naturalWidth);\r\n\t\t\timg.height = (src.height||src.naturalHeight);\r\n\t\t\timgs.push(img);\r\n\t\t}\r\n\r\n\t\tvar frames = spriteSheet._frames;\r\n\t\tvar fl = frames.length/count;\r\n\t\tfor (i=0;i<fl;i++) {\r\n\t\t\tsrc = frames[i];\r\n\t\t\tvar rect = src.rect.clone();\r\n\t\t\timg = imgs[src.image.__tmp+il*count];\r\n\r\n\t\t\tvar frame = {image:img,rect:rect,regX:src.regX,regY:src.regY};\r\n\t\t\tif (h) {\r\n\t\t\t\trect.x = (img.width||img.naturalWidth)-rect.x-rect.width; // update rect\r\n\t\t\t\tframe.regX = rect.width-src.regX; // update registration point\r\n\t\t\t}\r\n\t\t\tif (v) {\r\n\t\t\t\trect.y = (img.height||img.naturalHeight)-rect.y-rect.height;  // update rect\r\n\t\t\t\tframe.regY = rect.height-src.regY; // update registration point\r\n\t\t\t}\r\n\t\t\tframes.push(frame);\r\n\t\t}\r\n\r\n\t\tvar sfx = \"_\"+(h?\"h\":\"\")+(v?\"v\":\"\");\r\n\t\tvar names = spriteSheet._animations;\r\n\t\tvar data = spriteSheet._data;\r\n\t\tvar al = names.length/count;\r\n\t\tfor (i=0;i<al;i++) {\r\n\t\t\tvar name = names[i];\r\n\t\t\tsrc = data[name];\r\n\t\t\tvar anim = {name:name+sfx,speed:src.speed,next:src.next,frames:[]};\r\n\t\t\tif (src.next) { anim.next += sfx; }\r\n\t\t\tframes = src.frames;\r\n\t\t\tfor (var j=0,l=frames.length;j<l;j++) {\r\n\t\t\t\tanim.frames.push(frames[j]+fl*count);\r\n\t\t\t}\r\n\t\t\tdata[anim.name] = anim;\r\n\t\t\tnames.push(anim.name);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tcreatejs.SpriteSheetUtils = SpriteSheetUtils;\r\n}());\r\n\r\n//##############################################################################\r\n// SpriteSheetBuilder.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The SpriteSheetBuilder allows you to generate {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances at run time\r\n\t * from any display object. This can allow you to maintain your assets as vector graphics (for low file size), and\r\n\t * render them at run time as SpriteSheets for better performance.\r\n\t *\r\n\t * SpriteSheets can be built either synchronously, or asynchronously, so that large SpriteSheets can be generated\r\n\t * without locking the UI.\r\n\t *\r\n\t * Note that the \"images\" used in the generated SpriteSheet are actually canvas elements, and that they will be\r\n\t * sized to the nearest power of 2 up to the value of {{#crossLink \"SpriteSheetBuilder/maxWidth:property\"}}{{/crossLink}}\r\n\t * or {{#crossLink \"SpriteSheetBuilder/maxHeight:property\"}}{{/crossLink}}.\r\n\t * @class SpriteSheetBuilder\r\n\t * @param {Number} [framerate=0] The {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} of\r\n\t * {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances that are created.\r\n\t * @extends EventDispatcher\r\n\t * @constructor\r\n\t **/\r\n\tfunction SpriteSheetBuilder(framerate) {\r\n\t\tthis.EventDispatcher_constructor();\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The maximum width for the images (not individual frames) in the generated SpriteSheet. It is recommended to\r\n\t\t * use a power of 2 for this value (ex. 1024, 2048, 4096). If the frames cannot all fit within the max\r\n\t\t * dimensions, then additional images will be created as needed.\r\n\t\t * @property maxWidth\r\n\t\t * @type Number\r\n\t\t * @default 2048\r\n\t\t*/\r\n\t\tthis.maxWidth = 2048;\r\n\t\r\n\t\t/**\r\n\t\t * The maximum height for the images (not individual frames) in the generated SpriteSheet. It is recommended to\r\n\t\t * use a power of 2 for this value (ex. 1024, 2048, 4096). If the frames cannot all fit within the max\r\n\t\t * dimensions, then additional images will be created as needed.\r\n\t\t * @property maxHeight\r\n\t\t * @type Number\r\n\t\t * @default 2048\r\n\t\t **/\r\n\t\tthis.maxHeight = 2048;\r\n\t\r\n\t\t/**\r\n\t\t * The SpriteSheet that was generated. This will be null before a build is completed successfully.\r\n\t\t * @property spriteSheet\r\n\t\t * @type SpriteSheet\r\n\t\t **/\r\n\t\tthis.spriteSheet = null;\r\n\t\r\n\t\t/**\r\n\t\t * The scale to apply when drawing all frames to the SpriteSheet. This is multiplied against any scale specified\r\n\t\t * in the addFrame call. This can be used, for example, to generate a SpriteSheet at run time that is tailored\r\n\t\t * to the a specific device resolution (ex. tablet vs mobile).\r\n\t\t * @property scale\r\n\t\t * @type Number\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scale = 1;\r\n\t\r\n\t\t/**\r\n\t\t* The padding to use between frames. This is helpful to preserve antialiasing on drawn vector content.\r\n\t\t* @property padding\r\n\t\t* @type Number\r\n\t\t* @default 1\r\n\t\t**/\r\n\t\tthis.padding = 1;\r\n\t\r\n\t\t/**\r\n\t\t * A number from 0.01 to 0.99 that indicates what percentage of time the builder can use. This can be\r\n\t\t * thought of as the number of seconds per second the builder will use. For example, with a timeSlice value of 0.3,\r\n\t\t * the builder will run 20 times per second, using approximately 15ms per build (30% of available time, or 0.3s per second).\r\n\t\t * Defaults to 0.3.\r\n\t\t * @property timeSlice\r\n\t\t * @type Number\r\n\t\t * @default 0.3\r\n\t\t **/\r\n\t\tthis.timeSlice = 0.3;\r\n\t\r\n\t\t/**\r\n\t\t * A value between 0 and 1 that indicates the progress of a build, or -1 if a build has not\r\n\t\t * been initiated.\r\n\t\t * @property progress\r\n\t\t * @type Number\r\n\t\t * @default -1\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.progress = -1;\r\n\r\n\t\t/**\r\n\t\t * A {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} value that will be passed to new {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances that are\r\n\t\t * created. If no framerate is specified (or it is 0), then SpriteSheets will use the {{#crossLink \"Ticker\"}}{{/crossLink}}\r\n\t\t * framerate.\r\n\t\t * @property framerate\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.framerate = framerate || 0;\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _frames\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._frames = [];\r\n\t\r\n\t\t/**\r\n\t\t * @property _animations\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._animations = {};\r\n\t\r\n\t\t/**\r\n\t\t * @property _data\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._data = null;\r\n\t\r\n\t\t/**\r\n\t\t * @property _nextFrameIndex\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._nextFrameIndex = 0;\r\n\t\r\n\t\t/**\r\n\t\t * @property _index\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._index = 0;\r\n\t\r\n\t\t/**\r\n\t\t * @property _timerID\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._timerID = null;\r\n\t\r\n\t\t/**\r\n\t\t * @property _scale\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._scale = 1;\r\n\t}\r\n\tvar p = createjs.extend(SpriteSheetBuilder, createjs.EventDispatcher);\r\n\r\n// constants:\r\n\tSpriteSheetBuilder.ERR_DIMENSIONS = \"frame dimensions exceed max spritesheet dimensions\";\r\n\tSpriteSheetBuilder.ERR_RUNNING = \"a build is already running\";\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when a build completes.\r\n\t * @event complete\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when an asynchronous build has progress.\r\n\t * @event progress\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {Number} progress The current progress value (0-1).\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Adds a frame to the {{#crossLink \"SpriteSheet\"}}{{/crossLink}}. Note that the frame will not be drawn until you\r\n\t * call {{#crossLink \"SpriteSheetBuilder/build\"}}{{/crossLink}} method. The optional setup params allow you to have\r\n\t * a function run immediately before the draw occurs. For example, this allows you to add a single source multiple\r\n\t * times, but manipulate it or its children to change it to generate different frames.\r\n\t *\r\n\t * Note that the source's transformations (x, y, scale, rotate, alpha) will be ignored, except for regX/Y. To apply\r\n\t * transforms to a source object and have them captured in the SpriteSheet, simply place it into a {{#crossLink \"Container\"}}{{/crossLink}}\r\n\t * and pass in the Container as the source.\r\n\t * @method addFrame\r\n\t * @param {DisplayObject} source The source {{#crossLink \"DisplayObject\"}}{{/crossLink}}  to draw as the frame.\r\n\t * @param {Rectangle} [sourceRect] A {{#crossLink \"Rectangle\"}}{{/crossLink}} defining the portion of the\r\n\t * source to draw to the frame. If not specified, it will look for a `getBounds` method, bounds property, or\r\n\t * `nominalBounds` property on the source to use. If one is not found, the frame will be skipped.\r\n\t * @param {Number} [scale=1] Optional. The scale to draw this frame at. Default is 1.\r\n\t * @param {Function} [setupFunction] A function to call immediately before drawing this frame. It will be called with two parameters: the source, and setupData.\r\n\t * @param {Object} [setupData] Arbitrary setup data to pass to setupFunction as the second parameter.\r\n\t * @return {Number} The index of the frame that was just added, or null if a sourceRect could not be determined.\r\n\t **/\r\n\tp.addFrame = function(source, sourceRect, scale, setupFunction, setupData) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tvar rect = sourceRect||source.bounds||source.nominalBounds;\r\n\t\tif (!rect&&source.getBounds) { rect = source.getBounds(); }\r\n\t\tif (!rect) { return null; }\r\n\t\tscale = scale||1;\r\n\t\treturn this._frames.push({source:source, sourceRect:rect, scale:scale, funct:setupFunction, data:setupData, index:this._frames.length, height:rect.height*scale})-1;\r\n\t};\r\n\r\n\t/**\r\n\t * Adds an animation that will be included in the created {{#crossLink \"SpriteSheet\"}}{{/crossLink}}.\r\n\t * @method addAnimation\r\n\t * @param {String} name The name for the animation.\r\n\t * @param {Array} frames An array of frame indexes that comprise the animation. Ex. [3,6,5] would describe an animation\r\n\t * that played frame indexes 3, 6, and 5 in that order.\r\n\t * @param {String} [next] Specifies the name of the animation to continue to after this animation ends. You can\r\n\t * also pass false to have the animation stop when it ends. By default it will loop to the start of the same animation.\r\n\t * @param {Number} [speed] Specifies a frame advance speed for this animation. For example, a value of 0.5 would\r\n\t * cause the animation to advance every second tick. Note that earlier versions used `frequency` instead, which had\r\n\t * the opposite effect.\r\n\t **/\r\n\tp.addAnimation = function(name, frames, next, speed) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tthis._animations[name] = {frames:frames, next:next, speed:speed};\r\n\t};\r\n\r\n\t/**\r\n\t * This will take a {{#crossLink \"MovieClip\"}}{{/crossLink}} instance, and add its frames and labels to this\r\n\t * builder. Labels will be added as an animation running from the label index to the next label. For example, if\r\n\t * there is a label named \"foo\" at frame 0 and a label named \"bar\" at frame 10, in a MovieClip with 15 frames, it\r\n\t * will add an animation named \"foo\" that runs from frame index 0 to 9, and an animation named \"bar\" that runs from\r\n\t * frame index 10 to 14.\r\n\t *\r\n\t * Note that this will iterate through the full MovieClip with {{#crossLink \"MovieClip/actionsEnabled:property\"}}{{/crossLink}}\r\n\t * set to `false`, ending on the last frame.\r\n\t * @method addMovieClip\r\n\t * @param {MovieClip} source The source MovieClip instance to add to the SpriteSheet.\r\n\t * @param {Rectangle} [sourceRect] A {{#crossLink \"Rectangle\"}}{{/crossLink}} defining the portion of the source to\r\n\t * draw to the frame. If not specified, it will look for a {{#crossLink \"DisplayObject/getBounds\"}}{{/crossLink}}\r\n\t * method, `frameBounds` Array, `bounds` property, or `nominalBounds` property on the source to use. If one is not\r\n\t * found, the MovieClip will be skipped.\r\n\t * @param {Number} [scale=1] The scale to draw the movie clip at.\r\n\t * @param {Function} [setupFunction] A function to call immediately before drawing each frame. It will be called\r\n\t * with three parameters: the source, setupData, and the frame index.\r\n\t * @param {Object} [setupData] Arbitrary setup data to pass to setupFunction as the second parameter.\r\n\t * @param {Function} [labelFunction] This method will be called for each MovieClip label that is added with four\r\n\t * parameters: the label name, the source MovieClip instance, the starting frame index (in the movieclip timeline)\r\n\t * and the end index. It must return a new name for the label/animation, or `false` to exclude the label.\r\n\t **/\r\n\tp.addMovieClip = function(source, sourceRect, scale, setupFunction, setupData, labelFunction) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tvar rects = source.frameBounds;\r\n\t\tvar rect = sourceRect||source.bounds||source.nominalBounds;\r\n\t\tif (!rect&&source.getBounds) { rect = source.getBounds(); }\r\n\t\tif (!rect && !rects) { return; }\r\n\r\n\t\tvar i, l, baseFrameIndex = this._frames.length;\r\n\t\tvar duration = source.timeline.duration;\r\n\t\tfor (i=0; i<duration; i++) {\r\n\t\t\tvar r = (rects&&rects[i]) ? rects[i] : rect;\r\n\t\t\tthis.addFrame(source, r, scale, this._setupMovieClipFrame, {i:i, f:setupFunction, d:setupData});\r\n\t\t}\r\n\t\tvar labels = source.timeline._labels;\r\n\t\tvar lbls = [];\r\n\t\tfor (var n in labels) {\r\n\t\t\tlbls.push({index:labels[n], label:n});\r\n\t\t}\r\n\t\tif (lbls.length) {\r\n\t\t\tlbls.sort(function(a,b){ return a.index-b.index; });\r\n\t\t\tfor (i=0,l=lbls.length; i<l; i++) {\r\n\t\t\t\tvar label = lbls[i].label;\r\n\t\t\t\tvar start = baseFrameIndex+lbls[i].index;\r\n\t\t\t\tvar end = baseFrameIndex+((i == l-1) ? duration : lbls[i+1].index);\r\n\t\t\t\tvar frames = [];\r\n\t\t\t\tfor (var j=start; j<end; j++) { frames.push(j); }\r\n\t\t\t\tif (labelFunction) {\r\n\t\t\t\t\tlabel = labelFunction(label, source, start, end);\r\n\t\t\t\t\tif (!label) { continue; }\r\n\t\t\t\t}\r\n\t\t\t\tthis.addAnimation(label, frames, true); // for now, this loops all animations.\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Builds a {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instance based on the current frames.\r\n\t * @method build\r\n\t * @return {SpriteSheet} The created SpriteSheet instance, or null if a build is already running or an error\r\n\t * occurred.\r\n\t **/\r\n\tp.build = function() {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tthis._startBuild();\r\n\t\twhile (this._drawNext()) {}\r\n\t\tthis._endBuild();\r\n\t\treturn this.spriteSheet;\r\n\t};\r\n\r\n\t/**\r\n\t * Asynchronously builds a {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instance based on the current frames. It will\r\n\t * run 20 times per second, using an amount of time defined by `timeSlice`. When it is complete it will call the\r\n\t * specified callback.\r\n\t * @method buildAsync\r\n\t * @param {Number} [timeSlice] Sets the timeSlice property on this instance.\r\n\t **/\r\n\tp.buildAsync = function(timeSlice) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tthis.timeSlice = timeSlice;\r\n\t\tthis._startBuild();\r\n\t\tvar _this = this;\r\n\t\tthis._timerID = setTimeout(function() { _this._run(); }, 50-Math.max(0.01, Math.min(0.99, this.timeSlice||0.3))*50);\r\n\t};\r\n\r\n\t/**\r\n\t * Stops the current asynchronous build.\r\n\t * @method stopAsync\r\n\t **/\r\n\tp.stopAsync = function() {\r\n\t\tclearTimeout(this._timerID);\r\n\t\tthis._data = null;\r\n\t};\r\n\r\n\t/**\r\n\t * SpriteSheetBuilder instances cannot be cloned.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tthrow(\"SpriteSheetBuilder cannot be cloned.\");\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[SpriteSheetBuilder]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _startBuild\r\n\t * @protected\r\n\t **/\r\n\tp._startBuild = function() {\r\n\t\tvar pad = this.padding||0;\r\n\t\tthis.progress = 0;\r\n\t\tthis.spriteSheet = null;\r\n\t\tthis._index = 0;\r\n\t\tthis._scale = this.scale;\r\n\t\tvar dataFrames = [];\r\n\t\tthis._data = {\r\n\t\t\timages: [],\r\n\t\t\tframes: dataFrames,\r\n\t\t\tframerate: this.framerate,\r\n\t\t\tanimations: this._animations // TODO: should we \"clone\" _animations in case someone adds more animations after a build?\r\n\t\t};\r\n\r\n\t\tvar frames = this._frames.slice();\r\n\t\tframes.sort(function(a,b) { return (a.height<=b.height) ? -1 : 1; });\r\n\r\n\t\tif (frames[frames.length-1].height+pad*2 > this.maxHeight) { throw SpriteSheetBuilder.ERR_DIMENSIONS; }\r\n\t\tvar y=0, x=0;\r\n\t\tvar img = 0;\r\n\t\twhile (frames.length) {\r\n\t\t\tvar o = this._fillRow(frames, y, img, dataFrames, pad);\r\n\t\t\tif (o.w > x) { x = o.w; }\r\n\t\t\ty += o.h;\r\n\t\t\tif (!o.h || !frames.length) {\r\n\t\t\t\tvar canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\r\n\t\t\t\tcanvas.width = this._getSize(x,this.maxWidth);\r\n\t\t\t\tcanvas.height = this._getSize(y,this.maxHeight);\r\n\t\t\t\tthis._data.images[img] = canvas;\r\n\t\t\t\tif (!o.h) {\r\n\t\t\t\t\tx=y=0;\r\n\t\t\t\t\timg++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _setupMovieClipFrame\r\n\t * @protected\r\n\t * @return {Number} The width & height of the row.\r\n\t **/\r\n\tp._setupMovieClipFrame = function(source, data) {\r\n\t\tvar ae = source.actionsEnabled;\r\n\t\tsource.actionsEnabled = false;\r\n\t\tsource.gotoAndStop(data.i);\r\n\t\tsource.actionsEnabled = ae;\r\n\t\tdata.f&&data.f(source, data.d, data.i);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getSize\r\n\t * @protected\r\n\t * @return {Number} The width & height of the row.\r\n\t **/\r\n\tp._getSize = function(size,max) {\r\n\t\tvar pow = 4;\r\n\t\twhile (Math.pow(2,++pow) < size){}\r\n\t\treturn Math.min(max,Math.pow(2,pow));\r\n\t};\r\n\r\n\t/**\r\n\t * @method _fillRow\r\n\t * @param {Array} frames\r\n\t * @param {Number} y\r\n\t * @param {HTMLImageElement} img\r\n\t * @param {Object} dataFrames\r\n\t * @param {Number} pad\r\n\t * @protected\r\n\t * @return {Number} The width & height of the row.\r\n\t **/\r\n\tp._fillRow = function(frames, y, img, dataFrames, pad) {\r\n\t\tvar w = this.maxWidth;\r\n\t\tvar maxH = this.maxHeight;\r\n\t\ty += pad;\r\n\t\tvar h = maxH-y;\r\n\t\tvar x = pad;\r\n\t\tvar height = 0;\r\n\t\tfor (var i=frames.length-1; i>=0; i--) {\r\n\t\t\tvar frame = frames[i];\r\n\t\t\tvar sc = this._scale*frame.scale;\r\n\t\t\tvar rect = frame.sourceRect;\r\n\t\t\tvar source = frame.source;\r\n\t\t\tvar rx = Math.floor(sc*rect.x-pad);\r\n\t\t\tvar ry = Math.floor(sc*rect.y-pad);\r\n\t\t\tvar rh = Math.ceil(sc*rect.height+pad*2);\r\n\t\t\tvar rw = Math.ceil(sc*rect.width+pad*2);\r\n\t\t\tif (rw > w) { throw SpriteSheetBuilder.ERR_DIMENSIONS; }\r\n\t\t\tif (rh > h || x+rw > w) { continue; }\r\n\t\t\tframe.img = img;\r\n\t\t\tframe.rect = new createjs.Rectangle(x,y,rw,rh);\r\n\t\t\theight = height || rh;\r\n\t\t\tframes.splice(i,1);\r\n\t\t\tdataFrames[frame.index] = [x,y,rw,rh,img,Math.round(-rx+sc*source.regX-pad),Math.round(-ry+sc*source.regY-pad)];\r\n\t\t\tx += rw;\r\n\t\t}\r\n\t\treturn {w:x, h:height};\r\n\t};\r\n\r\n\t/**\r\n\t * @method _endBuild\r\n\t * @protected\r\n\t **/\r\n\tp._endBuild = function() {\r\n\t\tthis.spriteSheet = new createjs.SpriteSheet(this._data);\r\n\t\tthis._data = null;\r\n\t\tthis.progress = 1;\r\n\t\tthis.dispatchEvent(\"complete\");\r\n\t};\r\n\r\n\t/**\r\n\t * @method _run\r\n\t * @protected\r\n\t **/\r\n\tp._run = function() {\r\n\t\tvar ts = Math.max(0.01, Math.min(0.99, this.timeSlice||0.3))*50;\r\n\t\tvar t = (new Date()).getTime()+ts;\r\n\t\tvar complete = false;\r\n\t\twhile (t > (new Date()).getTime()) {\r\n\t\t\tif (!this._drawNext()) { complete = true; break; }\r\n\t\t}\r\n\t\tif (complete) {\r\n\t\t\tthis._endBuild();\r\n\t\t} else {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis._timerID = setTimeout(function() { _this._run(); }, 50-ts);\r\n\t\t}\r\n\t\tvar p = this.progress = this._index/this._frames.length;\r\n\t\tif (this.hasEventListener(\"progress\")) {\r\n\t\t\tvar evt = new createjs.Event(\"progress\");\r\n\t\t\tevt.progress = p;\r\n\t\t\tthis.dispatchEvent(evt);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _drawNext\r\n\t * @protected\r\n\t * @return Boolean Returns false if this is the last draw.\r\n\t **/\r\n\tp._drawNext = function() {\r\n\t\tvar frame = this._frames[this._index];\r\n\t\tvar sc = frame.scale*this._scale;\r\n\t\tvar rect = frame.rect;\r\n\t\tvar sourceRect = frame.sourceRect;\r\n\t\tvar canvas = this._data.images[frame.img];\r\n\t\tvar ctx = canvas.getContext(\"2d\");\r\n\t\tframe.funct&&frame.funct(frame.source, frame.data);\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(rect.x, rect.y, rect.width, rect.height);\r\n\t\tctx.clip();\r\n\t\tctx.translate(Math.ceil(rect.x-sourceRect.x*sc), Math.ceil(rect.y-sourceRect.y*sc));\r\n\t\tctx.scale(sc,sc);\r\n\t\tframe.source.draw(ctx); // display object will draw itself.\r\n\t\tctx.restore();\r\n\t\treturn (++this._index) < this._frames.length;\r\n\t};\r\n\r\n\r\n\tcreatejs.SpriteSheetBuilder = createjs.promote(SpriteSheetBuilder, \"EventDispatcher\");\r\n}());\r\n\r\n//##############################################################################\r\n// DOMElement.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * <b>This class is still experimental, and more advanced use is likely to be buggy. Please report bugs.</b>\r\n\t *\r\n\t * A DOMElement allows you to associate a HTMLElement with the display list. It will be transformed\r\n\t * within the DOM as though it is child of the {{#crossLink \"Container\"}}{{/crossLink}} it is added to. However, it is\r\n\t * not rendered to canvas, and as such will retain whatever z-index it has relative to the canvas (ie. it will be\r\n\t * drawn in front of or behind the canvas).\r\n\t *\r\n\t * The position of a DOMElement is relative to their parent node in the DOM. It is recommended that\r\n\t * the DOM Object be added to a div that also contains the canvas so that they share the same position\r\n\t * on the page.\r\n\t *\r\n\t * DOMElement is useful for positioning HTML elements over top of canvas content, and for elements\r\n\t * that you want to display outside the bounds of the canvas. For example, a tooltip with rich HTML\r\n\t * content.\r\n\t *\r\n\t * <h4>Mouse Interaction</h4>\r\n\t *\r\n\t * DOMElement instances are not full EaselJS display objects, and do not participate in EaselJS mouse\r\n\t * events or support methods like hitTest. To get mouse events from a DOMElement, you must instead add handlers to\r\n\t * the htmlElement (note, this does not support EventDispatcher)\r\n\t *\r\n\t *      var domElement = new createjs.DOMElement(htmlElement);\r\n\t *      domElement.htmlElement.onclick = function() {\r\n\t *          console.log(\"clicked\");\r\n\t *      }\r\n\t *\r\n\t * <strong>Important:</strong> This class needs to be notified it is about to be drawn, this will happen automatically\r\n\t * if you call stage.update, calling stage.draw or disabling tickEnabled will miss important steps and it will render\r\n\t * stale information.\r\n\t *\r\n\t * @class DOMElement\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {HTMLElement} htmlElement A reference or id for the DOM element to manage.\r\n\t */\r\n\tfunction DOMElement(htmlElement) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\tif (typeof(htmlElement)==\"string\") { htmlElement = document.getElementById(htmlElement); }\r\n\t\tthis.mouseEnabled = false;\r\n\t\t\r\n\t\tvar style = htmlElement.style;\r\n\t\tstyle.position = \"absolute\";\r\n\t\tstyle.transformOrigin = style.WebkitTransformOrigin = style.msTransformOrigin = style.MozTransformOrigin = style.OTransformOrigin = \"0% 0%\";\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The DOM object to manage.\r\n\t\t * @property htmlElement\r\n\t\t * @type HTMLElement\r\n\t\t */\r\n\t\tthis.htmlElement = htmlElement;\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _oldMtx\r\n\t\t * @type Matrix2D\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._oldProps = null;\r\n\r\n\t\t/**\r\n\t\t * Used to track the object which this class attached listeners to, helps optimize listener attachment.\r\n\t\t * @property _oldStage\r\n\t\t * @type Stage\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._oldStage = null;\r\n\t\t/**\r\n\t\t * The event listener proxy triggered drawing draw for special circumstances.\r\n\t\t * @property _drawAction\r\n\t\t * @type function\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._drawAction = null;\r\n\t}\r\n\tvar p = createjs.extend(DOMElement, createjs.DisplayObject);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t */\r\n\tp.isVisible = function() {\r\n\t\treturn this.htmlElement != null;\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t * @return {Boolean}\r\n\t */\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\t// this relies on the _tick method because draw isn't called if the parent is not visible.\r\n\t\t// the actual update happens in _handleDrawEnd\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method cache\r\n\t */\r\n\tp.cache = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method uncache\r\n\t */\r\n\tp.uncache = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method updateCache\r\n\t */\r\n\tp.updateCache = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method hitTest\r\n\t */\r\n\tp.hitTest = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method localToGlobal\r\n\t */\r\n\tp.localToGlobal = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method globalToLocal\r\n\t */\r\n\tp.globalToLocal = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method localToLocal\r\n\t */\r\n\tp.localToLocal = function() {};\r\n\r\n\t/**\r\n\t * DOMElement cannot be cloned. Throws an error.\r\n\t * @method clone\r\n\t */\r\n\tp.clone = function() {\r\n\t\tthrow(\"DOMElement cannot be cloned.\")\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t */\r\n\tp.toString = function() {\r\n\t\treturn \"[DOMElement (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\t/**\r\n     * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\r\n\t * are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n\t * @event click\r\n\t */\r\n\r\n     /**\r\n     * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\r\n \t * are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n\t * @event dblClick\r\n\t */\r\n\r\n     /**\r\n      * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\r\n \t  * are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n\t  * @event mousedown\r\n\t  */\r\n\r\n     /**\r\n      * The HTMLElement can listen for the mouseover event, not the DOMElement instance.\r\n      * Since DOMElement instances are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n      * @event mouseover\r\n\t  */\r\n\r\n     /**\r\n      * Not applicable to DOMElement.\r\n\t  * @event tick\r\n\t  */\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * function.\r\n\t * @protected\r\n\t */\r\n\tp._tick = function(evtObj) {\r\n\t\tvar stage = this.stage;\r\n\t\tif(stage && stage !== this._oldStage) {\r\n\t\t\tthis._drawAction && stage.off(\"drawend\", this._drawAction);\r\n\t\t\tthis._drawAction = stage.on(\"drawend\", this._handleDrawEnd, this);\r\n\t\t\tthis._oldStage = stage;\r\n\t\t}\r\n\t\tthis.DisplayObject__tick(evtObj);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _handleDrawEnd\r\n\t * @param {Event} evt\r\n\t * @protected\r\n\t */\r\n\tp._handleDrawEnd = function(evt) {\r\n\t\tvar o = this.htmlElement;\r\n\t\tif (!o) { return; }\r\n\t\tvar style = o.style;\r\n\t\t\r\n\t\tvar props = this.getConcatenatedDisplayProps(this._props), mtx = props.matrix;\r\n\t\t\r\n\t\tvar visibility = props.visible ? \"visible\" : \"hidden\";\r\n\t\tif (visibility != style.visibility) { style.visibility = visibility; }\r\n\t\tif (!props.visible) { return; }\r\n\t\t\r\n\t\tvar oldProps = this._oldProps, oldMtx = oldProps&&oldProps.matrix;\r\n\t\tvar n = 10000; // precision\r\n\t\t\r\n\t\tif (!oldMtx || !oldMtx.equals(mtx)) {\r\n\t\t\tvar str = \"matrix(\" + (mtx.a*n|0)/n +\",\"+ (mtx.b*n|0)/n +\",\"+ (mtx.c*n|0)/n +\",\"+ (mtx.d*n|0)/n +\",\"+ (mtx.tx+0.5|0);\r\n\t\t\tstyle.transform = style.WebkitTransform = style.OTransform = style.msTransform = str +\",\"+ (mtx.ty+0.5|0) +\")\";\r\n\t\t\tstyle.MozTransform = str +\"px,\"+ (mtx.ty+0.5|0) +\"px)\";\r\n\t\t\tif (!oldProps) { oldProps = this._oldProps = new createjs.DisplayProps(true, null); }\r\n\t\t\toldProps.matrix.copy(mtx);\r\n\t\t}\r\n\t\t\r\n\t\tif (oldProps.alpha != props.alpha) {\r\n\t\t\tstyle.opacity = \"\"+(props.alpha*n|0)/n;\r\n\t\t\toldProps.alpha = props.alpha;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tcreatejs.DOMElement = createjs.promote(DOMElement, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Filter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Base class that all filters should inherit from. Filters need to be applied to objects that have been cached using\r\n\t * the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} method. If an object changes, please cache it again, or use\r\n\t * {{#crossLink \"DisplayObject/updateCache\"}}{{/crossLink}}. Note that the filters must be applied before caching.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      myInstance.filters = [\r\n\t *          new createjs.ColorFilter(0, 0, 0, 1, 255, 0, 0),\r\n\t *          new createjs.BlurFilter(5, 5, 10)\r\n\t *      ];\r\n\t *      myInstance.cache(0,0, 100, 100);\r\n\t *\r\n\t * Note that each filter can implement a {{#crossLink \"Filter/getBounds\"}}{{/crossLink}} method, which returns the\r\n\t * margins that need to be applied in order to fully display the filter. For example, the {{#crossLink \"BlurFilter\"}}{{/crossLink}}\r\n\t * will cause an object to feather outwards, resulting in a margin around the shape.\r\n\t *\r\n\t * <h4>EaselJS Filters</h4>\r\n\t * EaselJS comes with a number of pre-built filters:\r\n\t * <ul><li>{{#crossLink \"AlphaMapFilter\"}}{{/crossLink}} : Map a greyscale image to the alpha channel of a display object</li>\r\n\t *      <li>{{#crossLink \"AlphaMaskFilter\"}}{{/crossLink}}: Map an image's alpha channel to the alpha channel of a display object</li>\r\n\t *      <li>{{#crossLink \"BlurFilter\"}}{{/crossLink}}: Apply vertical and horizontal blur to a display object</li>\r\n\t *      <li>{{#crossLink \"ColorFilter\"}}{{/crossLink}}: Color transform a display object</li>\r\n\t *      <li>{{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}: Transform an image using a {{#crossLink \"ColorMatrix\"}}{{/crossLink}}</li>\r\n\t * </ul>\r\n\t *\r\n\t * @class Filter\r\n\t * @constructor\r\n\t **/\r\n\tfunction Filter() {\r\n\t\t/**\r\n\t\t * A flag stating that this filter uses a context draw mode and cannot be batched into imageData processing.\r\n\t\t * @property usesContext\r\n\t\t * @type {boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis.usesContext = false;\r\n\r\n\t\t/**\r\n\t\t * Another filter that is required to act as part of this filter and created and managed under the hood.\r\n\t\t * @private\r\n\t\t * @property _multiPass\r\n\t\t * @type {Filter}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._multiPass = null;\r\n\r\n\t\t/**\r\n\t\t * Pre-processed template shader code. It will be parsed before being fed in into the shader compiler.\r\n\t\t * This should be based upon StageGL.SHADER_VERTEX_BODY_REGULAR\r\n\t\t * @property VTX_SHADER\r\n\t\t * @virtual\r\n\t\t * @type {String}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.VTX_SHADER_BODY = null;\r\n\r\n\t\t/**\r\n\t\t * Pre-processed template shader code. It will be parsed before being fed in into the shader compiler.\r\n\t\t * This should be based upon StageGL.SHADER_FRAGMENT_BODY_REGULAR\r\n\t\t * @property FRAG_SHADER\r\n\t\t * @virtual\r\n\t\t * @type {String}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.FRAG_SHADER_BODY = null;\r\n\t}\r\n\tvar p = Filter.prototype;\r\n\r\n// public methods:\r\n\t/**\r\n\t * Provides padding values for this filter. That is, how much the filter will extend the visual bounds of an object it is applied to.\r\n\t * @method getBounds\r\n\t * @param {Rectangle} [rect] If specified, the provided Rectangle instance will be expanded by the padding amounts and returned.\r\n\t * @return {Rectangle} If a `rect` param was provided, it is returned. If not, either a new rectangle with the padding values, or null if no padding is required for this filter.\r\n\t **/\r\n\tp.getBounds = function(rect) {\r\n\t\treturn rect;\r\n\t};\r\n\r\n\t/**\r\n\t * Assign any unique uniforms or other setup functionality here.\r\n\t * @method shaderParamSetup\r\n\t * @virtual\r\n\t * @param {WebGLContext} gl The context associated with the stage performing the render.\r\n\t * @param {StageGL} stage The stage instance that will be rendering.\r\n\t * @param {ShaderProgram} shaderProgram The compiled shader that is going to be used to perform the render.\r\n\t */\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {};\r\n\r\n\t/**\r\n\t * Applies the filter to the specified context.\r\n\t * @method applyFilter\r\n\t * @param {CanvasRenderingContext2D} ctx The 2D context to use as the source.\r\n\t * @param {Number} x The x position to use for the source rect.\r\n\t * @param {Number} y The y position to use for the source rect.\r\n\t * @param {Number} width The width to use for the source rect.\r\n\t * @param {Number} height The height to use for the source rect.\r\n\t * @param {CanvasRenderingContext2D} [targetCtx] The 2D context to draw the result to. Defaults to the context passed to ctx.\r\n\t * @param {Number} [targetX] The x position to draw the result to. Defaults to the value passed to x.\r\n\t * @param {Number} [targetY] The y position to draw the result to. Defaults to the value passed to y.\r\n\t * @return {Boolean} If the filter was applied successfully.\r\n\t **/\r\n\tp.applyFilter = function(ctx, x, y, width, height, targetCtx, targetX, targetY) {\r\n\t\t// this is the default behaviour because most filters access pixel data. It is overridden when not needed.\r\n\t\ttargetCtx = targetCtx || ctx;\r\n\t\tif (targetX == null) { targetX = x; }\r\n\t\tif (targetY == null) { targetY = y; }\r\n\t\ttry {\r\n\t\t\tvar imageData = ctx.getImageData(x, y, width, height);\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (this._applyFilter(imageData)) {\r\n\t\t\ttargetCtx.putImageData(imageData, targetX, targetY);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Filter]\";\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Filter instance.\r\n\t * @method clone\r\n\t * @return {Filter} A clone of the current Filter instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Filter();\r\n\t};\r\n\t\r\n// private methods:\r\n\t/**\r\n\t * @method _applyFilter\r\n\t * @param {ImageData} imageData Target ImageData instance.\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp._applyFilter = function(imageData) { return true; };\r\n\r\n\r\n\tcreatejs.Filter = Filter;\r\n}());\r\n\r\n//##############################################################################\r\n// BitmapCache.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The BitmapCache is an internal representation of all the cache properties and logic required in order to \"cache\"\r\n\t * an object. This information and functionality used to be located on a {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method in {{#crossLink \"DisplayObject\"}}{{/crossLink}}, but was moved to its own class.\r\n\t *\r\n\t * Caching in this context is purely visual, and will render the DisplayObject out into an image to be used instead\r\n\t * of the object. The actual cache itself is still stored on the target with the {{#crossLink \"DisplayObject/cacheCanvas:property\"}}{{/crossLink}}.\r\n\t * Working with a singular image like a {{#crossLink \"Bitmap\"}}{{/crossLink}} there is little benefit to performing \r\n\t * a cache as it is already a single image. Caching is best done on containers containing multiple complex parts that \r\n\t * do not move often, so that rendering the image instead will improve overall rendering speed. A cached object will \r\n\t * not visually update until explicitly told to do so with a call to update, much like a Stage. If a cache is being \r\n\t * updated every frame it is likely not improving rendering performance. Cache are best used when updates will be sparse.\r\n\t *\r\n\t * Caching is also a co-requisite for applying filters to prevent expensive filters running constantly without need, \r\n\t * and to physically enable some effects. The BitmapCache is also responsible for applying filters to objects and \r\n\t * reads each {{#crossLink \"Filter\"}}{{/crossLink}} due to this relationship. Real-time Filters are not recommended \r\n\t * performance wise when dealing with a Context2D canvas. For best performance and to still allow for some visual \r\n\t * effects use a compositeOperation when possible.\r\n\t * @class BitmapCache\r\n\t * @constructor\r\n\t **/\r\n\tfunction BitmapCache() {\r\n\r\n\t\t// public:\r\n\t\t/**\r\n\t\t * Width of the cache relative to the target object.\r\n\t\t * @property width\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t **/\r\n\t\tthis.width = undefined;\r\n\r\n\t\t/**\r\n\t\t * Height of the cache relative to the target object.\r\n\t\t * @property height\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t * @todo Should the width and height be protected?\r\n\t\t **/\r\n\t\tthis.height = undefined;\r\n\r\n\t\t/**\r\n\t\t * Horizontal position of the cache relative to the target's origin.\r\n\t\t * @property x\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t **/\r\n\t\tthis.x = undefined;\r\n\r\n\t\t/**\r\n\t\t * Vertical position of the cache relative to target's origin.\r\n\t\t * @property y\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t **/\r\n\t\tthis.y = undefined;\r\n\r\n\t\t/**\r\n\t\t * The internal scale of the cache image, does not affects display size. This is useful to both increase and\r\n\t\t * decrease render quality. Objects with increased scales are more likely to look good when scaled up or rotated.\r\n\t\t * Objects with decreased scales can save on rendering performance.\r\n\t\t * @property scale\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scale = 1;\r\n\r\n\t\t/**\r\n\t\t * The x offset used for drawing into the cache itself, accounts for both transforms applied.\r\n\t\t * @property offX\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.offX = 0;\r\n\r\n\t\t/**\r\n\t\t * The y offset used for drawing into the cache itself, accounts for both transforms applied.\r\n\t\t * @property offY\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.offY = 0;\r\n\r\n\t\t/**\r\n\t\t * Track how many times the cache has been updated, mostly used for preventing duplicate cacheURLs.\r\n\t\t * This can be useful to see if a cache has been updated.\r\n\t\t * @property cacheID\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.cacheID = 0;\r\n\r\n\t\t// protected:\r\n\t\t/**\r\n\t\t * The relative offset of the filter's x position, used for drawing the cache onto its container.\r\n\t\t * Re-calculated every update call before drawing.\r\n\t\t * @property _filterOffY\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._filterOffX = 0;\r\n\r\n\t\t/**\r\n\t\t * The relative offset of the filter's y position, used for drawing the cache onto its container.\r\n\t\t * Re-calculated every update call before drawing.\r\n\t\t * @property _filterOffY\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._filterOffY = 0;\r\n\r\n\t\t/**\r\n\t\t * The cacheID when a DataURL was requested.\r\n\t\t * @property _cacheDataURLID\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._cacheDataURLID = 0;\r\n\r\n\t\t/**\r\n\t\t * The cache's DataURL, generated on-demand using the getter.\r\n\t\t * @property _cacheDataURL\r\n\t\t * @protected\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._cacheDataURL = null;\r\n\r\n\t\t/**\r\n\t\t * Internal tracking of final bounding width, approximately width*scale; however, filters can complicate the actual value.\r\n\t\t * @property _drawWidth\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._drawWidth = 0;\r\n\r\n\t\t/**\r\n\t\t * Internal tracking of final bounding height, approximately height*scale; however, filters can complicate the actual value.\r\n\t\t * @property _drawHeight\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._drawHeight = 0;\r\n\t}\r\n\tvar p = BitmapCache.prototype;\r\n\r\n\t/**\r\n\t * Returns the bounds that surround all applied filters, relies on each filter to describe how it changes bounds.\r\n\t * @method getFilterBounds\r\n\t * @param {DisplayObject} target The object to check the filter bounds for.\r\n\t * @param {Rectangle} [output=null] Optional parameter, if provided then calculated bounds will be applied to that object.\r\n\t * @return {Rectangle} bounds object representing the bounds with filters.\r\n\t * @static\r\n\t **/\r\n\tBitmapCache.getFilterBounds = function(target, output) {\r\n\t\tif(!output){ output = new createjs.Rectangle(); }\r\n\t\tvar filters = target.filters;\r\n\t\tvar filterCount = filters && filters.length;\r\n\t\tif (!!filterCount <= 0) { return output; }\r\n\r\n\t\tfor(var i=0; i<filterCount; i++) {\r\n\t\t\tvar f = filters[i];\r\n\t\t\tif(!f || !f.getBounds){ continue; }\r\n\t\t\tvar test = f.getBounds();\r\n\t\t\tif(!test){ continue; }\r\n\t\t\tif(i==0) {\r\n\t\t\t\toutput.setValues(test.x, test.y, test.width, test.height);\r\n\t\t\t} else {\r\n\t\t\t\toutput.extend(test.x, test.y, test.width, test.height);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[BitmapCache]\";\r\n\t};\r\n\r\n\t/**\r\n\t * Actually create the correct cache surface and properties associated with it. Caching and it's benefits are discussed\r\n\t * by the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} function and this class description. Here are the detailed\r\n\t * specifics of how to use the options object.\r\n\t *\r\n\t * - If options.useGL is set to \"new\" a StageGL is created and contained on this for use when rendering the cache.\r\n\t * - If options.useGL is set to \"stage\" if the current stage is a StageGL it will be used. If not then it will default to \"new\".\r\n\t * - If options.useGL is a StageGL instance it will not create one but use the one provided.\r\n\t * - If options.useGL is undefined a Context 2D cache will be performed.\r\n\t *\r\n\t * This means you can use any combination of StageGL and 2D with either, neither, or both the stage and cache being\r\n\t * WebGL. Using \"new\" with a StageGL display list is highly unrecommended, but still an option. It should be avoided\r\n\t * due to negative performance reasons and the Image loading limitation noted in the class complications above.\r\n\t *\r\n\t * When \"options.useGL\" is set to the parent stage of the target and WebGL, performance is increased by using\r\n\t * \"RenderTextures\" instead of canvas elements. These are internal Textures on the graphics card stored in the GPU.\r\n\t * Because they are no longer canvases you cannot perform operations you could with a regular canvas. The benefit\r\n\t * is that this avoids the slowdown of copying the texture back and forth from the GPU to a Canvas element.\r\n\t * This means \"stage\" is the recommended option when available.\r\n\t *\r\n\t * A StageGL cache does not infer the ability to draw objects a StageGL cannot currently draw, i.e. do not use a\r\n\t * WebGL context cache when caching a Shape, Text, etc.\r\n\t * <h4>WebGL cache with a 2D context</h4>\r\n\t *\r\n\t *     var stage = new createjs.Stage();\r\n\t *     var bmp = new createjs.Bitmap(src);\r\n\t *     bmp.cache(0, 0, bmp.width, bmp.height, 1, {gl: \"new\"});          // no StageGL to use, so make one\r\n\t *\r\n\t *     var shape = new createjs.Shape();\r\n\t *     shape.graphics.clear().fill(\"red\").drawRect(0,0,20,20);\r\n\t *     shape.cache(0, 0, 20, 20, 1);                             // cannot use WebGL cache\r\n\t *\r\n\t * <h4>WebGL cache with a WebGL context</h4>\r\n\t *\r\n\t *     var stageGL = new createjs.StageGL();\r\n\t *     var bmp = new createjs.Bitmap(src);\r\n\t *     bmp.cache(0, 0, bmp.width, bmp.height, 1, {gl: \"stage\"});       // use our StageGL to cache\r\n\t *\r\n\t *     var shape = new createjs.Shape();\r\n\t *     shape.graphics.clear().fill(\"red\").drawRect(0,0,20,20);\r\n\t *     shape.cache(0, 0, 20, 20, 1);                             // cannot use WebGL cache\r\n\t *\r\n\t * You may wish to create your own StageGL instance to control factors like clear color, transparency, AA, and\r\n\t * others. If you do, pass a new instance in instead of \"true\", the library will automatically set the\r\n\t * {{#crossLink \"StageGL/isCacheControlled\"}}{{/crossLink}} to true on your instance. This will trigger it to behave\r\n\t * correctly, and not assume your main context is WebGL.\r\n\t *\r\n\t * @public\r\n\t * @method BitmapCache.cache\r\n\t * @param {Number} x The x coordinate origin for the cache region.\r\n\t * @param {Number} y The y coordinate origin for the cache region.\r\n\t * @param {Number} width The width of the cache region.\r\n\t * @param {Number} height The height of the cache region.\r\n\t * @param {Number} [scale=1] The scale at which the cache will be created. For example, if you cache a vector shape\r\n\t * using myShape.cache(0,0,100,100,2) then the resulting cacheCanvas will be 200x200 px. This lets you scale and\r\n\t * rotate cached elements with greater fidelity. Default is 1.\r\n\t * @param {Object} [options=undefined] Specify additional parameters for the cache logic\r\n\t * @param {undefined|\"new\"|\"stage\"|StageGL} [options.useGL=undefined] Select whether to use context 2D, or WebGL rendering, and\r\n\t * whether to make a new stage instance or use an existing one. See above for extensive details on use.\r\n\t * @for BitmapCache\r\n\t */\r\n\t p.define = function(target, x, y, width, height, scale, options) {\r\n\t\tif(!target){ throw \"No symbol to cache\"; }\r\n\t\tthis._options = options;\r\n\t\twindow.target = target;\r\n\r\n\t\tthis.width =\t\twidth >= 1 ? width : 1;\r\n\t\tthis.height =\t\theight >= 1 ? height : 1;\r\n\t\tthis.x =\t\t\tx || 0;\r\n\t\tthis.y =\t\t\ty || 0;\r\n\t\tthis.scale =\t\tscale || 1;\r\n\r\n\t\tthis.update();\r\n\t};\r\n\r\n\t/**\r\n\t * Directly called via {{#crossLink \"DisplayObject/updateCache:method\"}}{{/crossLink}}, but also internally. This\r\n\t * has the dual responsibility of making sure the surface is ready to be drawn to, and performing the draw. For\r\n\t * full details of each behaviour, check the protected functions {{#crossLink \"BitmapCache/_updateSurface\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"BitmapCache/_drawToCache\"}}{{/crossLink}} respectively.\r\n\t * @method update\r\n\t * @param {String} [compositeOperation=null] The DisplayObject this cache is linked to.\r\n\t **/\r\n\tp.update = function(compositeOperation) {\r\n\t\tif(!window.target) { throw \"define() must be called before update()\"; }\r\n\r\n\t\tvar filterBounds = BitmapCache.getFilterBounds(window.target);\r\n\t\tvar surface = window.target.cacheCanvas;\r\n\r\n\t\tthis._drawWidth = Math.ceil(this.width*this.scale) + filterBounds.width;\r\n\t\tthis._drawHeight = Math.ceil(this.height*this.scale) + filterBounds.height;\r\n\r\n\t\tif(!surface || this._drawWidth != surface.width || this._drawHeight != surface.height) {\r\n\t\t\tthis._updateSurface();\r\n\t\t}\r\n\r\n\t\tthis._filterOffX = filterBounds.x;\r\n\t\tthis._filterOffY = filterBounds.y;\r\n\t\tthis.offX = this.x*this.scale + this._filterOffX;\r\n\t\tthis.offY = this.y*this.scale + this._filterOffY;\r\n\r\n\t\tthis._drawToCache(compositeOperation);\r\n\r\n\t\tthis.cacheID = this.cacheID?this.cacheID+1:1;\r\n\t};\r\n\r\n\t/**\r\n\t * Reset and release all the properties and memory associated with this cache.\r\n\t * @method release\r\n\t **/\r\n\tp.release = function() {\r\n\t\tif (this._webGLCache) {\r\n\t\t\t// if it isn't cache controlled clean up after yourself\r\n\t\t\tif (!this._webGLCache.isCacheControlled) {\r\n\t\t\t\tif (this.__lastRT){ this.__lastRT = undefined; }\r\n\t\t\t\tif (this.__rtA){ this._webGLCache._killTextureObject(this.__rtA); }\r\n\t\t\t\tif (this.__rtB){ this._webGLCache._killTextureObject(this.__rtB); }\r\n\t\t\t\tif (window.target && window.target.cacheCanvas){ this._webGLCache._killTextureObject(window.target.cacheCanvas); }\r\n\t\t\t}\r\n\t\t\t// set the context to none and let the garbage collector get the rest when the canvas itself gets removed\r\n\t\t\tthis._webGLCache = false;\r\n\t\t} else {\r\n\t\t\tvar stage = window.target.stage;\r\n\t\t\tif (stage instanceof createjs.StageGL){\r\n\t\t\t\tstage.releaseTexture(window.target.cacheCanvas);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.target = window.target.cacheCanvas = null;\r\n\t\tthis.cacheID = this._cacheDataURLID = this._cacheDataURL = undefined;\r\n\t\tthis.width = this.height = this.x = this.y = this.offX = this.offY = 0;\r\n\t\tthis.scale = 1;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a data URL for the cache, or `null` if this display object is not cached.\r\n\t * Uses {{#crossLink \"BitmapCache/cacheID:property\"}}{{/crossLink}} to ensure a new data URL is not generated if the\r\n\t * cache has not changed.\r\n\t * @method getCacheDataURL\r\n\t * @return {String} The image data url for the cache.\r\n\t **/\r\n\tp.getCacheDataURL = function() {\r\n\t\tvar cacheCanvas = window.target && window.target.cacheCanvas;\r\n\t\tif (!cacheCanvas) { return null; }\r\n\t\tif (this.cacheID != this._cacheDataURLID) {\r\n\t\t\tthis._cacheDataURLID = this.cacheID;\r\n\t\t\tthis._cacheDataURL = cacheCanvas.toDataURL?cacheCanvas.toDataURL():null;\t// incase function is\r\n\t\t}\r\n\t\treturn this._cacheDataURL;\r\n\t};\r\n\r\n\t/**\r\n\t * Use context2D drawing commands to display the cache canvas being used.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The context to draw into.\r\n\t * @return {Boolean} Whether the draw was handled successfully.\r\n\t **/\r\n\tp.draw = function(ctx) {\r\n\t\tif(!window.target) { return false; }\r\n\t\tctx.drawImage(window.target.cacheCanvas,\r\n\t\t\tthis.x + (this._filterOffX/this.scale),\t\tthis.y + (this._filterOffY/this.scale),\r\n\t\t\tthis._drawWidth/this.scale,\t\t\t\t\tthis._drawHeight/this.scale\r\n\t\t);\r\n\t\treturn true;\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * Create or resize the invisible canvas/surface that is needed for the display object(s) to draw to,\r\n\t * and in turn be used in their stead when drawing. The surface is resized to the size defined\r\n\t * by the width and height, factoring in scaling and filters. Adjust them to adjust the output size.\r\n\t * @method _updateSurface\r\n\t * @protected\r\n\t **/\r\n\tp._updateSurface = function() {\r\n\t\tif (!this._options || !this._options.useGL) {\r\n\t\t\tvar surface = window.target.cacheCanvas;\r\n\r\n\t\t\t// create it if it's missing\r\n\t\t\tif(!surface) {\r\n\t\t\t\tsurface = window.target.cacheCanvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\r\n\t\t\t}\r\n\r\n\t\t\t// now size it\r\n\t\t\tsurface.width = this._drawWidth;\r\n\t\t\tsurface.height = this._drawHeight;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// create it if it's missing\r\n\t\tif (!this._webGLCache) {\r\n\t\t\tif (this._options.useGL === \"stage\") {\r\n\t\t\t\tif(!(window.target.stage && window.target.stage.isWebGL)){\r\n\t\t\t\t\tvar error = \"Cannot use 'stage' for cache because the object's parent stage is \";\r\n\t\t\t\t\terror += window.target.stage ? \"non WebGL.\" : \"not set, please addChild to the correct stage.\";\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t\twindow.target.cacheCanvas = true; // will be replaced with RenderTexture, temporary positive value for old \"isCached\" checks\r\n\t\t\t\tthis._webGLCache = window.target.stage;\r\n\r\n\t\t\t} else if(this._options.useGL === \"new\") {\r\n\t\t\t\twindow.target.cacheCanvas = document.createElement(\"canvas\"); // we can turn off autopurge because we wont be making textures here\r\n\t\t\t\tthis._webGLCache = new createjs.StageGL(window.target.cacheCanvas, {antialias: true, transparent: true, autoPurge: -1});\r\n\t\t\t\tthis._webGLCache.isCacheControlled = true;\t// use this flag to control stage sizing and final output\r\n\r\n\t\t\t} else if(this._options.useGL instanceof createjs.StageGL) {\r\n\t\t\t\twindow.target.cacheCanvas = true; // will be replaced with RenderTexture, temporary positive value for old \"isCached\" checks\r\n\t\t\t\tthis._webGLCache = this._options.useGL;\r\n\t\t\t\tthis._webGLCache.isCacheControlled = true;\t// use this flag to control stage sizing and final output\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthrow \"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got \"+ this._options.useGL;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// now size render surfaces\r\n\t\tvar surface = window.target.cacheCanvas;\r\n\t\tvar stageGL = this._webGLCache;\r\n\r\n\t\t// if we have a dedicated stage we've gotta size it\r\n\t\tif (stageGL.isCacheControlled) {\r\n\t\t\tsurface.width = this._drawWidth;\r\n\t\t\tsurface.height = this._drawHeight;\r\n\t\t\tstageGL.updateViewport(this._drawWidth, this._drawHeight);\r\n\t\t}\r\n\t\tif (window.target.filters) {\r\n\t\t\t// with filters we can't tell how many we'll need but the most we'll ever need is two, so make them now\r\n\t\t\tstageGL.getTargetRenderTexture(window.target, this._drawWidth,this._drawHeight);\r\n\t\t\tstageGL.getTargetRenderTexture(window.target, this._drawWidth,this._drawHeight);\r\n\t\t} else {\r\n\t\t\t// without filters then we only need one RenderTexture, and that's only if its not a dedicated stage\r\n\t\t\tif (!stageGL.isCacheControlled) {\r\n\t\t\t\tstageGL.getTargetRenderTexture(window.target, this._drawWidth,this._drawHeight);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Perform the cache draw out for context 2D now that the setup properties have been performed.\r\n\t * @method _drawToCache\r\n\t * @protected\r\n\t **/\r\n\tp._drawToCache = function(compositeOperation) {\r\n\t\tvar surface = window.target.cacheCanvas;\r\n\t\tvar target = window.target;\r\n\t\tvar webGL = this._webGLCache;\r\n\r\n\t\tif (webGL){\r\n\t\t\t//TODO: auto split blur into an x/y pass\r\n\t\t\twebGL.cacheDraw(target, target.filters, this);\r\n\r\n\t\t\t// we may of swapped around which element the surface is, so we re-fetch it\r\n\t\t\tsurface = window.target.cacheCanvas;\r\n\r\n\t\t\tsurface.width = this._drawWidth;\r\n\t\t\tsurface.height = this._drawHeight;\r\n\t\t} else {\r\n\t\t\tvar ctx = surface.getContext(\"2d\");\r\n\r\n\t\t\tif (!compositeOperation) {\r\n\t\t\t\tctx.clearRect(0, 0, this._drawWidth+1, this._drawHeight+1);\r\n\t\t\t}\r\n\r\n\t\t\tctx.save();\r\n\t\t\tctx.globalCompositeOperation = compositeOperation;\r\n\t\t\tctx.setTransform(this.scale,0,0,this.scale, -this._filterOffX,-this._filterOffY);\r\n\t\t\tctx.translate(-this.x, -this.y);\r\n\t\t\ttarget.draw(ctx, true);\r\n\t\t\tctx.restore();\r\n\r\n\r\n\t\t\tif (target.filters && target.filters.length) {\r\n\t\t\t\tthis._applyFilters(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsurface._invalid = true;\r\n\t};\r\n\r\n\t/**\r\n\t * Work through every filter and apply its individual visual transformation.\r\n\t * @method _applyFilters\r\n\t * @protected\r\n\t **/\r\n\tp._applyFilters = function(ctx) {\r\n\t\tvar filters = window.target.filters;\r\n\r\n\t\tvar w = this._drawWidth;\r\n\t\tvar h = this._drawHeight;\r\n\r\n\t\tvar data;\r\n\r\n\t\tvar i = 0, filter = filters[i];\r\n\t\tdo { // this is safe because we wouldn't be in apply filters without a filter count of at least 1\r\n\t\t\tif(filter.usesContext){\r\n\t\t\t\tif(data) {\r\n\t\t\t\t\tctx.putImageData(data, 0,0);\r\n\t\t\t\t\tdata = null;\r\n\t\t\t\t}\r\n\t\t\t\tfilter.applyFilter(ctx, 0,0, w,h);\r\n\t\t\t} else {\r\n\t\t\t\tif(!data) {\r\n\t\t\t\t\tdata = ctx.getImageData(0,0, w,h);\r\n\t\t\t\t}\r\n\t\t\t\tfilter._applyFilter(data);\r\n\t\t\t}\r\n\r\n\t\t\t// work through the multipass if it's there, otherwise move on\r\n\t\t\tfilter = filter._multiPass !== null ? filter._multiPass : filters[++i];\r\n\t\t} while (filter);\r\n\r\n\t\t//done\r\n\t\tif(data) {\r\n\t\t\tctx.putImageData(data, 0,0);\r\n\t\t}\r\n\t};\r\n\r\n\tcreatejs.BitmapCache = BitmapCache;\r\n}());\r\n\r\n//##############################################################################\r\n// BlurFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Applies a box blur to DisplayObjects in context 2D and a Gaussian blur in webgl. Note that this filter is fairly\r\n\t * intensive, particularly if the quality is set higher than 1.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a red circle, and then applies a 5 pixel blur to it. It uses the {{#crossLink \"Filter/getBounds\"}}{{/crossLink}}\r\n\t * method to account for the spread that the blur causes.\r\n\t *\r\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\r\n\t *\r\n\t *      var blurFilter = new createjs.BlurFilter(5, 5, 1);\r\n\t *      shape.filters = [blurFilter];\r\n\t *      var bounds = blurFilter.getBounds();\r\n\t *\r\n\t *      shape.cache(-50+bounds.x, -50+bounds.y, 100+bounds.width, 100+bounds.height);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\r\n\t * @class BlurFilter\r\n\t * @extends Filter\r\n\t * @constructor\r\n\t * @param {Number} [blurX=0] The horizontal blur radius in pixels.\r\n\t * @param {Number} [blurY=0] The vertical blur radius in pixels.\r\n\t * @param {Number} [quality=1] The number of blur iterations.\r\n\t **/\r\n\tfunction BlurFilter( blurX, blurY, quality) {\r\n\t\tthis.Filter_constructor();\r\n\r\n\t\t// public properties:\r\n\t\t/**\r\n\t\t * Horizontal blur radius in pixels\r\n\t\t * @property blurX\r\n\t\t * @default 0\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._blurX = blurX;\r\n\t\tthis._blurXTable = [];\r\n\t\tthis._lastBlurX = null;\r\n\r\n\t\t/**\r\n\t\t * Vertical blur radius in pixels\r\n\t\t * @property blurY\r\n\t\t * @default 0\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._blurY = blurY;\r\n\t\tthis._blurYTable = [];\r\n\t\tthis._lastBlurY = null;\r\n\r\n\t\t/**\r\n\t\t * Number of blur iterations. For example, a value of 1 will produce a rough blur. A value of 2 will produce a\r\n\t\t * smoother blur, but take twice as long to run.\r\n\t\t * @property quality\r\n\t\t * @default 1\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._quality;\r\n\t\tthis._lastQuality = null;\r\n\r\n\t\t/**\r\n\t\t * This is a template to generate the shader for {{#crossLink FRAG_SHADER_BODY}}{{/crossLink}}\r\n\t\t */\r\n\t\tthis.FRAG_SHADER_TEMPLATE = (\r\n\t\t\t\"uniform float xWeight[{{blurX}}];\" +\r\n\t\t\t\"uniform float yWeight[{{blurY}}];\" +\r\n\t\t\t\"uniform vec2 textureOffset;\" +\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = vec4(0.0);\" +\r\n\r\n\t\t\t\t\"float xAdj = ({{blurX}}.0-1.0)/2.0;\" +\r\n\t\t\t\t\"float yAdj = ({{blurY}}.0-1.0)/2.0;\" +\r\n\t\t\t\t\"vec2 sampleOffset;\" +\r\n\r\n\t\t\t\t\"for(int i=0; i<{{blurX}}; i++) {\" +\r\n\t\t\t\t\t\"for(int j=0; j<{{blurY}}; j++) {\" +\r\n\t\t\t\t\t\t\"sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));\" +\r\n\t\t\t\t\t\t\"color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);\" +\r\n\t\t\t\t\t\"}\" +\r\n\t\t\t\t\"}\" +\r\n\r\n\t\t\t\t\"gl_FragColor = color.rgba;\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\r\n\t\t// update the filter using the setters\r\n\t\tif(isNaN(quality) || quality < 1){ quality = 1; }\r\n\t\tthis.setQuality(quality|0);\r\n\t}\r\n\tvar p = createjs.extend(BlurFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\tp.getBlurX = function() { return this._blurX; };\r\n\tp.getBlurY = function() { return this._blurY; };\r\n\tp.setBlurX = function(value) {\r\n\t\tif(isNaN(value) || value < 0){ value = 0; }\r\n\t\tthis._blurX = value;\r\n\t};\r\n\tp.setBlurY = function(value) {\r\n\t\tif(isNaN(value) || value < 0){ value = 0; }\r\n\t\tthis._blurY = value;\r\n\t};\r\n\tp.getQuality = function() { return this._quality; };\r\n\tp.setQuality = function(value) {\r\n\t\tif(isNaN(value) || value < 0){ value = 0; }\r\n\t\tthis._quality = value | 0;\r\n\t};\r\n\tp._getShader = function() {\r\n\t\tvar xChange = this._lastBlurX !== this._blurX;\r\n\t\tvar yChange = this._lastBlurY !== this._blurY;\r\n\t\tvar qChange = this._lastQuality !== this._quality;\r\n\t\tif(xChange || yChange || qChange) {\r\n\t\t\tif(xChange || qChange) { this._blurXTable = this._getTable(this._blurX * this._quality); }\r\n\t\t\tif(yChange || qChange) { this._blurYTable = this._getTable(this._blurY * this._quality); }\r\n\t\t\tthis._updateShader();\r\n\t\t\tthis._lastBlurX = this._blurX;\r\n\t\t\tthis._lastBlurY = this._blurY;\r\n\t\t\tthis._lastQuality = this._quality;\r\n\t\t\treturn undefined; // force a rebuild\r\n\t\t}\r\n\t\treturn this._compiledShader;\r\n\t};\r\n\tp._setShader = function() { this._compiledShader; };\r\n\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tblurX: { get: p.getBlurX, set: p.setBlurX },\r\n\t\t\tblurY: { get: p.getBlurY, set: p.setBlurY },\r\n\t\t\tquality: { get: p.getQuality, set: p.setQuality },\r\n\t\t\t_builtShader: { get: p._getShader, set: p._setShader}\r\n\t\t});\r\n\t} catch (e) { console.log(e); }\r\n\r\n\t/**\r\n\t * Internal lookup function to create gaussian distribution.\r\n\t * @method _getTable\r\n\t * @param {Number} spread How many steps in the curve.\r\n\t * @return {Array<Number>} An array with Math.ceil(spread*2) entries with appropriately distributed weights.\r\n\t */\r\n\tp._getTable = function(spread) {\r\n\t\tvar EDGE = 4.2;\r\n\t\tif(spread<=1) { return [1]; }\r\n\r\n\t\tvar result = [];\r\n\t\tvar count = Math.ceil(spread*2);\r\n\t\tcount += (count%2)?0:1;\r\n\t\tvar adjust = (count/2)|0;\r\n\t\tfor(var i = -adjust; i<=adjust; i++) {\r\n\t\t\tvar x = (i/adjust)*EDGE;\r\n\t\t\tresult.push(1/Math.sqrt(2*Math.PI) * Math.pow(Math.E, -(Math.pow(x,2)/4)));\r\n\t\t}\r\n\t\tvar factor = result.reduce(function(a, b) { return a + b; });\r\n\t\treturn result.map(function(currentValue, index, array) { return currentValue/factor; });\r\n\t};\r\n\r\n\t/**\r\n\t * Internal update function to create shader properties.\r\n\t * @method _updateShader\r\n\t */\r\n\tp._updateShader = function() {\r\n\t\tif(this._blurX === undefined || this._blurY === undefined){ return; }\r\n\t\tvar result = this.FRAG_SHADER_TEMPLATE;\r\n\t\tresult = result.replace(/\\{\\{blurX\\}\\}/g, (this._blurXTable.length).toFixed(0));\r\n\t\tresult = result.replace(/\\{\\{blurY\\}\\}/g, (this._blurYTable.length).toFixed(0));\r\n\t\tthis.FRAG_SHADER_BODY = result;\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\t// load the normalized gaussian weight tables\r\n\t\tgl.uniform1fv(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"xWeight\"),\r\n\t\t\tthis._blurXTable\r\n\t\t);\r\n\t\tgl.uniform1fv(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"yWeight\"),\r\n\t\t\tthis._blurYTable\r\n\t\t);\r\n\r\n\t\t// what is the size of a single pixel in -1, 1 (webGL) space\r\n\t\tgl.uniform2f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"textureOffset\"),\r\n\t\t\t2/(stage._viewportWidth*this._quality), 2/(stage._viewportHeight*this._quality)\r\n\t\t);\r\n\t};\r\n\r\n// constants:\r\n\t/**\r\n\t * Array of multiply values for blur calculations.\r\n\t * @property MUL_TABLE\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tBlurFilter.MUL_TABLE = [1, 171, 205, 293, 57, 373, 79, 137, 241, 27, 391, 357, 41, 19, 283, 265, 497, 469, 443, 421, 25, 191, 365, 349, 335, 161, 155, 149, 9, 278, 269, 261, 505, 245, 475, 231, 449, 437, 213, 415, 405, 395, 193, 377, 369, 361, 353, 345, 169, 331, 325, 319, 313, 307, 301, 37, 145, 285, 281, 69, 271, 267, 263, 259, 509, 501, 493, 243, 479, 118, 465, 459, 113, 446, 55, 435, 429, 423, 209, 413, 51, 403, 199, 393, 97, 3, 379, 375, 371, 367, 363, 359, 355, 351, 347, 43, 85, 337, 333, 165, 327, 323, 5, 317, 157, 311, 77, 305, 303, 75, 297, 294, 73, 289, 287, 71, 141, 279, 277, 275, 68, 135, 67, 133, 33, 262, 260, 129, 511, 507, 503, 499, 495, 491, 61, 121, 481, 477, 237, 235, 467, 232, 115, 457, 227, 451, 7, 445, 221, 439, 218, 433, 215, 427, 425, 211, 419, 417, 207, 411, 409, 203, 202, 401, 399, 396, 197, 49, 389, 387, 385, 383, 95, 189, 47, 187, 93, 185, 23, 183, 91, 181, 45, 179, 89, 177, 11, 175, 87, 173, 345, 343, 341, 339, 337, 21, 167, 83, 331, 329, 327, 163, 81, 323, 321, 319, 159, 79, 315, 313, 39, 155, 309, 307, 153, 305, 303, 151, 75, 299, 149, 37, 295, 147, 73, 291, 145, 289, 287, 143, 285, 71, 141, 281, 35, 279, 139, 69, 275, 137, 273, 17, 271, 135, 269, 267, 133, 265, 33, 263, 131, 261, 130, 259, 129, 257, 1];\r\n\r\n\t/**\r\n\t * Array of shift values for blur calculations.\r\n\t * @property SHG_TABLE\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tBlurFilter.SHG_TABLE = [0, 9, 10, 11, 9, 12, 10, 11, 12, 9, 13, 13, 10, 9, 13, 13, 14, 14, 14, 14, 10, 13, 14, 14, 14, 13, 13, 13, 9, 14, 14, 14, 15, 14, 15, 14, 15, 15, 14, 15, 15, 15, 14, 15, 15, 15, 15, 15, 14, 15, 15, 15, 15, 15, 15, 12, 14, 15, 15, 13, 15, 15, 15, 15, 16, 16, 16, 15, 16, 14, 16, 16, 14, 16, 13, 16, 16, 16, 15, 16, 13, 16, 15, 16, 14, 9, 16, 16, 16, 16, 16, 16, 16, 16, 16, 13, 14, 16, 16, 15, 16, 16, 10, 16, 15, 16, 14, 16, 16, 14, 16, 16, 14, 16, 16, 14, 15, 16, 16, 16, 14, 15, 14, 15, 13, 16, 16, 15, 17, 17, 17, 17, 17, 17, 14, 15, 17, 17, 16, 16, 17, 16, 15, 17, 16, 17, 11, 17, 16, 17, 16, 17, 16, 17, 17, 16, 17, 17, 16, 17, 17, 16, 16, 17, 17, 17, 16, 14, 17, 17, 17, 17, 15, 16, 14, 16, 15, 16, 13, 16, 15, 16, 14, 16, 15, 16, 12, 16, 15, 16, 17, 17, 17, 17, 17, 13, 16, 15, 17, 17, 17, 16, 15, 17, 17, 17, 16, 15, 17, 17, 14, 16, 17, 17, 16, 17, 17, 16, 15, 17, 16, 14, 17, 16, 15, 17, 16, 17, 17, 16, 17, 15, 16, 17, 14, 17, 16, 15, 17, 16, 17, 13, 17, 16, 17, 17, 16, 17, 14, 17, 16, 17, 16, 17, 16, 17, 9];\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.getBounds = function (rect) {\r\n\t\tvar x = this.blurX|0, y = this.blurY| 0;\r\n\t\tif(x <= 0 && y <= 0) { return rect; }\r\n\t\tvar q = Math.pow(this.quality, 0.2);\r\n\t\treturn (rect || new createjs.Rectangle()).pad(y*q+1,x*q+1,y*q+1,x*q+1);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function() {\r\n\t\treturn new BlurFilter(this.blurX, this.blurY, this.quality);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function() {\r\n\t\treturn \"[BlurFilter]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function (imageData) {\r\n\t\tvar radiusX = this._blurX >> 1;\r\n\t\tif (isNaN(radiusX) || radiusX < 0) return false;\r\n\t\tvar radiusY = this._blurY >> 1;\r\n\t\tif (isNaN(radiusY) || radiusY < 0) return false;\r\n\t\tif (radiusX == 0 && radiusY == 0) return false;\r\n\r\n\t\tvar iterations = this.quality;\r\n\t\tif (isNaN(iterations) || iterations < 1) iterations = 1;\r\n\t\titerations |= 0;\r\n\t\tif (iterations > 3) iterations = 3;\r\n\t\tif (iterations < 1) iterations = 1;\r\n\r\n\t\tvar px = imageData.data;\r\n\t\tvar x=0, y=0, i=0, p=0, yp=0, yi=0, yw=0, r=0, g=0, b=0, a=0, pr=0, pg=0, pb=0, pa=0;\r\n\r\n\t\tvar divx = (radiusX + radiusX + 1) | 0;\r\n\t\tvar divy = (radiusY + radiusY + 1) | 0;\r\n\t\tvar w = imageData.width | 0;\r\n\t\tvar h = imageData.height | 0;\r\n\r\n\t\tvar w1 = (w - 1) | 0;\r\n\t\tvar h1 = (h - 1) | 0;\r\n\t\tvar rxp1 = (radiusX + 1) | 0;\r\n\t\tvar ryp1 = (radiusY + 1) | 0;\r\n\r\n\t\tvar ssx = {r:0,b:0,g:0,a:0};\r\n\t\tvar sx = ssx;\r\n\t\tfor ( i = 1; i < divx; i++ )\r\n\t\t{\r\n\t\t\tsx = sx.n = {r:0,b:0,g:0,a:0};\r\n\t\t}\r\n\t\tsx.n = ssx;\r\n\r\n\t\tvar ssy = {r:0,b:0,g:0,a:0};\r\n\t\tvar sy = ssy;\r\n\t\tfor ( i = 1; i < divy; i++ )\r\n\t\t{\r\n\t\t\tsy = sy.n = {r:0,b:0,g:0,a:0};\r\n\t\t}\r\n\t\tsy.n = ssy;\r\n\r\n\t\tvar si = null;\r\n\r\n\r\n\t\tvar mtx = BlurFilter.MUL_TABLE[radiusX] | 0;\r\n\t\tvar stx = BlurFilter.SHG_TABLE[radiusX] | 0;\r\n\t\tvar mty = BlurFilter.MUL_TABLE[radiusY] | 0;\r\n\t\tvar sty = BlurFilter.SHG_TABLE[radiusY] | 0;\r\n\r\n\t\twhile (iterations-- > 0) {\r\n\r\n\t\t\tyw = yi = 0;\r\n\t\t\tvar ms = mtx;\r\n\t\t\tvar ss = stx;\r\n\t\t\tfor (y = h; --y > -1;) {\r\n\t\t\t\tr = rxp1 * (pr = px[(yi) | 0]);\r\n\t\t\t\tg = rxp1 * (pg = px[(yi + 1) | 0]);\r\n\t\t\t\tb = rxp1 * (pb = px[(yi + 2) | 0]);\r\n\t\t\t\ta = rxp1 * (pa = px[(yi + 3) | 0]);\r\n\r\n\t\t\t\tsx = ssx;\r\n\r\n\t\t\t\tfor( i = rxp1; --i > -1; )\r\n\t\t\t\t{\r\n\t\t\t\t\tsx.r = pr;\r\n\t\t\t\t\tsx.g = pg;\r\n\t\t\t\t\tsx.b = pb;\r\n\t\t\t\t\tsx.a = pa;\r\n\t\t\t\t\tsx = sx.n;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor( i = 1; i < rxp1; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tp = (yi + ((w1 < i ? w1 : i) << 2)) | 0;\r\n\t\t\t\t\tr += ( sx.r = px[p]);\r\n\t\t\t\t\tg += ( sx.g = px[p+1]);\r\n\t\t\t\t\tb += ( sx.b = px[p+2]);\r\n\t\t\t\t\ta += ( sx.a = px[p+3]);\r\n\r\n\t\t\t\t\tsx = sx.n;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsi = ssx;\r\n\t\t\t\tfor ( x = 0; x < w; x++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tpx[yi++] = (r * ms) >>> ss;\r\n\t\t\t\t\tpx[yi++] = (g * ms) >>> ss;\r\n\t\t\t\t\tpx[yi++] = (b * ms) >>> ss;\r\n\t\t\t\t\tpx[yi++] = (a * ms) >>> ss;\r\n\r\n\t\t\t\t\tp = ((yw + ((p = x + radiusX + 1) < w1 ? p : w1)) << 2);\r\n\r\n\t\t\t\t\tr -= si.r - ( si.r = px[p]);\r\n\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\r\n\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\r\n\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\r\n\r\n\t\t\t\t\tsi = si.n;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tyw += w;\r\n\t\t\t}\r\n\r\n\t\t\tms = mty;\r\n\t\t\tss = sty;\r\n\t\t\tfor (x = 0; x < w; x++) {\r\n\t\t\t\tyi = (x << 2) | 0;\r\n\r\n\t\t\t\tr = (ryp1 * (pr = px[yi])) | 0;\r\n\t\t\t\tg = (ryp1 * (pg = px[(yi + 1) | 0])) | 0;\r\n\t\t\t\tb = (ryp1 * (pb = px[(yi + 2) | 0])) | 0;\r\n\t\t\t\ta = (ryp1 * (pa = px[(yi + 3) | 0])) | 0;\r\n\r\n\t\t\t\tsy = ssy;\r\n\t\t\t\tfor( i = 0; i < ryp1; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tsy.r = pr;\r\n\t\t\t\t\tsy.g = pg;\r\n\t\t\t\t\tsy.b = pb;\r\n\t\t\t\t\tsy.a = pa;\r\n\t\t\t\t\tsy = sy.n;\r\n\t\t\t\t}\r\n\r\n\t\t\t\typ = w;\r\n\r\n\t\t\t\tfor( i = 1; i <= radiusY; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tyi = ( yp + x ) << 2;\r\n\r\n\t\t\t\t\tr += ( sy.r = px[yi]);\r\n\t\t\t\t\tg += ( sy.g = px[yi+1]);\r\n\t\t\t\t\tb += ( sy.b = px[yi+2]);\r\n\t\t\t\t\ta += ( sy.a = px[yi+3]);\r\n\r\n\t\t\t\t\tsy = sy.n;\r\n\r\n\t\t\t\t\tif( i < h1 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\typ += w;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tyi = x;\r\n\t\t\t\tsi = ssy;\r\n\t\t\t\tif ( iterations > 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\tfor ( y = 0; y < h; y++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = yi << 2;\r\n\t\t\t\t\t\tpx[p+3] = pa =(a * ms) >>> ss;\r\n\t\t\t\t\t\tif ( pa > 0 )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpx[p]   = ((r * ms) >>> ss );\r\n\t\t\t\t\t\t\tpx[p+1] = ((g * ms) >>> ss );\r\n\t\t\t\t\t\t\tpx[p+2] = ((b * ms) >>> ss );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpx[p] = px[p+1] = px[p+2] = 0\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tp = ( x + (( ( p = y + ryp1) < h1 ? p : h1 ) * w )) << 2;\r\n\r\n\t\t\t\t\t\tr -= si.r - ( si.r = px[p]);\r\n\t\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\r\n\t\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\r\n\t\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\r\n\r\n\t\t\t\t\t\tsi = si.n;\r\n\r\n\t\t\t\t\t\tyi += w;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor ( y = 0; y < h; y++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = yi << 2;\r\n\t\t\t\t\t\tpx[p+3] = pa =(a * ms) >>> ss;\r\n\t\t\t\t\t\tif ( pa > 0 )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpa = 255 / pa;\r\n\t\t\t\t\t\t\tpx[p]   = ((r * ms) >>> ss ) * pa;\r\n\t\t\t\t\t\t\tpx[p+1] = ((g * ms) >>> ss ) * pa;\r\n\t\t\t\t\t\t\tpx[p+2] = ((b * ms) >>> ss ) * pa;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpx[p] = px[p+1] = px[p+2] = 0\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tp = ( x + (( ( p = y + ryp1) < h1 ? p : h1 ) * w )) << 2;\r\n\r\n\t\t\t\t\t\tr -= si.r - ( si.r = px[p]);\r\n\t\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\r\n\t\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\r\n\t\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\r\n\r\n\t\t\t\t\t\tsi = si.n;\r\n\r\n\t\t\t\t\t\tyi += w;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tcreatejs.BlurFilter = createjs.promote(BlurFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// AlphaMapFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\t\r\n\t\r\n// constructor:\r\n\t/**\r\n\t * Applies a greyscale alpha map image (or canvas) to the target, such that the alpha channel of the result will\r\n\t * be copied from the red channel of the map, and the RGB channels will be copied from the target.\r\n\t *\r\n\t * Generally, it is recommended that you use {{#crossLink \"AlphaMaskFilter\"}}{{/crossLink}}, because it has much\r\n\t * better performance.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example draws a red->blue box, caches it, and then uses the cache canvas as an alpha map on a 100x100 image.\r\n\t *\r\n\t *       var box = new createjs.Shape();\r\n\t *       box.graphics.beginLinearGradientFill([\"#ff0000\", \"#0000ff\"], [0, 1], 0, 0, 0, 100)\r\n\t *       box.graphics.drawRect(0, 0, 100, 100);\r\n\t *       box.cache(0, 0, 100, 100);\r\n\t *\r\n\t *       var bmp = new createjs.Bitmap(\"path/to/image.jpg\");\r\n\t *       bmp.filters = [\r\n\t *           new createjs.AlphaMapFilter(box.cacheCanvas)\r\n\t *       ];\r\n\t *       bmp.cache(0, 0, 100, 100);\r\n\t *       stage.addChild(bmp);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for more information on applying filters.\r\n\t * @class AlphaMapFilter\r\n\t * @extends Filter\r\n\t * @constructor\r\n\t * @param {HTMLImageElement|HTMLCanvasElement} alphaMap The greyscale image (or canvas) to use as the alpha value for the\r\n\t * result. This should be exactly the same dimensions as the target.\r\n\t **/\r\n\tfunction AlphaMapFilter(alphaMap) {\r\n\t\tthis.Filter_constructor();\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The greyscale image (or canvas) to use as the alpha value for the result. This should be exactly the same\r\n\t\t * dimensions as the target.\r\n\t\t * @property alphaMap\r\n\t\t * @type HTMLImageElement|HTMLCanvasElement\r\n\t\t **/\r\n\t\tthis.alphaMap = alphaMap;\r\n\t\t\r\n\t\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _alphaMap\r\n\t\t * @protected\r\n\t\t * @type HTMLImageElement|HTMLCanvasElement\r\n\t\t **/\r\n\t\tthis._alphaMap = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _mapData\r\n\t\t * @protected\r\n\t\t * @type Uint8ClampedArray\r\n\t\t **/\r\n\t\tthis._mapData = null;\r\n\t\tthis._mapTexture = null;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform sampler2D uAlphaSampler;\"+\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\t\t\t\t\"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\" +\r\n\r\n\t\t\t\t// some image formats can have transparent white rgba(1,1,1, 0) when put on the GPU, this means we need a slight tweak\r\n\t\t\t\t// using ceil ensure that the colour will be used so long as it exists but pure transparency will be treated black\r\n\t\t\t\t\"gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\t}\r\n\tvar p = createjs.extend(AlphaMapFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tif(!this._mapTexture) { this._mapTexture = gl.createTexture(); }\r\n\r\n\t\tgl.activeTexture(gl.TEXTURE1);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\r\n\t\tstage.setTextureParams(gl);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.alphaMap);\r\n\r\n\t\tgl.uniform1i(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uAlphaSampler\"),\r\n\t\t\t1\r\n\t\t);\r\n\t};\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.clone = function () {\r\n\t\tvar o = new AlphaMapFilter(this.alphaMap);\r\n\t\to._alphaMap = this._alphaMap;\r\n\t\to._mapData = this._mapData;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function () {\r\n\t\treturn \"[AlphaMapFilter]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function (imageData) {\r\n\t\tif (!this.alphaMap) { return true; }\r\n\t\tif (!this._prepAlphaMap()) { return false; }\r\n\t\t\r\n\t\t// TODO: update to support scenarios where the target has different dimensions.\r\n\t\tvar data = imageData.data;\r\n\t\tvar map = this._mapData;\r\n\t\tfor(var i=0, l=data.length; i<l; i += 4) { data[i + 3] = map[i] || 0; }\r\n\t\t\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _prepAlphaMap\r\n\t * @protected\r\n\t **/\r\n\tp._prepAlphaMap = function () {\r\n\t\tif (!this.alphaMap) { return false; }\r\n\t\tif (this.alphaMap == this._alphaMap && this._mapData) { return true; }\r\n\r\n\t\tthis._mapData = null;\r\n\t\tvar map = this._alphaMap = this.alphaMap;\r\n\t\tvar canvas = map;\r\n\t\tvar ctx;\r\n\t\tif (map instanceof HTMLCanvasElement) {\r\n\t\t\tctx = canvas.getContext(\"2d\");\r\n\t\t} else {\r\n\t\t\tcanvas = createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\r\n\t\t\tcanvas.width = map.width;\r\n\t\t\tcanvas.height = map.height;\r\n\t\t\tctx = canvas.getContext(\"2d\");\r\n\t\t\tctx.drawImage(map, 0, 0);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tvar imgData = ctx.getImageData(0, 0, map.width, map.height);\r\n\t\t} catch (e) {\r\n\t\t\t//if (!this.suppressCrossDomainErrors) throw new Error(\"unable to access local image data: \" + e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tthis._mapData = imgData.data;\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\tcreatejs.AlphaMapFilter = createjs.promote(AlphaMapFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// AlphaMaskFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Applies the alpha from the mask image (or canvas) to the target, such that the alpha channel of the result will\r\n\t * be derived from the mask, and the RGB channels will be copied from the target. This can be used, for example, to\r\n\t * apply an alpha mask to a display object. This can also be used to combine a JPG compressed RGB image with a PNG32\r\n\t * alpha mask, which can result in a much smaller file size than a single PNG32 containing ARGB.\r\n\t *\r\n\t * <b>IMPORTANT NOTE: This filter currently does not support the targetCtx, or targetX/Y parameters correctly.</b>\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example draws a gradient box, then caches it and uses the \"cacheCanvas\" as the alpha mask on a 100x100 image.\r\n\t *\r\n\t *      var box = new createjs.Shape();\r\n\t *      box.graphics.beginLinearGradientFill([\"#000000\", \"rgba(0, 0, 0, 0)\"], [0, 1], 0, 0, 100, 100)\r\n\t *      box.graphics.drawRect(0, 0, 100, 100);\r\n\t *      box.cache(0, 0, 100, 100);\r\n\t *\r\n\t *      var bmp = new createjs.Bitmap(\"path/to/image.jpg\");\r\n\t *      bmp.filters = [\r\n\t *          new createjs.AlphaMaskFilter(box.cacheCanvas)\r\n\t *      ];\r\n\t *      bmp.cache(0, 0, 100, 100);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for more information on applying filters.\r\n\t * @class AlphaMaskFilter\r\n\t * @extends Filter\r\n\t * @constructor\r\n\t * @param {HTMLImageElement|HTMLCanvasElement} mask\r\n\t **/\r\n\tfunction AlphaMaskFilter(mask) {\r\n\t\tthis.Filter_constructor();\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The image (or canvas) to use as the mask.\r\n\t\t * @property mask\r\n\t\t * @type HTMLImageElement|HTMLCanvasElement\r\n\t\t **/\r\n\t\tthis.mask = mask;\r\n\r\n\t\t/** docced in super class **/\r\n\t\tthis.usesContext = true;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform sampler2D uAlphaSampler;\"+\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\t\t\t\t\"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\" +\r\n\r\n\t\t\t\t\"gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\t}\r\n\tvar p = createjs.extend(AlphaMaskFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tif(!this._mapTexture) { this._mapTexture = gl.createTexture(); }\r\n\r\n\t\tgl.activeTexture(gl.TEXTURE1);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\r\n\t\tstage.setTextureParams(gl);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.mask);\r\n\r\n\t\tgl.uniform1i(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uAlphaSampler\"),\r\n\t\t\t1\r\n\t\t);\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Applies the filter to the specified context.\r\n\t *\r\n\t * <strong>IMPORTANT NOTE: This filter currently does not support the targetCtx, or targetX/Y parameters\r\n\t * correctly.</strong>\r\n\t * @method applyFilter\r\n\t * @param {CanvasRenderingContext2D} ctx The 2D context to use as the source.\r\n\t * @param {Number} x The x position to use for the source rect.\r\n\t * @param {Number} y The y position to use for the source rect.\r\n\t * @param {Number} width The width to use for the source rect.\r\n\t * @param {Number} height The height to use for the source rect.\r\n\t * @param {CanvasRenderingContext2D} [targetCtx] NOT SUPPORTED IN THIS FILTER. The 2D context to draw the result to. Defaults to the context passed to ctx.\r\n\t * @param {Number} [targetX] NOT SUPPORTED IN THIS FILTER. The x position to draw the result to. Defaults to the value passed to x.\r\n\t * @param {Number} [targetY] NOT SUPPORTED IN THIS FILTER. The y position to draw the result to. Defaults to the value passed to y.\r\n\t * @return {Boolean} If the filter was applied successfully.\r\n\t **/\r\n\tp.applyFilter = function (ctx, x, y, width, height, targetCtx, targetX, targetY) {\r\n\t\tif (!this.mask) { return true; }\r\n\t\ttargetCtx = targetCtx || ctx;\r\n\t\tif (targetX == null) { targetX = x; }\r\n\t\tif (targetY == null) { targetY = y; }\r\n\r\n\t\ttargetCtx.save();\r\n\t\tif (ctx != targetCtx) {\r\n\t\t\t// TODO: support targetCtx and targetX/Y\r\n\t\t\t// clearRect, then draw the ctx in?\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\ttargetCtx.globalCompositeOperation = \"destination-in\";\r\n\t\ttargetCtx.drawImage(this.mask, targetX, targetY);\r\n\t\ttargetCtx.restore();\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function () {\r\n\t\treturn new AlphaMaskFilter(this.mask);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function () {\r\n\t\treturn \"[AlphaMaskFilter]\";\r\n\t};\r\n\r\n\r\n\tcreatejs.AlphaMaskFilter = createjs.promote(AlphaMaskFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// ColorFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Applies a color transform to DisplayObjects.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example draws a red circle, and then transforms it to Blue. This is accomplished by multiplying all the channels\r\n\t * to 0 (except alpha, which is set to 1), and then adding 255 to the blue channel.\r\n\t *\r\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\r\n\t *\r\n\t *      shape.filters = [\r\n\t *          new createjs.ColorFilter(0,0,0,1, 0,0,255,0)\r\n\t *      ];\r\n\t *      shape.cache(-50, -50, 100, 100);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\r\n\t * @class ColorFilter\r\n\t * @param {Number} [redMultiplier=1] The amount to multiply against the red channel. This is a range between 0 and 1.\r\n\t * @param {Number} [greenMultiplier=1] The amount to multiply against the green channel. This is a range between 0 and 1.\r\n\t * @param {Number} [blueMultiplier=1] The amount to multiply against the blue channel. This is a range between 0 and 1.\r\n\t * @param {Number} [alphaMultiplier=1] The amount to multiply against the alpha channel. This is a range between 0 and 1.\r\n\t * @param {Number} [redOffset=0] The amount to add to the red channel after it has been multiplied. This is a range\r\n\t * between -255 and 255.\r\n\t * @param {Number} [greenOffset=0] The amount to add to the green channel after it has been multiplied. This is a range\r\n\t  * between -255 and 255.\r\n\t * @param {Number} [blueOffset=0] The amount to add to the blue channel after it has been multiplied. This is a range\r\n\t  * between -255 and 255.\r\n\t * @param {Number} [alphaOffset=0] The amount to add to the alpha channel after it has been multiplied. This is a range\r\n\t  * between -255 and 255.\r\n\t * @constructor\r\n\t * @extends Filter\r\n\t **/\r\n\tfunction ColorFilter(redMultiplier, greenMultiplier, blueMultiplier, alphaMultiplier, redOffset, greenOffset, blueOffset, alphaOffset) {\r\n\t\tthis.Filter_constructor();\r\n\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * Red channel multiplier.\r\n\t\t * @property redMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.redMultiplier = redMultiplier != null ? redMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Green channel multiplier.\r\n\t\t * @property greenMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.greenMultiplier = greenMultiplier != null ? greenMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Blue channel multiplier.\r\n\t\t * @property blueMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.blueMultiplier = blueMultiplier != null ? blueMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Alpha channel multiplier.\r\n\t\t * @property alphaMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.alphaMultiplier = alphaMultiplier != null ? alphaMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Red channel offset (added to value).\r\n\t\t * @property redOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.redOffset = redOffset || 0;\r\n\t\r\n\t\t/**\r\n\t\t * Green channel offset (added to value).\r\n\t\t * @property greenOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.greenOffset = greenOffset || 0;\r\n\t\r\n\t\t/**\r\n\t\t * Blue channel offset (added to value).\r\n\t\t * @property blueOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.blueOffset = blueOffset || 0;\r\n\t\r\n\t\t/**\r\n\t\t * Alpha channel offset (added to value).\r\n\t\t * @property alphaOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.alphaOffset = alphaOffset || 0;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform vec4 uColorMultiplier;\" +\r\n\t\t\t\"uniform vec4 uColorOffset;\" +\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\r\n\t\t\t\t\"gl_FragColor = (color * uColorMultiplier) + uColorOffset;\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\r\n\t}\r\n\tvar p = createjs.extend(ColorFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tgl.uniform4f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMultiplier\"),\r\n\t\t\tthis.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier\r\n\t\t);\r\n\r\n\t\tgl.uniform4f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorOffset\"),\r\n\t\t\tthis.redOffset/255, this.greenOffset/255, this.blueOffset/255, this.alphaOffset/255\r\n\t\t);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ColorFilter]\";\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function() {\r\n\t\treturn new ColorFilter(\r\n\t\t\tthis.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier,\r\n\t\t\tthis.redOffset, this.greenOffset, this.blueOffset, this.alphaOffset\r\n\t\t);\r\n\t};\r\n\r\n// private methods:\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function(imageData) {\r\n\t\tvar data = imageData.data;\r\n\t\tvar l = data.length;\r\n\t\tfor (var i=0; i<l; i+=4) {\r\n\t\t\tdata[i] = data[i]*this.redMultiplier+this.redOffset;\r\n\t\t\tdata[i+1] = data[i+1]*this.greenMultiplier+this.greenOffset;\r\n\t\t\tdata[i+2] = data[i+2]*this.blueMultiplier+this.blueOffset;\r\n\t\t\tdata[i+3] = data[i+3]*this.alphaMultiplier+this.alphaOffset;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\tcreatejs.ColorFilter = createjs.promote(ColorFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// ColorMatrix.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Provides helper functions for assembling a matrix for use with the {{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}.\r\n\t * Most methods return the instance to facilitate chained calls.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      myColorMatrix.adjustHue(20).adjustBrightness(50);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an example of how to apply filters, or {{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}\r\n\t * for an example of how to use ColorMatrix to change a DisplayObject's color.\r\n\t * @class ColorMatrix\r\n\t * @param {Number} brightness\r\n\t * @param {Number} contrast\r\n\t * @param {Number} saturation\r\n\t * @param {Number} hue\r\n\t * @constructor\r\n\t **/\r\n\tfunction ColorMatrix(brightness, contrast, saturation, hue) {\r\n\t\tthis.setColor(brightness, contrast, saturation, hue);\r\n\t}\r\n\tvar p = ColorMatrix.prototype;\r\n\r\n// constants:\r\n\t/**\r\n\t * Array of delta values for contrast calculations.\r\n\t * @property DELTA_INDEX\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tColorMatrix.DELTA_INDEX = [\r\n\t\t0,    0.01, 0.02, 0.04, 0.05, 0.06, 0.07, 0.08, 0.1,  0.11,\r\n\t\t0.12, 0.14, 0.15, 0.16, 0.17, 0.18, 0.20, 0.21, 0.22, 0.24,\r\n\t\t0.25, 0.27, 0.28, 0.30, 0.32, 0.34, 0.36, 0.38, 0.40, 0.42,\r\n\t\t0.44, 0.46, 0.48, 0.5,  0.53, 0.56, 0.59, 0.62, 0.65, 0.68,\r\n\t\t0.71, 0.74, 0.77, 0.80, 0.83, 0.86, 0.89, 0.92, 0.95, 0.98,\r\n\t\t1.0,  1.06, 1.12, 1.18, 1.24, 1.30, 1.36, 1.42, 1.48, 1.54,\r\n\t\t1.60, 1.66, 1.72, 1.78, 1.84, 1.90, 1.96, 2.0,  2.12, 2.25,\r\n\t\t2.37, 2.50, 2.62, 2.75, 2.87, 3.0,  3.2,  3.4,  3.6,  3.8,\r\n\t\t4.0,  4.3,  4.7,  4.9,  5.0,  5.5,  6.0,  6.5,  6.8,  7.0,\r\n\t\t7.3,  7.5,  7.8,  8.0,  8.4,  8.7,  9.0,  9.4,  9.6,  9.8,\r\n\t\t10.0\r\n\t];\r\n\r\n\t/**\r\n\t * Identity matrix values.\r\n\t * @property IDENTITY_MATRIX\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tColorMatrix.IDENTITY_MATRIX = [\r\n\t\t1,0,0,0,0,\r\n\t\t0,1,0,0,0,\r\n\t\t0,0,1,0,0,\r\n\t\t0,0,0,1,0,\r\n\t\t0,0,0,0,1\r\n\t];\r\n\r\n\t/**\r\n\t * The constant length of a color matrix.\r\n\t * @property LENGTH\r\n\t * @type Number\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tColorMatrix.LENGTH = ColorMatrix.IDENTITY_MATRIX.length;\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Resets the instance with the specified values.\r\n\t * @method setColor\r\n\t * @param {Number} brightness\r\n\t * @param {Number} contrast\r\n\t * @param {Number} saturation\r\n\t * @param {Number} hue\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t */\r\n\tp.setColor = function(brightness,contrast,saturation,hue) {\r\n\t\treturn this.reset().adjustColor(brightness,contrast,saturation,hue);\r\n\t};\r\n\r\n\t/**\r\n\t * Resets the matrix to identity values.\r\n\t * @method reset\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t */\r\n\tp.reset = function() {\r\n\t\treturn this.copy(ColorMatrix.IDENTITY_MATRIX);\r\n\t};\r\n\r\n\t/**\r\n\t * Shortcut method to adjust brightness, contrast, saturation and hue.\r\n\t * Equivalent to calling adjustHue(hue), adjustContrast(contrast),\r\n\t * adjustBrightness(brightness), adjustSaturation(saturation), in that order.\r\n\t * @method adjustColor\r\n\t * @param {Number} brightness\r\n\t * @param {Number} contrast\r\n\t * @param {Number} saturation\r\n\t * @param {Number} hue\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustColor = function(brightness,contrast,saturation,hue) {\r\n\t\tthis.adjustHue(hue);\r\n\t\tthis.adjustContrast(contrast);\r\n\t\tthis.adjustBrightness(brightness);\r\n\t\treturn this.adjustSaturation(saturation);\r\n\t};\r\n\r\n\t/**\r\n\t * Adjusts the brightness of pixel color by adding the specified value to the red, green and blue channels.\r\n\t * Positive values will make the image brighter, negative values will make it darker.\r\n\t * @method adjustBrightness\r\n\t * @param {Number} value A value between -255 & 255 that will be added to the RGB channels.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustBrightness = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,255);\r\n\t\tthis._multiplyMatrix([\r\n\t\t\t1,0,0,0,value,\r\n\t\t\t0,1,0,0,value,\r\n\t\t\t0,0,1,0,value,\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Adjusts the contrast of pixel color.\r\n\t * Positive values will increase contrast, negative values will decrease contrast.\r\n\t * @method adjustContrast\r\n\t * @param {Number} value A value between -100 & 100.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustContrast = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,100);\r\n\t\tvar x;\r\n\t\tif (value<0) {\r\n\t\t\tx = 127+value/100*127;\r\n\t\t} else {\r\n\t\t\tx = value%1;\r\n\t\t\tif (x == 0) {\r\n\t\t\t\tx = ColorMatrix.DELTA_INDEX[value];\r\n\t\t\t} else {\r\n\t\t\t\tx = ColorMatrix.DELTA_INDEX[(value<<0)]*(1-x)+ColorMatrix.DELTA_INDEX[(value<<0)+1]*x; // use linear interpolation for more granularity.\r\n\t\t\t}\r\n\t\t\tx = x*127+127;\r\n\t\t}\r\n\t\tthis._multiplyMatrix([\r\n\t\t\tx/127,0,0,0,0.5*(127-x),\r\n\t\t\t0,x/127,0,0,0.5*(127-x),\r\n\t\t\t0,0,x/127,0,0.5*(127-x),\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Adjusts the color saturation of the pixel.\r\n\t * Positive values will increase saturation, negative values will decrease saturation (trend towards greyscale).\r\n\t * @method adjustSaturation\r\n\t * @param {Number} value A value between -100 & 100.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustSaturation = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,100);\r\n\t\tvar x = 1+((value > 0) ? 3*value/100 : value/100);\r\n\t\tvar lumR = 0.3086;\r\n\t\tvar lumG = 0.6094;\r\n\t\tvar lumB = 0.0820;\r\n\t\tthis._multiplyMatrix([\r\n\t\t\tlumR*(1-x)+x,lumG*(1-x),lumB*(1-x),0,0,\r\n\t\t\tlumR*(1-x),lumG*(1-x)+x,lumB*(1-x),0,0,\r\n\t\t\tlumR*(1-x),lumG*(1-x),lumB*(1-x)+x,0,0,\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Adjusts the hue of the pixel color.\r\n\t * @method adjustHue\r\n\t * @param {Number} value A value between -180 & 180.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustHue = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,180)/180*Math.PI;\r\n\t\tvar cosVal = Math.cos(value);\r\n\t\tvar sinVal = Math.sin(value);\r\n\t\tvar lumR = 0.213;\r\n\t\tvar lumG = 0.715;\r\n\t\tvar lumB = 0.072;\r\n\t\tthis._multiplyMatrix([\r\n\t\t\tlumR+cosVal*(1-lumR)+sinVal*(-lumR),lumG+cosVal*(-lumG)+sinVal*(-lumG),lumB+cosVal*(-lumB)+sinVal*(1-lumB),0,0,\r\n\t\t\tlumR+cosVal*(-lumR)+sinVal*(0.143),lumG+cosVal*(1-lumG)+sinVal*(0.140),lumB+cosVal*(-lumB)+sinVal*(-0.283),0,0,\r\n\t\t\tlumR+cosVal*(-lumR)+sinVal*(-(1-lumR)),lumG+cosVal*(-lumG)+sinVal*(lumG),lumB+cosVal*(1-lumB)+sinVal*(lumB),0,0,\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Concatenates (multiplies) the specified matrix with this one.\r\n\t * @method concat\r\n\t * @param {Array} matrix An array or ColorMatrix instance.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.concat = function(matrix) {\r\n\t\tmatrix = this._fixMatrix(matrix);\r\n\t\tif (matrix.length != ColorMatrix.LENGTH) { return this; }\r\n\t\tthis._multiplyMatrix(matrix);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this ColorMatrix.\r\n\t * @method clone\r\n\t * @return {ColorMatrix} A clone of this ColorMatrix.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn (new ColorMatrix()).copy(this);\r\n\t};\r\n\r\n\t/**\r\n\t * Return a length 25 (5x5) array instance containing this matrix's values.\r\n\t * @method toArray\r\n\t * @return {Array} An array holding this matrix's values.\r\n\t **/\r\n\tp.toArray = function() {\r\n\t\tvar arr = [];\r\n\t\tfor (var i= 0, l=ColorMatrix.LENGTH; i<l; i++) {\r\n\t\t\tarr[i] = this[i];\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\r\n\t/**\r\n\t * Copy the specified matrix's values to this matrix.\r\n\t * @method copy\r\n\t * @param {Array} matrix An array or ColorMatrix instance.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.copy = function(matrix) {\r\n\t\tvar l = ColorMatrix.LENGTH;\r\n\t\tfor (var i=0;i<l;i++) {\r\n\t\t\tthis[i] = matrix[i];\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ColorMatrix]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _multiplyMatrix\r\n\t * @param {Array} matrix\r\n\t * @protected\r\n\t **/\r\n\tp._multiplyMatrix = function(matrix) {\r\n\t\tvar i, j, k, col = [];\r\n\r\n\t\tfor (i=0;i<5;i++) {\r\n\t\t\tfor (j=0;j<5;j++) {\r\n\t\t\t\tcol[j] = this[j+i*5];\r\n\t\t\t}\r\n\t\t\tfor (j=0;j<5;j++) {\r\n\t\t\t\tvar val=0;\r\n\t\t\t\tfor (k=0;k<5;k++) {\r\n\t\t\t\t\tval += matrix[j+k*5]*col[k];\r\n\t\t\t\t}\r\n\t\t\t\tthis[j+i*5] = val;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Make sure values are within the specified range, hue has a limit of 180, brightness is 255, others are 100.\r\n\t * @method _cleanValue\r\n\t * @param {Number} value The raw number\r\n\t * @param {Number} limit The maximum that the number can be. The minimum is the limit * -1.\r\n\t * @protected\r\n\t **/\r\n\tp._cleanValue = function(value, limit) {\r\n\t\treturn Math.min(limit,Math.max(-limit,value));\r\n\t};\r\n\r\n\t/**\r\n\t * Makes sure matrixes are 5x5 (25 long).\r\n\t * @method _fixMatrix\r\n\t * @param {Array} matrix\r\n\t * @protected\r\n\t **/\r\n\tp._fixMatrix = function(matrix) {\r\n\t\tif (matrix instanceof ColorMatrix) { matrix = matrix.toArray(); }\r\n\t\tif (matrix.length < ColorMatrix.LENGTH) {\r\n\t\t\tmatrix = matrix.slice(0,matrix.length).concat(ColorMatrix.IDENTITY_MATRIX.slice(matrix.length,ColorMatrix.LENGTH));\r\n\t\t} else if (matrix.length > ColorMatrix.LENGTH) {\r\n\t\t\tmatrix = matrix.slice(0,ColorMatrix.LENGTH);\r\n\t\t}\r\n\t\treturn matrix;\r\n\t};\r\n\r\n\r\n\tcreatejs.ColorMatrix = ColorMatrix;\r\n}());\r\n\r\n//##############################################################################\r\n// ColorMatrixFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Allows you to carry out complex color operations such as modifying saturation, brightness, or inverting. See the\r\n\t * {{#crossLink \"ColorMatrix\"}}{{/crossLink}} for more information on changing colors. For an easier color transform,\r\n\t * consider the {{#crossLink \"ColorFilter\"}}{{/crossLink}}.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a red circle, inverts its hue, and then saturates it to brighten it up.\r\n\t *\r\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\r\n\t *\r\n\t *      var matrix = new createjs.ColorMatrix().adjustHue(180).adjustSaturation(100);\r\n\t *      shape.filters = [\r\n\t *          new createjs.ColorMatrixFilter(matrix)\r\n\t *      ];\r\n\t *\r\n\t *      shape.cache(-50, -50, 100, 100);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\r\n\t * @class ColorMatrixFilter\r\n\t * @constructor\r\n\t * @extends Filter\r\n\t * @param {Array | ColorMatrix} matrix A 4x5 matrix describing the color operation to perform. See also the {{#crossLink \"ColorMatrix\"}}{{/crossLink}}\r\n\t * class.\r\n\t **/\r\n\tfunction ColorMatrixFilter(matrix) {\r\n\t\tthis.Filter_constructor();\r\n\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * A 4x5 matrix describing the color operation to perform. See also the {{#crossLink \"ColorMatrix\"}}{{/crossLink}}\r\n\t\t * @property matrix\r\n\t\t * @type Array | ColorMatrix\r\n\t\t **/\r\n\t\tthis.matrix = matrix;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform mat4 uColorMatrix;\" +\r\n\t\t\t\"uniform vec4 uColorMatrixOffset;\" +\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\r\n\t\t\t\t\"mat4 m = uColorMatrix;\" +\r\n\t\t\t\t\"vec4 newColor = vec4(0,0,0,0);\" +\r\n\t\t\t\t\"newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];\" +\r\n\t\t\t\t\"newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];\" +\r\n\t\t\t\t\"newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];\" +\r\n\t\t\t\t\"newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];\" +\r\n\r\n\t\t\t\t\"gl_FragColor = newColor + uColorMatrixOffset;\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\t}\r\n\tvar p = createjs.extend(ColorMatrixFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tvar mat = this.matrix;\r\n\t\tvar colorMatrix = new Float32Array([\r\n\t\t\tmat[0],mat[1],mat[2],mat[3],\r\n\t\t\tmat[5],mat[6],mat[7],mat[8],\r\n\t\t\tmat[10],mat[11],mat[12],mat[13],\r\n\t\t\tmat[15],mat[16],mat[17],mat[18]\r\n\t\t]);\r\n\r\n\t\tgl.uniformMatrix4fv(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMatrix\"),\r\n\t\t\tfalse, colorMatrix\r\n\t\t);\r\n\t\tgl.uniform4f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMatrixOffset\"),\r\n\t\t\tmat[4]/255, mat[9]/255, mat[14]/255, mat[19]/255\r\n\t\t);\r\n\t};\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ColorMatrixFilter]\";\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function() {\r\n\t\treturn new ColorMatrixFilter(this.matrix);\r\n\t};\r\n\r\n// private methods:\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function(imageData) { \r\n\t\tvar data = imageData.data;\r\n\t\tvar l = data.length;\r\n\t\tvar r,g,b,a;\r\n\t\tvar mtx = this.matrix;\r\n\t\tvar m0 =  mtx[0],  m1 =  mtx[1],  m2 =  mtx[2],  m3 =  mtx[3],  m4 =  mtx[4];\r\n\t\tvar m5 =  mtx[5],  m6 =  mtx[6],  m7 =  mtx[7],  m8 =  mtx[8],  m9 =  mtx[9];\r\n\t\tvar m10 = mtx[10], m11 = mtx[11], m12 = mtx[12], m13 = mtx[13], m14 = mtx[14];\r\n\t\tvar m15 = mtx[15], m16 = mtx[16], m17 = mtx[17], m18 = mtx[18], m19 = mtx[19];\r\n\r\n\t\tfor (var i=0; i<l; i+=4) {\r\n\t\t\tr = data[i];\r\n\t\t\tg = data[i+1];\r\n\t\t\tb = data[i+2];\r\n\t\t\ta = data[i+3];\r\n\t\t\tdata[i] = r*m0+g*m1+b*m2+a*m3+m4; // red\r\n\t\t\tdata[i+1] = r*m5+g*m6+b*m7+a*m8+m9; // green\r\n\t\t\tdata[i+2] = r*m10+g*m11+b*m12+a*m13+m14; // blue\r\n\t\t\tdata[i+3] = r*m15+g*m16+b*m17+a*m18+m19; // alpha\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tcreatejs.ColorMatrixFilter = createjs.promote(ColorMatrixFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// Touch.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n * Global utility for working with multi-touch enabled devices in EaselJS. Currently supports W3C Touch API (iOS and\r\n * modern Android browser) and the Pointer API (IE), including ms-prefixed events in IE10, and unprefixed in IE11.\r\n *\r\n * Ensure that you {{#crossLink \"Touch/disable\"}}{{/crossLink}} touch when cleaning up your application. You do not have\r\n * to check if touch is supported to enable it, as it will fail gracefully if it is not supported.\r\n *\r\n * <h4>Example</h4>\r\n *\r\n *      var stage = new createjs.Stage(\"canvasId\");\r\n *      createjs.Touch.enable(stage);\r\n *\r\n * <strong>Note:</strong> It is important to disable Touch on a stage that you are no longer using:\r\n *\r\n *      createjs.Touch.disable(stage);\r\n *\r\n * @class Touch\r\n * @static\r\n **/\r\n\tfunction Touch() {\r\n\t\tthrow \"Touch cannot be instantiated\";\r\n\t}\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Returns `true` if touch is supported in the current browser.\r\n\t * @method isSupported\r\n\t * @return {Boolean} Indicates whether touch is supported in the current browser.\r\n\t * @static\r\n\t **/\r\n\tTouch.isSupported = function() {\r\n\t\treturn\t!!(('ontouchstart' in window) // iOS & Android\r\n\t\t\t|| (window.navigator['msPointerEnabled'] && window.navigator['msMaxTouchPoints'] > 0) // IE10\r\n\t\t\t|| (window.navigator['pointerEnabled'] && window.navigator['maxTouchPoints'] > 0)); // IE11+\r\n\t};\r\n\r\n\t/**\r\n\t * Enables touch interaction for the specified EaselJS {{#crossLink \"Stage\"}}{{/crossLink}}. Currently supports iOS\r\n\t * (and compatible browsers, such as modern Android browsers), and IE10/11. Supports both single touch and\r\n\t * multi-touch modes. Extends the EaselJS {{#crossLink \"MouseEvent\"}}{{/crossLink}} model, but without support for\r\n\t * double click or over/out events. See the MouseEvent {{#crossLink \"MouseEvent/pointerId:property\"}}{{/crossLink}}\r\n\t * for more information.\r\n\t * @method enable\r\n\t * @param {Stage} stage The {{#crossLink \"Stage\"}}{{/crossLink}} to enable touch on.\r\n\t * @param {Boolean} [singleTouch=false] If `true`, only a single touch will be active at a time.\r\n\t * @param {Boolean} [allowDefault=false] If `true`, then default gesture actions (ex. scrolling, zooming) will be\r\n\t * allowed when the user is interacting with the target canvas.\r\n\t * @return {Boolean} Returns `true` if touch was successfully enabled on the target stage.\r\n\t * @static\r\n\t **/\r\n\tTouch.enable = function(stage, singleTouch, allowDefault) {\r\n\t\tif (!stage || !stage.canvas || !Touch.isSupported()) { return false; }\r\n\t\tif (stage.__touch) { return true; }\r\n\r\n\t\t// inject required properties on stage:\r\n\t\tstage.__touch = {pointers:{}, multitouch:!singleTouch, preventDefault:!allowDefault, count:0};\r\n\r\n\t\t// note that in the future we may need to disable the standard mouse event model before adding\r\n\t\t// these to prevent duplicate calls. It doesn't seem to be an issue with iOS devices though.\r\n\t\tif ('ontouchstart' in window) { Touch._IOS_enable(stage); }\r\n\t\telse if (window.navigator['msPointerEnabled'] || window.navigator[\"pointerEnabled\"]) { Touch._IE_enable(stage); }\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Removes all listeners that were set up when calling `Touch.enable()` on a stage.\r\n\t * @method disable\r\n\t * @param {Stage} stage The {{#crossLink \"Stage\"}}{{/crossLink}} to disable touch on.\r\n\t * @static\r\n\t **/\r\n\tTouch.disable = function(stage) {\r\n\t\tif (!stage) { return; }\r\n\t\tif ('ontouchstart' in window) { Touch._IOS_disable(stage); }\r\n\t\telse if (window.navigator['msPointerEnabled'] || window.navigator[\"pointerEnabled\"]) { Touch._IE_disable(stage); }\r\n\t\t\r\n\t\tdelete stage.__touch;\r\n\t};\r\n\r\n\r\n// Private static methods:\r\n\t/**\r\n\t * @method _IOS_enable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IOS_enable = function(stage) {\r\n\t\tvar canvas = stage.canvas;\r\n\t\tvar f = stage.__touch.f = function(e) { Touch._IOS_handleEvent(stage,e); };\r\n\t\tcanvas.addEventListener(\"touchstart\", f, false);\r\n\t\tcanvas.addEventListener(\"touchmove\", f, false);\r\n\t\tcanvas.addEventListener(\"touchend\", f, false);\r\n\t\tcanvas.addEventListener(\"touchcancel\", f, false);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IOS_disable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IOS_disable = function(stage) {\r\n\t\tvar canvas = stage.canvas;\r\n\t\tif (!canvas) { return; }\r\n\t\tvar f = stage.__touch.f;\r\n\t\tcanvas.removeEventListener(\"touchstart\", f, false);\r\n\t\tcanvas.removeEventListener(\"touchmove\", f, false);\r\n\t\tcanvas.removeEventListener(\"touchend\", f, false);\r\n\t\tcanvas.removeEventListener(\"touchcancel\", f, false);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IOS_handleEvent\r\n\t * @param {Stage} stage\r\n\t * @param {Object} e The event to handle\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tTouch._IOS_handleEvent = function(stage, e) {\r\n\t\tif (!stage) { return; }\r\n\t\tif (stage.__touch.preventDefault) { e.preventDefault&&e.preventDefault(); }\r\n\t\tvar touches = e.changedTouches;\r\n\t\tvar type = e.type;\r\n\t\tfor (var i= 0,l=touches.length; i<l; i++) {\r\n\t\t\tvar touch = touches[i];\r\n\t\t\tvar id = touch.identifier;\r\n\t\t\tif (touch.target != stage.canvas) { continue; }\r\n\r\n\t\t\tif (type == \"touchstart\") {\r\n\t\t\t\tthis._handleStart(stage, id, e, touch.pageX, touch.pageY);\r\n\t\t\t} else if (type == \"touchmove\") {\r\n\t\t\t\tthis._handleMove(stage, id, e, touch.pageX, touch.pageY);\r\n\t\t\t} else if (type == \"touchend\" || type == \"touchcancel\") {\r\n\t\t\t\tthis._handleEnd(stage, id, e);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IE_enable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IE_enable = function(stage) {\r\n\t\tvar canvas = stage.canvas;\r\n\t\tvar f = stage.__touch.f = function(e) { Touch._IE_handleEvent(stage,e); };\r\n\r\n\t\tif (window.navigator[\"pointerEnabled\"] === undefined) {\r\n\t\t\tcanvas.addEventListener(\"MSPointerDown\", f, false);\r\n\t\t\twindow.addEventListener(\"MSPointerMove\", f, false);\r\n\t\t\twindow.addEventListener(\"MSPointerUp\", f, false);\r\n\t\t\twindow.addEventListener(\"MSPointerCancel\", f, false);\r\n\t\t\tif (stage.__touch.preventDefault) { canvas.style.msTouchAction = \"none\"; }\r\n\t\t} else {\r\n\t\t\tcanvas.addEventListener(\"pointerdown\", f, false);\r\n\t\t\twindow.addEventListener(\"pointermove\", f, false);\r\n\t\t\twindow.addEventListener(\"pointerup\", f, false);\r\n\t\t\twindow.addEventListener(\"pointercancel\", f, false);\r\n\t\t\tif (stage.__touch.preventDefault) { canvas.style.touchAction = \"none\"; }\r\n\r\n\t\t}\r\n\t\tstage.__touch.activeIDs = {};\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IE_disable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IE_disable = function(stage) {\r\n\t\tvar f = stage.__touch.f;\r\n\r\n\t\tif (window.navigator[\"pointerEnabled\"] === undefined) {\r\n\t\t\twindow.removeEventListener(\"MSPointerMove\", f, false);\r\n\t\t\twindow.removeEventListener(\"MSPointerUp\", f, false);\r\n\t\t\twindow.removeEventListener(\"MSPointerCancel\", f, false);\r\n\t\t\tif (stage.canvas) {\r\n\t\t\t\tstage.canvas.removeEventListener(\"MSPointerDown\", f, false);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twindow.removeEventListener(\"pointermove\", f, false);\r\n\t\t\twindow.removeEventListener(\"pointerup\", f, false);\r\n\t\t\twindow.removeEventListener(\"pointercancel\", f, false);\r\n\t\t\tif (stage.canvas) {\r\n\t\t\t\tstage.canvas.removeEventListener(\"pointerdown\", f, false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IE_handleEvent\r\n\t * @param {Stage} stage\r\n\t * @param {Object} e The event to handle.\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tTouch._IE_handleEvent = function(stage, e) {\r\n\t\tif (!stage) { return; }\r\n\t\tif (stage.__touch.preventDefault) { e.preventDefault && e.preventDefault(); }\r\n\t\tvar type = e.type;\r\n\t\tvar id = e.pointerId;\r\n\t\tvar ids = stage.__touch.activeIDs;\r\n\r\n\t\tif (type == \"MSPointerDown\" || type == \"pointerdown\") {\r\n\t\t\tif (e.srcElement != stage.canvas) { return; }\r\n\t\t\tids[id] = true;\r\n\t\t\tthis._handleStart(stage, id, e, e.pageX, e.pageY);\r\n\t\t} else if (ids[id]) { // it's an id we're watching\r\n\t\t\tif (type == \"MSPointerMove\" || type == \"pointermove\") {\r\n\t\t\t\tthis._handleMove(stage, id, e, e.pageX, e.pageY);\r\n\t\t\t} else if (type == \"MSPointerUp\" || type == \"MSPointerCancel\"\r\n\t\t\t\t\t|| type == \"pointerup\" || type == \"pointercancel\") {\r\n\t\t\t\tdelete(ids[id]);\r\n\t\t\t\tthis._handleEnd(stage, id, e);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleStart\r\n\t * @param {Stage} stage\r\n\t * @param {String|Number} id\r\n\t * @param {Object} e\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t **/\r\n\tTouch._handleStart = function(stage, id, e, x, y) {\r\n\t\tvar props = stage.__touch;\r\n\t\tif (!props.multitouch && props.count) { return; }\r\n\t\tvar ids = props.pointers;\r\n\t\tif (ids[id]) { return; }\r\n\t\tids[id] = true;\r\n\t\tprops.count++;\r\n\t\tstage._handlePointerDown(id, e, x, y);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMove\r\n\t * @param {Stage} stage\r\n\t * @param {String|Number} id\r\n\t * @param {Object} e\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t **/\r\n\tTouch._handleMove = function(stage, id, e, x, y) {\r\n\t\tif (!stage.__touch.pointers[id]) { return; }\r\n\t\tstage._handlePointerMove(id, e, x, y);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleEnd\r\n\t * @param {Stage} stage\r\n\t * @param {String|Number} id\r\n\t * @param {Object} e\r\n\t * @protected\r\n\t **/\r\n\tTouch._handleEnd = function(stage, id, e) {\r\n\t\t// TODO: cancel should be handled differently for proper UI (ex. an up would trigger a click, a cancel would more closely resemble an out).\r\n\t\tvar props = stage.__touch;\r\n\t\tvar ids = props.pointers;\r\n\t\tif (!ids[id]) { return; }\r\n\t\tprops.count--;\r\n\t\tstage._handlePointerUp(id, e, true);\r\n\t\tdelete(ids[id]);\r\n\t};\r\n\r\n\r\n\tcreatejs.Touch = Touch;\r\n}());\r\n\r\n//##############################################################################\r\n// version.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Static class holding library specific information such as the version and buildDate of\r\n\t * the library.\r\n\t * @class EaselJS\r\n\t **/\r\n\tvar s = createjs.EaselJS = createjs.EaselJS || {};\r\n\r\n\t/**\r\n\t * The version string for this release.\r\n\t * @property version\r\n\t * @type String\r\n\t * @static\r\n\t **/\r\n\ts.version = /*=version*/\"1.0.0\"; // injected by build process\r\n\r\n\t/**\r\n\t * The build date for this release in UTC format.\r\n\t * @property buildDate\r\n\t * @type String\r\n\t * @static\r\n\t **/\r\n\ts.buildDate = /*=date*/\"Thu, 14 Sep 2017 19:47:53 GMT\"; // injected by build process\r\n\r\n})();\r\n","<template>\r\n  <div class=\"fd-canvas__bg\">\r\n    <canvas id=\"canvas__bg2\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nimport initCanvas from './initCanvas.js'\r\nexport default {\r\n  name: 'dsj-canvasbg2',\r\n  created () {\r\n    initCanvas()\r\n  }\r\n}\r\n</script>\r\n<style>\r\n  .fd-canvas__bg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=0d00775f&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2020-03-06 17:24:17\r\n * @Last Modified by:   HePeng\r\n * @Last Modified time: 2020-03-06 17:24:17\r\n */\r\n// 导入组件，组件必须声明 name\r\nimport DsjCanvasBg from \"./src/main.vue\";\r\n// 为组件添加 install 方法，用于按需引入\r\nDsjCanvasBg.install = function(Vue) {\r\n  Vue.component(DsjCanvasBg.name, DsjCanvasBg);\r\n};\r\n\r\nexport default DsjCanvasBg;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['dsj_btn',\n    _vm.type ? 'fsj_button--' + _vm.type : ''\n  ],style:((\"width: \" + _vm.width + \"px\")),on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div @click=\"$emit('click')\" :class=\"['dsj_btn',\r\n      type ? 'fsj_button--' + type : ''\r\n    ]\"\r\n    :style=\"`width: ${width}px`\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'dsj-button',\r\n  props: {\r\n    type: {\r\n      type: [String, Number],\r\n      default: '1'\r\n    },\r\n    width: {\r\n      type: [String, Number],\r\n      default: '160'\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.dsj_btn {\r\n  box-sizing: border-box;\r\n  transition-property: all;\r\n  transition-duration: .6s;\r\n  transition-timing-function: ease;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  line-height: 30px;\r\n  margin: 0 0 2em;\r\n  width: 100%;\r\n  text-align: center;\r\n  position: relative;\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  height: 30px;\r\n}\r\n.dsj_btn:hover {\r\n  text-decoration: none;\r\n}\r\n.dsj_btn > span {\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.fsj_button--1 {\r\n  letter-spacing: 0;\r\n}\r\n\r\n.fsj_button--1:hover,\r\n.fsj_button--1:active {\r\n  letter-spacing: 5px;\r\n}\r\n\r\n.fsj_button--1:after,\r\n.fsj_button--1:before {\r\n  -webkit-backface-visibility: hidden;\r\n          backface-visibility: hidden;\r\n  border: 1px solid rgba(255, 255, 255, 0);\r\n  bottom: 0px;\r\n  content: \" \";\r\n  display: block;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  transition: all 280ms ease-in-out;\r\n  width: 0;\r\n}\r\n\r\n.fsj_button--1:hover:after,\r\n.fsj_button--1:hover:before {\r\n  -webkit-backface-visibility: hidden;\r\n          backface-visibility: hidden;\r\n  border-color: #fff;\r\n  transition: width 350ms ease-in-out;\r\n  width: 70%;\r\n}\r\n\r\n.fsj_button--1:hover:before {\r\n  bottom: auto;\r\n  top: 0;\r\n  width: 70%;\r\n}\r\n\r\n.fsj_button--2 {\r\n  background: #e3403a;\r\n  border: 1px solid #da251f;\r\n  box-shadow: 0px 2px 0 #d6251f, 2px 4px 6px #e02a24;\r\n  font-weight: 900;\r\n  letter-spacing: 1px;\r\n  transition: all 150ms linear;\r\n}\r\n\r\n.fsj_button--2:hover {\r\n  background: #e02c26;\r\n  border: 1px solid rgba(0, 0, 0, 0.05);\r\n  box-shadow: 1px 1px 2px rgba(255, 255, 255, 0.2);\r\n  color: #ec817d;\r\n  text-decoration: none;\r\n  text-shadow: -1px -1px 0 #c2211c;\r\n  transition: all 250ms linear;\r\n}\r\n\r\n.fsj_button--3 {\r\n  border: 1px solid;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n.fsj_button--3 span {\r\n  z-index: 20;\r\n}\r\n.fsj_button--3:after {\r\n  background: #fff;\r\n  content: \"\";\r\n  height: 155px;\r\n  left: -75px;\r\n  opacity: .2;\r\n  position: absolute;\r\n  top: -50px;\r\n  -webkit-transform: rotate(35deg);\r\n          transform: rotate(35deg);\r\n  transition: all 550ms cubic-bezier(0.19, 1, 0.22, 1);\r\n  width: 50px;\r\n}\r\n\r\n.fsj_button--3:hover:after {\r\n  left: 120%;\r\n  transition: all 550ms cubic-bezier(0.19, 1, 0.22, 1);\r\n}\r\n\r\n.fsj_button--4 {\r\n  border: 0 solid;\r\n  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0);\r\n  outline: 1px solid;\r\n  outline-color: rgba(255, 255, 255, 0.5);\r\n  outline-offset: 0px;\r\n  text-shadow: none;\r\n  transition: all 1250ms cubic-bezier(0.19, 1, 0.22, 1);\r\n}\r\n\r\n.fsj_button--4:hover {\r\n  border: 1px solid;\r\n  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.5), 0 0 20px rgba(255, 255, 255, 0.2);\r\n  outline-color: rgba(255, 255, 255, 0);\r\n  outline-offset: 15px;\r\n  text-shadow: 1px 1px 2px #427388;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=2e29daa9&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e29daa9\",\n  null\n  \n)\n\nexport default component.exports","// packages/textarea/index.js\r\n\r\n// 导入组件，组件必须声明 name\r\nimport DsjButtom from './src/main.vue'\r\n\r\n// 为组件添加 install 方法，用于按需引入\r\nDsjButtom.install = function (Vue) {\r\n  Vue.component(DsjButtom.name, DsjButtom)\r\n}\r\n\r\nexport default DsjButtom","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_annular__wrapper\",on:{\"click\":_vm.clickChange}},[_c('svg',{ref:\"svg\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{staticClass:\"arc\",attrs:{\"fill\":\"none\",\"d\":\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"}}),_c('path',{staticClass:\"graph\",style:({'--val': _vm.numberData}),attrs:{\"fill\":\"none\",\"d\":\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"}}),_c('text',{staticClass:\"heavy\",attrs:{\"x\":\"36\",\"y\":\"55\"}},[_vm._v(_vm._s(_vm.sliceData))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"chart_annular__wrapper\" @click=\"clickChange\">\r\n    <svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\" ref=\"svg\">\r\n      <path class=\"arc\" fill=\"none\" d=\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"  />\r\n      <path class=\"graph\" fill=\"none\" :style=\"{'--val': numberData}\" d=\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"  />\r\n      <text x=\"36\" y=\"55\" class=\"heavy\">{{sliceData}}</text>\r\n    </svg>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'dsj-annularCharts',\r\n  props: {\r\n    propData: {\r\n      type: [String, Number, Object],\r\n      required: true,\r\n      default: 0\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    graphStrokeWidth: {\r\n      type: [String, Number],\r\n      default: 6\r\n    },\r\n    arcStrokeWidth: {\r\n      type: [String, Number],\r\n      default: 2\r\n    },\r\n    graphColor: {\r\n      type: String,\r\n      default: '#333'\r\n    },\r\n    arcColor: {\r\n      type: String,\r\n      default: '#4fcdf4'\r\n    },\r\n    wrapperBG: {\r\n      type: String,\r\n      default: 'transparent'\r\n    },\r\n    textColor: {\r\n      type: String,\r\n      default: '#fff'\r\n    },\r\n    clickItem: {\r\n      type: [String, Number, Object, Function],\r\n      default: null\r\n    },\r\n    props: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          data: 'data'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      numberData: 0\r\n    }\r\n  },\r\n  watch: {\r\n    propData: {\r\n      handler (newV) {\r\n        this.initData()\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  computed: {\r\n    sliceData () {\r\n      return typeof this.propData === 'object' ? this.propData[this.props.data] + '%' : this.propData + '%'\r\n    }\r\n  },\r\n  created () {},\r\n  mounted () {\r\n    let _svg = this.$refs.svg\r\n    let _graph = _svg.children[1]\r\n    let _arc = _svg.children[0]\r\n    let _text = _svg.children[2]\r\n    debugger\r\n    _graph.style.stroke = this.graphColor\r\n    _graph.style.strokeWidth = this.graphStrokeWidth + 'px'\r\n    _arc.style.strokeWidth = this.arcStrokeWidth + 'px'\r\n    _arc.style.stroke = this.arcColor\r\n    _svg.style.stroke = this.wrapperBG\r\n    _text.style.fill = this.textColor\r\n    this.initData()\r\n  },\r\n  methods: {\r\n    initData () {\r\n      this.numberData = typeof this.propData === 'object' ? 100 - this.propData[this.props.data] : 100 - this.propData\r\n      this.$refs.svg.children[1].style['--val'] = this.numberData\r\n    },\r\n    clickChange () {\r\n      if (typeof this.propData === 'object') {\r\n        this.$emit('click', this.propData)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .chart_annular__wrapper {\r\n    width: 100%;\r\n    height: 100%;\r\n    cursor: pointer;\r\n  }\r\n  .chart_annular__wrapper svg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .chart_annular__wrapper text {\r\n    stroke: none;\r\n    transition: fill .8s ease-out;\r\n  }\r\n  .chart_annular__wrapper .arc {\r\n    stroke-width: 4px;\r\n  }\r\n  .chart_annular__wrapper .graph {\r\n    stroke-dashoffset: 0;\r\n    stroke-dasharray: 251.35;\r\n    stroke-dashoffset: calc(  251.35 / 100 * var( --val )  );\r\n    transition: stroke-dashoffset .8s ease-out;\r\n    stroke-linecap: round;\r\n    stroke-width: 4px;\r\n    transform: translateX(100px) rotateY(180deg);\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=d607c838&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d607c838\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2020-03-04 11:02:57\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2020-03-06 17:24:56\r\n */\r\n// packages/textarea/index.js\r\n\r\n// 导入组件，组件必须声明 name\r\nimport ChartAnnular from \"./src/main.vue\";\r\n\r\n// 为组件添加 install 方法，用于按需引入\r\nChartAnnular.install = function(Vue) {\r\n  Vue.component(ChartAnnular.name, ChartAnnular);\r\n};\r\n\r\nexport default ChartAnnular;\r\n","/*\r\n * @Author: HePeng\r\n * @Date: 2019-09-18 14:09:07\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2020-03-06 17:38:58\r\n */\r\n// packages / index.js\r\n\r\n// 导入单个组件\r\nimport canvasboll from './canvasBoll/index'\r\nimport Diffusion from './diffusion/index'\r\nimport canvasBGLZ from './canvasBG/index'\r\nimport canvasBGLZ2 from './canvasBG2/index'\r\nimport DsjButtom from './dsj_button/index'\r\nimport ChartAnnular from './chart_annular/index'\r\n\r\n// 以数组的结构保存组件，便于遍历\r\nconst components = [\r\n  canvasboll,\r\n  Diffusion,\r\n  canvasBGLZ,\r\n  DsjButtom,\r\n  ChartAnnular,\r\n  canvasBGLZ2\r\n];\r\n\r\n// 定义 install 方法\r\nconst install = function (Vue) {\r\n  if (install.installed) return\r\n  install.installed = true\r\n  // 遍历并注册全局组件\r\n  components.map(component => {\r\n    Vue.component(component.name, component)\r\n  })\r\n}\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  install(window.Vue)\r\n}\r\n\r\nexport default {\r\n  // 导出的对象必须具备一个 install 方法\r\n  install,\r\n  // 组件列表\r\n  ...components\r\n}","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}