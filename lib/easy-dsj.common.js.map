{"version":3,"sources":["webpack://easy-dsj/webpack/bootstrap","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.symbol.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-define.js","webpack://easy-dsj/./node_modules/core-js/modules/_string-at.js","webpack://easy-dsj/./node_modules/core-js/modules/_advance-string-index.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_has.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?9c3e","webpack://easy-dsj/./node_modules/core-js/modules/_to-index.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?b8c6","webpack://easy-dsj/./node_modules/core-js/modules/_array-methods.js","webpack://easy-dsj/./node_modules/core-js/modules/_flags.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-keys.js","webpack://easy-dsj/./node_modules/core-js/modules/_typed.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-absolute-index.js","webpack://easy-dsj/./node_modules/core-js/modules/_is-array.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_an-instance.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gopd.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-dps.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.string.iterator.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://easy-dsj/./node_modules/core-js/modules/_task.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-primitive.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_dom-create.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-call.js","webpack://easy-dsj/./node_modules/core-js/modules/_fix-re-wks.js","webpack://easy-dsj/./node_modules/core-js/modules/_dom-create.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?b5c9","webpack://easy-dsj/./node_modules/core-js/modules/_classof.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.promise.js","webpack://easy-dsj/./node_modules/css-loader/dist/runtime/api.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_defined.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gops.js","webpack://easy-dsj/./node_modules/core-js/modules/core.get-iterator-method.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.split.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_fails.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?5475","webpack://easy-dsj/./node_modules/core-js/modules/_redefine.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?218a","webpack://easy-dsj/./node_modules/core-js/modules/_object-create.js","webpack://easy-dsj/./node_modules/core-js/modules/_wks.js","webpack://easy-dsj/./node_modules/core-js/modules/_library.js","webpack://easy-dsj/./node_modules/core-js/modules/_cof.js","webpack://easy-dsj/./node_modules/core-js/modules/_strict-method.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_invoke.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-define.js","webpack://easy-dsj/./node_modules/core-js/modules/_invoke.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?a6ca","webpack://easy-dsj/./node_modules/core-js/modules/_hide.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_html.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iobject.js","webpack://easy-dsj/./node_modules/core-js/modules/_is-array-iter.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-pie.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_hide.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?804a","webpack://easy-dsj/./node_modules/core-js/modules/_array-fill.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-iobject.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_is-array-iter.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.flags.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gpo.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-integer.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.promise.finally.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?4454","webpack://easy-dsj/./node_modules/core-js/library/modules/_classof.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_task.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.promise.try.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_perform.js","webpack://easy-dsj/./node_modules/core-js/library/fn/object/define-property.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.object.keys.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-integer.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack://easy-dsj/./node_modules/core-js/modules/_property-desc.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.object.define-property.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_enum-keys.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iterators.js","webpack://easy-dsj/./node_modules/vue-style-loader/lib/listToStyles.js","webpack://easy-dsj/./node_modules/vue-style-loader/lib/addStylesClient.js","webpack://easy-dsj/./node_modules/core-js/modules/_for-of.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_set-species.js","webpack://easy-dsj/./packages/chart_annular/src/main.vue?760c","webpack://easy-dsj/./packages/chart_annular/src/main.vue?af98","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-detect.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-step.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_wks.js","webpack://easy-dsj/./node_modules/core-js/modules/_regexp-exec.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-pie.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gpo.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.promise.js","webpack://easy-dsj/./node_modules/core-js/modules/_shared.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_shared-key.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.array.sort.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_core.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_array-includes.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_redefine-all.js","webpack://easy-dsj/./node_modules/core-js/modules/_export.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-detect.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_inherit-if-required.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-sap.js","webpack://easy-dsj/./node_modules/core-js/modules/_regexp-exec-abstract.js","webpack://easy-dsj/./node_modules/core-js/modules/_shared-key.js","webpack://easy-dsj/./node_modules/core-js/modules/_iobject.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_uid.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_export.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.typed.float32-array.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_new-promise-capability.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_wks-define.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-iobject.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?0ea2","webpack://easy-dsj/./node_modules/core-js/library/fn/promise.js","webpack://easy-dsj/./node_modules/core-js/modules/_has.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-primitive.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gopn.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_cof.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.to-string.js","webpack://easy-dsj/./node_modules/core-js/library/modules/web.dom.iterable.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.array.fill.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_string-at.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-assign.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack://easy-dsj/./node_modules/core-js/modules/_global.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-absolute-index.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/promise.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_a-function.js","webpack://easy-dsj/./node_modules/core-js/modules/_fails.js","webpack://easy-dsj/./node_modules/core-js/modules/_set-species.js","webpack://easy-dsj/./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?86dd","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-dps.js","webpack://easy-dsj/./node_modules/core-js/modules/_set-to-string-tag.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.function.name.js","webpack://easy-dsj/./node_modules/core-js/modules/_microtask.js","webpack://easy-dsj/./node_modules/core-js/modules/_core.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack://easy-dsj/./node_modules/core-js/modules/_iterators.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-dp.js","webpack://easy-dsj/./node_modules/core-js/modules/_set-proto.js","webpack://easy-dsj/./packages/chart_annular/src/main.vue?c906","webpack://easy-dsj/./node_modules/core-js/library/modules/_descriptors.js","webpack://easy-dsj/./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_is-array.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-gopn.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_redefine.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?e854","webpack://easy-dsj/./node_modules/regenerator-runtime/runtime.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?8913","webpack://easy-dsj/./node_modules/core-js/modules/_own-keys.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gops.js","webpack://easy-dsj/./node_modules/core-js/modules/_ctx.js","webpack://easy-dsj/./node_modules/core-js/modules/_add-to-unscopables.js","webpack://easy-dsj/./node_modules/core-js/modules/_perform.js","webpack://easy-dsj/./node_modules/core-js/modules/_to-length.js","webpack://easy-dsj/./node_modules/core-js/modules/_descriptors.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_for-of.js","webpack://easy-dsj/./node_modules/core-js/modules/_user-agent.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.replace.js","webpack://easy-dsj/./node_modules/core-js/modules/_new-promise-capability.js","webpack://easy-dsj/./node_modules/core-js/modules/_string-trim.js","webpack://easy-dsj/./node_modules/core-js/modules/_is-regexp.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_microtask.js","webpack://easy-dsj/./node_modules/core-js/modules/web.dom.iterable.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_property-desc.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.regexp.exec.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_iter-call.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_to-length.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_library.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-copy-within.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?a4bd","webpack://easy-dsj/./node_modules/core-js/library/modules/_user-agent.js","webpack://easy-dsj/./node_modules/core-js/modules/_promise-resolve.js","webpack://easy-dsj/./node_modules/core-js/modules/_defined.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-gopd.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-includes.js","webpack://easy-dsj/./node_modules/core-js/library/modules/es6.array.iterator.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-keys.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.number.constructor.js","webpack://easy-dsj/./node_modules/core-js/modules/_ie8-dom-define.js","webpack://easy-dsj/./node_modules/core-js/modules/_uid.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.array.iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_an-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_wks-ext.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-species-create.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_promise-resolve.js","webpack://easy-dsj/./node_modules/core-js/modules/_object-keys-internal.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?9cdd","webpack://easy-dsj/./node_modules/core-js/modules/_is-object.js","webpack://easy-dsj/./node_modules/core-js/modules/_iter-step.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_ctx.js","webpack://easy-dsj/./node_modules/core-js/library/fn/symbol/iterator.js","webpack://easy-dsj/./node_modules/core-js/modules/_a-function.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-dp.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_shared.js","webpack://easy-dsj/./node_modules/core-js/modules/_redefine-all.js","webpack://easy-dsj/./node_modules/core-js/modules/_enum-bug-keys.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_an-object.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_global.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_object-keys-internal.js","webpack://easy-dsj/./node_modules/core-js/modules/_array-species-constructor.js","webpack://easy-dsj/./node_modules/core-js/modules/_species-constructor.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_meta.js","webpack://easy-dsj/./node_modules/core-js/modules/_typed-array.js","webpack://easy-dsj/./node_modules/core-js/modules/_typed-buffer.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?5abf","webpack://easy-dsj/./node_modules/core-js/modules/_create-property.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_species-constructor.js","webpack://easy-dsj/./node_modules/core-js/modules/_an-instance.js","webpack://easy-dsj/./node_modules/current-script-polyfill/currentScript.js","webpack://easy-dsj/./node_modules/core-js/modules/es6.object.assign.js","webpack://easy-dsj/./node_modules/core-js/library/modules/_is-object.js","webpack://easy-dsj/./node_modules/core-js/library/fn/symbol/index.js","webpack://easy-dsj/./node_modules/core-js/modules/_function-to-string.js","webpack://easy-dsj/./node_modules/core-js/modules/_html.js","webpack://easy-dsj/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?7abf","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js","webpack://easy-dsj/packages/canvasBoll/src/main.vue","webpack://easy-dsj/./packages/canvasBoll/src/main.vue?dfca","webpack://easy-dsj/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://easy-dsj/./packages/canvasBoll/src/main.vue","webpack://easy-dsj/./packages/canvasBoll/index.js","webpack://easy-dsj/./packages/diffusion/src/main.vue?558d","webpack://easy-dsj/packages/diffusion/src/main.vue","webpack://easy-dsj/./packages/diffusion/src/main.vue?ae01","webpack://easy-dsj/./packages/diffusion/src/main.vue","webpack://easy-dsj/./packages/diffusion/index.js","webpack://easy-dsj/./packages/canvasBG/src/main.vue?8bcb","webpack://easy-dsj/./packages/canvasBG/src/canvasbg.js","webpack://easy-dsj/packages/canvasBG/src/main.vue","webpack://easy-dsj/./packages/canvasBG/src/main.vue?ac58","webpack://easy-dsj/./packages/canvasBG/src/main.vue","webpack://easy-dsj/./packages/canvasBG/index.js","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?ca2e","webpack://easy-dsj/./node_modules/@babel/runtime-corejs2/helpers/esm/typeof.js","webpack://easy-dsj/./packages/canvasBG2/src/index.js","webpack://easy-dsj/./packages/canvasBG2/src/initCanvas.js","webpack://easy-dsj/packages/canvasBG2/src/main.vue","webpack://easy-dsj/./packages/canvasBG2/src/main.vue?77fc","webpack://easy-dsj/./packages/canvasBG2/src/main.vue","webpack://easy-dsj/./packages/canvasBG2/index.js","webpack://easy-dsj/./packages/dsj_button/src/main.vue?582f","webpack://easy-dsj/packages/dsj_button/src/main.vue","webpack://easy-dsj/./packages/dsj_button/src/main.vue?a79c","webpack://easy-dsj/./packages/dsj_button/src/main.vue","webpack://easy-dsj/./packages/dsj_button/index.js","webpack://easy-dsj/./packages/chart_annular/src/main.vue?f119","webpack://easy-dsj/packages/chart_annular/src/main.vue","webpack://easy-dsj/./packages/chart_annular/src/main.vue?4e27","webpack://easy-dsj/./packages/chart_annular/src/main.vue","webpack://easy-dsj/./packages/chart_annular/index.js","webpack://easy-dsj/./packages/index.js","webpack://easy-dsj/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js","webpack://easy-dsj/./node_modules/core-js/modules/_string-ws.js"],"names":["canvasboll","install","Vue","component","name","Diffusion","ParticleNetworkAnimation","PNA","prototype","init","element","option","container","canvas","document","createElement","sizeCanvas","appendChild","ctx","getContext","particleNetwork","ParticleNetwork","bindUiActions","window","onresize","clearRect","width","height","createParticles","bind","offsetWidth","offsetHeight","Particle","parent","x","y","network","particleColor","returnRandomArrayitem","options","particleColors","radius","getLimitedRandom","opacity","Math","random","velocity","update","draw","beginPath","fillStyle","globalAlpha","arc","PI","fill","density","netLineDistance","netLineColor","Object","assign","animationFrame","requestAnimationFrame","isInitial","me","particles","quantity","counter","clearInterval","createIntervalId","setInterval","push","i","createInteractionParticle","interactionParticle","removeInteractionParticle","index","indexOf","undefined","splice","length","j","distance","p1","p2","min","abs","sqrt","pow","strokeStyle","lineWidth","moveTo","lineTo","stroke","cancelAnimationFrame","spawnQuantity","mouseIsDown","touchIsMoving","onMouseMove","e","offsetX","offsetY","onTouchMove","preventDefault","changedTouches","clientX","clientY","onMouseDown","intervalId","onTouchStart","setTimeout","onMouseUp","onMouseOut","onTouchEnd","addEventListener","unbindUiActions","removeEventListener","max","roundToInteger","number","round","array","floor","DsjCanvasBg","createjs","extend","subclass","superclass","o","constructor","promote","prefix","subP","supP","getPrototypeOf","__proto__","n","hasOwnProperty","searchElement","l","UID","_nextID","get","deprecate","fallbackMethod","msg","console","warn","log","apply","arguments","Event","type","bubbles","cancelable","target","currentTarget","eventPhase","timeStamp","Date","getTime","defaultPrevented","propagationStopped","immediatePropagationStopped","removed","p","stopPropagation","stopImmediatePropagation","remove","clone","set","props","toString","EventDispatcher","_listeners","_captureListeners","initialize","on","off","removeAllEventListeners","hasEventListener","dispatchEvent","_dispatchEvent","willTrigger","listener","useCapture","listeners","arr","scope","once","data","handleEvent","evt","call","eventObj","top","list","captureListeners","slice","Ticker","RAF_SYNCHED","RAF","TIMEOUT","timingMode","maxDelta","paused","_addEventListener","_inited","_startTime","_pausedTime","_ticks","_pausedTicks","_interval","_lastTime","_times","_tickTimes","_timerId","_raf","_setInterval","interval","_setupTick","_getInterval","getInterval","_setFPS","value","setFPS","_getFPS","getFPS","defineProperties","framerate","_getTime","reset","f","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","getMeasuredTickTime","ticks","ttl","times","getMeasuredFPS","runTime","getEventTime","getTicks","pauseable","_handleSynch","_tick","_handleRAF","_handleTimeout","mode","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","time","elapsedTime","event","delta","unshift","pop","w","now","performance","mozNow","msNow","oNow","webkitNow","VideoBuffer","video","readyState","_video","_canvas","_videoReady","getImage","createCanvas","videoWidth","videoHeight","currentTime","drawImage","MouseEvent","stageX","stageY","nativeEvent","pointerID","primary","rawX","rawY","relatedTarget","Event_constructor","_get_localX","globalToLocal","_get_localY","_get_isTouch","localX","localY","isTouch","Matrix2D","a","b","c","d","tx","ty","setValues","DEG_TO_RAD","identity","append","a1","b1","c1","d1","prepend","tx1","appendMatrix","matrix","prependMatrix","appendTransform","scaleX","scaleY","rotation","skewX","skewY","regX","regY","r","cos","sin","prependTransform","rotate","angle","skew","scale","translate","invert","isIdentity","equals","transformPoint","pt","decompose","atan2","copy","DisplayProps","visible","alpha","shadow","compositeOperation","Point","point","Rectangle","pad","left","bottom","right","rectangle","contains","union","rect","intersection","x1","y1","x2","y2","intersects","isEmpty","ButtonHelper","outLabel","overLabel","downLabel","play","hitArea","hitLabel","_isPressed","_isOver","_enabled","mouseChildren","enabled","actionsEnabled","gotoAndStop","_setEnabled","cursor","_reset","__reset","setEnabled","_getEnabled","getEnabled","label","t","gotoAndPlay","Shadow","color","blur","SpriteSheet","EventDispatcher_constructor","complete","_animations","_frames","_images","_data","_loadCount","_frameHeight","_frameWidth","_numFrames","_regX","_regY","_spacing","_margin","_parseData","_getAnimations","getAnimations","animations","getNumFrames","animation","frames","getAnimation","getFrame","frameIndex","frame","getFrameBounds","images","img","src","naturalWidth","onload","_handleImageLoad","onerror","_handleImageError","Array","isArray","image","spacing","margin","count","_calculateFrames","anim","obj","speed","next","errorEvent","maxFrames","frameCount","frameWidth","frameHeight","imgLoop","imgs","imgW","imgH","naturalHeight","Graphics","command","_stroke","_strokeStyle","_oldStrokeStyle","_strokeDash","_oldStrokeDash","_strokeIgnoreScale","_fill","_instructions","_commitIndex","_activeInstructions","_dirty","_storeIndex","clear","G","getRGB","g","getHSL","hue","saturation","lightness","BASE_64","STROKE_CAPS_MAP","STROKE_JOINTS_MAP","_ctx","_getInstructions","_updateInstructions","getInstructions","instructions","instr","exec","drawAsPath","instrs","path","MoveTo","LineTo","arcTo","ArcTo","startAngle","endAngle","anticlockwise","Arc","quadraticCurveTo","cpx","cpy","QuadraticCurveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","BezierCurveTo","h","Rect","closePath","ClosePath","beginFill","_setFill","Fill","beginLinearGradientFill","colors","ratios","x0","y0","linearGradient","beginRadialGradientFill","r0","r1","radialGradient","beginBitmapFill","repetition","bitmap","endFill","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","StrokeStyle","setStrokeDash","segments","offset","StrokeDash","beginStroke","_setStroke","Stroke","beginLinearGradientStroke","beginRadialGradientStroke","beginBitmapStroke","endStroke","curveTo","drawRect","drawRoundRect","drawRoundRectComplex","radiusTL","radiusTR","radiusBR","radiusBL","RoundRect","drawCircle","Circle","drawEllipse","Ellipse","drawPolyStar","sides","pointSize","PolyStar","clean","decodePath","str","paramCount","params","base64","charAt","fi","pl","charCount","num","sign","store","unstore","mt","lt","at","bt","qt","cp","lf","rf","bf","ef","ss","sd","s","ls","rs","bs","es","dr","rr","rc","dc","de","dp","commit","active","commitIndex","beginCmd","ll","BeginPath","style","mtx","save","transform","restore","createLinearGradient","addColorStop","createRadialGradient","createPattern","setTransform","lineCap","isNaN","lineJoin","setLineDash","EMPTY_SEGMENTS","lineDashOffset","mTL","mTR","mBR","mBL","rTL","rTR","rBR","rBL","k","ox","oy","xe","ye","xm","ym","ps","DisplayObject","cacheCanvas","bitmapCache","id","mouseEnabled","tickEnabled","transformMatrix","snapToPixel","filters","mask","_props","_rectangle","_bounds","_webGLRenderStyle","_StageGL_NONE","_MOUSE_EVENTS","suppressCrossDomainErrors","_snapToPixelEnabled","_StageGL_SPRITE","_StageGL_BITMAP","_hitTestCanvas","_hitTestContext","_getStage","_Stage","getStage","stage","cacheID","isVisible","ignoreCache","cache","updateContext","graphics","getMatrix","clip","globalCompositeOperation","_applyShadow","BitmapCache","define","updateCache","uncache","release","getCacheDataURL","getDataURL","localToGlobal","getConcatenatedMatrix","localToLocal","getConcatenatedDisplayProps","hitTest","hit","_testHit","getBounds","_cacheScale","_cacheOffsetX","_cacheOffsetY","getTransformedBounds","_getBounds","setBounds","_cloneProps","_updateState","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","evtObj","getImageData","ignoreTransform","_transformBounds","bounds","x_a","x_b","y_c","y_d","minX","maxX","minY","maxY","_hasMouseEventListener","evts","Container","DisplayObject_constructor","children","tickChildren","_getNumChildren","getNumChildren","numChildren","hasContent","DisplayObject_draw","child","addChild","par","silent","_removeChildAt","addChildAt","indx","removeChild","good","removeChildAt","sort","removeAllChildren","kids","getChildAt","getChildByName","sortChildren","sortFunction","getChildIndex","swapChildrenAt","index1","index2","o1","o2","swapChildren","child1","child2","setChildIndex","getObjectUnderPoint","getObjectsUnderPoint","_getObjectsUnderPoint","recursive","_cloneChildren","DisplayObject__tick","mouse","activeListener","currentDepth","_testMask","result","DisplayObject_getBounds","Stage","Container_constructor","autoClear","getElementById","mouseX","mouseY","snapToPixelEnabled","mouseInBounds","tickOnUpdate","mouseMoveOutside","preventSelection","_pointerData","_pointerCount","_primaryPointerID","_mouseOverIntervalID","_nextStage","_prevStage","enableDOMEvents","_get_nextStage","_set_nextStage","nextStage","tick","toDataURL","backgroundColor","mimeType","fillRect","dataURL","putImageData","enableMouseOver","frequency","_testMouseOver","enable","_eventListeners","_this","_handleMouseUp","_handleMouseMove","_handleDoubleClick","_handleMouseDown","_getElementRect","getBoundingClientRect","err","offsetTop","offsetLeft","offX","pageXOffset","scrollLeft","clientLeft","body","offY","pageYOffset","scrollTop","clientTop","styles","getComputedStyle","currentStyle","padL","parseInt","paddingLeft","borderLeftWidth","padT","paddingTop","borderTopWidth","padR","paddingRight","borderRightWidth","padB","paddingBottom","borderBottomWidth","_getPointerData","_handlePointerMove","pageX","pageY","owner","inBounds","_updatePointerPosition","_dispatchMouseEvent","posEvtObj","_handlePointerUp","oTarget","down","_handlePointerDown","eventTarget","_mouseOverX","_mouseOverY","isEventTarget","common","oldList","_mouseOverTarget","oldTarget","pointerId","StageGL","Stage_constructor","premultiply","transparent","antialias","preserveBuffer","autoPurge","vocalDebug","_preserveBuffer","_antialias","_transparent","_premultiply","_autoPurge","_viewportWidth","_viewportHeight","_projectionMatrix","_webGLContext","_clearColor","_maxCardsPerBatch","DEFAULT_MAX_BATCH_SIZE","_activeShader","_vertices","_vertexPositionBuffer","_uvs","_uvPositionBuffer","_indices","_textureIndexBuffer","_alphas","_alphaBuffer","_textureDictionary","_textureIDs","_batchTextures","_baseTextures","_batchTextureCount","_lastTextureInsert","_batchID","_drawID","_slotBlacklist","_isDrawing","_lastTrackedCanvas","isCacheControlled","_cacheContainer","_initializeWebGL","buildUVRects","spritesheet","onlyTarget","start","end","uvRect","isWebGLActive","WebGLRenderingContext","VERTEX_PROPERTY_COUNT","INDICIES_PER_CARD","WEBGL_MAX_INDEX_NUM","UV_RECT","COVER_VERT","Float32Array","COVER_UV","COVER_UV_FLIP","REGULAR_VARYING_HEADER","REGULAR_VERTEX_HEADER","REGULAR_FRAGMENT_HEADER","REGULAR_VERTEX_BODY","REGULAR_FRAGMENT_BODY","REGULAR_FRAG_COLOR_NORMAL","REGULAR_FRAG_COLOR_PREMULTIPLY","PARTICLE_VERTEX_BODY","PARTICLE_FRAGMENT_BODY","COVER_VARYING_HEADER","COVER_VERTEX_HEADER","COVER_FRAGMENT_HEADER","COVER_VERTEX_BODY","COVER_FRAGMENT_BODY","_get_isWebGL","_set_autoPurge","_get_autoPurge","Number","isWebGL","depth","stencil","premultipliedAlpha","preserveDrawingBuffer","gl","_fetchWebGLContext","updateSimultaneousTextureCount","getParameter","MAX_TEXTURE_IMAGE_UNITS","_maxTextureSlots","MAX_COMBINED_TEXTURE_IMAGE_UNITS","_createBuffers","_initTextures","disable","DEPTH_TEST","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","clearColor","updateViewport","_batchDraw","purgeTextures","cc","adjust","COLOR_BUFFER_BIT","Stage_clear","context","Stage_draw","cacheDraw","manager","_cacheDraw","protectTextureSlot","lock","getTargetRenderTexture","toggle","__lastRT","__rtA","getRenderBufferTexture","_width","_height","resizeTexture","setTextureParams","__rtB","releaseTexture","item","foundImage","_storeID","_killTextureObject","spriteSheet","dict","success","_fetchShaderProgram","viewport","_projectionMatrixFlip","getFilterShader","filter","targetShader","_builtShader","shaderParamSetup","useProgram","VTX_SHADER_BODY","FRAG_SHADER_BODY","_name","getBaseTexture","ceil","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","renderTexture","frameBuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","_renderTexture","_frameBuffer","isPOT","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","setClearColor","output","split","error","viewportWidth","viewportHeight","shaderName","customVTX","customFRAG","targetFrag","targetVtx","vertexShader","_createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","_type","getProgramParameter","LINK_STATUS","getProgramInfoLog","vertexPositionAttribute","getAttribLocation","enableVertexAttribArray","uvPositionAttribute","samplerUniform","getUniformLocation","uniform1i","uprightUniform","uniform1f","textureIndexAttribute","alphaAttribute","samplers","samplerData","uniform1iv","pMatrixUniform","replace","insert","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","groupCount","groupSize","vertexPositionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","vertices","bufferData","DYNAMIC_DRAW","itemSize","numItems","uvPositionBuffer","uvs","textureIndexBuffer","indices","alphaBuffer","alphas","tex","_loadTextureImage","_isCanvas","storeID","_imageData","_insertTextureInBatch","_updateTextureImageData","isNPOT","activeTexture","TEXTURE0","_activeIndex","errString","_invalid","_w","_h","MAX_TEXTURE_SIZE","found","look","batchReason","_drawBuffers","batchCardCount","deleteFramebuffer","deleteTexture","_backupBatchTextures","_backupTextures","sceneGraph","_appendToBatchGroup","shaderBackup","blackListBackup","lastTextureSlot","wBackup","hBackup","_drawFilters","_drawWidth","_drawHeight","filterCount","flipY","_drawCover","_multiPass","concatMtx","concatAlpha","_glMtx","cMtx","subL","subT","subR","subB","iMtx","texIndex","useCache","currentFrame","texI","sourceRect","_uvRect","_filterOffX","_filterOffY","offV1","offV2","vertexAttribPointer","FLOAT","bufferSubData","uniformMatrix4fv","FALSE","drawArrays","TRIANGLES","Bitmap","imageOrUri","node","cloneNode","Sprite","frameOrAnimation","currentAnimation","currentAnimationFrame","_animation","_currentFrame","_skipAdvance","_normalizeFrame","stop","_goto","advance","fps","DisplayObject__cloneProps","frameDelta","animFrame","_dispatchAnimationEnd","changed","Shape","Text","text","font","textAlign","textBaseline","maxWidth","outline","lineHeight","_workingContext","H_OFFSETS","center","V_OFFSETS","hanging","middle","alphabetic","ideographic","col","_drawText","_prepContext","getMeasuredWidth","_getMeasuredWidth","getMeasuredLineHeight","getMeasuredHeight","getMetrics","lines","vOffset","substr","paint","maxW","hardLines","String","measureText","words","jl","wordW","_drawTextLine","strokeText","fillText","BitmapText","letterSpacing","spaceWidth","_oldProps","_oldStage","_drawAction","maxPoolSize","_spritePool","Container_draw","_updateText","Container_getBounds","Container__cloneProps","_getFrameIndex","character","toUpperCase","toLowerCase","_getFrame","_getLineHeight","_getSpaceWidth","change","spaceW","lineH","pool","childIndex","numKids","sprite","hasSpace","MovieClip","inited","startPosition","loop","labels","INDEPENDENT","autoReset","frameBounds","useTicks","timeline","Timeline","_synchOffset","_rawPosition","_bound_resolveState","_resolveState","_t","_managed","SINGLE_FRAME","SYNCHED","MovieClipPlugin","_getLabels","getLabels","_getCurrentLabel","currentLabel","getCurrentLabel","_getDuration","duration","getDuration","totalFrames","positionOrLabel","independent","_framerate","_updateTimeline","Container__tick","pos","resolve","rawPosition","jump","synced","tl","setPosition","_renderFirstFrame","position","tweens","tween","passive","_stepPosition","_addManagedChild","_setState","state","_off","Container__getBounds","priority","ID","Tween","_installPlugin","prop","_addPlugin","step","ratio","prev","SpriteSheetUtils","_workingCanvas","extractFrame","addFlippedFrames","mergeAlpha","_flip","v","il","__tmp","fl","sfx","names","al","SpriteSheetBuilder","maxHeight","padding","timeSlice","progress","_nextFrameIndex","_index","_timerID","_scale","ERR_DIMENSIONS","ERR_RUNNING","addFrame","source","setupFunction","setupData","nominalBounds","funct","addAnimation","addMovieClip","labelFunction","rects","baseFrameIndex","_setupMovieClipFrame","_labels","lbls","build","_startBuild","_drawNext","_endBuild","buildAsync","_run","stopAsync","dataFrames","_fillRow","_getSize","ae","size","maxH","sc","rx","ry","rh","rw","ts","DOMElement","htmlElement","transformOrigin","WebkitTransformOrigin","msTransformOrigin","MozTransformOrigin","OTransformOrigin","_handleDrawEnd","visibility","oldProps","oldMtx","WebkitTransform","OTransform","msTransform","MozTransform","Filter","usesContext","applyFilter","targetCtx","targetX","targetY","imageData","_applyFilter","_cacheDataURLID","_cacheDataURL","getFilterBounds","test","_options","filterBounds","surface","_updateSurface","_drawToCache","_webGLCache","useGL","stageGL","webGL","_applyFilters","BlurFilter","blurX","blurY","quality","Filter_constructor","_blurX","_blurXTable","_lastBlurX","_blurY","_blurYTable","_lastBlurY","_quality","_lastQuality","FRAG_SHADER_TEMPLATE","setQuality","getBlurX","getBlurY","setBlurX","setBlurY","getQuality","_getShader","xChange","yChange","qChange","_getTable","_updateShader","_compiledShader","_setShader","spread","EDGE","E","factor","reduce","map","currentValue","toFixed","uniform1fv","uniform2f","MUL_TABLE","SHG_TABLE","q","radiusX","radiusY","iterations","px","yp","yi","yw","pr","pg","pb","pa","divx","divy","w1","h1","rxp1","ryp1","ssx","sx","ssy","sy","si","stx","mty","sty","ms","AlphaMapFilter","alphaMap","_alphaMap","_mapData","_mapTexture","TEXTURE1","_prepAlphaMap","HTMLCanvasElement","imgData","AlphaMaskFilter","ColorFilter","redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset","uniform4f","ColorMatrix","brightness","contrast","setColor","DELTA_INDEX","IDENTITY_MATRIX","LENGTH","adjustColor","adjustHue","adjustContrast","adjustBrightness","adjustSaturation","_cleanValue","_multiplyMatrix","lumR","lumG","lumB","cosVal","sinVal","concat","_fixMatrix","toArray","val","limit","ColorMatrixFilter","mat","colorMatrix","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","Touch","isSupported","navigator","singleTouch","allowDefault","__touch","pointers","multitouch","_IOS_enable","_IE_enable","_IOS_disable","_IE_disable","_IOS_handleEvent","touches","touch","identifier","_handleStart","_handleMove","_handleEnd","_IE_handleEvent","msTouchAction","touchAction","activeIDs","ids","srcElement","EaselJS","version","buildDate","initCanvas","dotTemplate","blurTemplate","dot","dots","dotR","amp0Amt","amp1Amt","maxDots","getDot","fov","z","dotShape","blurShape","base2R","rnd","onResize","innerWidth","innerHeight","DsjButtom","ChartAnnular","components","canvasBGLZ","canvasBGLZ2","installed"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;AClFa;AACb;AACA,aAAa,mBAAO,CAAC,MAAW;AAChC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,kBAAkB,mBAAO,CAAC,MAAgB;AAC1C,cAAc,mBAAO,CAAC,MAAW;AACjC,eAAe,mBAAO,CAAC,MAAa;AACpC,WAAW,mBAAO,CAAC,MAAS;AAC5B,aAAa,mBAAO,CAAC,MAAU;AAC/B,aAAa,mBAAO,CAAC,MAAW;AAChC,qBAAqB,mBAAO,CAAC,MAAsB;AACnD,UAAU,mBAAO,CAAC,MAAQ;AAC1B,UAAU,mBAAO,CAAC,MAAQ;AAC1B,aAAa,mBAAO,CAAC,MAAY;AACjC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,eAAe,mBAAO,CAAC,MAAc;AACrC,cAAc,mBAAO,CAAC,MAAa;AACnC,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,kBAAkB,mBAAO,CAAC,MAAiB;AAC3C,iBAAiB,mBAAO,CAAC,MAAkB;AAC3C,cAAc,mBAAO,CAAC,MAAkB;AACxC,cAAc,mBAAO,CAAC,MAAoB;AAC1C,YAAY,mBAAO,CAAC,MAAgB;AACpC,YAAY,mBAAO,CAAC,MAAgB;AACpC,UAAU,mBAAO,CAAC,MAAc;AAChC,YAAY,mBAAO,CAAC,MAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,MAAgB;AAC1B,EAAE,mBAAO,CAAC,MAAe;AACzB;;AAEA,sBAAsB,mBAAO,CAAC,MAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8CAA8C,YAAY,EAAE;;AAE5D;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,MAAS;AACrD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACrPa;AACb,cAAc,mBAAO,CAAC,MAAY;AAClC,cAAc,mBAAO,CAAC,MAAW;AACjC,eAAe,mBAAO,CAAC,MAAa;AACpC,WAAW,mBAAO,CAAC,MAAS;AAC5B,gBAAgB,mBAAO,CAAC,MAAc;AACtC,kBAAkB,mBAAO,CAAC,MAAgB;AAC1C,qBAAqB,mBAAO,CAAC,MAAsB;AACnD,qBAAqB,mBAAO,CAAC,MAAe;AAC5C,eAAe,mBAAO,CAAC,MAAQ;AAC/B,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;ACpEA,gBAAgB,mBAAO,CAAC,MAAe;AACvC,cAAc,mBAAO,CAAC,MAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChBa;AACb,SAAS,mBAAO,CAAC,MAAc;;AAE/B;AACA;AACA;AACA;AACA;;;;;;;;ACPA;AACA,gBAAgB,mBAAO,CAAC,MAAe;AACvC,WAAW,mBAAO,CAAC,MAAgB;AACnC,iBAAiB;;AAEj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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAO,CAAC,MAAQ;AACtB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnFA;AACA,eAAe,mBAAO,CAAC,MAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAW;AAClC;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA,eAAe,mBAAO,CAAC,MAAc;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;ACXa;AACb,mBAAO,CAAC,MAAmB;AAC3B,eAAe,mBAAO,CAAC,MAAa;AACpC,WAAW,mBAAO,CAAC,MAAS;AAC5B,YAAY,mBAAO,CAAC,MAAU;AAC9B,cAAc,mBAAO,CAAC,MAAY;AAClC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,iBAAiB,mBAAO,CAAC,MAAgB;;AAEzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,yBAAyB,4CAA4C;AACrE;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB,aAAa;AAC3D;AACA;AACA;AACA;AACA,6CAA6C,WAAW;AACxD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,kBAAkB;AAClB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;;;;;;;;AC/FA,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAW;AAClC;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAA4hB,CAAgB,6iBAAG,EAAC,C;;;;;;;ACAhjB;AACA,UAAU,mBAAO,CAAC,MAAQ;AAC1B,UAAU,mBAAO,CAAC,MAAQ;AAC1B;AACA,2BAA2B,kBAAkB,EAAE;;AAE/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;AACA,cAAc,mBAAO,CAAC,MAAY;AAClC;AACA;AACA;;;;;;;;;ACJa;AACb,cAAc,mBAAO,CAAC,MAAY;AAClC,aAAa,mBAAO,CAAC,MAAW;AAChC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,cAAc,mBAAO,CAAC,MAAY;AAClC,cAAc,mBAAO,CAAC,MAAW;AACjC,eAAe,mBAAO,CAAC,MAAc;AACrC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,iBAAiB,mBAAO,CAAC,MAAgB;AACzC,YAAY,mBAAO,CAAC,MAAW;AAC/B,yBAAyB,mBAAO,CAAC,MAAwB;AACzD,WAAW,mBAAO,CAAC,MAAS;AAC5B,gBAAgB,mBAAO,CAAC,MAAc;AACtC,iCAAiC,mBAAO,CAAC,MAA2B;AACpE,cAAc,mBAAO,CAAC,MAAY;AAClC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,qBAAqB,mBAAO,CAAC,MAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,EAAE,mBAAO,CAAC,MAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,MAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,MAAsB;AAC9B,mBAAO,CAAC,MAAgB;AACxB,UAAU,mBAAO,CAAC,MAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,MAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;AC7RY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;AC7FA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;;;;;;;;ACAA,cAAc,mBAAO,CAAC,MAAY;AAClC,eAAe,mBAAO,CAAC,MAAQ;AAC/B,gBAAgB,mBAAO,CAAC,MAAc;AACtC,iBAAiB,mBAAO,CAAC,MAAS;AAClC;AACA;AACA;AACA;;;;;;;;;ACPa;;AAEb,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,yBAAyB,mBAAO,CAAC,MAAwB;AACzD,yBAAyB,mBAAO,CAAC,MAAyB;AAC1D,eAAe,mBAAO,CAAC,MAAc;AACrC,qBAAqB,mBAAO,CAAC,MAAyB;AACtD,iBAAiB,mBAAO,CAAC,MAAgB;AACzC,YAAY,mBAAO,CAAC,MAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,yBAAyB,EAAE;;AAEhE;AACA,mBAAO,CAAC,MAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;ACrID;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAA4hB,CAAgB,6iBAAG,EAAC,C;;;;;;;ACAhjB,aAAa,mBAAO,CAAC,MAAW;AAChC,WAAW,mBAAO,CAAC,MAAS;AAC5B,UAAU,mBAAO,CAAC,MAAQ;AAC1B,UAAU,mBAAO,CAAC,MAAQ;AAC1B,gBAAgB,mBAAO,CAAC,MAAuB;AAC/C;AACA;;AAEA,mBAAO,CAAC,MAAS;AACjB;AACA;;AAEA;AACA;AAC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MAAe;AACjC,aAAa,mBAAO,CAAC,MAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAO,CAAC,MAAQ;AACtB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACnFa;AACb,aAAa,mBAAO,CAAC,MAAkB;AACvC,iBAAiB,mBAAO,CAAC,MAAkB;AAC3C,qBAAqB,mBAAO,CAAC,MAAsB;AACnD;;AAEA;AACA,mBAAO,CAAC,MAAS,qBAAqB,mBAAO,CAAC,MAAQ,4BAA4B,aAAa,EAAE;;AAEjG;AACA,qDAAqD,4BAA4B;AACjF;AACA;;;;;;;;;ACZa;AACb;AACA,cAAc,mBAAO,CAAC,MAAW;AACjC,2BAA2B,mBAAO,CAAC,MAA2B;AAC9D,cAAc,mBAAO,CAAC,MAAY;;AAElC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;;ACXH;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;;ACNA,mBAAO,CAAC,MAA0C;AAClD,cAAc,mBAAO,CAAC,MAAqB;AAC3C;AACA;AACA;;;;;;;;ACJA;AACA,eAAe,mBAAO,CAAC,MAAc;AACrC,YAAY,mBAAO,CAAC,MAAgB;;AAEpC,mBAAO,CAAC,MAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACLA,UAAU,mBAAO,CAAC,MAAc;AAChC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,UAAU,mBAAO,CAAC,MAAQ;;AAE1B;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACPA,cAAc,mBAAO,CAAC,MAAW;AACjC;AACA,iCAAiC,mBAAO,CAAC,MAAgB,cAAc,iBAAiB,mBAAO,CAAC,MAAc,KAAK;;;;;;;;ACFnH;AACA,cAAc,mBAAO,CAAC,MAAgB;AACtC,WAAW,mBAAO,CAAC,MAAgB;AACnC,UAAU,mBAAO,CAAC,MAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACdA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACe;AACf;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,wBAAwB;AAC3D,KAAK;AACL;AACA;AACA;AACA;AACA;;;AC1BA;AAAA;AACA;AACA;AACA;AACA;;AAEyC;;AAEzC;;AAEA;AACA;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEe;AACf;;AAEA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA,KAAK;AACL;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA,YAAY,uBAAuB;AACnC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7NA,UAAU,mBAAO,CAAC,MAAQ;AAC1B,WAAW,mBAAO,CAAC,MAAc;AACjC,kBAAkB,mBAAO,CAAC,MAAkB;AAC5C,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,gBAAgB,mBAAO,CAAC,MAA4B;AACpD;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxBA;AACA,cAAc,mBAAO,CAAC,MAAY;AAClC;AACA;AACA;;;;;;;;;ACJa;AACb,aAAa,mBAAO,CAAC,MAAW;AAChC,WAAW,mBAAO,CAAC,MAAS;AAC5B,SAAS,mBAAO,CAAC,MAAc;AAC/B,kBAAkB,mBAAO,CAAC,MAAgB;AAC1C,cAAc,mBAAO,CAAC,MAAQ;;AAE9B;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;;;ACbA;AAAA;AAAA;AAA4hB,CAAgB,6iBAAG,EAAC,C;;;;;;;ACAhjB;;AAEA;AACA,cAAc,mBAAO,CAAC,MAAyc;AAC/d,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,MAAgE;AAClF,6CAA6C,qCAAqC,E;;;;;;;ACRlF,eAAe,mBAAO,CAAC,MAAQ;AAC/B;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;ACrBA;AACA,UAAU;AACV;;;;;;;;ACFA,YAAY,mBAAO,CAAC,MAAW;AAC/B,UAAU,mBAAO,CAAC,MAAQ;AAC1B,aAAa,mBAAO,CAAC,MAAW;AAChC;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACVa;;AAEb,kBAAkB,mBAAO,CAAC,MAAU;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACzDA,cAAc;;;;;;;;ACAd;AACA,UAAU,mBAAO,CAAC,MAAQ;AAC1B,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAe;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;ACZa;AACb,cAAc,mBAAO,CAAC,MAAY;AAClC,aAAa,mBAAO,CAAC,MAAW;AAChC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,cAAc,mBAAO,CAAC,MAAY;AAClC,cAAc,mBAAO,CAAC,MAAW;AACjC,eAAe,mBAAO,CAAC,MAAc;AACrC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,iBAAiB,mBAAO,CAAC,MAAgB;AACzC,YAAY,mBAAO,CAAC,MAAW;AAC/B,yBAAyB,mBAAO,CAAC,MAAwB;AACzD,WAAW,mBAAO,CAAC,MAAS;AAC5B,gBAAgB,mBAAO,CAAC,MAAc;AACtC,iCAAiC,mBAAO,CAAC,MAA2B;AACpE,cAAc,mBAAO,CAAC,MAAY;AAClC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,qBAAqB,mBAAO,CAAC,MAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,EAAE,mBAAO,CAAC,MAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,MAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,MAAsB;AAC9B,mBAAO,CAAC,MAAgB;AACxB,UAAU,mBAAO,CAAC,MAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,MAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;AC7RD,WAAW,mBAAO,CAAC,MAAS;AAC5B,aAAa,mBAAO,CAAC,MAAW;AAChC;AACA,kDAAkD;;AAElD;AACA,qEAAqE;AACrE,CAAC;AACD;AACA,QAAQ,mBAAO,CAAC,MAAY;AAC5B;AACA,CAAC;;;;;;;;ACXD,aAAa,mBAAO,CAAC,MAAW;AAChC,UAAU,mBAAO,CAAC,MAAQ;AAC1B;AACA;AACA;;;;;;;;;ACJa;AACb,cAAc,mBAAO,CAAC,MAAW;AACjC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,eAAe,mBAAO,CAAC,MAAc;AACrC,YAAY,mBAAO,CAAC,MAAU;AAC9B;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA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;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;A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Ae,mBAAO,CAAC,MAAc;AACrC,gBAAgB,mBAAO,CAAC,MAA4B;AACpD;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxBA,aAAa,mBAAO,CAAC,MAAW;AAChC;;AAEA;;;;;;;;;ACHa;;AAEb,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,yBAAyB,mBAAO,CAAC,MAAyB;AAC1D,iBAAiB,mBAAO,CAAC,MAAyB;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAO,CAAC,MAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;ACrHY;AACb;AACA,gBAAgB,mBAAO,CAAC,MAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACjBA,cAAc,mBAAO,CAAC,MAAW;AACjC,cAAc,mBAAO,CAAC,MAAY;AAClC,YAAY,mBAAO,CAAC,MAAU;AAC9B,aAAa,mBAAO,CAAC,MAAc;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7BA;AACA,eAAe,mBAAO,CAAC,MAAc;AACrC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,YAAY,mBAAO,CAAC,MAAQ;AAC5B;AACA;AACA;AACA;;;;;;;;ACPA,aAAa,mBAAO,CAAC,MAAW;AAChC,gBAAgB,mBAAO,CAAC,MAAS;AACjC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,MAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;ACpEA,iBAAiB,mBAAO,CAAC,MAAsB;AAC/C,cAAc,mBAAO,CAAC,MAAgB;AACtC,eAAe,mBAAO,CAAC,MAAa;AACpC,aAAa,mBAAO,CAAC,MAAW;AAChC,WAAW,mBAAO,CAAC,MAAS;AAC5B,gBAAgB,mBAAO,CAAC,MAAc;AACtC,UAAU,mBAAO,CAAC,MAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,wBAAwB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPa;AACb,iBAAiB,mBAAO,CAAC,MAAgB;AACzC,mBAAO,CAAC,MAAW;AACnB;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;;;;;;;ACRD;AACA,eAAe,mBAAO,CAAC,MAAc;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AACA,gBAAgB,mBAAO,CAAC,MAAe;AACvC;AACA;AACA,2DAA2D;AAC3D;;;;;;;;ACLA;;;;;;;;;ACAA;AACa;AACb,eAAe,mBAAO,CAAC,MAAc;AACrC,sBAAsB,mBAAO,CAAC,MAAsB;AACpD,eAAe,mBAAO,CAAC,MAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACzBA;;AAEA;AACA,cAAc,mBAAO,CAAC,MAAyc;AAC/d,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,MAAgE;AAClF,6CAA6C,qCAAqC,E;;;;;;;ACRlF,aAAa,mBAAO,CAAC,MAAW;AAChC;;AAEA;;;;;;;;ACHA,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,2BAA2B,mBAAO,CAAC,MAA2B;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;;ACJA,UAAU,mBAAO,CAAC,MAAe;AACjC,iBAAiB,mBAAO,CAAC,MAAkB;AAC3C,gBAAgB,mBAAO,CAAC,MAAe;AACvC,kBAAkB,mBAAO,CAAC,MAAiB;AAC3C,UAAU,mBAAO,CAAC,MAAQ;AAC1B,qBAAqB,mBAAO,CAAC,MAAmB;AAChD;;AAEA,YAAY,mBAAO,CAAC,MAAgB;AACpC;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;;;;ACfA;AACA;AACA,gBAAgB,mBAAO,CAAC,MAAe;AACvC,eAAe,mBAAO,CAAC,MAAc;AACrC,sBAAsB,mBAAO,CAAC,MAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY,eAAe;AAChC;AACA,KAAK;AACL;AACA;;;;;;;;;ACtBa;AACb,uBAAuB,mBAAO,CAAC,MAAuB;AACtD,WAAW,mBAAO,CAAC,MAAc;AACjC,gBAAgB,mBAAO,CAAC,MAAc;AACtC,gBAAgB,mBAAO,CAAC,MAAe;;AAEvC;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAgB;AACzC,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;;ACjCA;AACA,YAAY,mBAAO,CAAC,MAAyB;AAC7C,kBAAkB,mBAAO,CAAC,MAAkB;;AAE5C;AACA;AACA;;;;;;;;;ACNa;AACb,aAAa,mBAAO,CAAC,MAAW;AAChC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,UAAU,mBAAO,CAAC,MAAQ;AAC1B,wBAAwB,mBAAO,CAAC,MAAwB;AACxD,kBAAkB,mBAAO,CAAC,MAAiB;AAC3C,YAAY,mBAAO,CAAC,MAAU;AAC9B,WAAW,mBAAO,CAAC,MAAgB;AACnC,WAAW,mBAAO,CAAC,MAAgB;AACnC,SAAS,mBAAO,CAAC,MAAc;AAC/B,YAAY,mBAAO,CAAC,MAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAO,CAAC,MAAkB;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD,KAAK;AACL;AACA,oCAAoC,cAAc,OAAO;AACzD,qCAAqC,cAAc,OAAO;AAC1D;AACA;AACA,oEAAoE,OAAO;AAC3E;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B,EAAE;AACtE;AACA;AACA,kBAAkB,mBAAO,CAAC,MAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,MAAa;AACvB;;;;;;;;ACpEA,kBAAkB,mBAAO,CAAC,MAAgB,MAAM,mBAAO,CAAC,MAAU;AAClE,+BAA+B,mBAAO,CAAC,MAAe,gBAAgB,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;;ACFD;AACA;AACA;AACA;AACA;;;;;;;;;ACJa;AACb,uBAAuB,mBAAO,CAAC,MAAuB;AACtD,WAAW,mBAAO,CAAC,MAAc;AACjC,gBAAgB,mBAAO,CAAC,MAAc;AACtC,gBAAgB,mBAAO,CAAC,MAAe;;AAEvC;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAgB;AACzC,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;;ACjCA,eAAe,mBAAO,CAAC,MAAc;AACrC;AACA;AACA;AACA;;;;;;;;ACJA,YAAY,mBAAO,CAAC,MAAQ;;;;;;;;ACA5B;AACA,yBAAyB,mBAAO,CAAC,MAA8B;;AAE/D;AACA;AACA;;;;;;;;ACLA,eAAe,mBAAO,CAAC,MAAc;AACrC,eAAe,mBAAO,CAAC,MAAc;AACrC,2BAA2B,mBAAO,CAAC,MAA2B;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA,UAAU,mBAAO,CAAC,MAAQ;AAC1B,gBAAgB,mBAAO,CAAC,MAAe;AACvC,mBAAmB,mBAAO,CAAC,MAAmB;AAC9C,eAAe,mBAAO,CAAC,MAAe;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChBA;;AAEA;AACA,cAAc,mBAAO,CAAC,MAAyc;AAC/d,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,MAAgE;AAClF,6CAA6C,qCAAqC,E;;;;;;;ACRlF;AACA;AACA;;;;;;;;ACFA;AACA,UAAU;AACV;;;;;;;;ACFA;AACA,gBAAgB,mBAAO,CAAC,MAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnBA,mBAAO,CAAC,MAAmC;AAC3C,mBAAO,CAAC,MAAgC;AACxC,iBAAiB,mBAAO,CAAC,MAAwB;;;;;;;;ACFjD;AACA;AACA;AACA;;;;;;;;ACHA,eAAe,mBAAO,CAAC,MAAc;AACrC,qBAAqB,mBAAO,CAAC,MAAmB;AAChD,kBAAkB,mBAAO,CAAC,MAAiB;AAC3C;;AAEA,YAAY,mBAAO,CAAC,MAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;;ACfA,WAAW,mBAAO,CAAC,MAAS;AAC5B,aAAa,mBAAO,CAAC,MAAW;AAChC;AACA,kDAAkD;;AAElD;AACA,qEAAqE;AACrE,CAAC;AACD;AACA,QAAQ,mBAAO,CAAC,MAAY;AAC5B;AACA,CAAC;;;;;;;;ACXD,eAAe,mBAAO,CAAC,MAAa;AACpC;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;;;;;;;;ACHA,eAAe,mBAAO,CAAC,MAAc;AACrC;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;;ACLzC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,gBAAgB,mBAAO,CAAC,MAAe;AACvC,mBAAmB,mBAAO,CAAC,MAAmB;AAC9C,eAAe,mBAAO,CAAC,MAAe;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChBA,eAAe,mBAAO,CAAC,MAAc;AACrC,cAAc,mBAAO,CAAC,MAAa;AACnC,cAAc,mBAAO,CAAC,MAAQ;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACfA;AACA,eAAe,mBAAO,CAAC,MAAc;AACrC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,cAAc,mBAAO,CAAC,MAAQ;AAC9B;AACA;AACA;AACA;AACA;;;;;;;;ACRA,WAAW,mBAAO,CAAC,MAAQ;AAC3B,eAAe,mBAAO,CAAC,MAAc;AACrC,UAAU,mBAAO,CAAC,MAAQ;AAC1B,cAAc,mBAAO,CAAC,MAAc;AACpC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,MAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpDa;AACb,IAAI,mBAAO,CAAC,MAAgB;AAC5B,gBAAgB,mBAAO,CAAC,MAAY;AACpC,eAAe,mBAAO,CAAC,MAAW;AAClC,cAAc,mBAAO,CAAC,MAAU;AAChC,gBAAgB,mBAAO,CAAC,MAAW;AACnC,eAAe,mBAAO,CAAC,MAAU;AACjC,gBAAgB,mBAAO,CAAC,MAAiB;AACzC,YAAY,mBAAO,CAAC,MAAQ;AAC5B,mBAAmB,mBAAO,CAAC,MAAgB;AAC3C,qBAAqB,mBAAO,CAAC,MAAkB;AAC/C,aAAa,mBAAO,CAAC,MAAS;AAC9B,oBAAoB,mBAAO,CAAC,MAAiB;AAC7C,kBAAkB,mBAAO,CAAC,MAAe;AACzC,iBAAiB,mBAAO,CAAC,MAAc;AACvC,gBAAgB,mBAAO,CAAC,MAAa;AACrC,wBAAwB,mBAAO,CAAC,MAAsB;AACtD,oBAAoB,mBAAO,CAAC,MAAiB;AAC7C,YAAY,mBAAO,CAAC,MAAQ;AAC5B,gBAAgB,mBAAO,CAAC,MAAY;AACpC,iBAAiB,mBAAO,CAAC,MAAc;AACvC,iBAAiB,mBAAO,CAAC,MAAc;AACvC,oBAAoB,mBAAO,CAAC,MAAkB;AAC9C,eAAe,mBAAO,CAAC,MAAkB;AACzC,uBAAuB,mBAAO,CAAC,MAAe;AAC9C,aAAa,mBAAO,CAAC,MAAgB;AACrC,kBAAkB,mBAAO,CAAC,MAA4B;AACtD,YAAY,mBAAO,CAAC,MAAQ;AAC5B,YAAY,mBAAO,CAAC,MAAQ;AAC5B,0BAA0B,mBAAO,CAAC,MAAkB;AACpD,4BAA4B,mBAAO,CAAC,MAAmB;AACvD,2BAA2B,mBAAO,CAAC,MAAwB;AAC3D,uBAAuB,mBAAO,CAAC,MAAsB;AACrD,kBAAkB,mBAAO,CAAC,MAAc;AACxC,oBAAoB,mBAAO,CAAC,MAAgB;AAC5C,mBAAmB,mBAAO,CAAC,MAAgB;AAC3C,kBAAkB,mBAAO,CAAC,MAAe;AACzC,wBAAwB,mBAAO,CAAC,MAAsB;AACtD,YAAY,mBAAO,CAAC,MAAc;AAClC,cAAc,mBAAO,CAAC,MAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA,4BAA4B;AAC5B,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB,0BAA0B,EAAE,EAAE;AAClE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,gCAAgC;AACzF;AACA,OAAO;AACP;AACA;AACA,6EAA6E,YAAY;AACzF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD,6CAA6C,EAAE;;AAExG;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,mDAAmD;AACnD;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,oCAAoC;AACpC;AACA,KAAK;AACL,wEAAwE;AACxE;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,8DAA8D;AAC9D;AACA,KAAK;AACL,wEAAwE;AACxE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH,yBAAyB,sBAAsB,EAAE,EAAE;AACnD;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,yBAAyB;AACzB,KAAK;AACL,uBAAuB;AACvB,2BAA2B;AAC3B,0BAA0B;AAC1B,2BAA2B;AAC3B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,aAAa;AACvC,OAAO;AACP;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL,uDAAuD,6BAA6B,EAAE;AACtF;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA,uDAAuD,YAAY;;AAEnE;;AAEA;;AAEA;AACA;AACA,KAAK,UAAU,gBAAgB;;AAE/B;AACA;AACA,KAAK;AACL;AACA,KAAK,WAAW,kCAAkC;;AAElD;AACA;AACA;AACA,CAAC,oCAAoC;;;;;;;;;AC/dxB;AACb,aAAa,mBAAO,CAAC,MAAW;AAChC,kBAAkB,mBAAO,CAAC,MAAgB;AAC1C,cAAc,mBAAO,CAAC,MAAY;AAClC,aAAa,mBAAO,CAAC,MAAU;AAC/B,WAAW,mBAAO,CAAC,MAAS;AAC5B,kBAAkB,mBAAO,CAAC,MAAiB;AAC3C,YAAY,mBAAO,CAAC,MAAU;AAC9B,iBAAiB,mBAAO,CAAC,MAAgB;AACzC,gBAAgB,mBAAO,CAAC,MAAe;AACvC,eAAe,mBAAO,CAAC,MAAc;AACrC,cAAc,mBAAO,CAAC,MAAa;AACnC,WAAW,mBAAO,CAAC,MAAgB;AACnC,SAAS,mBAAO,CAAC,MAAc;AAC/B,gBAAgB,mBAAO,CAAC,MAAe;AACvC,qBAAqB,mBAAO,CAAC,MAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,mBAAmB,uBAAuB,EAAE,EAAE;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,GAAG;AACH,yBAAyB;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AA+EA,SA/EA,qBA+EA;AACA;AACA;AACA;AACA;AACA,GApFA;AAqFA,SArFA,qBAqFA;AACA;AACA,qEAFA,CAGA;;AACA;AACA;AACA;AACA;AACA;AACA,GA9FA;AA+FA;AACA,eADA,yBACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAZA;AAaA,aAbA,qBAaA,MAbA,EAaA;AACA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KA5BA;AA6BA,oBA7BA,4BA6BA,QA7BA,EA6BA;AACA;AACA,KA/BA;AAgCA,QAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCA;AACA;AACA;AACA;AApCA;AAAA,uBAqCA,eArCA;;AAAA;AAsCA;AACA;AACA;AACA;AACA;AACA;;AACA;;AA5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA8CA,YA9CA,sBA8CA;AAAA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA,WAVA,CAWA;;;AAEA;AACA;AACA,qDAfA,CAgBA;;AACA;;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;;AACA;;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;AACA;;AACA;AACA,OAxCA;AAyCA;AAxFA;AA/FA,G;;ACN6U,CAAgB,iGAAG,EAAC,C;;;;;ACAjW;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"easy-dsj.common.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".fd-dsj_borks[data-v-fc0bff34]{width:100%;height:100px;position:relative}.fd-dsj_ksAnim[data-v-fc0bff34]{width:60px;height:142px;position:relative}.fd-dsj_demoLine[data-v-fc0bff34]{width:60px!important;height:142px!important;border:4px solid #0090cc;border-radius:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;position:absolute;-webkit-transform:rotate(89deg) rotateY(40deg) scale(0);transform:rotate(89deg) rotateY(40deg) scale(0);left:42px;bottom:-13px}.fd-dsj_anim1[data-v-fc0bff34],.fd-dsj_anim2[data-v-fc0bff34]{-webkit-animation:dsj_kuosan-data-v-fc0bff34 3s infinite;animation:dsj_kuosan-data-v-fc0bff34 3s infinite}.fd-dsj_anim2[data-v-fc0bff34]{-webkit-animation-delay:1s;animation-delay:1s}.fd-dsj_anim3[data-v-fc0bff34]{-webkit-animation:dsj_kuosan-data-v-fc0bff34 3s infinite;animation:dsj_kuosan-data-v-fc0bff34 3s infinite;-webkit-animation-delay:2s;animation-delay:2s}@-webkit-keyframes dsj_kuosan-data-v-fc0bff34{0%{opacity:1;-webkit-transform:rotate(89deg) rotateY(40deg) scale(0);transform:rotate(89deg) rotateY(40deg) scale(0)}90%{-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}to{opacity:0;-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}}@keyframes dsj_kuosan-data-v-fc0bff34{0%{opacity:1;-webkit-transform:rotate(89deg) rotateY(40deg) scale(0);transform:rotate(89deg) rotateY(40deg) scale(0)}90%{-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}to{opacity:0;-webkit-transform:rotate(89deg) rotateY(40deg) scale(1);transform:rotate(89deg) rotateY(40deg) scale(1)}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\"","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\"","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\"","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ed7edcf4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\"","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","exports.f = {}.propertyIsEnumerable;\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".fd-canvas__bg{width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8d56b956\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","module.exports = {};\n","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0f70f2f4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","exports.f = {}.propertyIsEnumerable;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = require(\"core-js/library/fn/symbol/iterator\");","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","module.exports = require(\"core-js/library/fn/symbol\");","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#dsj-lzCanvas[data-v-bd16dc84]{height:100%;width:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","require('./_wks-define')('asyncIterator');\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","require('./_wks-define')('observable');\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = require(\"core-js/library/fn/promise\");","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\"","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function () { /* empty */ };\n","module.exports = {};\n","module.exports = require(\"core-js/library/fn/object/define-property\");","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".chart_annular__wrapper[data-v-d607c838]{width:100%;height:100%;cursor:pointer}.chart_annular__wrapper svg[data-v-d607c838]{width:100%;height:100%}.chart_annular__wrapper text[data-v-d607c838]{stroke:none;-webkit-transition:fill .8s ease-out;transition:fill .8s ease-out}.chart_annular__wrapper .arc[data-v-d607c838]{stroke-width:4px}.chart_annular__wrapper .graph[data-v-d607c838]{stroke-dashoffset:0;stroke-dasharray:251.35;stroke-dashoffset:calc(2.5135*var(--val));-webkit-transition:stroke-dashoffset .8s ease-out;transition:stroke-dashoffset .8s ease-out;stroke-linecap:round;stroke-width:4px;-webkit-transform:translateX(100px) rotateY(180deg);transform:translateX(100px) rotateY(180deg)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","module.exports = require('./_hide');\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".fd-canvasParent[data-v-470503c2]{padding-top:5px;padding-left:5px;border:2px solid #ccc;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.fd-canvasParent[data-v-470503c2]:after{content:\\\"\\\";display:block;width:6px;height:6px;border-radius:100%;position:absolute;top:-4px;left:0;right:0;margin:auto}.icon-max_canvas[data-v-470503c2]{border-radius:50%;border:1px solid rgba(104,181,55,.6)}.icon-max_canvas[data-v-470503c2]:after{background:#d3fa39;-webkit-box-shadow:0 0 5px 1px #d3fa39;box-shadow:0 0 5px 1px #d3fa39}.icon-center_canvas[data-v-470503c2]{border-radius:50%;border:1px solid rgba(200,159,51,.6)}.icon-center_canvas[data-v-470503c2]:after{background:#faa638;-webkit-box-shadow:0 0 5px 1px #faa638;box-shadow:0 0 5px 1px #faa638}.icon-min_canvas[data-v-470503c2]{border-radius:50%;border:1px solid rgba(222,134,44,.6)}.icon-min_canvas[data-v-470503c2]:after{background:#f06e18;-webkit-box-shadow:0 0 5px 1px #f06e18;box-shadow:0 0 5px 1px #f06e18}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".dsj_btn[data-v-2e29daa9]{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:.6s;transition-duration:.6s;-webkit-transition-timing-function:ease;transition-timing-function:ease;color:#fff;cursor:pointer;display:inline-block;font-size:16px;font-weight:400;line-height:30px;margin:0 0 2em;width:100%;text-align:center;position:relative;text-transform:uppercase;height:30px}.dsj_btn[data-v-2e29daa9],.dsj_btn[data-v-2e29daa9]:hover{text-decoration:none}.dsj_btn>span[data-v-2e29daa9]{display:inline-block;width:100%;height:30px;line-height:30px;text-align:center}.fsj_button--1[data-v-2e29daa9]{letter-spacing:0}.fsj_button--1[data-v-2e29daa9]:active,.fsj_button--1[data-v-2e29daa9]:hover{letter-spacing:5px}.fsj_button--1[data-v-2e29daa9]:after,.fsj_button--1[data-v-2e29daa9]:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;border:1px solid hsla(0,0%,100%,0);bottom:0;content:\\\" \\\";display:block;margin:0 auto;position:relative;-webkit-transition:all .28s ease-in-out;transition:all .28s ease-in-out;width:0}.fsj_button--1[data-v-2e29daa9]:hover:after,.fsj_button--1[data-v-2e29daa9]:hover:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;border-color:#fff;-webkit-transition:width .35s ease-in-out;transition:width .35s ease-in-out;width:70%}.fsj_button--1[data-v-2e29daa9]:hover:before{bottom:auto;top:0;width:70%}.fsj_button--2[data-v-2e29daa9]{background:#e3403a;border:1px solid #da251f;-webkit-box-shadow:0 2px 0 #d6251f,2px 4px 6px #e02a24;box-shadow:0 2px 0 #d6251f,2px 4px 6px #e02a24;font-weight:900;letter-spacing:1px;-webkit-transition:all .15s linear;transition:all .15s linear}.fsj_button--2[data-v-2e29daa9]:hover{background:#e02c26;border:1px solid rgba(0,0,0,.05);-webkit-box-shadow:1px 1px 2px hsla(0,0%,100%,.2);box-shadow:1px 1px 2px hsla(0,0%,100%,.2);color:#ec817d;text-decoration:none;text-shadow:-1px -1px 0 #c2211c;-webkit-transition:all .25s linear;transition:all .25s linear}.fsj_button--3[data-v-2e29daa9]{border:1px solid;overflow:hidden;position:relative}.fsj_button--3 span[data-v-2e29daa9]{z-index:20}.fsj_button--3[data-v-2e29daa9]:after{background:#fff;content:\\\"\\\";height:155px;left:-75px;opacity:.2;position:absolute;top:-50px;-webkit-transform:rotate(35deg);transform:rotate(35deg);width:50px}.fsj_button--3[data-v-2e29daa9]:after,.fsj_button--3[data-v-2e29daa9]:hover:after{-webkit-transition:all .55s cubic-bezier(.19,1,.22,1);transition:all .55s cubic-bezier(.19,1,.22,1)}.fsj_button--3[data-v-2e29daa9]:hover:after{left:120%}.fsj_button--4[data-v-2e29daa9]{border:0 solid;-webkit-box-shadow:inset 0 0 20px hsla(0,0%,100%,0);box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,.5);outline-offset:0;text-shadow:none;-webkit-transition:all 1.25s cubic-bezier(.19,1,.22,1);transition:all 1.25s cubic-bezier(.19,1,.22,1)}.fsj_button--4[data-v-2e29daa9]:hover{border:1px solid;-webkit-box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-color:hsla(0,0%,100%,0);outline-offset:15px;text-shadow:1px 1px 2px #427388}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","module.exports = true;\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"50a933dc\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","exports.f = require('./_wks');\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"364db2dc\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c07e3314\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// document.currentScript polyfill by Adam Miller\n\n// MIT license\n\n(function(document){\n  var currentScript = \"currentScript\",\n      scripts = document.getElementsByTagName('script'); // Live NodeList collection\n\n  // If browser needs currentScript polyfill, add get currentScript() to the document object\n  if (!(currentScript in document)) {\n    Object.defineProperty(document, currentScript, {\n      get: function(){\n\n        // IE 6-10 supports script readyState\n        // IE 10+ support stack trace\n        try { throw new Error(); }\n        catch (err) {\n\n          // Find the second match for the \"at\" string to get file src url from stack.\n          // Specifically works with the format of stack traces in IE.\n          var i, res = ((/.*at [^\\(]*\\((.*):.+:.+\\)$/ig).exec(err.stack) || [false])[1];\n\n          // For all scripts on the page, if src matches or if ready state is interactive, return the script tag\n          for(i in scripts){\n            if(scripts[i].src == res || scripts[i].readyState == \"interactive\"){\n              return scripts[i];\n            }\n          }\n\n          // If no match, return null\n          return null;\n        }\n      }\n    });\n  }\n})(document);\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    require('current-script-polyfill')\n  }\n\n  var i\n  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))) {\n    __webpack_public_path__ = i[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"canvasBoll\",class:['fd-canvasParent', (\"icon-\" + _vm.classType + \"_canvas\")]},[_c('canvas',{ref:\"canvas\",staticStyle:{\"border-radius\":\"100%\"},on:{\"click\":function($event){return _vm.$emit('click')}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Promise from \"../../core-js/promise\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    _Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new _Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","<template>\r\n  <div ref=\"canvasBoll\" :class=\"['fd-canvasParent', `icon-${classType}_canvas`]\">\r\n    <canvas style=\"border-radius: 100%;\" @click=\"$emit('click')\" ref=\"canvas\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'dsj-waterBall',\r\n  props: {\r\n    data: {\r\n      type: [String, Number],\r\n      default: ''\r\n    },\r\n    fz: {\r\n      type: [String, Number],\r\n      default: 20\r\n    },\r\n    score: {\r\n      type: [ String, Number ],\r\n      default: 100,\r\n      required: true\r\n    },\r\n    distance: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          w: 155,\r\n          h: 155\r\n        }\r\n      }\r\n    },\r\n    titleSold: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    suffix: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  watch: {\r\n    'score': {\r\n      handler () {\r\n        this.canvasBoll.INIT_SCORE = this.initSCORE(this.score)\r\n        this.canvasBoll.BOLL_SCORE = this.canvasBoll.INIT_SCORE / 100\r\n        this.switchColor()\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      classType: '',\r\n      canvasBoll: {\r\n        BOLL_STEP: 0, // 循环次数\r\n        BOLL_LINES: [], // 颜色\r\n        BOLL_SCORE: 100, // 分数\r\n        BOLL_CANVAS: null, // canvas body\r\n        BOLL_CTX: null, // ctx\r\n        BOLL_SCORELAST: 0\r\n      },\r\n      dataColorList: {\r\n        max: [{\r\n          to: '#19cb9b',\r\n          from: '#4ae222'\r\n        }, {\r\n          to: '#aff581',\r\n          from: '#aff581'\r\n        }],\r\n        center: [{\r\n          to: '#e9930c',\r\n          from: '#f5b223'\r\n        }, {\r\n          to: '#e5b941',\r\n          from: '#e5b941'\r\n        }],\r\n        min: [{\r\n          to: '#fa1e1e',\r\n          from: '#f1612e'\r\n        }, {\r\n          to: '#f8724a',\r\n          from: '#f8724a'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.canvasBoll.BOLL_LINES = this.color\r\n    this.canvasBoll.INIT_SCORE = this.initSCORE(this.score)\r\n    this.canvasBoll.BOLL_SCORE = this.canvasBoll.INIT_SCORE / 100\r\n    this.switchColor()\r\n  },\r\n  mounted () {\r\n    this.$refs.canvasBoll.style.width = this.distance.w + 14 + 'px'\r\n    this.$refs.canvasBoll.style.height = this.distance.h + 14 + 'px'\r\n    // this.canvasBoll.BOLL_CANVAS = document.getElementById('dsj-canvas__boll')\r\n    this.canvasBoll.BOLL_CANVAS = this.$refs.canvas\r\n    this.canvasBoll.BOLL_CANVAS.width = this.distance.w\r\n    this.canvasBoll.BOLL_CANVAS.height = this.distance.h\r\n    this.canvasBoll.BOLL_CTX = this.canvasBoll.BOLL_CANVAS.getContext('2d')\r\n    this.loop()\r\n  },\r\n  methods: {\r\n    switchColor () {\r\n      if (this.canvasBoll.INIT_SCORE >= 90) {\r\n        this.classType = 'max'\r\n        this.canvasBoll.BOLL_LINES = this.dataColorList.max\r\n      } else if (this.canvasBoll.INIT_SCORE < 90 && this.canvasBoll.INIT_SCORE >= 60) {\r\n        this.classType = 'center'\r\n        this.canvasBoll.BOLL_LINES = this.dataColorList.center\r\n      } else {\r\n        this.classType = 'min'\r\n        this.canvasBoll.BOLL_LINES = this.dataColorList.min\r\n      }\r\n    },\r\n    initSCORE (_score) {\r\n      let score\r\n      if (typeof _score !== 'number') {\r\n        if (_score.indexOf('%') !== -1) {\r\n          score = Number(_score.replace('%', ''))\r\n        } else {\r\n          score = Number(_score)\r\n        }\r\n      } else {\r\n        score = _score\r\n      }\r\n      if (score < 0) {\r\n        score = 0\r\n      }\r\n      return score\r\n    },\r\n    requestAnimFrame (callback) {\r\n      window.setTimeout(callback, 1000 / 60)\r\n    },\r\n    async loop () {\r\n      this.canvasBoll.BOLL_CTX.clearRect(0, 0, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height)\r\n      this.canvasBoll.BOLL_CTX.fillStyle = 'rgb(13, 73, 110)'\r\n      this.canvasBoll.BOLL_CTX.fillRect(0, 0, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height)\r\n      this.canvasBoll.BOLL_STEP++\r\n      await this.rectLine()\r\n      if (this.titleSold) {\r\n        this.canvasBoll.BOLL_CTX.font = `${this.fz}px bold 黑体`\r\n        this.canvasBoll.BOLL_CTX.fillStyle = '#fff'\r\n        this.canvasBoll.BOLL_CTX.textAlign = 'center'\r\n        this.canvasBoll.BOLL_CTX.fillText((this.data ? this.data : (isNaN(Number(String(this.score).slice(-1))) ? this.score : this.score + '%')) + this.suffix, this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height / 2 + 10)\r\n      }\r\n      this.requestAnimFrame(this.loop)\r\n    },\r\n    rectLine () {\r\n      return new Promise((resolve) => {\r\n        for (let j = this.canvasBoll.BOLL_LINES.length - 1; j >= 0; j--) {\r\n          let mygradient = this.canvasBoll.BOLL_CTX.createLinearGradient(0, 0, 0, 170)\r\n          if (j === 1) {\r\n            mygradient.addColorStop(0, this.canvasBoll.BOLL_LINES[j].to)\r\n            mygradient.addColorStop(1, this.canvasBoll.BOLL_LINES[j].from)\r\n            this.canvasBoll.BOLL_CTX.fillStyle = mygradient\r\n          } else {\r\n            mygradient.addColorStop(0, this.canvasBoll.BOLL_LINES[j].to)\r\n            mygradient.addColorStop(1, this.canvasBoll.BOLL_LINES[j].from)\r\n            this.canvasBoll.BOLL_CTX.fillStyle = mygradient\r\n          }\r\n          // 每个矩形的角度都不同，每个之间相差45度\r\n\r\n          let angle = (this.canvasBoll.BOLL_STEP + j * 30) * Math.PI / 90\r\n          let deltaHeight = Math.sin(angle) * 8\r\n          let deltaHeightRight = Math.cos(angle) * 8\r\n          // console.log(this.canvasBoll.BOLL_CANVAS.height*this.canvasBoll.BOLL_SCORELAST+deltaHeight,this.canvasBoll.BOLL_CANVAS.height/2+deltaHeight)\r\n          this.canvasBoll.BOLL_CTX.beginPath()\r\n          if (this.canvasBoll.BOLL_SCORELAST !== this.canvasBoll.INIT_SCORE) {\r\n            if (this.canvasBoll.BOLL_SCORELAST < this.canvasBoll.INIT_SCORE) {\r\n              this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.INIT_SCORE - this.canvasBoll.BOLL_SCORELAST <= 2 ? this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.INIT_SCORE : this.canvasBoll.BOLL_SCORELAST + 1\r\n            } else {\r\n              this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.BOLL_SCORELAST - this.canvasBoll.INIT_SCORE <= 2 ? this.canvasBoll.BOLL_SCORELAST = this.canvasBoll.INIT_SCORE : this.canvasBoll.BOLL_SCORELAST - 1\r\n            }\r\n          }\r\n          this.canvasBoll.BOLL_SCORE = this.canvasBoll.BOLL_SCORELAST / 100\r\n          this.canvasBoll.BOLL_CTX.moveTo(0, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight)\r\n          if (j === 1) {\r\n            this.canvasBoll.BOLL_CTX.bezierCurveTo(this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeightRight, this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight)\r\n          } else {\r\n            this.canvasBoll.BOLL_CTX.bezierCurveTo(this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight, this.canvasBoll.BOLL_CANVAS.width / 2, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeightRight, this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height - this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeightRight)\r\n          }\r\n          this.canvasBoll.BOLL_CTX.lineTo(this.canvasBoll.BOLL_CANVAS.width, this.canvasBoll.BOLL_CANVAS.height)\r\n          this.canvasBoll.BOLL_CTX.lineTo(0, this.canvasBoll.BOLL_CANVAS.height)\r\n          this.canvasBoll.BOLL_CTX.lineTo(0, this.canvasBoll.BOLL_CANVAS.height * this.canvasBoll.BOLL_SCORE + deltaHeight)\r\n          this.canvasBoll.BOLL_CTX.closePath()\r\n          this.canvasBoll.BOLL_CTX.fill()\r\n        }\r\n        resolve()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .fd-canvasParent {\r\n    padding-top: 5px;\r\n    padding-left: 5px;\r\n    border: 2px solid #ccc;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n  }\r\n  .fd-canvasParent::after {\r\n    content: '';\r\n    display: block;\r\n    width: 6px;\r\n    height: 6px;\r\n    border-radius: 100%;\r\n    position: absolute;\r\n    top: -4px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n  }\r\n  .icon-max_canvas {\r\n    border-radius:50%;\r\n    border: 1px solid rgba(104, 181, 55, 0.6);\r\n  }\r\n  .icon-max_canvas::after {\r\n    background: #d3fa39;\r\n    box-shadow: 0px 0px 5px 1px #d3fa39;\r\n  }\r\n  .icon-center_canvas {\r\n    border-radius:50%;\r\n    border: 1px solid rgba(200, 159, 51, 0.6);\r\n  }\r\n  .icon-center_canvas::after {\r\n    background: #faa638;\r\n    box-shadow: 0px 0px 5px 1px #faa638 ;\r\n  }\r\n  .icon-min_canvas {\r\n    border-radius:50%;\r\n    border: 1px solid rgba(222, 134, 44, 0.6);\r\n  }\r\n  .icon-min_canvas::after {\r\n    background: #f06e18;\r\n    box-shadow: 0px 0px 5px 1px #f06e18;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=470503c2&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=470503c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"470503c2\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2019-09-18 14:09:11\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2019-09-18 14:26:26\r\n */\r\n\r\n// 导入组件，组件必须声明 name\r\nimport canvasboll from './src/main.vue'\r\n// 为组件添加 install 方法，用于按需引入\r\ncanvasboll.install = function (Vue) {\r\n  Vue.component(canvasboll.name, canvasboll)\r\n}\r\n\r\nexport default canvasboll","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fd-dsj_borks\"},[_c('div',{staticClass:\"fd-dsj_ksAnim\"},[_c('div',{staticClass:\"fd-dsj_demoLine fd-dsj_anim1\"}),_c('div',{staticClass:\"fd-dsj_demoLine fd-dsj_anim2\"}),_c('div',{staticClass:\"fd-dsj_demoLine fd-dsj_anim3\"})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"fd-dsj_borks\">\r\n    <div class=\"fd-dsj_ksAnim\">\r\n      <div class=\"fd-dsj_demoLine fd-dsj_anim1\"></div>\r\n      <div class=\"fd-dsj_demoLine fd-dsj_anim2\"></div>\r\n      <div class=\"fd-dsj_demoLine fd-dsj_anim3\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'dsj-diffusion'\r\n}\r\n</script>\r\n<style scoped>\r\n  /* CSS扩散 */\r\n\r\n.fd-dsj_borks {\r\n  width: 100%;\r\n  height: 100px;\r\n  position: relative;\r\n}\r\n\r\n.fd-dsj_ksAnim {\r\n  width: 60px;\r\n  height: 142px;\r\n  position: relative;\r\n}\r\n\r\n.fd-dsj_demoLine {\r\n  width: 60px !important;\r\n  height: 142px !important;\r\n  border: 4px solid #0090cc;\r\n  border-radius: 100%;\r\n  transform-style: preserve-3d;\r\n  position: absolute;\r\n  transform: rotateZ(89deg) rotateY(40deg) scale(0);\r\n  left: 42px;\r\n  bottom: -13px;\r\n}\r\n\r\n.fd-dsj_anim1 {\r\n  animation: dsj_kuosan 3s infinite;\r\n}\r\n\r\n.fd-dsj_anim2 {\r\n  animation: dsj_kuosan 3s infinite;\r\n  animation-delay: 1s\r\n}\r\n\r\n.fd-dsj_anim3 {\r\n  animation: dsj_kuosan 3s infinite;\r\n  animation-delay: 2s\r\n}\r\n\r\n@keyframes dsj_kuosan {\r\n  0% {\r\n    opacity: 1;\r\n    transform: rotateZ(89deg) rotateY(40deg) scale(0);\r\n  }\r\n\r\n  90% {\r\n    transform: rotateZ(89deg) rotateY(40deg) scale(1);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    transform: rotateZ(89deg) rotateY(40deg) scale(1);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=fc0bff34&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=fc0bff34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc0bff34\",\n  null\n  \n)\n\nexport default component.exports","// packages/textarea/index.js\r\n\r\n// 导入组件，组件必须声明 name\r\nimport Diffusion from './src/main.vue'\r\n\r\n// 为组件添加 install 方法，用于按需引入\r\nDiffusion.install = function (Vue) {\r\n  Vue.component(Diffusion.name, Diffusion)\r\n}\r\n\r\nexport default Diffusion","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dsj-lzCanvas\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n  let ParticleNetworkAnimation, PNA;\r\n  ParticleNetworkAnimation = PNA = function() {};\r\n\r\n  PNA.prototype.init = function(element, option) {\r\n\r\n    this.container = element;\r\n    this.canvas = document.createElement(\"canvas\");\r\n    this.sizeCanvas();\r\n    this.container.appendChild(this.canvas);\r\n    this.ctx = this.canvas.getContext(\"2d\");\r\n    this.particleNetwork = new ParticleNetwork(this, option);\r\n\r\n    this.bindUiActions();\r\n\r\n    return this;\r\n  };\r\n\r\n  PNA.prototype.bindUiActions = function() {\r\n    window.onresize = function () { \r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.sizeCanvas();\r\n      this.particleNetwork.createParticles();\r\n    }.bind(this)\r\n  };\r\n\r\n  PNA.prototype.sizeCanvas = function() {\r\n    this.canvas.width = this.container.offsetWidth;\r\n    this.canvas.height = this.container.offsetHeight;\r\n  };\r\n\r\n  let Particle = function(parent, x, y) {\r\n    this.network = parent;\r\n    this.canvas = parent.canvas;\r\n    this.ctx = parent.ctx;\r\n    this.particleColor = returnRandomArrayitem(\r\n      this.network.options.particleColors\r\n    );\r\n    this.radius = getLimitedRandom(1.5, 2.5);\r\n    this.opacity = 0;\r\n    this.x = x || Math.random() * this.canvas.width;\r\n    this.y = y || Math.random() * this.canvas.height;\r\n    this.velocity = {\r\n      x: (Math.random() - 0.5) * parent.options.velocity,\r\n      y: (Math.random() - 0.5) * parent.options.velocity\r\n    };\r\n  };\r\n\r\n  Particle.prototype.update = function() {\r\n    if (this.opacity < 1) {\r\n      this.opacity += 0.01;\r\n    } else {\r\n      this.opacity = 1;\r\n    }\r\n    // Change dir if outside map\r\n    if (this.x > this.canvas.width + 100 || this.x < -100) {\r\n      this.velocity.x = -this.velocity.x;\r\n    }\r\n    if (this.y > this.canvas.height + 100 || this.y < -100) {\r\n      this.velocity.y = -this.velocity.y;\r\n    }\r\n\r\n    // Update position\r\n    this.x += this.velocity.x;\r\n    this.y += this.velocity.y;\r\n  };\r\n\r\n  Particle.prototype.draw = function() {\r\n    // Draw particle\r\n    this.ctx.beginPath();\r\n    this.ctx.fillStyle = this.particleColor;\r\n    this.ctx.globalAlpha = this.opacity;\r\n    this.ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n    this.ctx.fill();\r\n  };\r\n\r\n  let ParticleNetwork = function(parent, options) {\r\n    this.options = {\r\n      velocity: 1, // the higher the faster\r\n      density: 15000, // the lower the denser\r\n      netLineDistance: 200,\r\n      netLineColor: \"#fff\",\r\n      particleColors: [\"#000\"], // ['#6D4E5C', '#aaa', '#FFC458' ]\r\n    };\r\n    Object.assign(this.options, options);\r\n    this.canvas = parent.canvas;\r\n    this.ctx = parent.ctx;\r\n\r\n    this.init();\r\n  };\r\n\r\n  ParticleNetwork.prototype.init = function() {\r\n    // Create particle objects\r\n    this.createParticles(true);\r\n\r\n    // Update canvas\r\n    this.animationFrame = requestAnimationFrame(this.update.bind(this));\r\n\r\n    this.bindUiActions();\r\n  };\r\n\r\n  ParticleNetwork.prototype.createParticles = function(isInitial) {\r\n    // Initialise / reset particles\r\n    let me = this;\r\n    this.particles = [];\r\n    let quantity =\r\n      (this.canvas.width * this.canvas.height) / this.options.density;\r\n\r\n    if (isInitial) {\r\n      let counter = 0;\r\n      clearInterval(this.createIntervalId);\r\n      this.createIntervalId = setInterval(\r\n        function() {\r\n          if (counter < quantity - 1) {\r\n            // Create particle object\r\n            this.particles.push(new Particle(this));\r\n          } else {\r\n            clearInterval(me.createIntervalId);\r\n          }\r\n          counter++;\r\n        }.bind(this),\r\n        250\r\n      );\r\n    } else {\r\n      // Create particle objects\r\n      for (let i = 0; i < quantity; i++) {\r\n        this.particles.push(new Particle(this));\r\n      }\r\n    }\r\n  };\r\n\r\n  ParticleNetwork.prototype.createInteractionParticle = function() {\r\n    // Add interaction particle\r\n    this.interactionParticle = new Particle(this);\r\n    this.interactionParticle.velocity = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.particles.push(this.interactionParticle);\r\n    return this.interactionParticle;\r\n  };\r\n\r\n  ParticleNetwork.prototype.removeInteractionParticle = function() {\r\n    // Find it\r\n    let index = this.particles.indexOf(this.interactionParticle);\r\n    if (index > -1) {\r\n      // Remove it\r\n      this.interactionParticle = undefined;\r\n      this.particles.splice(index, 1);\r\n    }\r\n  };\r\n\r\n  ParticleNetwork.prototype.update = function() {\r\n    if (this.canvas) {\r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.ctx.globalAlpha = 1;\r\n\r\n      // Draw connections\r\n      for (let i = 0; i < this.particles.length; i++) {\r\n        for (let j = this.particles.length - 1; j > i; j--) {\r\n          let distance,\r\n            p1 = this.particles[i],\r\n            p2 = this.particles[j];\r\n\r\n          // check very simply if the two points are even a candidate for further measurements\r\n          distance = Math.min(Math.abs(p1.x - p2.x), Math.abs(p1.y - p2.y));\r\n          if (distance > this.options.netLineDistance) {\r\n            continue;\r\n          }\r\n\r\n          // the two points seem close enough, now let's measure precisely\r\n          distance = Math.sqrt(\r\n            Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)\r\n          );\r\n          if (distance > this.options.netLineDistance) {\r\n            continue;\r\n          }\r\n\r\n          this.ctx.beginPath();\r\n          this.ctx.strokeStyle = this.options.netLineColor;\r\n          this.ctx.globalAlpha =\r\n            ((this.options.netLineDistance - distance) /\r\n              this.options.netLineDistance) *\r\n            p1.opacity *\r\n            p2.opacity;\r\n          this.ctx.lineWidth = 0.7;\r\n          this.ctx.moveTo(p1.x, p1.y);\r\n          this.ctx.lineTo(p2.x, p2.y);\r\n          this.ctx.stroke();\r\n        }\r\n      }\r\n\r\n      // Draw particles\r\n      for (let i = 0; i < this.particles.length; i++) {\r\n        this.particles[i].update();\r\n        this.particles[i].draw();\r\n      }\r\n\r\n      if (this.options.velocity !== 0) {\r\n        this.animationFrame = requestAnimationFrame(this.update.bind(this));\r\n      }\r\n    } else {\r\n      cancelAnimationFrame(this.animationFrame);\r\n    }\r\n  };\r\n\r\n  ParticleNetwork.prototype.bindUiActions = function() {\r\n    // Mouse / touch event handling\r\n    this.spawnQuantity = 3;\r\n    this.mouseIsDown = false;\r\n    this.touchIsMoving = false;\r\n\r\n    this.onMouseMove = function(e) {\r\n      if (!this.interactionParticle) {\r\n        this.createInteractionParticle();\r\n      }\r\n      this.interactionParticle.x = e.offsetX;\r\n      this.interactionParticle.y = e.offsetY;\r\n    }.bind(this);\r\n\r\n    this.onTouchMove = function(e) {\r\n      e.preventDefault();\r\n      this.touchIsMoving = true;\r\n      if (!this.interactionParticle) {\r\n        this.createInteractionParticle();\r\n      }\r\n      this.interactionParticle.x = e.changedTouches[0].clientX;\r\n      this.interactionParticle.y = e.changedTouches[0].clientY;\r\n    }.bind(this);\r\n\r\n    this.onMouseDown = function() {\r\n      this.mouseIsDown = true;\r\n      let counter = 0;\r\n      let quantity = this.spawnQuantity;\r\n      let intervalId = setInterval(\r\n        function() {\r\n          if (this.mouseIsDown) {\r\n            if (counter === 1) {\r\n              quantity = 1;\r\n            }\r\n            for (let i = 0; i < quantity; i++) {\r\n              if (this.interactionParticle) {\r\n                this.particles.push(\r\n                  new Particle(\r\n                    this,\r\n                    this.interactionParticle.x,\r\n                    this.interactionParticle.y\r\n                  )\r\n                );\r\n              }\r\n            }\r\n          } else {\r\n            clearInterval(intervalId);\r\n          }\r\n          counter++;\r\n        }.bind(this),\r\n        50\r\n      );\r\n    }.bind(this);\r\n\r\n    this.onTouchStart = function(e) {\r\n      e.preventDefault();\r\n      setTimeout(\r\n        function() {\r\n          if (!this.touchIsMoving) {\r\n            for (let i = 0; i < this.spawnQuantity; i++) {\r\n              this.particles.push(\r\n                new Particle(\r\n                  this,\r\n                  e.changedTouches[0].clientX,\r\n                  e.changedTouches[0].clientY\r\n                )\r\n              );\r\n            }\r\n          }\r\n        }.bind(this),\r\n        200\r\n      );\r\n    }.bind(this);\r\n\r\n    this.onMouseUp = function() {\r\n      this.mouseIsDown = false;\r\n    }.bind(this);\r\n\r\n    this.onMouseOut = function() {\r\n      this.removeInteractionParticle();\r\n    }.bind(this);\r\n\r\n    this.onTouchEnd = function(e) {\r\n      e.preventDefault();\r\n      this.touchIsMoving = false;\r\n      this.removeInteractionParticle();\r\n    }.bind(this);\r\n\r\n    this.canvas.addEventListener(\"mousemove\", this.onMouseMove);\r\n    this.canvas.addEventListener(\"touchmove\", this.onTouchMove);\r\n    this.canvas.addEventListener(\"mousedown\", this.onMouseDown);\r\n    this.canvas.addEventListener(\"touchstart\", this.onTouchStart);\r\n    this.canvas.addEventListener(\"mouseup\", this.onMouseUp);\r\n    this.canvas.addEventListener(\"mouseout\", this.onMouseOut);\r\n    this.canvas.addEventListener(\"touchend\", this.onTouchEnd);\r\n  };\r\n\r\n  ParticleNetwork.prototype.unbindUiActions = function() {\r\n    if (this.canvas) {\r\n      this.canvas.removeEventListener(\"mousemove\", this.onMouseMove);\r\n      this.canvas.removeEventListener(\"touchmove\", this.onTouchMove);\r\n      this.canvas.removeEventListener(\"mousedown\", this.onMouseDown);\r\n      this.canvas.removeEventListener(\"touchstart\", this.onTouchStart);\r\n      this.canvas.removeEventListener(\"mouseup\", this.onMouseUp);\r\n      this.canvas.removeEventListener(\"mouseout\", this.onMouseOut);\r\n      this.canvas.removeEventListener(\"touchend\", this.onTouchEnd);\r\n    }\r\n  };\r\n\r\n  let getLimitedRandom = function(min, max, roundToInteger) {\r\n    let number = Math.random() * (max - min) + min;\r\n    if (roundToInteger) {\r\n      number = Math.round(number);\r\n    }\r\n    return number;\r\n  };\r\n\r\n  let returnRandomArrayitem = function(array) {\r\n    return array[Math.floor(Math.random() * array.length)];\r\n  };\r\n\r\nexport default ParticleNetworkAnimation\r\n","<template>\r\n  <div id=\"dsj-lzCanvas\"></div>\r\n</template>\r\n<script>\r\nimport ParticleNetworkAnimation from './canvasbg.js'\r\nexport default {\r\n  name: 'dsj-bgLz',\r\n  data () {\r\n    return {\r\n      PNA: null\r\n    }\r\n  },\r\n  props: {\r\n    particleColors: {\r\n      type: Array,\r\n      default: () => {\r\n        return ['#fff', '#666', '#ttt']\r\n      }\r\n    },\r\n    netLineColor: {\r\n      type: String,\r\n      default: '#fff'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.PNA = new ParticleNetworkAnimation()\r\n    this.PNA.init(document.getElementById('dsj-lzCanvas'), {\r\n      particleColors: this.particleColors,\r\n      netLineColor: this.netLineColor\r\n    })\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n<style scoped>\r\n#dsj-lzCanvas {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=bd16dc84&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=bd16dc84&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd16dc84\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2019-10-16 14:10:23\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2019-10-17 18:58:36\r\n */\r\n\r\n\r\n// 导入组件，组件必须声明 name\r\nimport DsjCanvasBg from './src/main.vue'\r\n// 为组件添加 install 方法，用于按需引入\r\nDsjCanvasBg.install = function (Vue) {\r\n  Vue.component(DsjCanvasBg.name, DsjCanvasBg)\r\n}\r\n\r\nexport default DsjCanvasBg","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fd-canvas__bg\"},[_c('canvas',{attrs:{\"id\":\"canvas__bg2\"}})])}]\n\nexport { render, staticRenderFns }","import _Symbol$iterator from \"../../core-js/symbol/iterator\";\nimport _Symbol from \"../../core-js/symbol\";\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","/*!\r\n* EaselJS\r\n* Visit http://createjs.com/ for documentation, updates and examples.\r\n*\r\n* Copyright (c) 2010 gskinner.com, inc.\r\n*\r\n* Permission is hereby granted, free of charge, to any person\r\n* obtaining a copy of this software and associated documentation\r\n* files (the \"Software\"), to deal in the Software without\r\n* restriction, including without limitation the rights to use,\r\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n* copies of the Software, and to permit persons to whom the\r\n* Software is furnished to do so, subject to the following\r\n* conditions:\r\n*\r\n* The above copyright notice and this permission notice shall be\r\n* included in all copies or substantial portions of the Software.\r\n*\r\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n* OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\n\r\n//##############################################################################\r\n// extend.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Sets up the prototype chain and constructor property for a new class.\r\n *\r\n * This should be called right after creating the class constructor.\r\n *\r\n * \tfunction MySubClass() {}\r\n * \tcreatejs.extend(MySubClass, MySuperClass);\r\n * \tMySubClass.prototype.doSomething = function() { }\r\n *\r\n * \tvar foo = new MySubClass();\r\n * \tconsole.log(foo instanceof MySuperClass); // true\r\n * \tconsole.log(foo.prototype.constructor === MySubClass); // true\r\n *\r\n * @method extend\r\n * @param {Function} subclass The subclass.\r\n * @param {Function} superclass The superclass to extend.\r\n * @return {Function} Returns the subclass's new prototype.\r\n */\r\ncreatejs.extend = function(subclass, superclass) {\r\n\t\"use strict\";\r\n\r\n\tfunction o() { this.constructor = subclass; }\r\n\to.prototype = superclass.prototype;\r\n\treturn (subclass.prototype = new o());\r\n};\r\n\r\n//##############################################################################\r\n// promote.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Promotes any methods on the super class that were overridden, by creating an alias in the format `prefix_methodName`.\r\n * It is recommended to use the super class's name as the prefix.\r\n * An alias to the super class's constructor is always added in the format `prefix_constructor`.\r\n * This allows the subclass to call super class methods without using `function.call`, providing better performance.\r\n *\r\n * For example, if `MySubClass` extends `MySuperClass`, and both define a `draw` method, then calling `promote(MySubClass, \"MySuperClass\")`\r\n * would add a `MySuperClass_constructor` method to MySubClass and promote the `draw` method on `MySuperClass` to the\r\n * prototype of `MySubClass` as `MySuperClass_draw`.\r\n *\r\n * This should be called after the class's prototype is fully defined.\r\n *\r\n * \tfunction ClassA(name) {\r\n * \t\tthis.name = name;\r\n * \t}\r\n * \tClassA.prototype.greet = function() {\r\n * \t\treturn \"Hello \"+this.name;\r\n * \t}\r\n *\r\n * \tfunction ClassB(name, punctuation) {\r\n * \t\tthis.ClassA_constructor(name);\r\n * \t\tthis.punctuation = punctuation;\r\n * \t}\r\n * \tcreatejs.extend(ClassB, ClassA);\r\n * \tClassB.prototype.greet = function() {\r\n * \t\treturn this.ClassA_greet()+this.punctuation;\r\n * \t}\r\n * \tcreatejs.promote(ClassB, \"ClassA\");\r\n *\r\n * \tvar foo = new ClassB(\"World\", \"!?!\");\r\n * \tconsole.log(foo.greet()); // Hello World!?!\r\n *\r\n * @method promote\r\n * @param {Function} subclass The class to promote super class methods on.\r\n * @param {String} prefix The prefix to add to the promoted method names. Usually the name of the superclass.\r\n * @return {Function} Returns the subclass.\r\n */\r\ncreatejs.promote = function(subclass, prefix) {\r\n\t\"use strict\";\r\n\r\n\tvar subP = subclass.prototype, supP = (Object.getPrototypeOf&&Object.getPrototypeOf(subP))||subP.__proto__;\r\n\tif (supP) {\r\n\t\tsubP[(prefix+=\"_\") + \"constructor\"] = supP.constructor; // constructor is not always innumerable\r\n\t\tfor (var n in supP) {\r\n\t\t\tif (subP.hasOwnProperty(n) && (typeof supP[n] == \"function\")) { subP[prefix + n] = supP[n]; }\r\n\t\t}\r\n\t}\r\n\treturn subclass;\r\n};\r\n\r\n//##############################################################################\r\n// indexOf.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Finds the first occurrence of a specified value searchElement in the passed in array, and returns the index of\r\n * that value.  Returns -1 if value is not found.\r\n *\r\n *      var i = createjs.indexOf(myArray, myElementToFind);\r\n *\r\n * @method indexOf\r\n * @param {Array} array Array to search for searchElement\r\n * @param searchElement Element to find in array.\r\n * @return {Number} The first index of searchElement in array.\r\n */\r\ncreatejs.indexOf = function (array, searchElement){\r\n\t\"use strict\";\r\n\r\n\tfor (var i = 0,l=array.length; i < l; i++) {\r\n\t\tif (searchElement === array[i]) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n};\r\n\r\n//##############################################################################\r\n// UID.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Global utility for generating sequential unique ID numbers. The UID class uses a static interface (ex. <code>UID.get()</code>)\r\n\t * and should not be instantiated.\r\n\t * @class UID\r\n\t * @static\r\n\t **/\r\n\tfunction UID() {\r\n\t\tthrow \"UID cannot be instantiated\";\r\n\t}\r\n\r\n\r\n// private static properties:\r\n\t/**\r\n\t * @property _nextID\r\n\t * @type Number\r\n\t * @protected\r\n\t **/\r\n\tUID._nextID = 0;\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Returns the next unique id.\r\n\t * @method get\r\n\t * @return {Number} The next unique id\r\n\t * @static\r\n\t **/\r\n\tUID.get = function() {\r\n\t\treturn UID._nextID++;\r\n\t};\r\n\r\n\r\n\tcreatejs.UID = UID;\r\n}());\r\n\r\n//##############################################################################\r\n// deprecate.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/**\r\n * @class Utility Methods\r\n */\r\n\r\n/**\r\n * Wraps deprecated methods so they still be used, but throw warnings to developers.\r\n *\r\n *\tobj.deprecatedMethod = createjs.deprecate(\"Old Method Name\", obj._fallbackMethod);\r\n *\r\n * The recommended approach for deprecated properties is:\r\n *\r\n *\ttry {\r\n *\t\tObj\tect.defineProperties(object, {\r\n *\t\t\treadyOnlyProp: { get: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }) },\r\n *\t\t\treadWriteProp: {\r\n *\t\t\t\tget: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }),\r\n *\t\t\t\tset: createjs.deprecate(\"readOnlyProp\", function(val) { this.alternateProp = val; })\r\n *\t\t});\r\n *\t} catch (e) {}\r\n *\r\n * @method deprecate\r\n * @param {Function} [fallbackMethod=null] A method to call when the deprecated method is used. See the example for how\r\n * @param {String} [name=null] The name of the method or property to display in the console warning.\r\n * to deprecate properties.\r\n * @return {Function} If a fallbackMethod is supplied, returns a closure that will call the fallback method after\r\n * logging the warning in the console.\r\n */\r\ncreatejs.deprecate = function(fallbackMethod, name) {\r\n\t\"use strict\";\r\n\treturn function() {\r\n\t\tvar msg = \"Deprecated property or method '\"+name+\"'. See docs for info.\";\r\n\t\tconsole && (console.warn ? console.warn(msg) : console.log(msg));\r\n\t\treturn fallbackMethod && fallbackMethod.apply(this, arguments);\r\n\t}\r\n};\r\n\r\n//##############################################################################\r\n// Event.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n// constructor:\r\n\t/**\r\n\t * Contains properties and methods shared by all events for use with\r\n\t * {{#crossLink \"EventDispatcher\"}}{{/crossLink}}.\r\n\t * \r\n\t * Note that Event objects are often reused, so you should never\r\n\t * rely on an event object's state outside of the call stack it was received in.\r\n\t * @class Event\r\n\t * @param {String} type The event type.\r\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\r\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Event(type, bubbles, cancelable) {\r\n\t\t\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The type of event.\r\n\t\t * @property type\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.type = type;\r\n\t\r\n\t\t/**\r\n\t\t * The object that generated an event.\r\n\t\t * @property target\r\n\t\t * @type Object\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\twindow.target = null;\r\n\t\r\n\t\t/**\r\n\t\t * The current target that a bubbling event is being dispatched from. For non-bubbling events, this will\r\n\t\t * always be the same as target. For example, if childObj.parent = parentObj, and a bubbling event\r\n\t\t * is generated from childObj, then a listener on parentObj would receive the event with\r\n\t\t * target=childObj (the original target) and currentTarget=parentObj (where the listener was added).\r\n\t\t * @property currentTarget\r\n\t\t * @type Object\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.currentTarget = null;\r\n\t\r\n\t\t/**\r\n\t\t * For bubbling events, this indicates the current event phase:<OL>\r\n\t\t * \t<LI> capture phase: starting from the top parent to the target</LI>\r\n\t\t * \t<LI> at target phase: currently being dispatched from the target</LI>\r\n\t\t * \t<LI> bubbling phase: from the target to the top parent</LI>\r\n\t\t * </OL>\r\n\t\t * @property eventPhase\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.eventPhase = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether the event will bubble through the display list.\r\n\t\t * @property bubbles\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.bubbles = !!bubbles;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether the default behaviour of this event can be cancelled via\r\n\t\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}}. This is set via the Event constructor.\r\n\t\t * @property cancelable\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.cancelable = !!cancelable;\r\n\t\r\n\t\t/**\r\n\t\t * The epoch time at which this event was created.\r\n\t\t * @property timeStamp\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.timeStamp = (new Date()).getTime();\r\n\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} has been called\r\n\t\t * on this event.\r\n\t\t * @property defaultPrevented\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.defaultPrevented = false;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/stopPropagation\"}}{{/crossLink}} or\r\n\t\t * {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called on this event.\r\n\t\t * @property propagationStopped\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.propagationStopped = false;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called\r\n\t\t * on this event.\r\n\t\t * @property immediatePropagationStopped\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.immediatePropagationStopped = false;\r\n\t\t\r\n\t\t/**\r\n\t\t * Indicates if {{#crossLink \"Event/remove\"}}{{/crossLink}} has been called on this event.\r\n\t\t * @property removed\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t * @readonly\r\n\t\t*/\r\n\t\tthis.removed = false;\r\n\t}\r\n\tvar p = Event.prototype;\r\n\r\n// public methods:\r\n\t/**\r\n\t * Sets {{#crossLink \"Event/defaultPrevented\"}}{{/crossLink}} to true if the event is cancelable.\r\n\t * Mirrors the DOM level 2 event standard. In general, cancelable events that have `preventDefault()` called will\r\n\t * cancel the default behaviour associated with the event.\r\n\t * @method preventDefault\r\n\t **/\r\n\tp.preventDefault = function() {\r\n\t\tthis.defaultPrevented = this.cancelable&&true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} to true.\r\n\t * Mirrors the DOM event standard.\r\n\t * @method stopPropagation\r\n\t **/\r\n\tp.stopPropagation = function() {\r\n\t\tthis.propagationStopped = true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} and\r\n\t * {{#crossLink \"Event/immediatePropagationStopped\"}}{{/crossLink}} to true.\r\n\t * Mirrors the DOM event standard.\r\n\t * @method stopImmediatePropagation\r\n\t **/\r\n\tp.stopImmediatePropagation = function() {\r\n\t\tthis.immediatePropagationStopped = this.propagationStopped = true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Causes the active listener to be removed via removeEventListener();\r\n\t * \r\n\t * \t\tmyBtn.addEventListener(\"click\", function(evt) {\r\n\t * \t\t\t// do stuff...\r\n\t * \t\t\tevt.remove(); // removes this listener.\r\n\t * \t\t});\r\n\t * \r\n\t * @method remove\r\n\t **/\r\n\tp.remove = function() {\r\n\t\tthis.removed = true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Event instance.\r\n\t * @method clone\r\n\t * @return {Event} a clone of the Event instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Event(this.type, this.bubbles, this.cancelable);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\r\n\t *\r\n\t * @method set\r\n\t * @param {Object} props A generic object containing properties to copy to the instance.\r\n\t * @return {Event} Returns the instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t*/\r\n\tp.set = function(props) {\r\n\t\tfor (var n in props) { this[n] = props[n]; }\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Event (type=\"+this.type+\")]\";\r\n\t};\r\n\r\n\tcreatejs.Event = Event;\r\n}());\r\n\r\n//##############################################################################\r\n// EventDispatcher.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * EventDispatcher provides methods for managing queues of event listeners and dispatching events.\r\n\t *\r\n\t * You can either extend EventDispatcher or mix its methods into an existing prototype or instance by using the\r\n\t * EventDispatcher {{#crossLink \"EventDispatcher/initialize\"}}{{/crossLink}} method.\r\n\t * \r\n\t * Together with the CreateJS Event class, EventDispatcher provides an extended event model that is based on the\r\n\t * DOM Level 2 event model, including addEventListener, removeEventListener, and dispatchEvent. It supports\r\n\t * bubbling / capture, preventDefault, stopPropagation, stopImmediatePropagation, and handleEvent.\r\n\t * \r\n\t * EventDispatcher also exposes a {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} method, which makes it easier\r\n\t * to create scoped listeners, listeners that only run once, and listeners with associated arbitrary data. The \r\n\t * {{#crossLink \"EventDispatcher/off\"}}{{/crossLink}} method is merely an alias to\r\n\t * {{#crossLink \"EventDispatcher/removeEventListener\"}}{{/crossLink}}.\r\n\t * \r\n\t * Another addition to the DOM Level 2 model is the {{#crossLink \"EventDispatcher/removeAllEventListeners\"}}{{/crossLink}}\r\n\t * method, which can be used to listeners for all events, or listeners for a specific event. The Event object also \r\n\t * includes a {{#crossLink \"Event/remove\"}}{{/crossLink}} method which removes the active listener.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * Add EventDispatcher capabilities to the \"MyClass\" class.\r\n\t *\r\n\t *      EventDispatcher.initialize(MyClass.prototype);\r\n\t *\r\n\t * Add an event (see {{#crossLink \"EventDispatcher/addEventListener\"}}{{/crossLink}}).\r\n\t *\r\n\t *      instance.addEventListener(\"eventName\", handlerMethod);\r\n\t *      function handlerMethod(event) {\r\n\t *          console.log(event.target + \" Was Clicked\");\r\n\t *      }\r\n\t *\r\n\t * <b>Maintaining proper scope</b><br />\r\n\t * Scope (ie. \"this\") can be be a challenge with events. Using the {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}}\r\n\t * method to subscribe to events simplifies this.\r\n\t *\r\n\t *      instance.addEventListener(\"click\", function(event) {\r\n\t *          console.log(instance == this); // false, scope is ambiguous.\r\n\t *      });\r\n\t *      \r\n\t *      instance.on(\"click\", function(event) {\r\n\t *          console.log(instance == this); // true, \"on\" uses dispatcher scope by default.\r\n\t *      });\r\n\t * \r\n\t * If you want to use addEventListener instead, you may want to use function.bind() or a similar proxy to manage\r\n\t * scope.\r\n\t *\r\n\t * <b>Browser support</b>\r\n\t * The event model in CreateJS can be used separately from the suite in any project, however the inheritance model\r\n\t * requires modern browsers (IE9+).\r\n\t *      \r\n\t *\r\n\t * @class EventDispatcher\r\n\t * @constructor\r\n\t **/\r\n\tfunction EventDispatcher() {\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @protected\r\n\t\t * @property _listeners\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._listeners = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @protected\r\n\t\t * @property _captureListeners\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._captureListeners = null;\r\n\t}\r\n\tvar p = EventDispatcher.prototype;\r\n\r\n// static public methods:\r\n\t/**\r\n\t * Static initializer to mix EventDispatcher methods into a target object or prototype.\r\n\t * \r\n\t * \t\tEventDispatcher.initialize(MyClass.prototype); // add to the prototype of the class\r\n\t * \t\tEventDispatcher.initialize(myObject); // add to a specific instance\r\n\t * \r\n\t * @method initialize\r\n\t * @static\r\n\t * @param {Object} target The target object to inject EventDispatcher methods into. This can be an instance or a\r\n\t * prototype.\r\n\t **/\r\n\tEventDispatcher.initialize = function(target) {\r\n\t\ttarget.addEventListener = p.addEventListener;\r\n\t\ttarget.on = p.on;\r\n\t\ttarget.removeEventListener = target.off =  p.removeEventListener;\r\n\t\ttarget.removeAllEventListeners = p.removeAllEventListeners;\r\n\t\ttarget.hasEventListener = p.hasEventListener;\r\n\t\ttarget.dispatchEvent = p.dispatchEvent;\r\n\t\ttarget._dispatchEvent = p._dispatchEvent;\r\n\t\ttarget.willTrigger = p.willTrigger;\r\n\t};\r\n\t\r\n\r\n// public methods:\r\n\t/**\r\n\t * Adds the specified event listener. Note that adding multiple listeners to the same function will result in\r\n\t * multiple callbacks getting fired.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.addEventListener(\"click\", handleClick);\r\n\t *      function handleClick(event) {\r\n\t *         // Click happened.\r\n\t *      }\r\n\t *\r\n\t * @method addEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n\t * the event is dispatched.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t * @return {Function | Object} Returns the listener for chaining or assignment.\r\n\t **/\r\n\tp.addEventListener = function(type, listener, useCapture) {\r\n\t\tvar listeners;\r\n\t\tif (useCapture) {\r\n\t\t\tlisteners = this._captureListeners = this._captureListeners||{};\r\n\t\t} else {\r\n\t\t\tlisteners = this._listeners = this._listeners||{};\r\n\t\t}\r\n\t\tvar arr = listeners[type];\r\n\t\tif (arr) { this.removeEventListener(type, listener, useCapture); }\r\n\t\tarr = listeners[type]; // remove may have deleted the array\r\n\t\tif (!arr) { listeners[type] = [listener];  }\r\n\t\telse { arr.push(listener); }\r\n\t\treturn listener;\r\n\t};\r\n\t\r\n\t/**\r\n\t * A shortcut method for using addEventListener that makes it easier to specify an execution scope, have a listener\r\n\t * only run once, associate arbitrary data with the listener, and remove the listener.\r\n\t * \r\n\t * This method works by creating an anonymous wrapper function and subscribing it with addEventListener.\r\n\t * The wrapper function is returned for use with `removeEventListener` (or `off`).\r\n\t * \r\n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener, or use\r\n\t * {{#crossLink \"Event/remove\"}}{{/crossLink}}. Likewise, each time you call `on` a NEW wrapper function is subscribed, so multiple calls\r\n\t * to `on` with the same params will create multiple listeners.\r\n\t * \r\n\t * <h4>Example</h4>\r\n\t * \r\n\t * \t\tvar listener = myBtn.on(\"click\", handleClick, null, false, {count:3});\r\n\t * \t\tfunction handleClick(evt, data) {\r\n\t * \t\t\tdata.count -= 1;\r\n\t * \t\t\tconsole.log(this == myBtn); // true - scope defaults to the dispatcher\r\n\t * \t\t\tif (data.count == 0) {\r\n\t * \t\t\t\talert(\"clicked 3 times!\");\r\n\t * \t\t\t\tmyBtn.off(\"click\", listener);\r\n\t * \t\t\t\t// alternately: evt.remove();\r\n\t * \t\t\t}\r\n\t * \t\t}\r\n\t * \r\n\t * @method on\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n\t * the event is dispatched.\r\n\t * @param {Object} [scope] The scope to execute the listener in. Defaults to the dispatcher/currentTarget for function listeners, and to the listener itself for object listeners (ie. using handleEvent).\r\n\t * @param {Boolean} [once=false] If true, the listener will remove itself after the first time it is triggered.\r\n\t * @param {*} [data] Arbitrary data that will be included as the second parameter when the listener is called.\r\n\t * @param {Boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t * @return {Function} Returns the anonymous function that was created and assigned as the listener. This is needed to remove the listener later using .removeEventListener.\r\n\t **/\r\n\tp.on = function(type, listener, scope, once, data, useCapture) {\r\n\t\tif (listener.handleEvent) {\r\n\t\t\tscope = scope||listener;\r\n\t\t\tlistener = listener.handleEvent;\r\n\t\t}\r\n\t\tscope = scope||this;\r\n\t\treturn this.addEventListener(type, function(evt) {\r\n\t\t\t\tlistener.call(scope, evt, data);\r\n\t\t\t\tonce&&evt.remove();\r\n\t\t\t}, useCapture);\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the specified event listener.\r\n\t *\r\n\t * <b>Important Note:</b> that you must pass the exact function reference used when the event was added. If a proxy\r\n\t * function, or function closure is used as the callback, the proxy/closure reference must be used - a new proxy or\r\n\t * closure will not work.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.removeEventListener(\"click\", handleClick);\r\n\t *\r\n\t * @method removeEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener The listener function or object.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t **/\r\n\tp.removeEventListener = function(type, listener, useCapture) {\r\n\t\tvar listeners = useCapture ? this._captureListeners : this._listeners;\r\n\t\tif (!listeners) { return; }\r\n\t\tvar arr = listeners[type];\r\n\t\tif (!arr) { return; }\r\n\t\tfor (var i=0,l=arr.length; i<l; i++) {\r\n\t\t\tif (arr[i] == listener) {\r\n\t\t\t\tif (l==1) { delete(listeners[type]); } // allows for faster checks.\r\n\t\t\t\telse { arr.splice(i,1); }\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * A shortcut to the removeEventListener method, with the same parameters and return value. This is a companion to the\r\n\t * .on method.\r\n\t * \r\n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener. See \r\n\t * {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} for an example.\r\n\t *\r\n\t * @method off\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener The listener function or object.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t **/\r\n\tp.off = p.removeEventListener;\r\n\r\n\t/**\r\n\t * Removes all listeners for the specified type, or all listeners of all types.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      // Remove all listeners\r\n\t *      displayObject.removeAllEventListeners();\r\n\t *\r\n\t *      // Remove all click listeners\r\n\t *      displayObject.removeAllEventListeners(\"click\");\r\n\t *\r\n\t * @method removeAllEventListeners\r\n\t * @param {String} [type] The string type of the event. If omitted, all listeners for all types will be removed.\r\n\t **/\r\n\tp.removeAllEventListeners = function(type) {\r\n\t\tif (!type) { this._listeners = this._captureListeners = null; }\r\n\t\telse {\r\n\t\t\tif (this._listeners) { delete(this._listeners[type]); }\r\n\t\t\tif (this._captureListeners) { delete(this._captureListeners[type]); }\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Dispatches the specified event to all listeners.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      // Use a string event\r\n\t *      this.dispatchEvent(\"complete\");\r\n\t *\r\n\t *      // Use an Event instance\r\n\t *      var event = new createjs.Event(\"progress\");\r\n\t *      this.dispatchEvent(event);\r\n\t *\r\n\t * @method dispatchEvent\r\n\t * @param {Object | String | Event} eventObj An object with a \"type\" property, or a string type.\r\n\t * While a generic object will work, it is recommended to use a CreateJS Event instance. If a string is used,\r\n\t * dispatchEvent will construct an Event instance if necessary with the specified type. This latter approach can\r\n\t * be used to avoid event object instantiation for non-bubbling events that may not have any listeners.\r\n\t * @param {Boolean} [bubbles] Specifies the `bubbles` value when a string was passed to eventObj.\r\n\t * @param {Boolean} [cancelable] Specifies the `cancelable` value when a string was passed to eventObj.\r\n\t * @return {Boolean} Returns false if `preventDefault()` was called on a cancelable event, true otherwise.\r\n\t **/\r\n\tp.dispatchEvent = function(eventObj, bubbles, cancelable) {\r\n\t\tif (typeof eventObj == \"string\") {\r\n\t\t\t// skip everything if there's no listeners and it doesn't bubble:\r\n\t\t\tvar listeners = this._listeners;\r\n\t\t\tif (!bubbles && (!listeners || !listeners[eventObj])) { return true; }\r\n\t\t\teventObj = new createjs.Event(eventObj, bubbles, cancelable);\r\n\t\t} else if (eventObj.target && eventObj.clone) {\r\n\t\t\t// redispatching an active event object, so clone it:\r\n\t\t\teventObj = eventObj.clone();\r\n\t\t}\r\n\t\t\r\n\t\t// TODO: it would be nice to eliminate this. Maybe in favour of evtObj instanceof Event? Or !!evtObj.createEvent\r\n\t\ttry { eventObj.target = this; } catch (e) {} // try/catch allows redispatching of native events\r\n\r\n\t\tif (!eventObj.bubbles || !this.parent) {\r\n\t\t\tthis._dispatchEvent(eventObj, 2);\r\n\t\t} else {\r\n\t\t\tvar top=this, list=[top];\r\n\t\t\twhile (top.parent) { list.push(top = top.parent); }\r\n\t\t\tvar i, l=list.length;\r\n\r\n\t\t\t// capture & atTarget\r\n\t\t\tfor (i=l-1; i>=0 && !eventObj.propagationStopped; i--) {\r\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 1+(i==0));\r\n\t\t\t}\r\n\t\t\t// bubbling\r\n\t\t\tfor (i=1; i<l && !eventObj.propagationStopped; i++) {\r\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 3);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !eventObj.defaultPrevented;\r\n\t};\r\n\r\n\t/**\r\n\t * Indicates whether there is at least one listener for the specified event type.\r\n\t * @method hasEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @return {Boolean} Returns true if there is at least one listener for the specified event.\r\n\t **/\r\n\tp.hasEventListener = function(type) {\r\n\t\tvar listeners = this._listeners, captureListeners = this._captureListeners;\r\n\t\treturn !!((listeners && listeners[type]) || (captureListeners && captureListeners[type]));\r\n\t};\r\n\t\r\n\t/**\r\n\t * Indicates whether there is at least one listener for the specified event type on this object or any of its\r\n\t * ancestors (parent, parent's parent, etc). A return value of true indicates that if a bubbling event of the\r\n\t * specified type is dispatched from this object, it will trigger at least one listener.\r\n\t * \r\n\t * This is similar to {{#crossLink \"EventDispatcher/hasEventListener\"}}{{/crossLink}}, but it searches the entire\r\n\t * event flow for a listener, not just this object.\r\n\t * @method willTrigger\r\n\t * @param {String} type The string type of the event.\r\n\t * @return {Boolean} Returns `true` if there is at least one listener for the specified event.\r\n\t **/\r\n\tp.willTrigger = function(type) {\r\n\t\tvar o = this;\r\n\t\twhile (o) {\r\n\t\t\tif (o.hasEventListener(type)) { return true; }\r\n\t\t\to = o.parent;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[EventDispatcher]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _dispatchEvent\r\n\t * @param {Object | Event} eventObj\r\n\t * @param {Object} eventPhase\r\n\t * @protected\r\n\t **/\r\n\tp._dispatchEvent = function(eventObj, eventPhase) {\r\n\t\tvar l, arr, listeners = (eventPhase <= 2) ? this._captureListeners : this._listeners;\r\n\t\tif (eventObj && listeners && (arr = listeners[eventObj.type]) && (l=arr.length)) {\r\n\t\t\ttry { eventObj.currentTarget = this; } catch (e) {}\r\n\t\t\ttry { eventObj.eventPhase = eventPhase|0; } catch (e) {}\r\n\t\t\teventObj.removed = false;\r\n\t\t\t\r\n\t\t\tarr = arr.slice(); // to avoid issues with items being removed or added during the dispatch\r\n\t\t\tfor (var i=0; i<l && !eventObj.immediatePropagationStopped; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (o.handleEvent) { o.handleEvent(eventObj); }\r\n\t\t\t\telse { o(eventObj); }\r\n\t\t\t\tif (eventObj.removed) {\r\n\t\t\t\t\tthis.off(eventObj.type, o, eventPhase==1);\r\n\t\t\t\t\teventObj.removed = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (eventPhase === 2) { this._dispatchEvent(eventObj, 2.1); }\r\n\t};\r\n\r\n\r\n\tcreatejs.EventDispatcher = EventDispatcher;\r\n}());\r\n\r\n//##############################################################################\r\n// Ticker.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The Ticker provides a centralized tick or heartbeat broadcast at a set interval. Listeners can subscribe to the tick\r\n\t * event to be notified when a set time interval has elapsed.\r\n\t *\r\n\t * Note that the interval that the tick event is called is a target interval, and may be broadcast at a slower interval\r\n\t * when under high CPU load. The Ticker class uses a static interface (ex. `Ticker.framerate = 30;`) and\r\n\t * can not be instantiated.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      function handleTick(event) {\r\n\t *          // Actions carried out each tick (aka frame)\r\n\t *          if (!event.paused) {\r\n\t *              // Actions carried out when the Ticker is not paused.\r\n\t *          }\r\n\t *      }\r\n\t *\r\n\t * @class Ticker\r\n\t * @uses EventDispatcher\r\n\t * @static\r\n\t **/\r\n\tfunction Ticker() {\r\n\t\tthrow \"Ticker cannot be instantiated.\";\r\n\t}\r\n\r\n\r\n// constants:\r\n\t/**\r\n\t * In this mode, Ticker uses the requestAnimationFrame API, but attempts to synch the ticks to target framerate. It\r\n\t * uses a simple heuristic that compares the time of the RAF return to the target time for the current frame and\r\n\t * dispatches the tick when the time is within a certain threshold.\r\n\t *\r\n\t * This mode has a higher variance for time between frames than {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}},\r\n\t * but does not require that content be time based as with {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}} while\r\n\t * gaining the benefits of that API (screen synch, background throttling).\r\n\t *\r\n\t * Variance is usually lowest for framerates that are a divisor of the RAF frequency. This is usually 60, so\r\n\t * framerates of 10, 12, 15, 20, and 30 work well.\r\n\t *\r\n\t * Falls back to {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\r\n\t * supported.\r\n\t * @property RAF_SYNCHED\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default \"synched\"\r\n\t * @readonly\r\n\t **/\r\n\tTicker.RAF_SYNCHED = \"synched\";\r\n\r\n\t/**\r\n\t * In this mode, Ticker passes through the requestAnimationFrame heartbeat, ignoring the target framerate completely.\r\n\t * Because requestAnimationFrame frequency is not deterministic, any content using this mode should be time based.\r\n\t * You can leverage {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} and the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\r\n\t * event object's \"delta\" properties to make this easier.\r\n\t *\r\n\t * Falls back on {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\r\n\t * supported.\r\n\t * @property RAF\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default \"raf\"\r\n\t * @readonly\r\n\t **/\r\n\tTicker.RAF = \"raf\";\r\n\r\n\t/**\r\n\t * In this mode, Ticker uses the setTimeout API. This provides predictable, adaptive frame timing, but does not\r\n\t * provide the benefits of requestAnimationFrame (screen synch, background throttling).\r\n\t * @property TIMEOUT\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default \"timeout\"\r\n\t * @readonly\r\n\t **/\r\n\tTicker.TIMEOUT = \"timeout\";\r\n\r\n\r\n// static events:\r\n\t/**\r\n\t * Dispatched each tick. The event will be dispatched to each listener even when the Ticker has been paused using\r\n\t * {{#crossLink \"Ticker/paused:property\"}}{{/crossLink}}.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      function handleTick(event) {\r\n\t *          console.log(\"Paused:\", event.paused, event.delta);\r\n\t *      }\r\n\t *\r\n\t * @event tick\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {Boolean} paused Indicates whether the ticker is currently paused.\r\n\t * @param {Number} delta The time elapsed in ms since the last tick.\r\n\t * @param {Number} time The total time in ms since Ticker was initialized.\r\n\t * @param {Number} runTime The total time in ms that Ticker was not paused since it was initialized. For example,\r\n\t * \tyou could determine the amount of time that the Ticker has been paused since initialization with `time-runTime`.\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\r\n// public static properties:\r\n\t/**\r\n\t * Specifies the timing api (setTimeout or requestAnimationFrame) and mode to use. See\r\n\t * {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}}, {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}}, and\r\n\t * {{#crossLink \"Ticker/RAF_SYNCHED:property\"}}{{/crossLink}} for mode details.\r\n\t * @property timingMode\r\n\t * @static\r\n\t * @type {String}\r\n\t * @default Ticker.TIMEOUT\r\n\t **/\r\n\tTicker.timingMode = null;\r\n\r\n\t/**\r\n\t * Specifies a maximum value for the delta property in the tick event object. This is useful when building time\r\n\t * based animations and systems to prevent issues caused by large time gaps caused by background tabs, system sleep,\r\n\t * alert dialogs, or other blocking routines. Double the expected frame duration is often an effective value\r\n\t * (ex. maxDelta=50 when running at 40fps).\r\n\t * \r\n\t * This does not impact any other values (ex. time, runTime, etc), so you may experience issues if you enable maxDelta\r\n\t * when using both delta and other values.\r\n\t * \r\n\t * If 0, there is no maximum.\r\n\t * @property maxDelta\r\n\t * @static\r\n\t * @type {number}\r\n\t * @default 0\r\n\t */\r\n\tTicker.maxDelta = 0;\r\n\t\r\n\t/**\r\n\t * When the ticker is paused, all listeners will still receive a tick event, but the <code>paused</code> property\r\n\t * of the event will be `true`. Also, while paused the `runTime` will not increase. See {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}},\r\n\t * {{#crossLink \"Ticker/getTime\"}}{{/crossLink}}, and {{#crossLink \"Ticker/getEventTime\"}}{{/crossLink}} for more\r\n\t * info.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      createjs.Ticker.paused = true;\r\n\t *      function handleTick(event) {\r\n\t *          console.log(event.paused,\r\n\t *          \tcreatejs.Ticker.getTime(false),\r\n\t *          \tcreatejs.Ticker.getTime(true));\r\n\t *      }\r\n\t *\r\n\t * @property paused\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @default false\r\n\t **/\r\n\tTicker.paused = false;\r\n\r\n\r\n// mix-ins:\r\n\t// EventDispatcher methods:\r\n\tTicker.removeEventListener = null;\r\n\tTicker.removeAllEventListeners = null;\r\n\tTicker.dispatchEvent = null;\r\n\tTicker.hasEventListener = null;\r\n\tTicker._listeners = null;\r\n\tcreatejs.EventDispatcher.initialize(Ticker); // inject EventDispatcher methods.\r\n\tTicker._addEventListener = Ticker.addEventListener;\r\n\tTicker.addEventListener = function() {\r\n\t\t!Ticker._inited&&Ticker.init();\r\n\t\treturn Ticker._addEventListener.apply(Ticker, arguments);\r\n\t};\r\n\r\n\r\n// private static properties:\r\n\t/**\r\n\t * @property _inited\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @private\r\n\t **/\r\n\tTicker._inited = false;\r\n\r\n\t/**\r\n\t * @property _startTime\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._startTime = 0;\r\n\r\n\t/**\r\n\t * @property _pausedTime\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._pausedTime=0;\r\n\r\n\t/**\r\n\t * The number of ticks that have passed\r\n\t * @property _ticks\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._ticks = 0;\r\n\r\n\t/**\r\n\t * The number of ticks that have passed while Ticker has been paused\r\n\t * @property _pausedTicks\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._pausedTicks = 0;\r\n\r\n\t/**\r\n\t * @property _interval\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._interval = 50;\r\n\r\n\t/**\r\n\t * @property _lastTime\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._lastTime = 0;\r\n\r\n\t/**\r\n\t * @property _times\r\n\t * @static\r\n\t * @type {Array}\r\n\t * @private\r\n\t **/\r\n\tTicker._times = null;\r\n\r\n\t/**\r\n\t * @property _tickTimes\r\n\t * @static\r\n\t * @type {Array}\r\n\t * @private\r\n\t **/\r\n\tTicker._tickTimes = null;\r\n\r\n\t/**\r\n\t * Stores the timeout or requestAnimationFrame id.\r\n\t * @property _timerId\r\n\t * @static\r\n\t * @type {Number}\r\n\t * @private\r\n\t **/\r\n\tTicker._timerId = null;\r\n\t\r\n\t/**\r\n\t * True if currently using requestAnimationFrame, false if using setTimeout. This may be different than timingMode\r\n\t * if that property changed and a tick hasn't fired.\r\n\t * @property _raf\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @private\r\n\t **/\r\n\tTicker._raf = true;\r\n\t\r\n\r\n// static getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\r\n\t * @method _setInterval\r\n\t * @private\r\n\t * @static\r\n\t * @param {Number} interval\r\n\t **/\r\n\tTicker._setInterval = function(interval) {\r\n\t\tTicker._interval = interval;\r\n\t\tif (!Ticker._inited) { return; }\r\n\t\tTicker._setupTick();\r\n\t};\r\n\t// Ticker.setInterval is @deprecated. Remove for 1.1+\r\n\tTicker.setInterval = createjs.deprecate(Ticker._setInterval, \"Ticker.setInterval\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getInterval\r\n\t * @private\r\n\t * @static\r\n\t * @return {Number}\r\n\t **/\r\n\tTicker._getInterval = function() {\r\n\t\treturn Ticker._interval;\r\n\t};\r\n\t// Ticker.getInterval is @deprecated. Remove for 1.1+\r\n\tTicker.getInterval = createjs.deprecate(Ticker._getInterval, \"Ticker.getInterval\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\r\n\t * @method _setFPS\r\n\t * @private\r\n\t * @static\r\n\t * @param {Number} value\r\n\t **/\r\n\tTicker._setFPS = function(value) {\r\n\t\tTicker._setInterval(1000/value);\r\n\t};\r\n\t// Ticker.setFPS is @deprecated. Remove for 1.1+\r\n\tTicker.setFPS = createjs.deprecate(Ticker._setFPS, \"Ticker.setFPS\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getFPS\r\n\t * @static\r\n\t * @private\r\n\t * @return {Number}\r\n\t **/\r\n\tTicker._getFPS = function() {\r\n\t\treturn 1000/Ticker._interval;\r\n\t};\r\n\t// Ticker.getFPS is @deprecated. Remove for 1.1+\r\n\tTicker.getFPS = createjs.deprecate(Ticker._getFPS, \"Ticker.getFPS\");\r\n\r\n\t/**\r\n\t * Indicates the target time (in milliseconds) between ticks. Default is 50 (20 FPS).\r\n\t * Note that actual time between ticks may be more than specified depending on CPU load.\r\n\t * This property is ignored if the ticker is using the `RAF` timing mode.\r\n\t * @property interval\r\n\t * @static\r\n\t * @type {Number}\r\n\t **/\r\n\t \r\n\t/**\r\n\t * Indicates the target frame rate in frames per second (FPS). Effectively just a shortcut to `interval`, where\r\n\t * `framerate == 1000/interval`.\r\n\t * @property framerate\r\n\t * @static\r\n\t * @type {Number}\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(Ticker, {\r\n\t\t\tinterval: { get: Ticker._getInterval, set: Ticker._setInterval },\r\n\t\t\tframerate: { get: Ticker._getFPS, set: Ticker._setFPS }\r\n\t\t});\r\n\t} catch (e) { console.log(e); }\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Starts the tick. This is called automatically when the first listener is added.\r\n\t * @method init\r\n\t * @static\r\n\t **/\r\n\tTicker.init = function() {\r\n\t\tif (Ticker._inited) { return; }\r\n\t\tTicker._inited = true;\r\n\t\tTicker._times = [];\r\n\t\tTicker._tickTimes = [];\r\n\t\tTicker._startTime = Ticker._getTime();\r\n\t\tTicker._times.push(Ticker._lastTime = 0);\r\n\t\tTicker.interval = Ticker._interval;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Stops the Ticker and removes all listeners. Use init() to restart the Ticker.\r\n\t * @method reset\r\n\t * @static\r\n\t **/\r\n\tTicker.reset = function() {\r\n\t\tif (Ticker._raf) {\r\n\t\t\tvar f = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame;\r\n\t\t\tf&&f(Ticker._timerId);\r\n\t\t} else {\r\n\t\t\tclearTimeout(Ticker._timerId);\r\n\t\t}\r\n\t\tTicker.removeAllEventListeners(\"tick\");\r\n\t\tTicker._timerId = Ticker._times = Ticker._tickTimes = null;\r\n\t\tTicker._startTime = Ticker._lastTime = Ticker._ticks = Ticker._pausedTime = 0;\r\n\t\tTicker._inited = false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the average time spent within a tick. This can vary significantly from the value provided by getMeasuredFPS\r\n\t * because it only measures the time spent within the tick execution stack. \r\n\t * \r\n\t * Example 1: With a target FPS of 20, getMeasuredFPS() returns 20fps, which indicates an average of 50ms between \r\n\t * the end of one tick and the end of the next. However, getMeasuredTickTime() returns 15ms. This indicates that \r\n\t * there may be up to 35ms of \"idle\" time between the end of one tick and the start of the next.\r\n\t *\r\n\t * Example 2: With a target FPS of 30, {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} returns 10fps, which\r\n\t * indicates an average of 100ms between the end of one tick and the end of the next. However, {{#crossLink \"Ticker/getMeasuredTickTime\"}}{{/crossLink}}\r\n\t * returns 20ms. This would indicate that something other than the tick is using ~80ms (another script, DOM\r\n\t * rendering, etc).\r\n\t * @method getMeasuredTickTime\r\n\t * @static\r\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the average time spent in a tick.\r\n\t * Defaults to the number of ticks per second. To get only the last tick's time, pass in 1.\r\n\t * @return {Number} The average time spent in a tick in milliseconds.\r\n\t **/\r\n\tTicker.getMeasuredTickTime = function(ticks) {\r\n\t\tvar ttl=0, times=Ticker._tickTimes;\r\n\t\tif (!times || times.length < 1) { return -1; }\r\n\r\n\t\t// by default, calculate average for the past ~1 second:\r\n\t\tticks = Math.min(times.length, ticks||(Ticker._getFPS()|0));\r\n\t\tfor (var i=0; i<ticks; i++) { ttl += times[i]; }\r\n\t\treturn ttl/ticks;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the actual frames / ticks per second.\r\n\t * @method getMeasuredFPS\r\n\t * @static\r\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the actual frames / ticks per second.\r\n\t * Defaults to the number of ticks per second.\r\n\t * @return {Number} The actual frames / ticks per second. Depending on performance, this may differ\r\n\t * from the target frames per second.\r\n\t **/\r\n\tTicker.getMeasuredFPS = function(ticks) {\r\n\t\tvar times = Ticker._times;\r\n\t\tif (!times || times.length < 2) { return -1; }\r\n\r\n\t\t// by default, calculate fps for the past ~1 second:\r\n\t\tticks = Math.min(times.length-1, ticks||(Ticker._getFPS()|0));\r\n\t\treturn 1000/((times[0]-times[ticks])/ticks);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the number of milliseconds that have elapsed since Ticker was initialized via {{#crossLink \"Ticker/init\"}}.\r\n\t * Returns -1 if Ticker has not been initialized. For example, you could use\r\n\t * this in a time synchronized animation to determine the exact amount of time that has elapsed.\r\n\t * @method getTime\r\n\t * @static\r\n\t * @param {Boolean} [runTime=false] If true only time elapsed while Ticker was not paused will be returned.\r\n\t * If false, the value returned will be total time elapsed since the first tick event listener was added.\r\n\t * @return {Number} Number of milliseconds that have elapsed since Ticker was initialized or -1.\r\n\t **/\r\n\tTicker.getTime = function(runTime) {\r\n\t\treturn Ticker._startTime ? Ticker._getTime() - (runTime ? Ticker._pausedTime : 0) : -1;\r\n\t};\r\n\r\n\t/**\r\n\t * Similar to the {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} method, but returns the time on the most recent {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\r\n\t * event object.\r\n\t * @method getEventTime\r\n\t * @static\r\n\t * @param runTime {Boolean} [runTime=false] If true, the runTime property will be returned instead of time.\r\n\t * @returns {number} The time or runTime property from the most recent tick event or -1.\r\n\t */\r\n\tTicker.getEventTime = function(runTime) {\r\n\t\treturn Ticker._startTime ? (Ticker._lastTime || Ticker._startTime) - (runTime ? Ticker._pausedTime : 0) : -1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns the number of ticks that have been broadcast by Ticker.\r\n\t * @method getTicks\r\n\t * @static\r\n\t * @param {Boolean} pauseable Indicates whether to include ticks that would have been broadcast\r\n\t * while Ticker was paused. If true only tick events broadcast while Ticker is not paused will be returned.\r\n\t * If false, tick events that would have been broadcast while Ticker was paused will be included in the return\r\n\t * value. The default value is false.\r\n\t * @return {Number} of ticks that have been broadcast.\r\n\t **/\r\n\tTicker.getTicks = function(pauseable) {\r\n\t\treturn  Ticker._ticks - (pauseable ? Ticker._pausedTicks : 0);\r\n\t};\r\n\r\n\r\n// private static methods:\r\n\t/**\r\n\t * @method _handleSynch\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._handleSynch = function() {\r\n\t\tTicker._timerId = null;\r\n\t\tTicker._setupTick();\r\n\r\n\t\t// run if enough time has elapsed, with a little bit of flexibility to be early:\r\n\t\tif (Ticker._getTime() - Ticker._lastTime >= (Ticker._interval-1)*0.97) {\r\n\t\t\tTicker._tick();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleRAF\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._handleRAF = function() {\r\n\t\tTicker._timerId = null;\r\n\t\tTicker._setupTick();\r\n\t\tTicker._tick();\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleTimeout\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._handleTimeout = function() {\r\n\t\tTicker._timerId = null;\r\n\t\tTicker._setupTick();\r\n\t\tTicker._tick();\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setupTick\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._setupTick = function() {\r\n\t\tif (Ticker._timerId != null) { return; } // avoid duplicates\r\n\r\n\t\tvar mode = Ticker.timingMode;\r\n\t\tif (mode == Ticker.RAF_SYNCHED || mode == Ticker.RAF) {\r\n\t\t\tvar f = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\t\t\tif (f) {\r\n\t\t\t\tTicker._timerId = f(mode == Ticker.RAF ? Ticker._handleRAF : Ticker._handleSynch);\r\n\t\t\t\tTicker._raf = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tTicker._raf = false;\r\n\t\tTicker._timerId = setTimeout(Ticker._handleTimeout, Ticker._interval);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _tick\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tTicker._tick = function() {\r\n\t\tvar paused = Ticker.paused;\r\n\t\tvar time = Ticker._getTime();\r\n\t\tvar elapsedTime = time-Ticker._lastTime;\r\n\t\tTicker._lastTime = time;\r\n\t\tTicker._ticks++;\r\n\t\t\r\n\t\tif (paused) {\r\n\t\t\tTicker._pausedTicks++;\r\n\t\t\tTicker._pausedTime += elapsedTime;\r\n\t\t}\r\n\t\t\r\n\t\tif (Ticker.hasEventListener(\"tick\")) {\r\n\t\t\tvar event = new createjs.Event(\"tick\");\r\n\t\t\tvar maxDelta = Ticker.maxDelta;\r\n\t\t\tevent.delta = (maxDelta && elapsedTime > maxDelta) ? maxDelta : elapsedTime;\r\n\t\t\tevent.paused = paused;\r\n\t\t\tevent.time = time;\r\n\t\t\tevent.runTime = time-Ticker._pausedTime;\r\n\t\t\tTicker.dispatchEvent(event);\r\n\t\t}\r\n\t\t\r\n\t\tTicker._tickTimes.unshift(Ticker._getTime()-time);\r\n\t\twhile (Ticker._tickTimes.length > 100) { Ticker._tickTimes.pop(); }\r\n\r\n\t\tTicker._times.unshift(time);\r\n\t\twhile (Ticker._times.length > 100) { Ticker._times.pop(); }\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getTime\r\n\t * @static\r\n\t * @private\r\n\t **/\r\n\tvar w=window, now=w.performance.now || w.performance.mozNow || w.performance.msNow || w.performance.oNow || w.performance.webkitNow;\r\n\tTicker._getTime = function() {\r\n\t\treturn ((now&&now.call(w.performance))||(new Date().getTime())) - Ticker._startTime;\r\n\t};\r\n\r\n\r\n\tcreatejs.Ticker = Ticker;\r\n}());\r\n\r\n//##############################################################################\r\n// VideoBuffer.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * When an HTML video seeks, including when looping, there is an indeterminate period before a new frame is available.\r\n\t * This can result in the video blinking or flashing when it is drawn to a canvas. The VideoBuffer class resolves\r\n\t * this issue by drawing each frame to an off-screen canvas and preserving the prior frame during a seek.\r\n\t * \r\n\t * \tvar myBuffer = new createjs.VideoBuffer(myVideo);\r\n\t * \tvar myBitmap = new Bitmap(myBuffer);\r\n\t * \r\n\t * @class VideoBuffer\r\n\t * @param {HTMLVideoElement} video The HTML video element to buffer.\r\n\t * @constructor\r\n\t **/\r\n\tfunction VideoBuffer(video) {\r\n\t\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Used by Bitmap to determine when the video buffer is ready to be drawn. Not intended for general use.\r\n\t\t * @property readyState\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.readyState = video.readyState;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _video\r\n\t\t * @protected\r\n\t\t * @type {HTMLVideoElement}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._video = video;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _canvas\r\n\t\t * @protected\r\n\t\t * @type {HTMLCanvasElement}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._canvas = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _lastTime\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default -1\r\n\t\t **/\r\n\t\tthis._lastTime = -1;\r\n\t\t\r\n\t\tif (this.readyState < 2) { video.addEventListener(\"canplaythrough\", this._videoReady.bind(this)); } //once:true isn't supported everywhere, but its a non-critical optimization here.\r\n\t}\r\n\tvar p = VideoBuffer.prototype;\r\n\t\r\n\t\r\n// public methods:\r\n\t/**\r\n\t * Gets an HTML canvas element showing the current video frame, or the previous frame if in a seek / loop.\r\n\t * Primarily for use by {{#crossLink \"Bitmap\"}}{{/crossLink}}.\r\n\t * @method getImage\r\n\t **/\r\n\tp.getImage = function() {\r\n\t\tif (this.readyState < 2) { return; }\r\n\t\tvar canvas=this._canvas, video = this._video;\r\n\t\tif (!canvas) {\r\n\t\t\tcanvas = this._canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\r\n\t\t\tcanvas.width = video.videoWidth;\r\n\t\t\tcanvas.height = video.videoHeight;\r\n\t\t}\r\n\t\tif (video.readyState >= 2 && video.currentTime !== this._lastTime) {\r\n\t\t\tvar ctx = canvas.getContext(\"2d\");\r\n\t\t\tctx.clearRect(0,0,canvas.width,canvas.height);\r\n\t\t\tctx.drawImage(video,0,0,canvas.width,canvas.height);\r\n\t\t\tthis._lastTime = video.currentTime;\r\n\t\t}\r\n\t\treturn canvas;\r\n\t};\r\n\t\r\n// private methods:\r\n\t/**\r\n\t * @method _videoReady\r\n\t * @protected\r\n\t **/\r\n\tp._videoReady = function() {\r\n\t\tthis.readyState = 2;\r\n\t};\r\n\r\n\r\n\tcreatejs.VideoBuffer = VideoBuffer;\r\n}());\r\n\r\n//##############################################################################\r\n// MouseEvent.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Passed as the parameter to all mouse/pointer/touch related events. For a listing of mouse events and their properties,\r\n\t * see the {{#crossLink \"DisplayObject\"}}{{/crossLink}} and {{#crossLink \"Stage\"}}{{/crossLink}} event listings.\r\n\t * @class MouseEvent\r\n\t * @param {String} type The event type.\r\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\r\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\r\n\t * @param {Number} stageX The normalized x position relative to the stage.\r\n\t * @param {Number} stageY The normalized y position relative to the stage.\r\n\t * @param {MouseEvent} nativeEvent The native DOM event related to this mouse event.\r\n\t * @param {Number} pointerID The unique id for the pointer.\r\n\t * @param {Boolean} primary Indicates whether this is the primary pointer in a multitouch environment.\r\n\t * @param {Number} rawX The raw x position relative to the stage.\r\n\t * @param {Number} rawY The raw y position relative to the stage.\r\n\t * @param {DisplayObject} relatedTarget The secondary target for the event.\r\n\t * @extends Event\r\n\t * @constructor\r\n\t **/\r\n\tfunction MouseEvent(type, bubbles, cancelable, stageX, stageY, nativeEvent, pointerID, primary, rawX, rawY, relatedTarget) {\r\n\t\tthis.Event_constructor(type, bubbles, cancelable);\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The normalized x position on the stage. This will always be within the range 0 to stage width.\r\n\t\t * @property stageX\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.stageX = stageX;\r\n\t\r\n\t\t/**\r\n\t\t * The normalized y position on the stage. This will always be within the range 0 to stage height.\r\n\t\t * @property stageY\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.stageY = stageY;\r\n\t\r\n\t\t/**\r\n\t\t * The raw x position relative to the stage. Normally this will be the same as the stageX value, unless\r\n\t\t * stage.mouseMoveOutside is true and the pointer is outside of the stage bounds.\r\n\t\t * @property rawX\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.rawX = (rawX==null)?stageX:rawX;\r\n\t\r\n\t\t/**\r\n\t\t * The raw y position relative to the stage. Normally this will be the same as the stageY value, unless\r\n\t\t * stage.mouseMoveOutside is true and the pointer is outside of the stage bounds.\r\n\t\t * @property rawY\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.rawY = (rawY==null)?stageY:rawY;\r\n\t\r\n\t\t/**\r\n\t\t * The native MouseEvent generated by the browser. The properties and API for this\r\n\t\t * event may differ between browsers. This property will be null if the\r\n\t\t * EaselJS property was not directly generated from a native MouseEvent.\r\n\t\t * @property nativeEvent\r\n\t\t * @type HtmlMouseEvent\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.nativeEvent = nativeEvent;\r\n\t\r\n\t\t/**\r\n\t\t * The unique id for the pointer (touch point or cursor). This will be either -1 for the mouse, or the system\r\n\t\t * supplied id value.\r\n\t\t * @property pointerID\r\n\t\t * @type {Number}\r\n\t\t */\r\n\t\tthis.pointerID = pointerID;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether this is the primary pointer in a multitouch environment. This will always be true for the mouse.\r\n\t\t * For touch pointers, the first pointer in the current stack will be considered the primary pointer.\r\n\t\t * @property primary\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\t\tthis.primary = !!primary;\r\n\t\t\r\n\t\t/**\r\n\t\t * The secondary target for the event, if applicable. This is used for mouseout/rollout\r\n\t\t * events to indicate the object that the mouse entered from, mouseover/rollover for the object the mouse exited,\r\n\t\t * and stagemousedown/stagemouseup events for the object that was the under the cursor, if any.\r\n\t\t * \r\n\t\t * Only valid interaction targets will be returned (ie. objects with mouse listeners or a cursor set).\r\n\t\t * @property relatedTarget\r\n\t\t * @type {DisplayObject}\r\n\t\t */\r\n\t\tthis.relatedTarget = relatedTarget;\r\n\t}\r\n\tvar p = createjs.extend(MouseEvent, createjs.Event);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\t\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Returns the x position of the mouse in the local coordinate system of the current target (ie. the dispatcher).\r\n\t * @property localX\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t */\r\n\tp._get_localX = function() {\r\n\t\treturn this.currentTarget.globalToLocal(this.rawX, this.rawY).x;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns the y position of the mouse in the local coordinate system of the current target (ie. the dispatcher).\r\n\t * @property localY\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t */\r\n\tp._get_localY = function() {\r\n\t\treturn this.currentTarget.globalToLocal(this.rawX, this.rawY).y;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Indicates whether the event was generated by a touch input (versus a mouse input).\r\n\t * @property isTouch\r\n\t * @type {Boolean}\r\n\t * @readonly\r\n\t */\r\n\tp._get_isTouch = function() {\r\n\t\treturn this.pointerID !== -1;\r\n\t};\r\n\t\r\n\t\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tlocalX: { get: p._get_localX },\r\n\t\t\tlocalY: { get: p._get_localY },\r\n\t\t\tisTouch: { get: p._get_isTouch }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a clone of the MouseEvent instance.\r\n\t * @method clone\r\n\t * @return {MouseEvent} a clone of the MouseEvent instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new MouseEvent(this.type, this.bubbles, this.cancelable, this.stageX, this.stageY, this.nativeEvent, this.pointerID, this.primary, this.rawX, this.rawY);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[MouseEvent (type=\"+this.type+\" stageX=\"+this.stageX+\" stageY=\"+this.stageY+\")]\";\r\n\t};\r\n\r\n\r\n\tcreatejs.MouseEvent = createjs.promote(MouseEvent, \"Event\");\r\n}());\r\n\r\n//##############################################################################\r\n// Matrix2D.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Represents an affine transformation matrix, and provides tools for constructing and concatenating matrices.\r\n\t *\r\n\t * This matrix can be visualized as:\r\n\t *\r\n\t * \t[ a  c  tx\r\n\t * \t  b  d  ty\r\n\t * \t  0  0  1  ]\r\n\t *\r\n\t * Note the locations of b and c.\r\n\t *\r\n\t * @class Matrix2D\r\n\t * @param {Number} [a=1] Specifies the a property for the new matrix.\r\n\t * @param {Number} [b=0] Specifies the b property for the new matrix.\r\n\t * @param {Number} [c=0] Specifies the c property for the new matrix.\r\n\t * @param {Number} [d=1] Specifies the d property for the new matrix.\r\n\t * @param {Number} [tx=0] Specifies the tx property for the new matrix.\r\n\t * @param {Number} [ty=0] Specifies the ty property for the new matrix.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Matrix2D(a, b, c, d, tx, ty) {\r\n\t\tthis.setValues(a,b,c,d,tx,ty);\r\n\t\t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * Position (0, 0) in a 3x3 affine transformation matrix.\r\n\t\t * @property a\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (0, 1) in a 3x3 affine transformation matrix.\r\n\t\t * @property b\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (1, 0) in a 3x3 affine transformation matrix.\r\n\t\t * @property c\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (1, 1) in a 3x3 affine transformation matrix.\r\n\t\t * @property d\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (2, 0) in a 3x3 affine transformation matrix.\r\n\t\t * @property tx\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Position (2, 1) in a 3x3 affine transformation matrix.\r\n\t\t * @property ty\r\n\t\t * @type Number\r\n\t\t **/\r\n\t}\r\n\tvar p = Matrix2D.prototype;\r\n\r\n// constants:\r\n\t/**\r\n\t * Multiplier for converting degrees to radians. Used internally by Matrix2D.\r\n\t * @property DEG_TO_RAD\r\n\t * @static\r\n\t * @final\r\n\t * @type Number\r\n\t * @readonly\r\n\t **/\r\n\tMatrix2D.DEG_TO_RAD = Math.PI/180;\r\n\r\n\r\n// static public properties:\r\n\t/**\r\n\t * An identity matrix, representing a null transformation.\r\n\t * @property identity\r\n\t * @static\r\n\t * @type Matrix2D\r\n\t * @readonly\r\n\t **/\r\n\tMatrix2D.identity = null; // set at bottom of class definition.\r\n\t\r\n\r\n// public methods:\r\n\t/**\r\n\t * Sets the specified values on this instance. \r\n\t * @method setValues\r\n\t * @param {Number} [a=1] Specifies the a property for the new matrix.\r\n\t * @param {Number} [b=0] Specifies the b property for the new matrix.\r\n\t * @param {Number} [c=0] Specifies the c property for the new matrix.\r\n\t * @param {Number} [d=1] Specifies the d property for the new matrix.\r\n\t * @param {Number} [tx=0] Specifies the tx property for the new matrix.\r\n\t * @param {Number} [ty=0] Specifies the ty property for the new matrix.\r\n\t * @return {Matrix2D} This instance. Useful for chaining method calls.\r\n\t*/\r\n\tp.setValues = function(a, b, c, d, tx, ty) {\r\n\t\t// don't forget to update docs in the constructor if these change:\r\n\t\tthis.a = (a == null) ? 1 : a;\r\n\t\tthis.b = b || 0;\r\n\t\tthis.c = c || 0;\r\n\t\tthis.d = (d == null) ? 1 : d;\r\n\t\tthis.tx = tx || 0;\r\n\t\tthis.ty = ty || 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Appends the specified matrix properties to this matrix. All parameters are required.\r\n\t * This is the equivalent of multiplying `(this matrix) * (specified matrix)`.\r\n\t * @method append\r\n\t * @param {Number} a\r\n\t * @param {Number} b\r\n\t * @param {Number} c\r\n\t * @param {Number} d\r\n\t * @param {Number} tx\r\n\t * @param {Number} ty\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.append = function(a, b, c, d, tx, ty) {\r\n\t\tvar a1 = this.a;\r\n\t\tvar b1 = this.b;\r\n\t\tvar c1 = this.c;\r\n\t\tvar d1 = this.d;\r\n\t\tif (a != 1 || b != 0 || c != 0 || d != 1) {\r\n\t\t\tthis.a  = a1*a+c1*b;\r\n\t\t\tthis.b  = b1*a+d1*b;\r\n\t\t\tthis.c  = a1*c+c1*d;\r\n\t\t\tthis.d  = b1*c+d1*d;\r\n\t\t}\r\n\t\tthis.tx = a1*tx+c1*ty+this.tx;\r\n\t\tthis.ty = b1*tx+d1*ty+this.ty;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Prepends the specified matrix properties to this matrix.\r\n\t * This is the equivalent of multiplying `(specified matrix) * (this matrix)`.\r\n\t * All parameters are required.\r\n\t * @method prepend\r\n\t * @param {Number} a\r\n\t * @param {Number} b\r\n\t * @param {Number} c\r\n\t * @param {Number} d\r\n\t * @param {Number} tx\r\n\t * @param {Number} ty\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.prepend = function(a, b, c, d, tx, ty) {\r\n\t\tvar a1 = this.a;\r\n\t\tvar c1 = this.c;\r\n\t\tvar tx1 = this.tx;\r\n\r\n\t\tthis.a  = a*a1+c*this.b;\r\n\t\tthis.b  = b*a1+d*this.b;\r\n\t\tthis.c  = a*c1+c*this.d;\r\n\t\tthis.d  = b*c1+d*this.d;\r\n\t\tthis.tx = a*tx1+c*this.ty+tx;\r\n\t\tthis.ty = b*tx1+d*this.ty+ty;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Appends the specified matrix to this matrix.\r\n\t * This is the equivalent of multiplying `(this matrix) * (specified matrix)`.\r\n\t * @method appendMatrix\r\n\t * @param {Matrix2D} matrix\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.appendMatrix = function(matrix) {\r\n\t\treturn this.append(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Prepends the specified matrix to this matrix.\r\n\t * This is the equivalent of multiplying `(specified matrix) * (this matrix)`.\r\n\t * For example, you could calculate the combined transformation for a child object using:\r\n\t * \r\n\t * \tvar o = myDisplayObject;\r\n\t * \tvar mtx = o.getMatrix();\r\n\t * \twhile (o = o.parent) {\r\n\t * \t\t// prepend each parent's transformation in turn:\r\n\t * \t\to.prependMatrix(o.getMatrix());\r\n\t * \t}\r\n\t * @method prependMatrix\r\n\t * @param {Matrix2D} matrix\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.prependMatrix = function(matrix) {\r\n\t\treturn this.prepend(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Generates matrix properties from the specified display object transform properties, and appends them to this matrix.\r\n\t * For example, you can use this to generate a matrix representing the transformations of a display object:\r\n\t * \r\n\t * \tvar mtx = new createjs.Matrix2D();\r\n\t * \tmtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation);\r\n\t * @method appendTransform\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} scaleX\r\n\t * @param {Number} scaleY\r\n\t * @param {Number} rotation\r\n\t * @param {Number} skewX\r\n\t * @param {Number} skewY\r\n\t * @param {Number} regX Optional.\r\n\t * @param {Number} regY Optional.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.appendTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\tif (rotation%360) {\r\n\t\t\tvar r = rotation*Matrix2D.DEG_TO_RAD;\r\n\t\t\tvar cos = Math.cos(r);\r\n\t\t\tvar sin = Math.sin(r);\r\n\t\t} else {\r\n\t\t\tcos = 1;\r\n\t\t\tsin = 0;\r\n\t\t}\r\n\r\n\t\tif (skewX || skewY) {\r\n\t\t\t// TODO: can this be combined into a single append operation?\r\n\t\t\tskewX *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tskewY *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\r\n\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\r\n\t\t} else {\r\n\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\r\n\t\t}\r\n\t\t\r\n\t\tif (regX || regY) {\r\n\t\t\t// append the registration offset:\r\n\t\t\tthis.tx -= regX*this.a+regY*this.c; \r\n\t\t\tthis.ty -= regX*this.b+regY*this.d;\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Generates matrix properties from the specified display object transform properties, and prepends them to this matrix.\r\n\t * For example, you could calculate the combined transformation for a child object using:\r\n\t * \r\n\t * \tvar o = myDisplayObject;\r\n\t * \tvar mtx = new createjs.Matrix2D();\r\n\t * \tdo  {\r\n\t * \t\t// prepend each parent's transformation in turn:\r\n\t * \t\tmtx.prependTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY);\r\n\t * \t} while (o = o.parent);\r\n\t * \t\r\n\t * \tNote that the above example would not account for {{#crossLink \"DisplayObject/transformMatrix:property\"}}{{/crossLink}}\r\n\t * \tvalues. See {{#crossLink \"Matrix2D/prependMatrix\"}}{{/crossLink}} for an example that does.\r\n\t * @method prependTransform\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} scaleX\r\n\t * @param {Number} scaleY\r\n\t * @param {Number} rotation\r\n\t * @param {Number} skewX\r\n\t * @param {Number} skewY\r\n\t * @param {Number} regX Optional.\r\n\t * @param {Number} regY Optional.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.prependTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\tif (rotation%360) {\r\n\t\t\tvar r = rotation*Matrix2D.DEG_TO_RAD;\r\n\t\t\tvar cos = Math.cos(r);\r\n\t\t\tvar sin = Math.sin(r);\r\n\t\t} else {\r\n\t\t\tcos = 1;\r\n\t\t\tsin = 0;\r\n\t\t}\r\n\r\n\t\tif (regX || regY) {\r\n\t\t\t// prepend the registration offset:\r\n\t\t\tthis.tx -= regX; this.ty -= regY;\r\n\t\t}\r\n\t\tif (skewX || skewY) {\r\n\t\t\t// TODO: can this be combined into a single prepend operation?\r\n\t\t\tskewX *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tskewY *= Matrix2D.DEG_TO_RAD;\r\n\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\r\n\t\t\tthis.prepend(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\r\n\t\t} else {\r\n\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies a clockwise rotation transformation to the matrix.\r\n\t * @method rotate\r\n\t * @param {Number} angle The angle to rotate by, in degrees. To use a value in radians, multiply it by `180/Math.PI`.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.rotate = function(angle) {\r\n\t\tangle = angle*Matrix2D.DEG_TO_RAD;\r\n\t\tvar cos = Math.cos(angle);\r\n\t\tvar sin = Math.sin(angle);\r\n\r\n\t\tvar a1 = this.a;\r\n\t\tvar b1 = this.b;\r\n\r\n\t\tthis.a = a1*cos+this.c*sin;\r\n\t\tthis.b = b1*cos+this.d*sin;\r\n\t\tthis.c = -a1*sin+this.c*cos;\r\n\t\tthis.d = -b1*sin+this.d*cos;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies a skew transformation to the matrix.\r\n\t * @method skew\r\n\t * @param {Number} skewX The amount to skew horizontally in degrees. To use a value in radians, multiply it by `180/Math.PI`.\r\n\t * @param {Number} skewY The amount to skew vertically in degrees.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t*/\r\n\tp.skew = function(skewX, skewY) {\r\n\t\tskewX = skewX*Matrix2D.DEG_TO_RAD;\r\n\t\tskewY = skewY*Matrix2D.DEG_TO_RAD;\r\n\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), 0, 0);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies a scale transformation to the matrix.\r\n\t * @method scale\r\n\t * @param {Number} x The amount to scale horizontally. E.G. a value of 2 will double the size in the X direction, and 0.5 will halve it.\r\n\t * @param {Number} y The amount to scale vertically.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.scale = function(x, y) {\r\n\t\tthis.a *= x;\r\n\t\tthis.b *= x;\r\n\t\tthis.c *= y;\r\n\t\tthis.d *= y;\r\n\t\t//this.tx *= x;\r\n\t\t//this.ty *= y;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Translates the matrix on the x and y axes.\r\n\t * @method translate\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.translate = function(x, y) {\r\n\t\tthis.tx += this.a*x + this.c*y;\r\n\t\tthis.ty += this.b*x + this.d*y;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the properties of the matrix to those of an identity matrix (one that applies a null transformation).\r\n\t * @method identity\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.identity = function() {\r\n\t\tthis.a = this.d = 1;\r\n\t\tthis.b = this.c = this.tx = this.ty = 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Inverts the matrix, causing it to perform the opposite transformation.\r\n\t * @method invert\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.invert = function() {\r\n\t\tvar a1 = this.a;\r\n\t\tvar b1 = this.b;\r\n\t\tvar c1 = this.c;\r\n\t\tvar d1 = this.d;\r\n\t\tvar tx1 = this.tx;\r\n\t\tvar n = a1*d1-b1*c1;\r\n\r\n\t\tthis.a = d1/n;\r\n\t\tthis.b = -b1/n;\r\n\t\tthis.c = -c1/n;\r\n\t\tthis.d = a1/n;\r\n\t\tthis.tx = (c1*this.ty-d1*tx1)/n;\r\n\t\tthis.ty = -(a1*this.ty-b1*tx1)/n;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if the matrix is an identity matrix.\r\n\t * @method isIdentity\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.isIdentity = function() {\r\n\t\treturn this.tx === 0 && this.ty === 0 && this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns true if this matrix is equal to the specified matrix (all property values are equal).\r\n\t * @method equals\r\n\t * @param {Matrix2D} matrix The matrix to compare.\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.equals = function(matrix) {\r\n\t\treturn this.tx === matrix.tx && this.ty === matrix.ty && this.a === matrix.a && this.b === matrix.b && this.c === matrix.c && this.d === matrix.d;\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms a point according to this matrix.\r\n\t * @method transformPoint\r\n\t * @param {Number} x The x component of the point to transform.\r\n\t * @param {Number} y The y component of the point to transform.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a generic object with x/y properties will be returned.\r\n\t * @return {Point} This matrix. Useful for chaining method calls.\r\n\t **/\r\n\tp.transformPoint = function(x, y, pt) {\r\n\t\tpt = pt||{};\r\n\t\tpt.x = x*this.a+y*this.c+this.tx;\r\n\t\tpt.y = x*this.b+y*this.d+this.ty;\r\n\t\treturn pt;\r\n\t};\r\n\r\n\t/**\r\n\t * Decomposes the matrix into transform properties (x, y, scaleX, scaleY, and rotation). Note that these values\r\n\t * may not match the transform properties you used to generate the matrix, though they will produce the same visual\r\n\t * results.\r\n\t * @method decompose\r\n\t * @param {Object} target The object to apply the transform properties to. If null, then a new object will be returned.\r\n\t * @return {Object} The target, or a new generic object with the transform properties applied.\r\n\t*/\r\n\tp.decompose = function(target) {\r\n\t\t// TODO: it would be nice to be able to solve for whether the matrix can be decomposed into only scale/rotation even when scale is negative\r\n\t\tif (target == null) { target = {}; }\r\n\t\ttarget.x = this.tx;\r\n\t\ttarget.y = this.ty;\r\n\t\ttarget.scaleX = Math.sqrt(this.a * this.a + this.b * this.b);\r\n\t\ttarget.scaleY = Math.sqrt(this.c * this.c + this.d * this.d);\r\n\r\n\t\tvar skewX = Math.atan2(-this.c, this.d);\r\n\t\tvar skewY = Math.atan2(this.b, this.a);\r\n\r\n\t\tvar delta = Math.abs(1-skewX/skewY);\r\n\t\tif (delta < 0.00001) { // effectively identical, can use rotation:\r\n\t\t\ttarget.rotation = skewY/Matrix2D.DEG_TO_RAD;\r\n\t\t\tif (this.a < 0 && this.d >= 0) {\r\n\t\t\t\ttarget.rotation += (target.rotation <= 0) ? 180 : -180;\r\n\t\t\t}\r\n\t\t\ttarget.skewX = target.skewY = 0;\r\n\t\t} else {\r\n\t\t\ttarget.skewX = skewX/Matrix2D.DEG_TO_RAD;\r\n\t\t\ttarget.skewY = skewY/Matrix2D.DEG_TO_RAD;\r\n\t\t}\r\n\t\treturn target;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Copies all properties from the specified matrix to this matrix.\r\n\t * @method copy\r\n\t * @param {Matrix2D} matrix The matrix to copy properties from.\r\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\r\n\t*/\r\n\tp.copy = function(matrix) {\r\n\t\treturn this.setValues(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of the Matrix2D instance.\r\n\t * @method clone\r\n\t * @return {Matrix2D} a clone of the Matrix2D instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Matrix2D(this.a, this.b, this.c, this.d, this.tx, this.ty);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Matrix2D (a=\"+this.a+\" b=\"+this.b+\" c=\"+this.c+\" d=\"+this.d+\" tx=\"+this.tx+\" ty=\"+this.ty+\")]\";\r\n\t};\r\n\r\n\t// this has to be populated after the class is defined:\r\n\tMatrix2D.identity = new Matrix2D();\r\n\r\n\r\n\tcreatejs.Matrix2D = Matrix2D;\r\n}());\r\n\r\n//##############################################################################\r\n// DisplayProps.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Used for calculating and encapsulating display related properties.\r\n\t * @class DisplayProps\r\n\t * @param {Number} [visible=true] Visible value.\r\n\t * @param {Number} [alpha=1] Alpha value.\r\n\t * @param {Number} [shadow=null] A Shadow instance or null.\r\n\t * @param {Number} [compositeOperation=null] A compositeOperation value or null.\r\n\t * @param {Number} [matrix] A transformation matrix. Defaults to a new identity matrix.\r\n\t * @constructor\r\n\t **/\r\n\tfunction DisplayProps(visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.setValues(visible, alpha, shadow, compositeOperation, matrix);\r\n\t\t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * Property representing the alpha that will be applied to a display object.\r\n\t\t * @property alpha\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Property representing the shadow that will be applied to a display object.\r\n\t\t * @property shadow\r\n\t\t * @type Shadow\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Property representing the compositeOperation that will be applied to a display object.\r\n\t\t * You can find a list of valid composite operations at:\r\n\t\t * <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing\">https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing</a>\r\n\t\t * @property compositeOperation\r\n\t\t * @type String\r\n\t\t **/\r\n\t\t\r\n\t\t/**\r\n\t\t * Property representing the value for visible that will be applied to a display object.\r\n\t\t * @property visible\r\n\t\t * @type Boolean\r\n\t\t **/\r\n\t\t\r\n\t\t/**\r\n\t\t * The transformation matrix that will be applied to a display object.\r\n\t\t * @property matrix\r\n\t\t * @type Matrix2D\r\n\t\t **/\r\n\t}\r\n\tvar p = DisplayProps.prototype;\r\n\r\n// initialization:\r\n\t/**\r\n\t * Reinitializes the instance with the specified values.\r\n\t * @method setValues\r\n\t * @param {Number} [visible=true] Visible value.\r\n\t * @param {Number} [alpha=1] Alpha value.\r\n\t * @param {Number} [shadow=null] A Shadow instance or null.\r\n\t * @param {Number} [compositeOperation=null] A compositeOperation value or null.\r\n\t * @param {Number} [matrix] A transformation matrix. Defaults to an identity matrix.\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.setValues = function (visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.visible = visible == null ? true : !!visible;\r\n\t\tthis.alpha = alpha == null ? 1 : alpha;\r\n\t\tthis.shadow = shadow;\r\n\t\tthis.compositeOperation = compositeOperation;\r\n\t\tthis.matrix = matrix || (this.matrix&&this.matrix.identity()) || new createjs.Matrix2D();\r\n\t\treturn this;\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Appends the specified display properties. This is generally used to apply a child's properties its parent's.\r\n\t * @method append\r\n\t * @param {Boolean} visible desired visible value\r\n\t * @param {Number} alpha desired alpha value\r\n\t * @param {Shadow} shadow desired shadow value\r\n\t * @param {String} compositeOperation desired composite operation value\r\n\t * @param {Matrix2D} [matrix] a Matrix2D instance\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.append = function(visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.alpha *= alpha;\r\n\t\tthis.shadow = shadow || this.shadow;\r\n\t\tthis.compositeOperation = compositeOperation || this.compositeOperation;\r\n\t\tthis.visible = this.visible && visible;\r\n\t\tmatrix&&this.matrix.appendMatrix(matrix);\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Prepends the specified display properties. This is generally used to apply a parent's properties to a child's.\r\n\t * For example, to get the combined display properties that would be applied to a child, you could use:\r\n\t * \r\n\t * \tvar o = myDisplayObject;\r\n\t * \tvar props = new createjs.DisplayProps();\r\n\t * \tdo {\r\n\t * \t\t// prepend each parent's props in turn:\r\n\t * \t\tprops.prepend(o.visible, o.alpha, o.shadow, o.compositeOperation, o.getMatrix());\r\n\t * \t} while (o = o.parent);\r\n\t * \t\r\n\t * @method prepend\r\n\t * @param {Boolean} visible desired visible value\r\n\t * @param {Number} alpha desired alpha value\r\n\t * @param {Shadow} shadow desired shadow value\r\n\t * @param {String} compositeOperation desired composite operation value\r\n\t * @param {Matrix2D} [matrix] a Matrix2D instance\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.prepend = function(visible, alpha, shadow, compositeOperation, matrix) {\r\n\t\tthis.alpha *= alpha;\r\n\t\tthis.shadow = this.shadow || shadow;\r\n\t\tthis.compositeOperation = this.compositeOperation || compositeOperation;\r\n\t\tthis.visible = this.visible && visible;\r\n\t\tmatrix&&this.matrix.prependMatrix(matrix);\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Resets this instance and its matrix to default values.\r\n\t * @method identity\r\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.identity = function() {\r\n\t\tthis.visible = true;\r\n\t\tthis.alpha = 1;\r\n\t\tthis.shadow = this.compositeOperation = null;\r\n\t\tthis.matrix.identity();\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the DisplayProps instance. Clones the associated matrix.\r\n\t * @method clone\r\n\t * @return {DisplayProps} a clone of the DisplayProps instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new DisplayProps(this.alpha, this.shadow, this.compositeOperation, this.visible, this.matrix.clone());\r\n\t};\r\n\r\n// private methods:\r\n\r\n\tcreatejs.DisplayProps = DisplayProps;\r\n})();\r\n\r\n//##############################################################################\r\n// Point.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Represents a point on a 2 dimensional x / y coordinate system.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * \r\n\t *      var point = new createjs.Point(0, 100);\r\n\t * \r\n\t * @class Point\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Point(x, y) {\r\n\t \tthis.setValues(x, y);\r\n\t \t\r\n\t \t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * X position.\r\n\t\t * @property x\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Y position.\r\n\t\t * @property y\r\n\t\t * @type Number\r\n\t\t **/\r\n\t}\r\n\tvar p = Point.prototype;\r\n\t\r\n// public methods:\r\n\t/** \r\n\t * Sets the specified values on this instance.\r\n\t * @method setValues\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @return {Point} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.setValues = function(x, y) {\r\n\t\tthis.x = x||0;\r\n\t\tthis.y = y||0;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Copies all properties from the specified point to this point.\r\n\t * @method copy\r\n\t * @param {Point} point The point to copy properties from.\r\n\t * @return {Point} This point. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.copy = function(point) {\r\n\t\tthis.x = point.x;\r\n\t\tthis.y = point.y;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Point instance.\r\n\t * @method clone\r\n\t * @return {Point} a clone of the Point instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Point(this.x, this.y);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Point (x=\"+this.x+\" y=\"+this.y+\")]\";\r\n\t};\r\n\t\r\n\t\r\n\tcreatejs.Point = Point;\r\n}());\r\n\r\n//##############################################################################\r\n// Rectangle.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Represents a rectangle as defined by the points (x, y) and (x+width, y+height).\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var rect = new createjs.Rectangle(0, 0, 100, 100);\r\n\t *\r\n\t * @class Rectangle\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @param {Number} [width=0] The width of the Rectangle.\r\n\t * @param {Number} [height=0] The height of the Rectangle.\r\n\t * @constructor\r\n\t **/\r\n\tfunction Rectangle(x, y, width, height) {\r\n\t\tthis.setValues(x, y, width, height);\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t// assigned in the setValues method.\r\n\t\t/**\r\n\t\t * X position.\r\n\t\t * @property x\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Y position.\r\n\t\t * @property y\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Width.\r\n\t\t * @property width\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\r\n\t\t/**\r\n\t\t * Height.\r\n\t\t * @property height\r\n\t\t * @type Number\r\n\t\t **/\r\n\t}\r\n\tvar p = Rectangle.prototype;\r\n\r\n// public methods:\r\n\t/** \r\n\t * Sets the specified values on this instance.\r\n\t * @method setValues\r\n\t * @param {Number} [x=0] X position.\r\n\t * @param {Number} [y=0] Y position.\r\n\t * @param {Number} [width=0] The width of the Rectangle.\r\n\t * @param {Number} [height=0] The height of the Rectangle.\r\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.setValues = function(x, y, width, height) {\r\n\t\t// don't forget to update docs in the constructor if these change:\r\n\t\tthis.x = x||0;\r\n\t\tthis.y = y||0;\r\n\t\tthis.width = width||0;\r\n\t\tthis.height = height||0;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/** \r\n\t * Extends the rectangle's bounds to include the described point or rectangle.\r\n\t * @method extend\r\n\t * @param {Number} x X position of the point or rectangle.\r\n\t * @param {Number} y Y position of the point or rectangle.\r\n\t * @param {Number} [width=0] The width of the rectangle.\r\n\t * @param {Number} [height=0] The height of the rectangle.\r\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.extend = function(x, y, width, height) {\r\n\t\twidth = width||0;\r\n\t\theight = height||0;\r\n\t\tif (x+width > this.x+this.width) { this.width = x+width-this.x; }\r\n\t\tif (y+height > this.y+this.height) { this.height = y+height-this.y; }\r\n\t\tif (x < this.x) { this.width += this.x-x; this.x = x; }\r\n\t\tif (y < this.y) { this.height += this.y-y; this.y = y; }\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/** \r\n\t * Adds the specified padding to the rectangle's bounds.\r\n\t * @method pad\r\n\t * @param {Number} top\r\n\t * @param {Number} left\r\n\t * @param {Number} bottom\r\n\t * @param {Number} right\r\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.pad = function(top, left, bottom, right) {\r\n\t\tthis.x -= left;\r\n\t\tthis.y -= top;\r\n\t\tthis.width += left+right;\r\n\t\tthis.height += top+bottom;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Copies all properties from the specified rectangle to this rectangle.\r\n\t * @method copy\r\n\t * @param {Rectangle} rectangle The rectangle to copy properties from.\r\n\t * @return {Rectangle} This rectangle. Useful for chaining method calls.\r\n\t * @chainable\r\n\t*/\r\n\tp.copy = function(rectangle) {\r\n\t\treturn this.setValues(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns true if this rectangle fully encloses the described point or rectangle.\r\n\t * @method contains\r\n\t * @param {Number} x X position of the point or rectangle.\r\n\t * @param {Number} y Y position of the point or rectangle.\r\n\t * @param {Number} [width=0] The width of the rectangle.\r\n\t * @param {Number} [height=0] The height of the rectangle.\r\n\t * @return {Boolean} True if the described point or rectangle is contained within this rectangle.\r\n\t*/\r\n\tp.contains = function(x, y, width, height) {\r\n\t\twidth = width||0;\r\n\t\theight = height||0;\r\n\t\treturn (x >= this.x && x+width <= this.x+this.width && y >= this.y && y+height <= this.y+this.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns a new rectangle which contains this rectangle and the specified rectangle.\r\n\t * @method union\r\n\t * @param {Rectangle} rect The rectangle to calculate a union with.\r\n\t * @return {Rectangle} A new rectangle describing the union.\r\n\t*/\r\n\tp.union = function(rect) {\r\n\t\treturn this.clone().extend(rect.x, rect.y, rect.width, rect.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns a new rectangle which describes the intersection (overlap) of this rectangle and the specified rectangle,\r\n\t * or null if they do not intersect.\r\n\t * @method intersection\r\n\t * @param {Rectangle} rect The rectangle to calculate an intersection with.\r\n\t * @return {Rectangle} A new rectangle describing the intersection or null.\r\n\t*/\r\n\tp.intersection = function(rect) {\r\n\t\tvar x1 = rect.x, y1 = rect.y, x2 = x1+rect.width, y2 = y1+rect.height;\r\n\t\tif (this.x > x1) { x1 = this.x; }\r\n\t\tif (this.y > y1) { y1 = this.y; }\r\n\t\tif (this.x + this.width < x2) { x2 = this.x + this.width; }\r\n\t\tif (this.y + this.height < y2) { y2 = this.y + this.height; }\r\n\t\treturn (x2 <= x1 || y2 <= y1) ? null : new Rectangle(x1, y1, x2-x1, y2-y1);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns true if the specified rectangle intersects (has any overlap) with this rectangle.\r\n\t * @method intersects\r\n\t * @param {Rectangle} rect The rectangle to compare.\r\n\t * @return {Boolean} True if the rectangles intersect.\r\n\t*/\r\n\tp.intersects = function(rect) {\r\n\t\treturn (rect.x <= this.x+this.width && this.x <= rect.x+rect.width && rect.y <= this.y+this.height && this.y <= rect.y + rect.height);\r\n\t};\r\n\t\r\n\t/** \r\n\t * Returns true if the width or height are equal or less than 0.\r\n\t * @method isEmpty\r\n\t * @return {Boolean} True if the rectangle is empty.\r\n\t*/\r\n\tp.isEmpty = function() {\r\n\t\treturn this.width <= 0 || this.height <= 0;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Rectangle instance.\r\n\t * @method clone\r\n\t * @return {Rectangle} a clone of the Rectangle instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Rectangle (x=\"+this.x+\" y=\"+this.y+\" width=\"+this.width+\" height=\"+this.height+\")]\";\r\n\t};\r\n\t\r\n\t\r\n\tcreatejs.Rectangle = Rectangle;\r\n}());\r\n\r\n//##############################################################################\r\n// ButtonHelper.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The ButtonHelper is a helper class to create interactive buttons from {{#crossLink \"MovieClip\"}}{{/crossLink}} or\r\n\t * {{#crossLink \"Sprite\"}}{{/crossLink}} instances. This class will intercept mouse events from an object, and\r\n\t * automatically call {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} or {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}},\r\n\t * to the respective animation labels, add a pointer cursor, and allows the user to define a hit state frame.\r\n\t *\r\n\t * The ButtonHelper instance does not need to be added to the stage, but a reference should be maintained to prevent\r\n\t * garbage collection.\r\n\t * \r\n\t * Note that over states will not work unless you call {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var helper = new createjs.ButtonHelper(myInstance, \"out\", \"over\", \"down\", false, myInstance, \"hit\");\r\n\t *      myInstance.addEventListener(\"click\", handleClick);\r\n\t *      function handleClick(event) {\r\n\t *          // Click Happened.\r\n\t *      }\r\n\t *\r\n\t * @class ButtonHelper\r\n\t * @param {Sprite|MovieClip} target The instance to manage.\r\n\t * @param {String} [outLabel=\"out\"] The label or animation to go to when the user rolls out of the button.\r\n\t * @param {String} [overLabel=\"over\"] The label or animation to go to when the user rolls over the button.\r\n\t * @param {String} [downLabel=\"down\"] The label or animation to go to when the user presses the button.\r\n\t * @param {Boolean} [play=false] If the helper should call \"gotoAndPlay\" or \"gotoAndStop\" on the button when changing\r\n\t * states.\r\n\t * @param {DisplayObject} [hitArea] An optional item to use as the hit state for the button. If this is not defined,\r\n\t * then the button's visible states will be used instead. Note that the same instance as the \"target\" argument can be\r\n\t * used for the hitState.\r\n\t * @param {String} [hitLabel] The label or animation on the hitArea instance that defines the hitArea bounds. If this is\r\n\t * null, then the default state of the hitArea will be used. *\r\n\t * @constructor\r\n\t */\r\n\tfunction ButtonHelper(target, outLabel, overLabel, downLabel, play, hitArea, hitLabel) {\r\n\t\tif (!target.addEventListener) { return; }\r\n\t\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The target for this button helper.\r\n\t\t * @property target\r\n\t\t * @type MovieClip | Sprite\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\twindow.target = target;\r\n\t\r\n\t\t/**\r\n\t\t * The label name or frame number to display when the user mouses out of the target. Defaults to \"over\".\r\n\t\t * @property overLabel\r\n\t\t * @type String | Number\r\n\t\t **/\r\n\t\tthis.overLabel = overLabel == null ? \"over\" : overLabel;\r\n\t\r\n\t\t/**\r\n\t\t * The label name or frame number to display when the user mouses over the target. Defaults to \"out\".\r\n\t\t * @property outLabel\r\n\t\t * @type String | Number\r\n\t\t **/\r\n\t\tthis.outLabel = outLabel == null ? \"out\" : outLabel;\r\n\t\r\n\t\t/**\r\n\t\t * The label name or frame number to display when the user presses on the target. Defaults to \"down\".\r\n\t\t * @property downLabel\r\n\t\t * @type String | Number\r\n\t\t **/\r\n\t\tthis.downLabel = downLabel == null ? \"down\" : downLabel;\r\n\t\r\n\t\t/**\r\n\t\t * If true, then ButtonHelper will call gotoAndPlay, if false, it will use gotoAndStop. Default is false.\r\n\t\t * @property play\r\n\t\t * @default false\r\n\t\t * @type Boolean\r\n\t\t **/\r\n\t\tthis.play = play;\r\n\t\t\r\n\t\t\r\n\t//  private properties\r\n\t\t/**\r\n\t\t * @property _isPressed\r\n\t\t * @type Boolean\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._isPressed = false;\r\n\t\r\n\t\t/**\r\n\t\t * @property _isOver\r\n\t\t * @type Boolean\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._isOver = false;\r\n\t\r\n\t\t/**\r\n\t\t * @property _enabled\r\n\t\t * @type Boolean\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._enabled = false;\r\n\t\t\r\n\t// setup:\r\n\t\ttarget.mouseChildren = false; // prevents issues when children are removed from the display list when state changes.\r\n\t\tthis.enabled = true;\r\n\t\tthis.handleEvent({});\r\n\t\tif (hitArea) {\r\n\t\t\tif (hitLabel) {\r\n\t\t\t\thitArea.actionsEnabled = false;\r\n\t\t\t\thitArea.gotoAndStop&&hitArea.gotoAndStop(hitLabel);\r\n\t\t\t}\r\n\t\t\ttarget.hitArea = hitArea;\r\n\t\t}\r\n\t}\r\n\tvar p = ButtonHelper.prototype;\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"ButtonHelper/enabled:property\"}}{{/crossLink}} property instead.\r\n\t * @method setEnabled\r\n\t * @param {Boolean} value The enabled property to set the instance to.\r\n\t * @[rptected\r\n\t * @protected\r\n\t **/\r\n\tp._setEnabled = function(value) {\r\n\t\tif (value == this._enabled) { return; }\r\n\t\tvar o = window.target;\r\n\t\tthis._enabled = value;\r\n\t\tif (value) {\r\n\t\t\to.cursor = \"pointer\";\r\n\t\t\to.addEventListener(\"rollover\", this);\r\n\t\t\to.addEventListener(\"rollout\", this);\r\n\t\t\to.addEventListener(\"mousedown\", this);\r\n\t\t\to.addEventListener(\"pressup\", this);\r\n\t\t\tif (o._reset) { o.__reset = o._reset; o._reset = this._reset;}\r\n\t\t} else {\r\n\t\t\to.cursor = null;\r\n\t\t\to.removeEventListener(\"rollover\", this);\r\n\t\t\to.removeEventListener(\"rollout\", this);\r\n\t\t\to.removeEventListener(\"mousedown\", this);\r\n\t\t\to.removeEventListener(\"pressup\", this);\r\n\t\t\tif (o.__reset) { o._reset = o.__reset; delete(o.__reset); }\r\n\t\t}\r\n\t};\r\n\t// ButtonHelper.setEnabled is @deprecated. Remove for 1.1+\r\n\tp.setEnabled = createjs.deprecate(p._setEnabled, \"ButtonHelper.setEnabled\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"ButtonHelper/enabled:property\"}}{{/crossLink}} property instead.\r\n\t * @method getEnabled\r\n\t * @protected\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp._getEnabled = function() {\r\n\t\treturn this._enabled;\r\n\t};\r\n\t// ButtonHelper.getEnabled is @deprecated. Remove for 1.1+\r\n\tp.getEnabled = createjs.deprecate(p._getEnabled, \"ButtonHelper.getEnabled\");\r\n\r\n\t/**\r\n\t * Enables or disables the button functionality on the target.\r\n\t * @property enabled\r\n\t * @type {Boolean}\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tenabled: { get: p._getEnabled, set: p._setEnabled }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ButtonHelper]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method handleEvent\r\n\t * @param {Object} evt The mouse event to handle.\r\n\t * @protected\r\n\t **/\r\n\tp.handleEvent = function(evt) {\r\n\t\tvar label, t = window.target, type = evt.type;\r\n\t\tif (type == \"mousedown\") {\r\n\t\t\tthis._isPressed = true;\r\n\t\t\tlabel = this.downLabel;\r\n\t\t} else if (type == \"pressup\") {\r\n\t\t\tthis._isPressed = false;\r\n\t\t\tlabel = this._isOver ? this.overLabel : this.outLabel;\r\n\t\t} else if (type == \"rollover\") {\r\n\t\t\tthis._isOver = true;\r\n\t\t\tlabel = this._isPressed ? this.downLabel : this.overLabel;\r\n\t\t} else { // rollout and default\r\n\t\t\tthis._isOver = false;\r\n\t\t\tlabel = this._isPressed ? this.overLabel : this.outLabel;\r\n\t\t}\r\n\t\tif (this.play) {\r\n\t\t\tt.gotoAndPlay&&t.gotoAndPlay(label);\r\n\t\t} else {\r\n\t\t\tt.gotoAndStop&&t.gotoAndStop(label);\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * Injected into target. Preserves the paused state through a reset.\r\n\t * @method _reset\r\n\t * @protected\r\n\t **/\r\n\tp._reset = function() {\r\n\t\t// TODO: explore better ways to handle this issue. This is hacky & disrupts object signatures.\r\n\t\tvar p = this.paused;\r\n\t\tthis.__reset();\r\n\t\tthis.paused = p;\r\n\t};\r\n\r\n\r\n\tcreatejs.ButtonHelper = ButtonHelper;\r\n}());\r\n\r\n//##############################################################################\r\n// Shadow.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * This class encapsulates the properties required to define a shadow to apply to a {{#crossLink \"DisplayObject\"}}{{/crossLink}}\r\n\t * via its <code>shadow</code> property.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      myImage.shadow = new createjs.Shadow(\"#000000\", 5, 5, 10);\r\n\t *\r\n\t * @class Shadow\r\n\t * @constructor\r\n\t * @param {String} color The color of the shadow. This can be any valid CSS color value.\r\n\t * @param {Number} offsetX The x offset of the shadow in pixels.\r\n\t * @param {Number} offsetY The y offset of the shadow in pixels.\r\n\t * @param {Number} blur The size of the blurring effect.\r\n\t **/\r\n\tfunction Shadow(color, offsetX, offsetY, blur) {\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/** \r\n\t\t * The color of the shadow. This can be any valid CSS color value.\r\n\t\t * @property color\r\n\t\t * @type String\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.color = color||\"black\";\r\n\t\r\n\t\t/** The x offset of the shadow.\r\n\t\t * @property offsetX\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.offsetX = offsetX||0;\r\n\t\r\n\t\t/** The y offset of the shadow.\r\n\t\t * @property offsetY\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.offsetY = offsetY||0;\r\n\t\r\n\t\t/** The blur of the shadow.\r\n\t\t * @property blur\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.blur = blur||0;\r\n\t}\r\n\tvar p = Shadow.prototype;\r\n\r\n// static public properties:\r\n\t/**\r\n\t * An identity shadow object (all properties are set to 0).\r\n\t * @property identity\r\n\t * @type Shadow\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t **/\r\n\tShadow.identity = new Shadow(\"transparent\", 0, 0, 0);\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Shadow]\";\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Shadow instance.\r\n\t * @method clone\r\n\t * @return {Shadow} A clone of the current Shadow instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Shadow(this.color, this.offsetX, this.offsetY, this.blur);\r\n\t};\r\n\t\r\n\r\n\tcreatejs.Shadow = Shadow;\r\n}());\r\n\r\n//##############################################################################\r\n// SpriteSheet.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Encapsulates the properties and methods associated with a sprite sheet. A sprite sheet is a series of images (usually\r\n\t * animation frames) combined into a larger image (or images). For example, an animation consisting of eight 100x100\r\n\t * images could be combined into a single 400x200 sprite sheet (4 frames across by 2 high).\r\n\t *\r\n\t * The data passed to the SpriteSheet constructor defines:\r\n\t * <ol>\r\n\t * \t<li> The source image or images to use.</li>\r\n\t * \t<li> The positions of individual image frames.</li>\r\n\t * \t<li> Sequences of frames that form named animations. Optional.</li>\r\n\t * \t<li> The target playback framerate. Optional.</li>\r\n\t * </ol>\r\n\t * <h3>SpriteSheet Format</h3>\r\n\t * SpriteSheets are an object with two required properties (`images` and `frames`), and two optional properties\r\n\t * (`framerate` and `animations`). This makes them easy to define in javascript code, or in JSON.\r\n\t *\r\n\t * <h4>images</h4>\r\n\t * An array of source images. Images can be either an HTMlimage\r\n\t * instance, or a uri to an image. The former is recommended to control preloading.\r\n\t *\r\n\t * \timages: [image1, \"path/to/image2.png\"],\r\n\t *\r\n\t * <h4>frames</h4>\r\n\t * Defines the individual frames. There are two supported formats for frame data:\r\n\t * When all of the frames are the same size (in a grid), use an object with `width`, `height`, `regX`, `regY`,\r\n\t * and `count` properties.\r\n\t *\r\n\t * <ul>\r\n\t *  <li>`width` & `height` are required and specify the dimensions of the frames</li>\r\n\t *  <li>`regX` & `regY` indicate the registration point or \"origin\" of the frames</li>\r\n\t *  <li>`spacing` indicate the spacing between frames</li>\r\n\t *  <li>`margin` specify the margin around the image(s)</li>\r\n\t *  <li>`count` allows you to specify the total number of frames in the spritesheet; if omitted, this will\r\n\t *  be calculated based on the dimensions of the source images and the frames. Frames will be assigned\r\n\t *  indexes based on their position in the source images (left to right, top to bottom).</li>\r\n\t * </ul>\r\n\t *\r\n\t *  \tframes: {width:64, height:64, count:20, regX: 32, regY:64, spacing:0, margin:0}\r\n\t *\r\n\t * If the frames are of different sizes, use an array of frame definitions. Each definition is itself an array\r\n\t * with 4 required and 3 optional entries, in the order:\r\n\t *\r\n\t * <ul>\r\n\t *  <li>The first four, `x`, `y`, `width`, and `height` are required and define the frame rectangle.</li>\r\n\t *  <li>The fifth, `imageIndex`, specifies the index of the source image (defaults to 0)</li>\r\n\t *  <li>The last two, `regX` and `regY` specify the registration point of the frame</li>\r\n\t * </ul>\r\n\t *\r\n\t * \tframes: [\r\n\t * \t\t// x, y, width, height, imageIndex*, regX*, regY*\r\n\t * \t\t[64, 0, 96, 64],\r\n\t * \t\t[0, 0, 64, 64, 1, 32, 32]\r\n\t * \t\t// etc.\r\n\t * \t]\r\n\t *\r\n\t * <h4>animations</h4>\r\n\t * Optional. An object defining sequences of frames to play as named animations. Each property corresponds to an\r\n\t * animation of the same name. Each animation must specify the frames to play, and may\r\n\t * also include a relative playback `speed` (ex. 2 would playback at double speed, 0.5 at half), and\r\n\t * the name of the `next` animation to sequence to after it completes.\r\n\t *\r\n\t * There are three formats supported for defining the frames in an animation, which can be mixed and matched as appropriate:\r\n\t * <ol>\r\n\t * \t<li>for a single frame animation, you can simply specify the frame index\r\n\t *\r\n\t * \t\tanimations: {\r\n\t * \t\t\tsit: 7\r\n\t * \t\t}\r\n\t *\r\n\t * </li>\r\n\t * <li>\r\n\t *      for an animation of consecutive frames, you can use an array with two required, and two optional entries\r\n\t * \t\tin the order: `start`, `end`, `next`, and `speed`. This will play the frames from start to end inclusive.\r\n\t *\r\n\t * \t\tanimations: {\r\n\t * \t\t\t// start, end, next*, speed*\r\n\t * \t\t\trun: [0, 8],\r\n\t * \t\t\tjump: [9, 12, \"run\", 2]\r\n\t * \t\t}\r\n\t *\r\n\t *  </li>\r\n\t *  <li>\r\n\t *     for non-consecutive frames, you can use an object with a `frames` property defining an array of frame\r\n\t *     indexes to play in order. The object can also specify `next` and `speed` properties.\r\n\t *\r\n\t * \t\tanimations: {\r\n\t * \t\t\twalk: {\r\n\t * \t\t\t\tframes: [1,2,3,3,2,1]\r\n\t * \t\t\t},\r\n\t * \t\t\tshoot: {\r\n\t * \t\t\t\tframes: [1,4,5,6],\r\n\t * \t\t\t\tnext: \"walk\",\r\n\t * \t\t\t\tspeed: 0.5\r\n\t * \t\t\t}\r\n\t * \t\t}\r\n\t *\r\n\t *  </li>\r\n\t * </ol>\r\n\t * <strong>Note:</strong> the `speed` property was added in EaselJS 0.7.0. Earlier versions had a `frequency`\r\n\t * property instead, which was the inverse of `speed`. For example, a value of \"4\" would be 1/4 normal speed in\r\n\t * earlier versions, but is 4x normal speed in EaselJS 0.7.0+.\r\n\t *\r\n\t * <h4>framerate</h4>\r\n\t * Optional. Indicates the default framerate to play this spritesheet at in frames per second. See\r\n\t * {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} for more information.\r\n\t *\r\n\t * \t\tframerate: 20\r\n\t *\r\n\t * Note that the Sprite framerate will only work if the stage update method is provided with the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\r\n\t * event generated by the {{#crossLink \"Ticker\"}}{{/crossLink}}.\r\n\t *\r\n\t * \t\tcreatejs.Ticker.on(\"tick\", handleTick);\r\n\t * \t\tfunction handleTick(event) {\r\n\t *\t\t\tstage.update(event);\r\n\t *\t\t}\r\n\t *\r\n\t * <h3>Example</h3>\r\n\t * To define a simple sprite sheet, with a single image \"sprites.jpg\" arranged in a regular 50x50 grid with three\r\n\t * animations: \"stand\" showing the first frame, \"run\" looping frame 1-5 inclusive, and \"jump\" playing frame 6-8 and\r\n\t * sequencing back to run.\r\n\t *\r\n\t * \t\tvar data = {\r\n\t * \t\t\timages: [\"sprites.jpg\"],\r\n\t * \t\t\tframes: {width:50, height:50},\r\n\t * \t\t\tanimations: {\r\n\t * \t\t\t\tstand:0,\r\n\t * \t\t\t\trun:[1,5],\r\n\t * \t\t\t\tjump:[6,8,\"run\"]\r\n\t * \t\t\t}\r\n\t * \t\t};\r\n\t * \t\tvar spriteSheet = new createjs.SpriteSheet(data);\r\n\t * \t\tvar animation = new createjs.Sprite(spriteSheet, \"run\");\r\n\t *\r\n\t * <h3>Generating SpriteSheet Images</h3>\r\n\t * Spritesheets can be created manually by combining images in PhotoShop, and specifying the frame size or\r\n\t * coordinates manually, however there are a number of tools that facilitate this.\r\n\t * <ul>\r\n\t *     <li>Exporting SpriteSheets or HTML5 content from Adobe Flash/Animate supports the EaselJS SpriteSheet format.</li>\r\n\t *     <li>The popular <a href=\"https://www.codeandweb.com/texturepacker/easeljs\" target=\"_blank\">Texture Packer</a> has\r\n\t *     EaselJS support.\r\n\t *     <li>SWF animations in Adobe Flash/Animate can be exported to SpriteSheets using <a href=\"http://createjs.com/zoe\" target=\"_blank\">Zo&euml;</a></li>\r\n\t * </ul>\r\n\t *\r\n\t * <h3>Cross Origin Issues</h3>\r\n\t * <strong>Warning:</strong> Images loaded cross-origin will throw cross-origin security errors when interacted with\r\n\t * using:\r\n\t * <ul>\r\n\t *     <li>a mouse</li>\r\n\t *     <li>methods such as {{#crossLink \"Container/getObjectUnderPoint\"}}{{/crossLink}}</li>\r\n\t *     <li>Filters (see {{#crossLink \"Filter\"}}{{/crossLink}})</li>\r\n\t *     <li>caching (see {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}})</li>\r\n\t * </ul>\r\n\t * You can get around this by setting `crossOrigin` property on your images before passing them to EaselJS, or\r\n\t * setting the `crossOrigin` property on PreloadJS' LoadQueue or LoadItems.\r\n\t *\r\n\t * \t\tvar image = new Image();\r\n\t * \t\timg.crossOrigin=\"Anonymous\";\r\n\t * \t\timg.src = \"http://server-with-CORS-support.com/path/to/image.jpg\";\r\n\t *\r\n\t * If you pass string paths to SpriteSheets, they will not work cross-origin. The server that stores the image must\r\n\t * support cross-origin requests, or this will not work. For more information, check out\r\n\t * <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" target=\"_blank\">CORS overview on MDN</a>.\r\n\t *\r\n\t * @class SpriteSheet\r\n\t * @constructor\r\n\t * @param {Object} data An object describing the SpriteSheet data.\r\n\t * @extends EventDispatcher\r\n\t **/\r\n\tfunction SpriteSheet(data) {\r\n\t\tthis.EventDispatcher_constructor();\r\n\r\n\r\n\t\t// public properties:\r\n\t\t/**\r\n\t\t * Indicates whether all images are finished loading.\r\n\t\t * @property complete\r\n\t\t * @type Boolean\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.complete = true;\r\n\r\n\t\t/**\r\n\t\t * Specifies the framerate to use by default for Sprite instances using the SpriteSheet. See the Sprite class\r\n\t\t * {{#crossLink \"Sprite/framerate:property\"}}{{/crossLink}} for more information.\r\n\t\t * @property framerate\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.framerate = 0;\r\n\r\n\r\n\t\t// private properties:\r\n\t\t/**\r\n\t\t * @property _animations\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._animations = null;\r\n\r\n\t\t/**\r\n\t\t * @property _frames\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._frames = null;\r\n\r\n\t\t/**\r\n\t\t * @property _images\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._images = null;\r\n\r\n\t\t/**\r\n\t\t * @property _data\r\n\t\t * @protected\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._data = null;\r\n\r\n\t\t/**\r\n\t\t * @property _loadCount\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._loadCount = 0;\r\n\r\n\t\t// only used for simple frame defs:\r\n\t\t/**\r\n\t\t * @property _frameHeight\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._frameHeight = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _frameWidth\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._frameWidth = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _numFrames\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._numFrames = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _regX\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._regX = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _regY\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._regY = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _spacing\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._spacing = 0;\r\n\r\n\t\t/**\r\n\t\t * @property _margin\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._margin = 0;\r\n\r\n\t\t// setup:\r\n\t\tthis._parseData(data);\r\n\t}\r\n\tvar p = createjs.extend(SpriteSheet, createjs.EventDispatcher);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when all images are loaded.  Note that this only fires if the images\r\n\t * were not fully loaded when the sprite sheet was initialized. You should check the complete property\r\n\t * to prior to adding a listener. Ex.\r\n\t *\r\n\t * \tvar sheet = new createjs.SpriteSheet(data);\r\n\t * \tif (!sheet.complete) {\r\n\t * \t\t// not preloaded, listen for the complete event:\r\n\t * \t\tsheet.addEventListener(\"complete\", handler);\r\n\t * \t}\r\n\t *\r\n\t * @event complete\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when getFrame is called with a valid frame index. This is primarily intended for use by {{#crossLink \"SpriteSheetBuilder\"}}{{/crossLink}}\r\n\t * when doing on-demand rendering.\r\n\t * @event getframe\r\n\t * @param {Number} index The frame index.\r\n\t * @param {Object} frame The frame object that getFrame will return.\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when an image encounters an error. A SpriteSheet will dispatch an error event for each image that\r\n\t * encounters an error, and will still dispatch a {{#crossLink \"SpriteSheet/complete:event\"}}{{/crossLink}}\r\n\t * event once all images are finished processing, even if an error is encountered.\r\n\t * @event error\r\n\t * @param {String} src The source of the image that failed to load.\r\n\t * @since 0.8.2\r\n\t */\r\n\r\n\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"SpriteSheet/animations:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getAnimations\r\n\t * @protected\r\n\t * @return {Array}\r\n\t **/\r\n\tp._getAnimations = function() {\r\n\t\treturn this._animations.slice();\r\n\t};\r\n\t// SpriteSheet.getAnimations is @deprecated. Remove for 1.1+\r\n\tp.getAnimations = createjs.deprecate(p._getAnimations, \"SpriteSheet.getAnimations\");\r\n\r\n\t/**\r\n\t * Returns an array of all available animation names available on this sprite sheet as strings.\r\n\t * @property animations\r\n\t * @type {Array}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tanimations: { get: p._getAnimations }\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns the total number of frames in the specified animation, or in the whole sprite\r\n\t * sheet if the animation param is omitted. Returns 0 if the spritesheet relies on calculated frame counts, and\r\n\t * the images have not been fully loaded.\r\n\t * @method getNumFrames\r\n\t * @param {String} animation The name of the animation to get a frame count for.\r\n\t * @return {Number} The number of frames in the animation, or in the entire sprite sheet if the animation param is omitted.\r\n\t */\r\n\tp.getNumFrames = function(animation) {\r\n\t\tif (animation == null) {\r\n\t\t\treturn this._frames ? this._frames.length : this._numFrames || 0;\r\n\t\t} else {\r\n\t\t\tvar data = this._data[animation];\r\n\t\t\tif (data == null) { return 0; }\r\n\t\t\telse { return data.frames.length; }\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an object defining the specified animation. The returned object contains:<UL>\r\n\t * \t<li>frames: an array of the frame ids in the animation</li>\r\n\t * \t<li>speed: the playback speed for this animation</li>\r\n\t * \t<li>name: the name of the animation</li>\r\n\t * \t<li>next: the default animation to play next. If the animation loops, the name and next property will be the\r\n\t * \tsame.</li>\r\n\t * </UL>\r\n\t * @method getAnimation\r\n\t * @param {String} name The name of the animation to get.\r\n\t * @return {Object} a generic object with frames, speed, name, and next properties.\r\n\t **/\r\n\tp.getAnimation = function(name) {\r\n\t\treturn this._data[name];\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an object specifying the image and source rect of the specified frame. The returned object has:<UL>\r\n\t * \t<li>an image property holding a reference to the image object in which the frame is found</li>\r\n\t * \t<li>a rect property containing a Rectangle instance which defines the boundaries for the frame within that\r\n\t * \timage.</li>\r\n\t * \t<li> A regX and regY property corresponding to the regX/Y values for the frame.\r\n\t * </UL>\r\n\t * @method getFrame\r\n\t * @param {Number} frameIndex The index of the frame.\r\n\t * @return {Object} a generic object with image and rect properties. Returns null if the frame does not exist.\r\n\t **/\r\n\tp.getFrame = function(frameIndex) {\r\n\t\tvar frame;\r\n\t\tif (this._frames && (frame=this._frames[frameIndex])) { return frame; }\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a {{#crossLink \"Rectangle\"}}{{/crossLink}} instance defining the bounds of the specified frame relative\r\n\t * to the origin. For example, a 90 x 70 frame with a regX of 50 and a regY of 40 would return:\r\n\t *\r\n\t * \t[x=-50, y=-40, width=90, height=70]\r\n\t *\r\n\t * @method getFrameBounds\r\n\t * @param {Number} frameIndex The index of the frame.\r\n\t * @param {Rectangle} [rectangle] A Rectangle instance to copy the values into. By default a new instance is created.\r\n\t * @return {Rectangle} A Rectangle instance. Returns null if the frame does not exist, or the image is not fully loaded.\r\n\t **/\r\n\tp.getFrameBounds = function(frameIndex, rectangle) {\r\n\t\tvar frame = this.getFrame(frameIndex);\r\n\t\treturn frame ? (rectangle||new createjs.Rectangle()).setValues(-frame.regX, -frame.regY, frame.rect.width, frame.rect.height) : null;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[SpriteSheet]\";\r\n\t};\r\n\r\n\t/**\r\n\t * SpriteSheet cannot be cloned. A SpriteSheet can be shared by multiple Sprite instances without cloning it.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tthrow(\"SpriteSheet cannot be cloned.\")\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _parseData\r\n\t * @param {Object} data An object describing the SpriteSheet data.\r\n\t * @protected\r\n\t **/\r\n\tp._parseData = function(data) {\r\n\t\tvar i,l,o,a;\r\n\t\tif (data == null) { return; }\r\n\r\n\t\tthis.framerate = data.framerate||0;\r\n\r\n\t\t// parse images:\r\n\t\tif (data.images && (l=data.images.length) > 0) {\r\n\t\t\ta = this._images = [];\r\n\t\t\tfor (i=0; i<l; i++) {\r\n\t\t\t\tvar img = data.images[i];\r\n\t\t\t\tif (typeof img == \"string\") {\r\n\t\t\t\t\tvar src = img;\r\n\t\t\t\t\timg = document.createElement(\"img\");\r\n\t\t\t\t\timg.src = src;\r\n\t\t\t\t}\r\n\t\t\t\ta.push(img);\r\n\t\t\t\tif (!img.getContext && !img.naturalWidth) {\r\n\t\t\t\t\tthis._loadCount++;\r\n\t\t\t\t\tthis.complete = false;\r\n\t\t\t\t\t(function(o, src) { img.onload = function() { o._handleImageLoad(src); } })(this, src);\r\n\t\t\t\t\t(function(o, src) { img.onerror = function() { o._handleImageError(src); } })(this, src);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// parse frames:\r\n\t\tif (data.frames == null) { // nothing\r\n\t\t} else if (Array.isArray(data.frames)) {\r\n\t\t\tthis._frames = [];\r\n\t\t\ta = data.frames;\r\n\t\t\tfor (i=0,l=a.length;i<l;i++) {\r\n\t\t\t\tvar arr = a[i];\r\n\t\t\t\tthis._frames.push({image:this._images[arr[4]?arr[4]:0], rect:new createjs.Rectangle(arr[0],arr[1],arr[2],arr[3]), regX:arr[5]||0, regY:arr[6]||0 });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\to = data.frames;\r\n\t\t\tthis._frameWidth = o.width;\r\n\t\t\tthis._frameHeight = o.height;\r\n\t\t\tthis._regX = o.regX||0;\r\n\t\t\tthis._regY = o.regY||0;\r\n\t\t\tthis._spacing = o.spacing||0;\r\n\t\t\tthis._margin = o.margin||0;\r\n\t\t\tthis._numFrames = o.count;\r\n\t\t\tif (this._loadCount == 0) { this._calculateFrames(); }\r\n\t\t}\r\n\r\n\t\t// parse animations:\r\n\t\tthis._animations = [];\r\n\t\tif ((o=data.animations) != null) {\r\n\t\t\tthis._data = {};\r\n\t\t\tvar name;\r\n\t\t\tfor (name in o) {\r\n\t\t\t\tvar anim = {name:name};\r\n\t\t\t\tvar obj = o[name];\r\n\t\t\t\tif (typeof obj == \"number\") { // single frame\r\n\t\t\t\t\ta = anim.frames = [obj];\r\n\t\t\t\t} else if (Array.isArray(obj)) { // simple\r\n\t\t\t\t\tif (obj.length == 1) { anim.frames = [obj[0]]; }\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tanim.speed = obj[3];\r\n\t\t\t\t\t\tanim.next = obj[2];\r\n\t\t\t\t\t\ta = anim.frames = [];\r\n\t\t\t\t\t\tfor (i=obj[0];i<=obj[1];i++) {\r\n\t\t\t\t\t\t\ta.push(i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else { // complex\r\n\t\t\t\t\tanim.speed = obj.speed;\r\n\t\t\t\t\tanim.next = obj.next;\r\n\t\t\t\t\tvar frames = obj.frames;\r\n\t\t\t\t\ta = anim.frames = (typeof frames == \"number\") ? [frames] : frames.slice(0);\r\n\t\t\t\t}\r\n\t\t\t\tif (anim.next === true || anim.next === undefined) { anim.next = name; } // loop\r\n\t\t\t\tif (anim.next === false || (a.length < 2 && anim.next == name)) { anim.next = null; } // stop\r\n\t\t\t\tif (!anim.speed) { anim.speed = 1; }\r\n\t\t\t\tthis._animations.push(name);\r\n\t\t\t\tthis._data[name] = anim;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleImageLoad\r\n\t * @protected\r\n\t **/\r\n\tp._handleImageLoad = function(src) {\r\n\t\tif (--this._loadCount == 0) {\r\n\t\t\tthis._calculateFrames();\r\n\t\t\tthis.complete = true;\r\n\t\t\tthis.dispatchEvent(\"complete\");\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleImageError\r\n\t * @protected\r\n\t */\r\n\tp._handleImageError = function (src) {\r\n\t\tvar errorEvent = new createjs.Event(\"error\");\r\n\t\terrorEvent.src = src;\r\n\t\tthis.dispatchEvent(errorEvent);\r\n\r\n\t\t// Complete is still dispatched.\r\n\t\tif (--this._loadCount == 0) {\r\n\t\t\tthis.dispatchEvent(\"complete\");\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _calculateFrames\r\n\t * @protected\r\n\t **/\r\n\tp._calculateFrames = function() {\r\n\t\tif (this._frames || this._frameWidth == 0) { return; }\r\n\r\n\t\tthis._frames = [];\r\n\r\n\t\tvar maxFrames = this._numFrames || 100000; // if we go over this, something is wrong.\r\n\t\tvar frameCount = 0, frameWidth = this._frameWidth, frameHeight = this._frameHeight;\r\n\t\tvar spacing = this._spacing, margin = this._margin;\r\n\t\t\r\n\t\timgLoop:\r\n\t\tfor (var i=0, imgs=this._images; i<imgs.length; i++) {\r\n\t\t\tvar img = imgs[i], imgW = (img.width||img.naturalWidth), imgH = (img.height||img.naturalHeight);\r\n\r\n\t\t\tvar y = margin;\r\n\t\t\twhile (y <= imgH-margin-frameHeight) {\r\n\t\t\t\tvar x = margin;\r\n\t\t\t\twhile (x <= imgW-margin-frameWidth) {\r\n\t\t\t\t\tif (frameCount >= maxFrames) { break imgLoop; }\r\n\t\t\t\t\tframeCount++;\r\n\t\t\t\t\tthis._frames.push({\r\n\t\t\t\t\t\t\timage: img,\r\n\t\t\t\t\t\t\trect: new createjs.Rectangle(x, y, frameWidth, frameHeight),\r\n\t\t\t\t\t\t\tregX: this._regX,\r\n\t\t\t\t\t\t\tregY: this._regY\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tx += frameWidth+spacing;\r\n\t\t\t\t}\r\n\t\t\t\ty += frameHeight+spacing;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._numFrames = frameCount;\r\n\t};\r\n\r\n\r\n\tcreatejs.SpriteSheet = createjs.promote(SpriteSheet, \"EventDispatcher\");\r\n}());\r\n\r\n//##############################################################################\r\n// Graphics.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The Graphics class exposes an easy to use API for generating vector drawing instructions and drawing them to a\r\n\t * specified context. Note that you can use Graphics without any dependency on the EaselJS framework by calling {{#crossLink \"Graphics/draw\"}}{{/crossLink}}\r\n\t * directly, or it can be used with the {{#crossLink \"Shape\"}}{{/crossLink}} object to draw vector graphics within the\r\n\t * context of an EaselJS display list.\r\n\t *\r\n\t * There are two approaches to working with Graphics object: calling methods on a Graphics instance (the \"Graphics API\"), or\r\n\t * instantiating Graphics command objects and adding them to the graphics queue via {{#crossLink \"Graphics/append\"}}{{/crossLink}}.\r\n\t * The former abstracts the latter, simplifying beginning and ending paths, fills, and strokes.\r\n\t *\r\n\t *      var g = new createjs.Graphics();\r\n\t *      g.setStrokeStyle(1);\r\n\t *      g.beginStroke(\"#000000\");\r\n\t *      g.beginFill(\"red\");\r\n\t *      g.drawCircle(0,0,30);\r\n\t *\r\n\t * All drawing methods in Graphics return the Graphics instance, so they can be chained together. For example,\r\n\t * the following line of code would generate the instructions to draw a rectangle with a red stroke and blue fill:\r\n\t *\r\n\t *      myGraphics.beginStroke(\"red\").beginFill(\"blue\").drawRect(20, 20, 100, 50);\r\n\t *\r\n\t * Each graphics API call generates a command object (see below). The last command to be created can be accessed via\r\n\t * {{#crossLink \"Graphics/command:property\"}}{{/crossLink}}:\r\n\t *\r\n\t *      var fillCommand = myGraphics.beginFill(\"red\").command;\r\n\t *      // ... later, update the fill style/color:\r\n\t *      fillCommand.style = \"blue\";\r\n\t *      // or change it to a bitmap fill:\r\n\t *      fillCommand.bitmap(myImage);\r\n\t *\r\n\t * For more direct control of rendering, you can instantiate and append command objects to the graphics queue directly. In this case, you\r\n\t * need to manage path creation manually, and ensure that fill/stroke is applied to a defined path:\r\n\t *\r\n\t *      // start a new path. Graphics.beginCmd is a reusable BeginPath instance:\r\n\t *      myGraphics.append(createjs.Graphics.beginCmd);\r\n\t *      // we need to define the path before applying the fill:\r\n\t *      var circle = new createjs.Graphics.Circle(0,0,30);\r\n\t *      myGraphics.append(circle);\r\n\t *      // fill the path we just defined:\r\n\t *      var fill = new createjs.Graphics.Fill(\"red\");\r\n\t *      myGraphics.append(fill);\r\n\t *\r\n\t * These approaches can be used together, for example to insert a custom command:\r\n\t *\r\n\t *      myGraphics.beginFill(\"red\");\r\n\t *      var customCommand = new CustomSpiralCommand(etc);\r\n\t *      myGraphics.append(customCommand);\r\n\t *      myGraphics.beginFill(\"blue\");\r\n\t *      myGraphics.drawCircle(0, 0, 30);\r\n\t *\r\n\t * See {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more info on creating custom commands.\r\n\t *\r\n\t * <h4>Tiny API</h4>\r\n\t * The Graphics class also includes a \"tiny API\", which is one or two-letter methods that are shortcuts for all of the\r\n\t * Graphics methods. These methods are great for creating compact instructions, and is used by the Toolkit for CreateJS\r\n\t * to generate readable code. All tiny methods are marked as protected, so you can view them by enabling protected\r\n\t * descriptions in the docs.\r\n\t *\r\n\t * <table>\r\n\t *     <tr><td><b>Tiny</b></td><td><b>Method</b></td><td><b>Tiny</b></td><td><b>Method</b></td></tr>\r\n\t *     <tr><td>mt</td><td>{{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} </td>\r\n\t *     <td>lt</td> <td>{{#crossLink \"Graphics/lineTo\"}}{{/crossLink}}</td></tr>\r\n\t *     <tr><td>a/at</td><td>{{#crossLink \"Graphics/arc\"}}{{/crossLink}} / {{#crossLink \"Graphics/arcTo\"}}{{/crossLink}} </td>\r\n\t *     <td>bt</td><td>{{#crossLink \"Graphics/bezierCurveTo\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>qt</td><td>{{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}} (also curveTo)</td>\r\n\t *     <td>r</td><td>{{#crossLink \"Graphics/rect\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>cp</td><td>{{#crossLink \"Graphics/closePath\"}}{{/crossLink}} </td>\r\n\t *     <td>c</td><td>{{#crossLink \"Graphics/clear\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>f</td><td>{{#crossLink \"Graphics/beginFill\"}}{{/crossLink}} </td>\r\n\t *     <td>lf</td><td>{{#crossLink \"Graphics/beginLinearGradientFill\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>rf</td><td>{{#crossLink \"Graphics/beginRadialGradientFill\"}}{{/crossLink}} </td>\r\n\t *     <td>bf</td><td>{{#crossLink \"Graphics/beginBitmapFill\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>ef</td><td>{{#crossLink \"Graphics/endFill\"}}{{/crossLink}} </td>\r\n\t *     <td>ss / sd</td><td>{{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} / {{#crossLink \"Graphics/setStrokeDash\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>s</td><td>{{#crossLink \"Graphics/beginStroke\"}}{{/crossLink}} </td>\r\n\t *     <td>ls</td><td>{{#crossLink \"Graphics/beginLinearGradientStroke\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>rs</td><td>{{#crossLink \"Graphics/beginRadialGradientStroke\"}}{{/crossLink}} </td>\r\n\t *     <td>bs</td><td>{{#crossLink \"Graphics/beginBitmapStroke\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>es</td><td>{{#crossLink \"Graphics/endStroke\"}}{{/crossLink}} </td>\r\n\t *     <td>dr</td><td>{{#crossLink \"Graphics/drawRect\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>rr</td><td>{{#crossLink \"Graphics/drawRoundRect\"}}{{/crossLink}} </td>\r\n\t *     <td>rc</td><td>{{#crossLink \"Graphics/drawRoundRectComplex\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>dc</td><td>{{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}} </td>\r\n\t *     <td>de</td><td>{{#crossLink \"Graphics/drawEllipse\"}}{{/crossLink}} </td></tr>\r\n\t *     <tr><td>dp</td><td>{{#crossLink \"Graphics/drawPolyStar\"}}{{/crossLink}} </td>\r\n\t *     <td>p</td><td>{{#crossLink \"Graphics/decodePath\"}}{{/crossLink}} </td></tr>\r\n\t * </table>\r\n\t *\r\n\t * Here is the above example, using the tiny API instead.\r\n\t *\r\n\t *      myGraphics.s(\"red\").f(\"blue\").r(20, 20, 100, 50);\r\n\t *\r\n\t * @class Graphics\r\n\t * @constructor\r\n\t **/\r\n\tfunction Graphics() {\r\n\r\n\r\n\t// public properties\r\n\t\t/**\r\n\t\t * Holds a reference to the last command that was created or appended. For example, you could retain a reference\r\n\t\t * to a Fill command in order to dynamically update the color later by using:\r\n\t\t *\r\n\t\t * \t\tvar myFill = myGraphics.beginFill(\"red\").command;\r\n\t\t * \t\t// update color later:\r\n\t\t * \t\tmyFill.style = \"yellow\";\r\n\t\t *\r\n\t\t * @property command\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis.command = null;\r\n\r\n\r\n\t// private properties\r\n\t\t/**\r\n\t\t * @property _stroke\r\n\t\t * @protected\r\n\t\t * @type {Stroke}\r\n\t\t **/\r\n\t\tthis._stroke = null;\r\n\r\n\t\t/**\r\n\t\t * @property _strokeStyle\r\n\t\t * @protected\r\n\t\t * @type {StrokeStyle}\r\n\t\t **/\r\n\t\tthis._strokeStyle = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _oldStrokeStyle\r\n\t\t * @protected\r\n\t\t * @type {StrokeStyle}\r\n\t\t **/\r\n\t\tthis._oldStrokeStyle = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _strokeDash\r\n\t\t * @protected\r\n\t\t * @type {StrokeDash}\r\n\t\t **/\r\n\t\tthis._strokeDash = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _oldStrokeDash\r\n\t\t * @protected\r\n\t\t * @type {StrokeDash}\r\n\t\t **/\r\n\t\tthis._oldStrokeDash = null;\r\n\r\n\t\t/**\r\n\t\t * @property _strokeIgnoreScale\r\n\t\t * @protected\r\n\t\t * @type Boolean\r\n\t\t **/\r\n\t\tthis._strokeIgnoreScale = false;\r\n\r\n\t\t/**\r\n\t\t * @property _fill\r\n\t\t * @protected\r\n\t\t * @type {Fill}\r\n\t\t **/\r\n\t\tthis._fill = null;\r\n\r\n\t\t/**\r\n\t\t * @property _instructions\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t **/\r\n\t\tthis._instructions = [];\r\n\r\n\t\t/**\r\n\t\t * Indicates the last instruction index that was committed.\r\n\t\t * @property _commitIndex\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t **/\r\n\t\tthis._commitIndex = 0;\r\n\r\n\t\t/**\r\n\t\t * Uncommitted instructions.\r\n\t\t * @property _activeInstructions\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t **/\r\n\t\tthis._activeInstructions = [];\r\n\r\n\t\t/**\r\n\t\t * This indicates that there have been changes to the activeInstruction list since the last updateInstructions call.\r\n\t\t * @property _dirty\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis._dirty = false;\r\n\r\n\t\t/**\r\n\t\t * Index to draw from if a store operation has happened.\r\n\t\t * @property _storeIndex\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._storeIndex = 0;\r\n\r\n\t// setup:\r\n\t\tthis.clear();\r\n\t}\r\n\tvar p = Graphics.prototype;\r\n\tvar G = Graphics; // shortcut\r\n\r\n// static public methods:\r\n\t/**\r\n\t * Returns a CSS compatible color string based on the specified RGB numeric color values in the format\r\n\t * \"rgba(255,255,255,1.0)\", or if alpha is null then in the format \"rgb(255,255,255)\". For example,\r\n\t *\r\n\t *      createjs.Graphics.getRGB(50, 100, 150, 0.5);\r\n\t *      // Returns \"rgba(50,100,150,0.5)\"\r\n\t *\r\n\t * It also supports passing a single hex color value as the first param, and an optional alpha value as the second\r\n\t * param. For example,\r\n\t *\r\n\t *      createjs.Graphics.getRGB(0xFF00FF, 0.2);\r\n\t *      // Returns \"rgba(255,0,255,0.2)\"\r\n\t *\r\n\t * @method getRGB\r\n\t * @static\r\n\t * @param {Number} r The red component for the color, between 0 and 0xFF (255).\r\n\t * @param {Number} g The green component for the color, between 0 and 0xFF (255).\r\n\t * @param {Number} b The blue component for the color, between 0 and 0xFF (255).\r\n\t * @param {Number} [alpha] The alpha component for the color where 0 is fully transparent and 1 is fully opaque.\r\n\t * @return {String} A CSS compatible color string based on the specified RGB numeric color values in the format\r\n\t * \"rgba(255,255,255,1.0)\", or if alpha is null then in the format \"rgb(255,255,255)\".\r\n\t **/\r\n\tGraphics.getRGB = function(r, g, b, alpha) {\r\n\t\tif (r != null && b == null) {\r\n\t\t\talpha = g;\r\n\t\t\tb = r&0xFF;\r\n\t\t\tg = r>>8&0xFF;\r\n\t\t\tr = r>>16&0xFF;\r\n\t\t}\r\n\t\tif (alpha == null) {\r\n\t\t\treturn \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n\t\t} else {\r\n\t\t\treturn \"rgba(\"+r+\",\"+g+\",\"+b+\",\"+alpha+\")\";\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a CSS compatible color string based on the specified HSL numeric color values in the format \"hsla(360,100,100,1.0)\",\r\n\t * or if alpha is null then in the format \"hsl(360,100,100)\".\r\n\t *\r\n\t *      createjs.Graphics.getHSL(150, 100, 70);\r\n\t *      // Returns \"hsl(150,100,70)\"\r\n\t *\r\n\t * @method getHSL\r\n\t * @static\r\n\t * @param {Number} hue The hue component for the color, between 0 and 360.\r\n\t * @param {Number} saturation The saturation component for the color, between 0 and 100.\r\n\t * @param {Number} lightness The lightness component for the color, between 0 and 100.\r\n\t * @param {Number} [alpha] The alpha component for the color where 0 is fully transparent and 1 is fully opaque.\r\n\t * @return {String} A CSS compatible color string based on the specified HSL numeric color values in the format\r\n\t * \"hsla(360,100,100,1.0)\", or if alpha is null then in the format \"hsl(360,100,100)\".\r\n\t **/\r\n\tGraphics.getHSL = function(hue, saturation, lightness, alpha) {\r\n\t\tif (alpha == null) {\r\n\t\t\treturn \"hsl(\"+(hue%360)+\",\"+saturation+\"%,\"+lightness+\"%)\";\r\n\t\t} else {\r\n\t\t\treturn \"hsla(\"+(hue%360)+\",\"+saturation+\"%,\"+lightness+\"%,\"+alpha+\")\";\r\n\t\t}\r\n\t};\r\n\r\n\r\n// static properties:\r\n\t/**\r\n\t * A reusable instance of {{#crossLink \"Graphics/BeginPath\"}}{{/crossLink}} to avoid\r\n\t * unnecessary instantiation.\r\n\t * @property beginCmd\r\n\t * @type {Graphics.BeginPath}\r\n\t * @static\r\n\t **/\r\n\t // defined at the bottom of this file.\r\n\r\n\t/**\r\n\t * Map of Base64 characters to values. Used by {{#crossLink \"Graphics/decodePath\"}}{{/crossLink}}.\r\n\t * @property BASE_64\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @type {Object}\r\n\t **/\r\n\tGraphics.BASE_64 = {\"A\":0,\"B\":1,\"C\":2,\"D\":3,\"E\":4,\"F\":5,\"G\":6,\"H\":7,\"I\":8,\"J\":9,\"K\":10,\"L\":11,\"M\":12,\"N\":13,\"O\":14,\"P\":15,\"Q\":16,\"R\":17,\"S\":18,\"T\":19,\"U\":20,\"V\":21,\"W\":22,\"X\":23,\"Y\":24,\"Z\":25,\"a\":26,\"b\":27,\"c\":28,\"d\":29,\"e\":30,\"f\":31,\"g\":32,\"h\":33,\"i\":34,\"j\":35,\"k\":36,\"l\":37,\"m\":38,\"n\":39,\"o\":40,\"p\":41,\"q\":42,\"r\":43,\"s\":44,\"t\":45,\"u\":46,\"v\":47,\"w\":48,\"x\":49,\"y\":50,\"z\":51,\"0\":52,\"1\":53,\"2\":54,\"3\":55,\"4\":56,\"5\":57,\"6\":58,\"7\":59,\"8\":60,\"9\":61,\"+\":62,\"/\":63};\r\n\r\n\t/**\r\n\t * Maps numeric values for the caps parameter of {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} to\r\n\t * corresponding string values. This is primarily for use with the tiny API. The mappings are as follows: 0 to\r\n\t * \"butt\", 1 to \"round\", and 2 to \"square\".\r\n\t * For example, to set the line caps to \"square\":\r\n\t *\r\n\t *      myGraphics.ss(16, 2);\r\n\t *\r\n\t * @property STROKE_CAPS_MAP\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @type {Array}\r\n\t **/\r\n\tGraphics.STROKE_CAPS_MAP = [\"butt\", \"round\", \"square\"];\r\n\r\n\t/**\r\n\t * Maps numeric values for the joints parameter of {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} to\r\n\t * corresponding string values. This is primarily for use with the tiny API. The mappings are as follows: 0 to\r\n\t * \"miter\", 1 to \"round\", and 2 to \"bevel\".\r\n\t * For example, to set the line joints to \"bevel\":\r\n\t *\r\n\t *      myGraphics.ss(16, 0, 2);\r\n\t *\r\n\t * @property STROKE_JOINTS_MAP\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @type {Array}\r\n\t **/\r\n\tGraphics.STROKE_JOINTS_MAP = [\"miter\", \"round\", \"bevel\"];\r\n\r\n\t/**\r\n\t * @property _ctx\r\n\t * @static\r\n\t * @protected\r\n\t * @type {CanvasRenderingContext2D}\r\n\t **/\r\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\r\n\tif (canvas.getContext) {\r\n\t\tGraphics._ctx = canvas.getContext(\"2d\");\r\n\t\tcanvas.width = canvas.height = 1;\r\n\t}\r\n\r\n\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"Graphics/instructions:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getInstructions\r\n\t * @protected\r\n\t * @return {Array} The instructions array, useful for chaining\r\n\t **/\r\n\tp._getInstructions = function() {\r\n\t\tthis._updateInstructions();\r\n\t\treturn this._instructions;\r\n\t};\r\n\t// Graphics.getInstructions is @deprecated. Remove for 1.1+\r\n\tp.getInstructions = createjs.deprecate(p._getInstructions, \"Graphics.getInstructions\");\r\n\r\n\t/**\r\n\t * Returns the graphics instructions array. Each entry is a graphics command object (ex. Graphics.Fill, Graphics.Rect)\r\n\t * Modifying the returned array directly is not recommended, and is likely to result in unexpected behaviour.\r\n\t *\r\n\t * This property is mainly intended for introspection of the instructions (ex. for graphics export).\r\n\t * @property instructions\r\n\t * @type {Array}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tinstructions: { get: p._getInstructions }\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true if this Graphics instance has no drawing commands.\r\n\t * @method isEmpty\r\n\t * @return {Boolean} Returns true if this Graphics instance has no drawing commands.\r\n\t **/\r\n\tp.isEmpty = function() {\r\n\t\treturn !(this._instructions.length || this._activeInstructions.length);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Object} data Optional data that is passed to graphics command exec methods. When called from a Shape instance, the shape passes itself as the data parameter. This can be used by custom graphic commands to insert contextual data.\r\n\t **/\r\n\tp.draw = function(ctx, data) {\r\n\t\tthis._updateInstructions();\r\n\t\tvar instr = this._instructions;\r\n\t\tfor (var i=this._storeIndex, l=instr.length; i<l; i++) {\r\n\t\t\tinstr[i].exec(ctx, data);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws only the path described for this Graphics instance, skipping any non-path instructions, including fill and\r\n\t * stroke descriptions. Used for <code>DisplayObject.mask</code> to draw the clipping path, for example.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method drawAsPath\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t **/\r\n\tp.drawAsPath = function(ctx) {\r\n\t\tthis._updateInstructions();\r\n\t\tvar instr, instrs = this._instructions;\r\n\t\tfor (var i=this._storeIndex, l=instrs.length; i<l; i++) {\r\n\t\t\t// the first command is always a beginPath command.\r\n\t\t\tif ((instr = instrs[i]).path !== false) { instr.exec(ctx); }\r\n\t\t}\r\n\t};\r\n\r\n\r\n// public methods that map directly to context 2D calls:\r\n\t/**\r\n\t * Moves the drawing point to the specified position. A tiny API method \"mt\" also exists.\r\n\t * @method moveTo\r\n\t * @param {Number} x The x coordinate the drawing point should move to.\r\n\t * @param {Number} y The y coordinate the drawing point should move to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls).\r\n\t * @chainable\r\n\t **/\r\n\tp.moveTo = function(x, y) {\r\n\t\treturn this.append(new G.MoveTo(x,y), true);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a line from the current drawing point to the specified position, which become the new current drawing\r\n\t * point. Note that you *must* call {{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} before the first `lineTo()`.\r\n\t * A tiny API method \"lt\" also exists.\r\n\t *\r\n\t * For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#complex-shapes-(paths)\">\r\n\t * whatwg spec</a>.\r\n\t * @method lineTo\r\n\t * @param {Number} x The x coordinate the drawing point should draw to.\r\n\t * @param {Number} y The y coordinate the drawing point should draw to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.lineTo = function(x, y) {\r\n\t\treturn this.append(new G.LineTo(x,y));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws an arc with the specified control points and radius.  For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-arcto\">\r\n\t * whatwg spec</a>. A tiny API method \"at\" also exists.\r\n\t * @method arcTo\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} x2\r\n\t * @param {Number} y2\r\n\t * @param {Number} radius\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.arcTo = function(x1, y1, x2, y2, radius) {\r\n\t\treturn this.append(new G.ArcTo(x1, y1, x2, y2, radius));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws an arc defined by the radius, startAngle and endAngle arguments, centered at the position (x, y). For\r\n\t * example, to draw a full circle with a radius of 20 centered at (100, 100):\r\n\t *\r\n\t *      arc(100, 100, 20, 0, Math.PI*2);\r\n\t *\r\n\t * For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-arc\">whatwg spec</a>.\r\n\t * A tiny API method \"a\" also exists.\r\n\t * @method arc\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} startAngle Measured in radians.\r\n\t * @param {Number} endAngle Measured in radians.\r\n\t * @param {Boolean} anticlockwise\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.arc = function(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n\t\treturn this.append(new G.Arc(x, y, radius, startAngle, endAngle, anticlockwise));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a quadratic curve from the current drawing point to (x, y) using the control point (cpx, cpy). For detailed\r\n\t * information, read the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-quadraticcurveto\">\r\n\t * whatwg spec</a>. A tiny API method \"qt\" also exists.\r\n\t * @method quadraticCurveTo\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.quadraticCurveTo = function(cpx, cpy, x, y) {\r\n\t\treturn this.append(new G.QuadraticCurveTo(cpx, cpy, x, y));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a bezier curve from the current drawing point to (x, y) using the control points (cp1x, cp1y) and (cp2x,\r\n\t * cp2y). For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-beziercurveto\">\r\n\t * whatwg spec</a>. A tiny API method \"bt\" also exists.\r\n\t * @method bezierCurveTo\r\n\t * @param {Number} cp1x\r\n\t * @param {Number} cp1y\r\n\t * @param {Number} cp2x\r\n\t * @param {Number} cp2y\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.bezierCurveTo = function(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n\t\treturn this.append(new G.BezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a rectangle at (x, y) with the specified width and height using the current fill and/or stroke.\r\n\t * For detailed information, read the\r\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-rect\">\r\n\t * whatwg spec</a>. A tiny API method \"r\" also exists.\r\n\t * @method rect\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.rect = function(x, y, w, h) {\r\n\t\treturn this.append(new G.Rect(x, y, w, h));\r\n\t};\r\n\r\n\t/**\r\n\t * Closes the current path, effectively drawing a line from the current drawing point to the first drawing point specified\r\n\t * since the fill or stroke was last set. A tiny API method \"cp\" also exists.\r\n\t * @method closePath\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.closePath = function() {\r\n\t\treturn this._activeInstructions.length ? this.append(new G.ClosePath()) : this;\r\n\t};\r\n\r\n\r\n// public methods that roughly map to Adobe Flash/Animate graphics APIs:\r\n\t/**\r\n\t * Clears all drawing instructions, effectively resetting this Graphics instance. Any line and fill styles will need\r\n\t * to be redefined to draw shapes following a clear call. A tiny API method \"c\" also exists.\r\n\t * @method clear\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.clear = function() {\r\n\t\tthis._instructions.length = this._activeInstructions.length = this._commitIndex = 0;\r\n\t\tthis._strokeStyle = this._oldStrokeStyle = this._stroke = this._fill = this._strokeDash = this._oldStrokeDash = null;\r\n\t\tthis._dirty = this._strokeIgnoreScale = false;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a fill with the specified color. This ends the current sub-path. A tiny API method \"f\" also exists.\r\n\t * @method beginFill\r\n\t * @param {String} color A CSS compatible color value (ex. \"red\", \"#FF0000\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no fill.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginFill = function(color) {\r\n\t\treturn this._setFill(color ? new G.Fill(color) : null);\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a linear gradient fill defined by the line (x0, y0) to (x1, y1). This ends the current sub-path. For\r\n\t * example, the following code defines a black to white vertical gradient ranging from 20px to 120px, and draws a\r\n\t * square to display it:\r\n\t *\r\n\t *      myGraphics.beginLinearGradientFill([\"#000\",\"#FFF\"], [0, 1], 0, 20, 0, 120).drawRect(20, 20, 120, 120);\r\n\t *\r\n\t * A tiny API method \"lf\" also exists.\r\n\t * @method beginLinearGradientFill\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define a gradient\r\n\t * drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1, 0.9] would draw\r\n\t * the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginLinearGradientFill = function(colors, ratios, x0, y0, x1, y1) {\r\n\t\treturn this._setFill(new G.Fill().linearGradient(colors, ratios, x0, y0, x1, y1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a radial gradient fill. This ends the current sub-path. For example, the following code defines a red to\r\n\t * blue radial gradient centered at (100, 100), with a radius of 50, and draws a circle to display it:\r\n\t *\r\n\t *      myGraphics.beginRadialGradientFill([\"#F00\",\"#00F\"], [0, 1], 100, 100, 0, 100, 100, 50).drawCircle(100, 100, 50);\r\n\t *\r\n\t * A tiny API method \"rf\" also exists.\r\n\t * @method beginRadialGradientFill\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginRadialGradientFill = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\r\n\t\treturn this._setFill(new G.Fill().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a pattern fill using the specified image. This ends the current sub-path. A tiny API method \"bf\" also\r\n\t * exists.\r\n\t * @method beginBitmapFill\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern. Must be loaded prior to creating a bitmap fill, or the fill will be empty.\r\n\t * @param {String} repetition Optional. Indicates whether to repeat the image in the fill area. One of \"repeat\",\r\n\t * \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\". Note that Firefox does not support \"repeat-x\" or\r\n\t * \"repeat-y\" (latest tests were in FF 20.0), and will default to \"repeat\".\r\n\t * @param {Matrix2D} matrix Optional. Specifies a transformation matrix for the bitmap fill. This transformation\r\n\t * will be applied relative to the parent transform.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginBitmapFill = function(image, repetition, matrix) {\r\n\t\treturn this._setFill(new G.Fill(null,matrix).bitmap(image, repetition));\r\n\t};\r\n\r\n\t/**\r\n\t * Ends the current sub-path, and begins a new one with no fill. Functionally identical to <code>beginFill(null)</code>.\r\n\t * A tiny API method \"ef\" also exists.\r\n\t * @method endFill\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.endFill = function() {\r\n\t\treturn this.beginFill();\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the stroke style. Like all drawing methods, this can be chained, so you can define\r\n\t * the stroke style and color in a single line of code like so:\r\n\t *\r\n\t * \tmyGraphics.setStrokeStyle(8,\"round\").beginStroke(\"#F00\");\r\n\t *\r\n\t * A tiny API method \"ss\" also exists.\r\n\t * @method setStrokeStyle\r\n\t * @param {Number} thickness The width of the stroke.\r\n\t * @param {String | Number} [caps=0] Indicates the type of caps to use at the end of lines. One of butt,\r\n\t * round, or square. Defaults to \"butt\". Also accepts the values 0 (butt), 1 (round), and 2 (square) for use with\r\n\t * the tiny API.\r\n\t * @param {String | Number} [joints=0] Specifies the type of joints that should be used where two lines meet.\r\n\t * One of bevel, round, or miter. Defaults to \"miter\". Also accepts the values 0 (miter), 1 (round), and 2 (bevel)\r\n\t * for use with the tiny API.\r\n\t * @param {Number} [miterLimit=10] If joints is set to \"miter\", then you can specify a miter limit ratio which\r\n\t * controls at what point a mitered joint will be clipped.\r\n\t * @param {Boolean} [ignoreScale=false] If true, the stroke will be drawn at the specified thickness regardless\r\n\t * of active transformations.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.setStrokeStyle = function(thickness, caps, joints, miterLimit, ignoreScale) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis._strokeStyle = this.command = new G.StrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\r\n\t\t// ignoreScale lives on Stroke, not StrokeStyle, so we do a little trickery:\r\n\t\tif (this._stroke) { this._stroke.ignoreScale = ignoreScale; }\r\n\t\tthis._strokeIgnoreScale = ignoreScale;\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Sets or clears the stroke dash pattern.\r\n\t *\r\n\t * \tmyGraphics.setStrokeDash([20, 10], 0);\r\n\t *\r\n\t * A tiny API method `sd` also exists.\r\n\t * @method setStrokeDash\r\n\t * @param {Array} [segments] An array specifying the dash pattern, alternating between line and gap.\r\n\t * For example, `[20,10]` would create a pattern of 20 pixel lines with 10 pixel gaps between them.\r\n\t * Passing null or an empty array will clear the existing stroke dash.\r\n\t * @param {Number} [offset=0] The offset of the dash pattern. For example, you could increment this value to create a \"marching ants\" effect.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.setStrokeDash = function(segments, offset) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis._strokeDash = this.command = new G.StrokeDash(segments, offset);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a stroke with the specified color. This ends the current sub-path. A tiny API method \"s\" also exists.\r\n\t * @method beginStroke\r\n\t * @param {String} color A CSS compatible color value (ex. \"#FF0000\", \"red\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no stroke.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginStroke = function(color) {\r\n\t\treturn this._setStroke(color ? new G.Stroke(color) : null);\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a linear gradient stroke defined by the line (x0, y0) to (x1, y1). This ends the current sub-path. For\r\n\t * example, the following code defines a black to white vertical gradient ranging from 20px to 120px, and draws a\r\n\t * square to display it:\r\n\t *\r\n\t *      myGraphics.setStrokeStyle(10).\r\n\t *          beginLinearGradientStroke([\"#000\",\"#FFF\"], [0, 1], 0, 20, 0, 120).drawRect(20, 20, 120, 120);\r\n\t *\r\n\t * A tiny API method \"ls\" also exists.\r\n\t * @method beginLinearGradientStroke\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginLinearGradientStroke = function(colors, ratios, x0, y0, x1, y1) {\r\n\t\treturn this._setStroke(new G.Stroke().linearGradient(colors, ratios, x0, y0, x1, y1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a radial gradient stroke. This ends the current sub-path. For example, the following code defines a red to\r\n\t * blue radial gradient centered at (100, 100), with a radius of 50, and draws a rectangle to display it:\r\n\t *\r\n\t *      myGraphics.setStrokeStyle(10)\r\n\t *          .beginRadialGradientStroke([\"#F00\",\"#00F\"], [0, 1], 100, 100, 0, 100, 100, 50)\r\n\t *          .drawRect(50, 90, 150, 110);\r\n\t *\r\n\t * A tiny API method \"rs\" also exists.\r\n\t * @method beginRadialGradientStroke\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%, then draw the second color\r\n\t * to 100%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginRadialGradientStroke = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\r\n\t\treturn this._setStroke(new G.Stroke().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\r\n\t};\r\n\r\n\t/**\r\n\t * Begins a pattern fill using the specified image. This ends the current sub-path. Note that unlike bitmap fills,\r\n\t * strokes do not currently support a matrix parameter due to limitations in the canvas API. A tiny API method \"bs\"\r\n\t * also exists.\r\n\t * @method beginBitmapStroke\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern. Must be loaded prior to creating a bitmap fill, or the fill will be empty.\r\n\t * @param {String} [repetition=repeat] Optional. Indicates whether to repeat the image in the fill area. One of\r\n\t * \"repeat\", \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\".\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.beginBitmapStroke = function(image, repetition) {\r\n\t\t// NOTE: matrix is not supported for stroke because transforms on strokes also affect the drawn stroke width.\r\n\t\treturn this._setStroke(new G.Stroke().bitmap(image, repetition));\r\n\t};\r\n\r\n\t/**\r\n\t * Ends the current sub-path, and begins a new one with no stroke. Functionally identical to <code>beginStroke(null)</code>.\r\n\t * A tiny API method \"es\" also exists.\r\n\t * @method endStroke\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.endStroke = function() {\r\n\t\treturn this.beginStroke();\r\n\t};\r\n\r\n\t/**\r\n\t * Maps the familiar ActionScript <code>curveTo()</code> method to the functionally similar {{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method curveTo\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.curveTo = p.quadraticCurveTo;\r\n\r\n\t/**\r\n\t *\r\n\t * Maps the familiar ActionScript <code>drawRect()</code> method to the functionally similar {{#crossLink \"Graphics/rect\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method drawRect\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawRect = p.rect;\r\n\r\n\t/**\r\n\t * Draws a rounded rectangle with all corners with the specified radius.\r\n\t * @method drawRoundRect\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t * @param {Number} radius Corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawRoundRect = function(x, y, w, h, radius) {\r\n\t\treturn this.drawRoundRectComplex(x, y, w, h, radius, radius, radius, radius);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a rounded rectangle with different corner radii. Supports positive and negative corner radii. A tiny API\r\n\t * method \"rc\" also exists.\r\n\t * @method drawRoundRectComplex\r\n\t * @param {Number} x The horizontal coordinate to draw the round rect.\r\n\t * @param {Number} y The vertical coordinate to draw the round rect.\r\n\t * @param {Number} w The width of the round rect.\r\n\t * @param {Number} h The height of the round rect.\r\n\t * @param {Number} radiusTL Top left corner radius.\r\n\t * @param {Number} radiusTR Top right corner radius.\r\n\t * @param {Number} radiusBR Bottom right corner radius.\r\n\t * @param {Number} radiusBL Bottom left corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawRoundRectComplex = function(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\r\n\t\treturn this.append(new G.RoundRect(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a circle with the specified radius at (x, y).\r\n\t *\r\n\t *      var g = new createjs.Graphics();\r\n\t *\t    g.setStrokeStyle(1);\r\n\t *\t    g.beginStroke(createjs.Graphics.getRGB(0,0,0));\r\n\t *\t    g.beginFill(createjs.Graphics.getRGB(255,0,0));\r\n\t *\t    g.drawCircle(0,0,3);\r\n\t *\r\n\t *\t    var s = new createjs.Shape(g);\r\n\t *\t\ts.x = 100;\r\n\t *\t\ts.y = 100;\r\n\t *\r\n\t *\t    stage.addChild(s);\r\n\t *\t    stage.update();\r\n\t *\r\n\t * A tiny API method \"dc\" also exists.\r\n\t * @method drawCircle\r\n\t * @param {Number} x x coordinate center point of circle.\r\n\t * @param {Number} y y coordinate center point of circle.\r\n\t * @param {Number} radius Radius of circle.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawCircle = function(x, y, radius) {\r\n\t\treturn this.append(new G.Circle(x, y, radius));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws an ellipse (oval) with a specified width (w) and height (h). Similar to {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}},\r\n\t * except the width and height can be different. A tiny API method \"de\" also exists.\r\n\t * @method drawEllipse\r\n\t * @param {Number} x The left coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from center.\r\n\t * @param {Number} y The top coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from the center.\r\n\t * @param {Number} w The height (horizontal diameter) of the ellipse. The horizontal radius will be half of this\r\n\t * number.\r\n\t * @param {Number} h The width (vertical diameter) of the ellipse. The vertical radius will be half of this number.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawEllipse = function(x, y, w, h) {\r\n\t\treturn this.append(new G.Ellipse(x, y, w, h));\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a star if pointSize is greater than 0, or a regular polygon if pointSize is 0 with the specified number of\r\n\t * points. For example, the following code will draw a familiar 5 pointed star shape centered at 100, 100 and with a\r\n\t * radius of 50:\r\n\t *\r\n\t *      myGraphics.beginFill(\"#FF0\").drawPolyStar(100, 100, 50, 5, 0.6, -90);\r\n\t *      // Note: -90 makes the first point vertical\r\n\t *\r\n\t * A tiny API method \"dp\" also exists.\r\n\t *\r\n\t * @method drawPolyStar\r\n\t * @param {Number} x Position of the center of the shape.\r\n\t * @param {Number} y Position of the center of the shape.\r\n\t * @param {Number} radius The outer radius of the shape.\r\n\t * @param {Number} sides The number of points on the star or sides on the polygon.\r\n\t * @param {Number} pointSize The depth or \"pointy-ness\" of the star points. A pointSize of 0 will draw a regular\r\n\t * polygon (no points), a pointSize of 1 will draw nothing because the points are infinitely pointy.\r\n\t * @param {Number} angle The angle of the first point / corner. For example a value of 0 will draw the first point\r\n\t * directly to the right of the center.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.drawPolyStar = function(x, y, radius, sides, pointSize, angle) {\r\n\t\treturn this.append(new G.PolyStar(x, y, radius, sides, pointSize, angle));\r\n\t};\r\n\r\n\t/**\r\n\t * Appends a graphics command object to the graphics queue. Command objects expose an \"exec\" method\r\n\t * that accepts two parameters: the Context2D to operate on, and an arbitrary data object passed into\r\n\t * {{#crossLink \"Graphics/draw\"}}{{/crossLink}}. The latter will usually be the Shape instance that called draw.\r\n\t *\r\n\t * This method is used internally by Graphics methods, such as drawCircle, but can also be used directly to insert\r\n\t * built-in or custom graphics commands. For example:\r\n\t *\r\n\t * \t\t// attach data to our shape, so we can access it during the draw:\r\n\t * \t\tmyShape.color = \"red\";\r\n\t *\r\n\t * \t\t// append a Circle command object:\r\n\t * \t\tmyShape.graphics.append(new createjs.Graphics.Circle(50, 50, 30));\r\n\t *\r\n\t * \t\t// append a custom command object with an exec method that sets the fill style\r\n\t * \t\t// based on the shape's data, and then fills the circle.\r\n\t * \t\tmyShape.graphics.append({exec:function(ctx, shape) {\r\n\t * \t\t\tctx.fillStyle = shape.color;\r\n\t * \t\t\tctx.fill();\r\n\t * \t\t}});\r\n\t *\r\n\t * @method append\r\n\t * @param {Object} command A graphics command object exposing an \"exec\" method.\r\n\t * @param {boolean} clean The clean param is primarily for internal use. A value of true indicates that a command does not generate a path that should be stroked or filled.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.append = function(command, clean) {\r\n\t\tthis._activeInstructions.push(command);\r\n\t\tthis.command = command;\r\n\t\tif (!clean) { this._dirty = true; }\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Decodes a compact encoded path string into a series of draw instructions.\r\n\t * This format is not intended to be human readable, and is meant for use by authoring tools.\r\n\t * The format uses a base64 character set, with each character representing 6 bits, to define a series of draw\r\n\t * commands.\r\n\t *\r\n\t * Each command is comprised of a single \"header\" character followed by a variable number of alternating x and y\r\n\t * position values. Reading the header bits from left to right (most to least significant): bits 1 to 3 specify the\r\n\t * type of operation (0-moveTo, 1-lineTo, 2-quadraticCurveTo, 3-bezierCurveTo, 4-closePath, 5-7 unused). Bit 4\r\n\t * indicates whether position values use 12 bits (2 characters) or 18 bits (3 characters), with a one indicating the\r\n\t * latter. Bits 5 and 6 are currently unused.\r\n\t *\r\n\t * Following the header is a series of 0 (closePath), 2 (moveTo, lineTo), 4 (quadraticCurveTo), or 6 (bezierCurveTo)\r\n\t * parameters. These parameters are alternating x/y positions represented by 2 or 3 characters (as indicated by the\r\n\t * 4th bit in the command char). These characters consist of a 1 bit sign (1 is negative, 0 is positive), followed\r\n\t * by an 11 (2 char) or 17 (3 char) bit integer value. All position values are in tenths of a pixel. Except in the\r\n\t * case of move operations which are absolute, this value is a delta from the previous x or y position (as\r\n\t * appropriate).\r\n\t *\r\n\t * For example, the string \"A3cAAMAu4AAA\" represents a line starting at -150,0 and ending at 150,0.\r\n\t * <br />A - bits 000000. First 3 bits (000) indicate a moveTo operation. 4th bit (0) indicates 2 chars per\r\n\t * parameter.\r\n\t * <br />n0 - 110111011100. Absolute x position of -150.0px. First bit indicates a negative value, remaining bits\r\n\t * indicate 1500 tenths of a pixel.\r\n\t * <br />AA - 000000000000. Absolute y position of 0.\r\n\t * <br />I - 001100. First 3 bits (001) indicate a lineTo operation. 4th bit (1) indicates 3 chars per parameter.\r\n\t * <br />Au4 - 000000101110111000. An x delta of 300.0px, which is added to the previous x value of -150.0px to\r\n\t * provide an absolute position of +150.0px.\r\n\t * <br />AAA - 000000000000000000. A y delta value of 0.\r\n\t *\r\n\t * A tiny API method \"p\" also exists.\r\n\t * @method decodePath\r\n\t * @param {String} str The path string to decode.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.decodePath = function(str) {\r\n\t\tvar instructions = [this.moveTo, this.lineTo, this.quadraticCurveTo, this.bezierCurveTo, this.closePath];\r\n\t\tvar paramCount = [2, 2, 4, 6, 0];\r\n\t\tvar i=0, l=str.length;\r\n\t\tvar params = [];\r\n\t\tvar x=0, y=0;\r\n\t\tvar base64 = Graphics.BASE_64;\r\n\r\n\t\twhile (i<l) {\r\n\t\t\tvar c = str.charAt(i);\r\n\t\t\tvar n = base64[c];\r\n\t\t\tvar fi = n>>3; // highest order bits 1-3 code for operation.\r\n\t\t\tvar f = instructions[fi];\r\n\t\t\t// check that we have a valid instruction & that the unused bits are empty:\r\n\t\t\tif (!f || (n&3)) { throw(\"bad path data (@\"+i+\"): \"+c); }\r\n\t\t\tvar pl = paramCount[fi];\r\n\t\t\tif (!fi) { x=y=0; } // move operations reset the position.\r\n\t\t\tparams.length = 0;\r\n\t\t\ti++;\r\n\t\t\tvar charCount = (n>>2&1)+2;  // 4th header bit indicates number size for this operation.\r\n\t\t\tfor (var p=0; p<pl; p++) {\r\n\t\t\t\tvar num = base64[str.charAt(i)];\r\n\t\t\t\tvar sign = (num>>5) ? -1 : 1;\r\n\t\t\t\tnum = ((num&31)<<6)|(base64[str.charAt(i+1)]);\r\n\t\t\t\tif (charCount == 3) { num = (num<<6)|(base64[str.charAt(i+2)]); }\r\n\t\t\t\tnum = sign*num/10;\r\n\t\t\t\tif (p%2) { x = (num += x); }\r\n\t\t\t\telse { y = (num += y); }\r\n\t\t\t\tparams[p] = num;\r\n\t\t\t\ti += charCount;\r\n\t\t\t}\r\n\t\t\tf.apply(this,params);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Stores all graphics commands so they won't be executed in future draws. Calling store() a second time adds to\r\n\t * the existing store. This also affects `drawAsPath()`.\r\n\t *\r\n\t * This is useful in cases where you are creating vector graphics in an iterative manner (ex. generative art), so\r\n\t * that only new graphics need to be drawn (which can provide huge performance benefits), but you wish to retain all\r\n\t * of the vector instructions for later use (ex. scaling, modifying, or exporting).\r\n\t *\r\n\t * Note that calling store() will force the active path (if any) to be ended in a manner similar to changing\r\n\t * the fill or stroke.\r\n\t *\r\n\t * For example, consider a application where the user draws lines with the mouse. As each line segment (or collection of\r\n\t * segments) are added to a Shape, it can be rasterized using {{#crossLink \"DisplayObject/updateCache\"}}{{/crossLink}},\r\n\t * and then stored, so that it can be redrawn at a different scale when the application is resized, or exported to SVG.\r\n\t *\r\n\t * \t// set up cache:\r\n\t * \tmyShape.cache(0,0,500,500,scale);\r\n\t *\r\n\t * \t// when the user drags, draw a new line:\r\n\t * \tmyShape.graphics.moveTo(oldX,oldY).lineTo(newX,newY);\r\n\t * \t// then draw it into the existing cache:\r\n\t * \tmyShape.updateCache(\"source-over\");\r\n\t * \t// store the new line, so it isn't redrawn next time:\r\n\t * \tmyShape.store();\r\n\t *\r\n\t * \t// then, when the window resizes, we can re-render at a different scale:\r\n\t * \t// first, unstore all our lines:\r\n\t * \tmyShape.unstore();\r\n\t * \t// then cache using the new scale:\r\n\t * \tmyShape.cache(0,0,500,500,newScale);\r\n\t * \t// finally, store the existing commands again:\r\n\t * \tmyShape.store();\r\n\t *\r\n\t * @method store\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.store = function() {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis._storeIndex = this._instructions.length;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Unstores any graphics commands that were previously stored using {{#crossLink \"Graphics/store\"}}{{/crossLink}}\r\n\t * so that they will be executed in subsequent draw calls.\r\n\t *\r\n\t * @method unstore\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.unstore = function() {\r\n\t\tthis._storeIndex = 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Graphics instance. Note that the individual command objects are not cloned.\r\n\t * @method clone\r\n\t * @return {Graphics} A clone of the current Graphics instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tvar o = new Graphics();\r\n\t\to.command = this.command;\r\n\t\to._stroke = this._stroke;\r\n\t\to._strokeStyle = this._strokeStyle;\r\n\t\to._strokeDash = this._strokeDash;\r\n\t\to._strokeIgnoreScale = this._strokeIgnoreScale;\r\n\t\to._fill = this._fill;\r\n\t\to._instructions = this._instructions.slice();\r\n\t\to._commitIndex = this._commitIndex;\r\n\t\to._activeInstructions = this._activeInstructions.slice();\r\n\t\to._dirty = this._dirty;\r\n\t\to._storeIndex = this._storeIndex;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Graphics]\";\r\n\t};\r\n\r\n\r\n// tiny API:\r\n\t/**\r\n\t * Shortcut to moveTo.\r\n\t * @method mt\r\n\t * @param {Number} x The x coordinate the drawing point should move to.\r\n\t * @param {Number} y The y coordinate the drawing point should move to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls).\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.mt = p.moveTo;\r\n\r\n\t/**\r\n\t * Shortcut to lineTo.\r\n\t * @method lt\r\n\t * @param {Number} x The x coordinate the drawing point should draw to.\r\n\t * @param {Number} y The y coordinate the drawing point should draw to.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.lt = p.lineTo;\r\n\r\n\t/**\r\n\t * Shortcut to arcTo.\r\n\t * @method at\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} x2\r\n\t * @param {Number} y2\r\n\t * @param {Number} radius\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.at = p.arcTo;\r\n\r\n\t/**\r\n\t * Shortcut to bezierCurveTo.\r\n\t * @method bt\r\n\t * @param {Number} cp1x\r\n\t * @param {Number} cp1y\r\n\t * @param {Number} cp2x\r\n\t * @param {Number} cp2y\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.bt = p.bezierCurveTo;\r\n\r\n\t/**\r\n\t * Shortcut to quadraticCurveTo / curveTo.\r\n\t * @method qt\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t * @chainable\r\n\t **/\r\n\tp.qt = p.quadraticCurveTo;\r\n\r\n\t/**\r\n\t * Shortcut to arc.\r\n\t * @method a\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} startAngle Measured in radians.\r\n\t * @param {Number} endAngle Measured in radians.\r\n\t * @param {Boolean} anticlockwise\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @protected\r\n\t * @chainable\r\n\t **/\r\n\tp.a = p.arc;\r\n\r\n\t/**\r\n\t * Shortcut to rect.\r\n\t * @method r\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.r = p.rect;\r\n\r\n\t/**\r\n\t * Shortcut to closePath.\r\n\t * @method cp\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.cp = p.closePath;\r\n\r\n\t/**\r\n\t * Shortcut to clear.\r\n\t * @method c\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.c = p.clear;\r\n\r\n\t/**\r\n\t * Shortcut to beginFill.\r\n\t * @method f\r\n\t * @param {String} color A CSS compatible color value (ex. \"red\", \"#FF0000\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no fill.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.f = p.beginFill;\r\n\r\n\t/**\r\n\t * Shortcut to beginLinearGradientFill.\r\n\t * @method lf\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define a gradient\r\n\t * drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1, 0.9] would draw\r\n\t * the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.lf = p.beginLinearGradientFill;\r\n\r\n\t/**\r\n\t * Shortcut to beginRadialGradientFill.\r\n\t * @method rf\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rf = p.beginRadialGradientFill;\r\n\r\n\t/**\r\n\t * Shortcut to beginBitmapFill.\r\n\t * @method bf\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern.\r\n\t * @param {String} repetition Optional. Indicates whether to repeat the image in the fill area. One of \"repeat\",\r\n\t * \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\". Note that Firefox does not support \"repeat-x\" or\r\n\t * \"repeat-y\" (latest tests were in FF 20.0), and will default to \"repeat\".\r\n\t * @param {Matrix2D} matrix Optional. Specifies a transformation matrix for the bitmap fill. This transformation\r\n\t * will be applied relative to the parent transform.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.bf = p.beginBitmapFill;\r\n\r\n\t/**\r\n\t * Shortcut to endFill.\r\n\t * @method ef\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.ef = p.endFill;\r\n\r\n\t/**\r\n\t * Shortcut to setStrokeStyle.\r\n\t * @method ss\r\n\t * @param {Number} thickness The width of the stroke.\r\n\t * @param {String | Number} [caps=0] Indicates the type of caps to use at the end of lines. One of butt,\r\n\t * round, or square. Defaults to \"butt\". Also accepts the values 0 (butt), 1 (round), and 2 (square) for use with\r\n\t * the tiny API.\r\n\t * @param {String | Number} [joints=0] Specifies the type of joints that should be used where two lines meet.\r\n\t * One of bevel, round, or miter. Defaults to \"miter\". Also accepts the values 0 (miter), 1 (round), and 2 (bevel)\r\n\t * for use with the tiny API.\r\n\t * @param {Number} [miterLimit=10] If joints is set to \"miter\", then you can specify a miter limit ratio which\r\n\t * controls at what point a mitered joint will be clipped.\r\n\t * @param {Boolean} [ignoreScale=false] If true, the stroke will be drawn at the specified thickness regardless\r\n\t * of active transformations.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.ss = p.setStrokeStyle;\r\n\t\r\n\t/**\r\n\t * Shortcut to setStrokeDash.\r\n\t * @method sd\r\n\t * @param {Array} [segments] An array specifying the dash pattern, alternating between line and gap.\r\n\t * For example, [20,10] would create a pattern of 20 pixel lines with 10 pixel gaps between them.\r\n\t * Passing null or an empty array will clear any existing dash.\r\n\t * @param {Number} [offset=0] The offset of the dash pattern. For example, you could increment this value to create a \"marching ants\" effect.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.sd = p.setStrokeDash;\r\n\r\n\t/**\r\n\t * Shortcut to beginStroke.\r\n\t * @method s\r\n\t * @param {String} color A CSS compatible color value (ex. \"#FF0000\", \"red\", or \"rgba(255,0,0,0.5)\"). Setting to\r\n\t * null will result in no stroke.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.s = p.beginStroke;\r\n\r\n\t/**\r\n\t * Shortcut to beginLinearGradientStroke.\r\n\t * @method ls\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\r\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.ls = p.beginLinearGradientStroke;\r\n\r\n\t/**\r\n\t * Shortcut to beginRadialGradientStroke.\r\n\t * @method rs\r\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\r\n\t * a gradient drawing from red to blue.\r\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\r\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%, then draw the second color\r\n\t * to 100%.\r\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\r\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\r\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\r\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rs = p.beginRadialGradientStroke;\r\n\r\n\t/**\r\n\t * Shortcut to beginBitmapStroke.\r\n\t * @method bs\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\r\n\t * as the pattern.\r\n\t * @param {String} [repetition=repeat] Optional. Indicates whether to repeat the image in the fill area. One of\r\n\t * \"repeat\", \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\".\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.bs = p.beginBitmapStroke;\r\n\r\n\t/**\r\n\t * Shortcut to endStroke.\r\n\t * @method es\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.es = p.endStroke;\r\n\r\n\t/**\r\n\t * Shortcut to drawRect.\r\n\t * @method dr\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w Width of the rectangle\r\n\t * @param {Number} h Height of the rectangle\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.dr = p.drawRect;\r\n\r\n\t/**\r\n\t * Shortcut to drawRoundRect.\r\n\t * @method rr\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t * @param {Number} radius Corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rr = p.drawRoundRect;\r\n\r\n\t/**\r\n\t * Shortcut to drawRoundRectComplex.\r\n\t * @method rc\r\n\t * @param {Number} x The horizontal coordinate to draw the round rect.\r\n\t * @param {Number} y The vertical coordinate to draw the round rect.\r\n\t * @param {Number} w The width of the round rect.\r\n\t * @param {Number} h The height of the round rect.\r\n\t * @param {Number} radiusTL Top left corner radius.\r\n\t * @param {Number} radiusTR Top right corner radius.\r\n\t * @param {Number} radiusBR Bottom right corner radius.\r\n\t * @param {Number} radiusBL Bottom left corner radius.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.rc = p.drawRoundRectComplex;\r\n\r\n\t/**\r\n\t * Shortcut to drawCircle.\r\n\t * @method dc\r\n\t * @param {Number} x x coordinate center point of circle.\r\n\t * @param {Number} y y coordinate center point of circle.\r\n\t * @param {Number} radius Radius of circle.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.dc = p.drawCircle;\r\n\r\n\t/**\r\n\t * Shortcut to drawEllipse.\r\n\t * @method de\r\n\t * @param {Number} x The left coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from center.\r\n\t * @param {Number} y The top coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\r\n\t * which draws from the center.\r\n\t * @param {Number} w The height (horizontal diameter) of the ellipse. The horizontal radius will be half of this\r\n\t * number.\r\n\t * @param {Number} h The width (vertical diameter) of the ellipse. The vertical radius will be half of this number.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.de = p.drawEllipse;\r\n\r\n\t/**\r\n\t * Shortcut to drawPolyStar.\r\n\t * @method dp\r\n\t * @param {Number} x Position of the center of the shape.\r\n\t * @param {Number} y Position of the center of the shape.\r\n\t * @param {Number} radius The outer radius of the shape.\r\n\t * @param {Number} sides The number of points on the star or sides on the polygon.\r\n\t * @param {Number} pointSize The depth or \"pointy-ness\" of the star points. A pointSize of 0 will draw a regular\r\n\t * polygon (no points), a pointSize of 1 will draw nothing because the points are infinitely pointy.\r\n\t * @param {Number} angle The angle of the first point / corner. For example a value of 0 will draw the first point\r\n\t * directly to the right of the center.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.dp = p.drawPolyStar;\r\n\r\n\t/**\r\n\t * Shortcut to decodePath.\r\n\t * @method p\r\n\t * @param {String} str The path string to decode.\r\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t * @protected\r\n\t **/\r\n\tp.p = p.decodePath;\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _updateInstructions\r\n\t * @param commit\r\n\t * @protected\r\n\t **/\r\n\tp._updateInstructions = function(commit) {\r\n\t\tvar instr = this._instructions, active = this._activeInstructions, commitIndex = this._commitIndex;\r\n\r\n\t\tif (this._dirty && active.length) {\r\n\t\t\tinstr.length = commitIndex; // remove old, uncommitted commands\r\n\t\t\tinstr.push(Graphics.beginCmd);\r\n\r\n\t\t\tvar l = active.length, ll = instr.length;\r\n\t\t\tinstr.length = ll+l;\r\n\t\t\tfor (var i=0; i<l; i++) { instr[i+ll] = active[i]; }\r\n\r\n\t\t\tif (this._fill) { instr.push(this._fill); }\r\n\t\t\tif (this._stroke) {\r\n\t\t\t\t// doesn't need to be re-applied if it hasn't changed.\r\n\t\t\t\tif (this._strokeDash !== this._oldStrokeDash) {\r\n\t\t\t\t\tinstr.push(this._strokeDash);\r\n\t\t\t\t}\r\n\t\t\t\tif (this._strokeStyle !== this._oldStrokeStyle) {\r\n\t\t\t\t\tinstr.push(this._strokeStyle);\r\n\t\t\t\t}\r\n\t\t\t\tif (commit) {\r\n\t\t\t\t\tthis._oldStrokeStyle = this._strokeStyle;\r\n\t\t\t\t\tthis._oldStrokeDash = this._strokeDash;\r\n\t\t\t\t}\r\n\t\t\t\tinstr.push(this._stroke);\r\n\t\t\t}\r\n\r\n\t\t\tthis._dirty = false;\r\n\t\t}\r\n\r\n\t\tif (commit) {\r\n\t\t\tactive.length = 0;\r\n\t\t\tthis._commitIndex = instr.length;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setFill\r\n\t * @param fill\r\n\t * @protected\r\n\t **/\r\n\tp._setFill = function(fill) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tthis.command = this._fill = fill;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setStroke\r\n\t * @param stroke\r\n\t * @protected\r\n\t **/\r\n\tp._setStroke = function(stroke) {\r\n\t\tthis._updateInstructions(true);\r\n\t\tif (this.command = this._stroke = stroke) {\r\n\t\t\tstroke.ignoreScale = this._strokeIgnoreScale;\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n// Command Objects:\r\n\t/**\r\n\t * @namespace Graphics\r\n\t */\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/lineTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information. See {{#crossLink \"Graphics\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class LineTo\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.LineTo = function(x, y) {\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.lineTo(this.x,this.y); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class MoveTo\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t */\r\n\t(G.MoveTo = function(x, y) {\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.moveTo(this.x, this.y); };\r\n\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/arcTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class ArcTo\r\n\t * @constructor\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} x2\r\n\t * @param {Number} y2\r\n\t * @param {Number} radius\r\n\t **/\r\n\t/**\r\n\t * @property x1\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y1\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property x2\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y2\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.ArcTo = function(x1, y1, x2, y2, radius) {\r\n\t\tthis.x1 = x1; this.y1 = y1;\r\n\t\tthis.x2 = x2; this.y2 = y2;\r\n\t\tthis.radius = radius;\r\n\t}).prototype.exec = function(ctx) { ctx.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/arc\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Arc\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} startAngle\r\n\t * @param {Number} endAngle\r\n\t * @param {Number} anticlockwise\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property startAngle\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property endAngle\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property anticlockwise\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Arc = function(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.radius = radius;\r\n\t\tthis.startAngle = startAngle; this.endAngle = endAngle;\r\n\t\tthis.anticlockwise = !!anticlockwise;\r\n\t}).prototype.exec = function(ctx) { ctx.arc(this.x, this.y, this.radius, this.startAngle, this.endAngle, this.anticlockwise); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class QuadraticCurveTo\r\n\t * @constructor\r\n\t * @param {Number} cpx\r\n\t * @param {Number} cpy\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property cpx\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cpy\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.QuadraticCurveTo = function(cpx, cpy, x, y) {\r\n\t\tthis.cpx = cpx; this.cpy = cpy;\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.quadraticCurveTo(this.cpx, this.cpy, this.x, this.y); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/bezierCurveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class BezierCurveTo\r\n\t * @constructor\r\n\t * @param {Number} cp1x\r\n\t * @param {Number} cp1y\r\n\t * @param {Number} cp2x\r\n\t * @param {Number} cp2y\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t **/\r\n\t/**\r\n\t * @property cp1x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cp1y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cp2x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property cp2y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.BezierCurveTo = function(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n\t\tthis.cp1x = cp1x; this.cp1y = cp1y;\r\n\t\tthis.cp2x = cp2x; this.cp2y = cp2y;\r\n\t\tthis.x = x; this.y = y;\r\n\t}).prototype.exec = function(ctx) { ctx.bezierCurveTo(this.cp1x, this.cp1y, this.cp2x, this.cp2y, this.x, this.y); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/rect\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Rect\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property w\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property h\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Rect = function(x, y, w, h) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.w = w; this.h = h;\r\n\t}).prototype.exec = function(ctx) { ctx.rect(this.x, this.y, this.w, this.h); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/closePath\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class ClosePath\r\n\t * @constructor\r\n\t **/\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.ClosePath = function() {\r\n\t}).prototype.exec = function(ctx) { ctx.closePath(); };\r\n\r\n\t/**\r\n\t * Graphics command object to begin a new path. See {{#crossLink \"Graphics\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class BeginPath\r\n\t * @constructor\r\n\t **/\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.BeginPath = function() {\r\n\t}).prototype.exec = function(ctx) { ctx.beginPath(); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/beginFill\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Fill\r\n\t * @constructor\r\n\t * @param {Object} style A valid Context2D fillStyle.\r\n\t * @param {Matrix2D} matrix\r\n\t **/\r\n\t/**\r\n\t * A valid Context2D fillStyle.\r\n\t * @property style\r\n\t * @type Object\r\n\t */\r\n\t/**\r\n\t * @property matrix\r\n\t * @type Matrix2D\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\tp = (G.Fill = function(style, matrix) {\r\n\t\tthis.style = style;\r\n\t\tthis.matrix = matrix;\r\n\t}).prototype;\r\n\tp.exec = function(ctx) {\r\n\t\tif (!this.style) { return; }\r\n\t\tctx.fillStyle = this.style;\r\n\t\tvar mtx = this.matrix;\r\n\t\tif (mtx) { ctx.save(); ctx.transform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty); }\r\n\t\tctx.fill();\r\n\t\tif (mtx) { ctx.restore(); }\r\n\t};\r\n\t/**\r\n\t * Creates a linear gradient style and assigns it to {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginLinearGradientFill\"}}{{/crossLink}} for more information.\r\n\t * @method linearGradient\r\n\t * @param {Array} colors\r\n\t *\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\r\n\t */\r\n\tp.linearGradient = function(colors, ratios, x0, y0, x1, y1) {\r\n\t\tvar o = this.style =  Graphics._ctx.createLinearGradient(x0, y0, x1, y1);\r\n\t\tfor (var i=0, l=colors.length; i<l; i++) { o.addColorStop(ratios[i], colors[i]); }\r\n\t\to.props = {colors:colors, ratios:ratios, x0:x0, y0:y0, x1:x1, y1:y1, type:\"linear\"};\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * Creates a radial gradient style and assigns it to {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginRadialGradientFill\"}}{{/crossLink}} for more information.\r\n\t * @method radialGradient\r\n\t * @param {Array} colors\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} r0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} r1\r\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\r\n\t */\r\n\tp.radialGradient = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\r\n\t\tvar o = this.style =  Graphics._ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\r\n\t\tfor (var i=0, l=colors.length; i<l; i++) { o.addColorStop(ratios[i], colors[i]); }\r\n\t\to.props = {colors:colors, ratios:ratios, x0:x0, y0:y0, r0:r0, x1:x1, y1:y1, r1:r1, type:\"radial\"};\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * Creates a bitmap fill style and assigns it to the {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginBitmapFill\"}}{{/crossLink}} for more information.\r\n\t * @method bitmap\r\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image  Must be loaded prior to creating a bitmap fill, or the fill will be empty.\r\n\t * @param {String} [repetition] One of: repeat, repeat-x, repeat-y, or no-repeat.\r\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\r\n\t */\r\n\tp.bitmap = function(image, repetition) {\r\n\t\tif (image.naturalWidth || image.getContext || image.readyState >= 2) {\r\n\t\t\tvar o = this.style = Graphics._ctx.createPattern(image, repetition || \"\");\r\n\t\t\to.props = {image: image, repetition: repetition, type: \"bitmap\"};\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\tp.path = false;\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/beginStroke\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Stroke\r\n\t * @constructor\r\n\t * @param {Object} style A valid Context2D fillStyle.\r\n\t * @param {Boolean} ignoreScale\r\n\t **/\r\n\t/**\r\n\t * A valid Context2D strokeStyle.\r\n\t * @property style\r\n\t * @type Object\r\n\t */\r\n\t/**\r\n\t * @property ignoreScale\r\n\t * @type Boolean\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\tp = (G.Stroke = function(style, ignoreScale) {\r\n\t\tthis.style = style;\r\n\t\tthis.ignoreScale = ignoreScale;\r\n\t}).prototype;\r\n\tp.exec = function(ctx) {\r\n\t\tif (!this.style) { return; }\r\n\t\tctx.strokeStyle = this.style;\r\n\t\tif (this.ignoreScale) { ctx.save(); ctx.setTransform(1,0,0,1,0,0); }\r\n\t\tctx.stroke();\r\n\t\tif (this.ignoreScale) { ctx.restore(); }\r\n\t};\r\n\t/**\r\n\t * Creates a linear gradient style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginLinearGradientStroke\"}}{{/crossLink}} for more information.\r\n\t * @method linearGradient\r\n\t * @param {Array} colors\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\r\n\t */\r\n\tp.linearGradient = G.Fill.prototype.linearGradient;\r\n\t/**\r\n\t * Creates a radial gradient style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginRadialGradientStroke\"}}{{/crossLink}} for more information.\r\n\t * @method radialGradient\r\n\t * @param {Array} colors\r\n\t * @param {Array} ratios\r\n\t * @param {Number} x0\r\n\t * @param {Number} y0\r\n\t * @param {Number} r0\r\n\t * @param {Number} x1\r\n\t * @param {Number} y1\r\n\t * @param {Number} r1\r\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\r\n\t */\r\n\tp.radialGradient = G.Fill.prototype.radialGradient;\r\n\t/**\r\n\t * Creates a bitmap fill style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\r\n\t * See {{#crossLink \"Graphics/beginBitmapStroke\"}}{{/crossLink}} for more information.\r\n\t * @method bitmap\r\n\t * @param {HTMLImageElement} image\r\n\t * @param {String} [repetition] One of: repeat, repeat-x, repeat-y, or no-repeat.\r\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\r\n\t */\r\n\tp.bitmap = G.Fill.prototype.bitmap;\r\n\tp.path = false;\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class StrokeStyle\r\n\t * @constructor\r\n\t * @param {Number} width\r\n\t * @param {String} [caps=butt]\r\n\t * @param {String} [joints=miter]\r\n\t * @param {Number} [miterLimit=10]\r\n\t * @param {Boolean} [ignoreScale=false]\r\n\t **/\r\n\t/**\r\n\t * @property width\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * One of: butt, round, square\r\n\t * @property caps\r\n\t * @type String\r\n\t */\r\n\t/**\r\n\t * One of: round, bevel, miter\r\n\t * @property joints\r\n\t * @type String\r\n\t */\r\n\t/**\r\n\t * @property miterLimit\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\tp = (G.StrokeStyle = function(width, caps, joints, miterLimit, ignoreScale) {\r\n\t\tthis.width = width;\r\n\t\tthis.caps = caps;\r\n\t\tthis.joints = joints;\r\n\t\tthis.miterLimit = miterLimit;\r\n\t\tthis.ignoreScale = ignoreScale;\r\n\t}).prototype;\r\n\tp.exec = function(ctx) {\r\n\t\tctx.lineWidth = (this.width == null ? \"1\" : this.width);\r\n\t\tctx.lineCap = (this.caps == null ? \"butt\" : (isNaN(this.caps) ? this.caps : Graphics.STROKE_CAPS_MAP[this.caps]));\r\n\t\tctx.lineJoin = (this.joints == null ? \"miter\" : (isNaN(this.joints) ? this.joints : Graphics.STROKE_JOINTS_MAP[this.joints]));\r\n\t\tctx.miterLimit = (this.miterLimit == null ? \"10\" : this.miterLimit);\r\n\t\tctx.ignoreScale = (this.ignoreScale == null ? false : this.ignoreScale);\r\n\t};\r\n\tp.path = false;\r\n\t\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/setStrokeDash\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class StrokeDash\r\n\t * @constructor\r\n\t * @param {Array} [segments]\r\n\t * @param {Number} [offset=0]\r\n\t **/\r\n\t/**\r\n\t * @property segments\r\n\t * @type Array\r\n\t */\r\n\t/**\r\n\t * @property offset\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.StrokeDash = function(segments, offset) {\r\n\t\tthis.segments = segments;\r\n\t\tthis.offset = offset||0;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tif (ctx.setLineDash) { // feature detection.\r\n\t\t\tctx.setLineDash(this.segments|| G.StrokeDash.EMPTY_SEGMENTS); // instead of [] to reduce churn.\r\n\t\t\tctx.lineDashOffset = this.offset||0;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * The default value for segments (ie. no dash).\r\n\t * @property EMPTY_SEGMENTS\r\n\t * @static\r\n\t * @final\r\n\t * @readonly\r\n\t * @protected\r\n\t * @type {Array}\r\n\t **/\r\n\tG.StrokeDash.EMPTY_SEGMENTS = [];\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawRoundRectComplex\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class RoundRect\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t * @param {Number} radiusTL\r\n\t * @param {Number} radiusTR\r\n\t * @param {Number} radiusBR\r\n\t * @param {Number} radiusBL\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property w\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property h\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusTL\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusTR\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusBR\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radiusBL\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.RoundRect = function(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.w = w; this.h = h;\r\n\t\tthis.radiusTL = radiusTL; this.radiusTR = radiusTR;\r\n\t\tthis.radiusBR = radiusBR; this.radiusBL = radiusBL;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tvar max = (w<h?w:h)/2;\r\n\t\tvar mTL=0, mTR=0, mBR=0, mBL=0;\r\n\t\tvar x = this.x, y = this.y, w = this.w, h = this.h;\r\n\t\tvar rTL = this.radiusTL, rTR = this.radiusTR, rBR = this.radiusBR, rBL = this.radiusBL;\r\n\r\n\t\tif (rTL < 0) { rTL *= (mTL=-1); }\r\n\t\tif (rTL > max) { rTL = max; }\r\n\t\tif (rTR < 0) { rTR *= (mTR=-1); }\r\n\t\tif (rTR > max) { rTR = max; }\r\n\t\tif (rBR < 0) { rBR *= (mBR=-1); }\r\n\t\tif (rBR > max) { rBR = max; }\r\n\t\tif (rBL < 0) { rBL *= (mBL=-1); }\r\n\t\tif (rBL > max) { rBL = max; }\r\n\r\n\t\tctx.moveTo(x+w-rTR, y);\r\n\t\tctx.arcTo(x+w+rTR*mTR, y-rTR*mTR, x+w, y+rTR, rTR);\r\n\t\tctx.lineTo(x+w, y+h-rBR);\r\n\t\tctx.arcTo(x+w+rBR*mBR, y+h+rBR*mBR, x+w-rBR, y+h, rBR);\r\n\t\tctx.lineTo(x+rBL, y+h);\r\n\t\tctx.arcTo(x-rBL*mBL, y+h+rBL*mBL, x, y+h-rBL, rBL);\r\n\t\tctx.lineTo(x, y+rTL);\r\n\t\tctx.arcTo(x-rTL*mTL, y-rTL*mTL, x+rTL, y, rTL);\r\n\t\tctx.closePath();\r\n\t};\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Circle\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Circle = function(x, y, radius) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.radius = radius;\r\n\t}).prototype.exec = function(ctx) { ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2); };\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawEllipse\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class Ellipse\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} w\r\n\t * @param {Number} h\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property w\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property h\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.Ellipse = function(x, y, w, h) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.w = w; this.h = h;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tvar x = this.x, y = this.y;\r\n\t\tvar w = this.w, h = this.h;\r\n\r\n\t\tvar k = 0.5522848;\r\n\t\tvar ox = (w / 2) * k;\r\n\t\tvar oy = (h / 2) * k;\r\n\t\tvar xe = x + w;\r\n\t\tvar ye = y + h;\r\n\t\tvar xm = x + w / 2;\r\n\t\tvar ym = y + h / 2;\r\n\r\n\t\tctx.moveTo(x, ym);\r\n\t\tctx.bezierCurveTo(x, ym-oy, xm-ox, y, xm, y);\r\n\t\tctx.bezierCurveTo(xm+ox, y, xe, ym-oy, xe, ym);\r\n\t\tctx.bezierCurveTo(xe, ym+oy, xm+ox, ye, xm, ye);\r\n\t\tctx.bezierCurveTo(xm-ox, ye, x, ym+oy, x, ym);\r\n\t};\r\n\r\n\t/**\r\n\t * Graphics command object. See {{#crossLink \"Graphics/drawPolyStar\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\r\n\t * @class PolyStar\r\n\t * @constructor\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Number} radius\r\n\t * @param {Number} sides\r\n\t * @param {Number} pointSize\r\n\t * @param {Number} angle\r\n\t **/\r\n\t/**\r\n\t * @property x\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property y\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property radius\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property sides\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property pointSize\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * @property angle\r\n\t * @type Number\r\n\t */\r\n\t/**\r\n\t * Execute the Graphics command in the provided Canvas context.\r\n\t * @method exec\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\r\n\t */\r\n\t(G.PolyStar = function(x, y, radius, sides, pointSize, angle) {\r\n\t\tthis.x = x; this.y = y;\r\n\t\tthis.radius = radius;\r\n\t\tthis.sides = sides;\r\n\t\tthis.pointSize = pointSize;\r\n\t\tthis.angle = angle;\r\n\t}).prototype.exec = function(ctx) {\r\n\t\tvar x = this.x, y = this.y;\r\n\t\tvar radius = this.radius;\r\n\t\tvar angle = (this.angle||0)/180*Math.PI;\r\n\t\tvar sides = this.sides;\r\n\t\tvar ps = 1-(this.pointSize||0);\r\n\t\tvar a = Math.PI/sides;\r\n\r\n\t\tctx.moveTo(x+Math.cos(angle)*radius, y+Math.sin(angle)*radius);\r\n\t\tfor (var i=0; i<sides; i++) {\r\n\t\t\tangle += a;\r\n\t\t\tif (ps != 1) {\r\n\t\t\t\tctx.lineTo(x+Math.cos(angle)*radius*ps, y+Math.sin(angle)*radius*ps);\r\n\t\t\t}\r\n\t\t\tangle += a;\r\n\t\t\tctx.lineTo(x+Math.cos(angle)*radius, y+Math.sin(angle)*radius);\r\n\t\t}\r\n\t\tctx.closePath();\r\n\t};\r\n\r\n\t// docced above.\r\n\tGraphics.beginCmd = new G.BeginPath(); // so we don't have to instantiate multiple instances.\r\n\r\n\r\n\tcreatejs.Graphics = Graphics;\r\n}());\r\n\r\n//##############################################################################\r\n// DisplayObject.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * DisplayObject is an abstract class that should not be constructed directly. Instead construct subclasses such as\r\n\t * {{#crossLink \"Container\"}}{{/crossLink}}, {{#crossLink \"Bitmap\"}}{{/crossLink}}, and {{#crossLink \"Shape\"}}{{/crossLink}}.\r\n\t * DisplayObject is the base class for all display classes in the EaselJS library. It defines the core properties and\r\n\t * methods that are shared between all display objects, such as transformation properties (x, y, scaleX, scaleY, etc),\r\n\t * caching, and mouse handlers.\r\n\t * @class DisplayObject\r\n\t * @extends EventDispatcher\r\n\t * @constructor\r\n\t **/\r\n\tfunction DisplayObject() {\r\n\t\tthis.EventDispatcher_constructor();\r\n\r\n\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The alpha (transparency) for this display object. 0 is fully transparent, 1 is fully opaque.\r\n\t\t * @property alpha\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.alpha = 1;\r\n\r\n\t\t/**\r\n\t\t * If a cache is active, this returns the canvas that holds the image of this display object. See {{#crossLink \"DisplayObject/cache:method\"}}{{/crossLink}}\r\n\t\t * for more information. Use this to display the result of a cache. This will be a HTMLCanvasElement unless special cache rules have been deliberately enabled for this cache.\r\n\t\t * @property cacheCanvas\r\n\t\t * @type {HTMLCanvasElement | Object}\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.cacheCanvas = null;\r\n\r\n\t\t/**\r\n\t\t * If a cache has been made, this returns the class that is managing the cacheCanvas and its properties. See {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * for more information. Use this to control, inspect, and change the cache. In special circumstances this may be a modified or subclassed BitmapCache.\r\n\t\t * @property bitmapCache\r\n\t\t * @type {BitmapCache}\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.bitmapCache = null;\r\n\r\n\t\t/**\r\n\t\t * Unique ID for this display object. Makes display objects easier for some uses.\r\n\t\t * @property id\r\n\t\t * @type {Number}\r\n\t\t * @default -1\r\n\t\t **/\r\n\t\tthis.id = createjs.UID.get();\r\n\r\n\t\t/**\r\n\t\t * Indicates whether to include this object when running mouse interactions. Setting this to `false` for children\r\n\t\t * of a {{#crossLink \"Container\"}}{{/crossLink}} will cause events on the Container to not fire when that child is\r\n\t\t * clicked. Setting this property to `false` does not prevent the {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}\r\n\t\t * method from returning the child.\r\n\t\t *\r\n\t\t * <strong>Note:</strong> In EaselJS 0.7.0, the mouseEnabled property will not work properly with nested Containers. Please\r\n\t\t * check out the latest NEXT version in <a href=\"https://github.com/CreateJS/EaselJS/tree/master/lib\">GitHub</a> for an updated version with this issue resolved. The fix will be\r\n\t\t * provided in the next release of EaselJS.\r\n\t\t * @property mouseEnabled\r\n\t\t * @type {Boolean}\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.mouseEnabled = true;\r\n\r\n\t\t/**\r\n\t\t * If false, the tick will not run on this display object (or its children). This can provide some performance benefits.\r\n\t\t * In addition to preventing the \"tick\" event from being dispatched, it will also prevent tick related updates\r\n\t\t * on some display objects (ex. Sprite & MovieClip frame advancing, and DOMElement display properties).\r\n\t\t * @property tickEnabled\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.tickEnabled = true;\r\n\r\n\t\t/**\r\n\t\t * An optional name for this display object. Included in {{#crossLink \"DisplayObject/toString\"}}{{/crossLink}} . Useful for\r\n\t\t * debugging.\r\n\t\t * @property name\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.name = null;\r\n\r\n\t\t/**\r\n\t\t * A reference to the {{#crossLink \"Container\"}}{{/crossLink}} or {{#crossLink \"Stage\"}}{{/crossLink}} object that\r\n\t\t * contains this display object, or null if it has not been added\r\n\t\t * to one.\r\n\t\t * @property parent\r\n\t\t * @final\r\n\t\t * @type {Container}\r\n\t\t * @default null\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.parent = null;\r\n\r\n\t\t/**\r\n\t\t * The left offset for this display object's registration point. For example, to make a 100x100px Bitmap rotate\r\n\t\t * around its center, you would set regX and {{#crossLink \"DisplayObject/regY:property\"}}{{/crossLink}} to 50.\r\n\t\t * Cached object's registration points should be set based on pre-cache conditions, not cached size.\r\n\t\t * @property regX\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.regX = 0;\r\n\r\n\t\t/**\r\n\t\t * The y offset for this display object's registration point. For example, to make a 100x100px Bitmap rotate around\r\n\t\t * its center, you would set {{#crossLink \"DisplayObject/regX:property\"}}{{/crossLink}} and regY to 50.\r\n\t\t * Cached object's registration points should be set based on pre-cache conditions, not cached size.\r\n\t\t * @property regY\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.regY = 0;\r\n\r\n\t\t/**\r\n\t\t * The rotation in degrees for this display object.\r\n\t\t * @property rotation\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.rotation = 0;\r\n\r\n\t\t/**\r\n\t\t * The factor to stretch this display object horizontally. For example, setting scaleX to 2 will stretch the display\r\n\t\t * object to twice its nominal width. To horizontally flip an object, set the scale to a negative number.\r\n\t\t * @property scaleX\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scaleX = 1;\r\n\r\n\t\t/**\r\n\t\t * The factor to stretch this display object vertically. For example, setting scaleY to 0.5 will stretch the display\r\n\t\t * object to half its nominal height. To vertically flip an object, set the scale to a negative number.\r\n\t\t * @property scaleY\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scaleY = 1;\r\n\r\n\t\t/**\r\n\t\t * The factor to skew this display object horizontally.\r\n\t\t * @property skewX\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.skewX = 0;\r\n\r\n\t\t/**\r\n\t\t * The factor to skew this display object vertically.\r\n\t\t * @property skewY\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.skewY = 0;\r\n\r\n\t\t/**\r\n\t\t * A shadow object that defines the shadow to render on this display object. Set to `null` to remove a shadow. If\r\n\t\t * null, this property is inherited from the parent container.\r\n\t\t * @property shadow\r\n\t\t * @type {Shadow}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.shadow = null;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether this display object should be rendered to the canvas and included when running the Stage\r\n\t\t * {{#crossLink \"Stage/getObjectsUnderPoint\"}}{{/crossLink}} method.\r\n\t\t * @property visible\r\n\t\t * @type {Boolean}\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.visible = true;\r\n\r\n\t\t/**\r\n\t\t * The x (horizontal) position of the display object, relative to its parent.\r\n\t\t * @property x\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.x = 0;\r\n\r\n\t\t/** The y (vertical) position of the display object, relative to its parent.\r\n\t\t * @property y\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.y = 0;\r\n\r\n\t\t/**\r\n\t\t * If set, defines the transformation for this display object, overriding all other transformation properties\r\n\t\t * (x, y, rotation, scale, skew).\r\n\t\t * @property transformMatrix\r\n\t\t * @type {Matrix2D}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.transformMatrix = null;\r\n\r\n\t\t/**\r\n\t\t * The composite operation indicates how the pixels of this display object will be composited with the elements\r\n\t\t * behind it. If `null`, this property is inherited from the parent container. For more information, read the\r\n\t\t * <a href=\"https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-globalcompositeoperation\">\r\n\t\t * whatwg spec on compositing</a>. For a list of supported compositeOperation value, visit\r\n\t\t * <a href=\"https://drafts.fxtf.org/compositing/\">the W3C draft on Compositing and Blending</a>.\r\n\t\t * @property compositeOperation\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.compositeOperation = null;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the display object should be drawn to a whole pixel when\r\n\t\t * {{#crossLink \"Stage/snapToPixelEnabled\"}}{{/crossLink}} is true. To enable/disable snapping on whole\r\n\t\t * categories of display objects, set this value on the prototype (Ex. Text.prototype.snapToPixel = true).\r\n\t\t * @property snapToPixel\r\n\t\t * @type {Boolean}\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.snapToPixel = true;\r\n\r\n\t\t/**\r\n\t\t * An array of Filter objects to apply to this display object. Filters are only applied / updated when {{#crossLink \"cache\"}}{{/crossLink}}\r\n\t\t * or {{#crossLink \"updateCache\"}}{{/crossLink}} is called on the display object, and only apply to the area that is\r\n\t\t * cached.\r\n\t\t * @property filters\r\n\t\t * @type {Array}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.filters = null;\r\n\r\n\t\t/**\r\n\t\t * A Shape instance that defines a vector mask (clipping path) for this display object.  The shape's transformation\r\n\t\t * will be applied relative to the display object's parent coordinates (as if it were a child of the parent).\r\n\t\t * @property mask\r\n\t\t * @type {Shape}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.mask = null;\r\n\r\n\t\t/**\r\n\t\t * A display object that will be tested when checking mouse interactions or testing {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}.\r\n\t\t * The hit area will have its transformation applied relative to this display object's coordinate space (as though\r\n\t\t * the hit test object were a child of this display object and relative to its regX/Y). The hitArea will be tested\r\n\t\t * using only its own `alpha` value regardless of the alpha value on the target display object, or the target's\r\n\t\t * ancestors (parents).\r\n\t\t * \r\n\t\t * If set on a {{#crossLink \"Container\"}}{{/crossLink}}, children of the Container will not receive mouse events.\r\n\t\t * This is similar to setting {{#crossLink \"mouseChildren\"}}{{/crossLink}} to false.\r\n\t\t *\r\n\t\t * Note that hitArea is NOT currently used by the `hitTest()` method, nor is it supported for {{#crossLink \"Stage\"}}{{/crossLink}}.\r\n\t\t * @property hitArea\r\n\t\t * @type {DisplayObject}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.hitArea = null;\r\n\r\n\t\t/**\r\n\t\t * A CSS cursor (ex. \"pointer\", \"help\", \"text\", etc) that will be displayed when the user hovers over this display\r\n\t\t * object. You must enable mouseover events using the {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}} method to\r\n\t\t * use this property. Setting a non-null cursor on a Container will override the cursor set on its descendants.\r\n\t\t * @property cursor\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.cursor = null;\r\n\r\n\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * @property _cacheScale\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t * @deprecated\r\n\t\t **/\r\n\r\n\t\t/**\r\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * @property _cacheDataURLID\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t * @deprecated\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t\t * @property _cacheDataURL\r\n\t\t * @protected\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t * @deprecated\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * @property _props\r\n\t\t * @protected\r\n\t\t * @type {DisplayObject}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._props = new createjs.DisplayProps();\r\n\r\n\t\t/**\r\n\t\t * @property _rectangle\r\n\t\t * @protected\r\n\t\t * @type {Rectangle}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._rectangle = new createjs.Rectangle();\r\n\r\n\t\t/**\r\n\t\t * @property _bounds\r\n\t\t * @protected\r\n\t\t * @type {Rectangle}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._bounds = null;\r\n\r\n\t\t/**\r\n\t\t * Where StageGL should look for required display properties, matters only for leaf display objects. Containers\r\n\t\t * or cached objects won't use this property, it's for native display of terminal elements.\r\n\t\t * @property _webGLRenderStyle\r\n\t\t * @protected\r\n\t\t * @type {number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._webGLRenderStyle = DisplayObject._StageGL_NONE;\r\n\t}\r\n\tvar p = createjs.extend(DisplayObject, createjs.EventDispatcher);\r\n\r\n// static properties:\r\n\t/**\r\n\t * Listing of mouse event names. Used in _hasMouseEventListener.\r\n\t * @property _MOUSE_EVENTS\r\n\t * @protected\r\n\t * @static\r\n\t * @type {Array}\r\n\t **/\r\n\tDisplayObject._MOUSE_EVENTS = [\"click\",\"dblclick\",\"mousedown\",\"mouseout\",\"mouseover\",\"pressmove\",\"pressup\",\"rollout\",\"rollover\"];\r\n\r\n\t/**\r\n\t * Suppresses errors generated when using features like hitTest, mouse events, and {{#crossLink \"getObjectsUnderPoint\"}}{{/crossLink}}\r\n\t * with cross domain content.\r\n\t * @property suppressCrossDomainErrors\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @default false\r\n\t **/\r\n\tDisplayObject.suppressCrossDomainErrors = false;\r\n\r\n\t/**\r\n\t * @property _snapToPixelEnabled\r\n\t * @protected\r\n\t * @static\r\n\t * @type {Boolean}\r\n\t * @default false\r\n\t **/\r\n\tDisplayObject._snapToPixelEnabled = false; // stage.snapToPixelEnabled is temporarily copied here during a draw to provide global access.\r\n\r\n\t/**\r\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\r\n\t * @property _StageGL_NONE\r\n\t * @protected\r\n\t * @static\r\n\t * @type {number}\r\n\t */\r\n\tDisplayObject._StageGL_NONE = 0;\r\n\r\n\t/**\r\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\r\n\t * @property _StageGL_SPRITE\r\n\t * @protected\r\n\t * @static\r\n\t * @type {number}\r\n\t */\r\n\tDisplayObject._StageGL_SPRITE = 1;\r\n\r\n\t/**\r\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\r\n\t * @property _StageGL_BITMAP\r\n\t * @protected\r\n\t * @static\r\n\t * @type {number}\r\n\t */\r\n\tDisplayObject._StageGL_BITMAP = 2;\r\n\r\n\t/**\r\n\t * @property _hitTestCanvas\r\n\t * @type {HTMLCanvasElement | Object}\r\n\t * @static\r\n\t * @protected\r\n\t **/\r\n\t/**\r\n\t * @property _hitTestContext\r\n\t * @type {CanvasRenderingContext2D}\r\n\t * @static\r\n\t * @protected\r\n\t **/\r\n\tvar canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"); // prevent errors on load in browsers without canvas.\r\n\tif (canvas.getContext) {\r\n\t\tDisplayObject._hitTestCanvas = canvas;\r\n\t\tDisplayObject._hitTestContext = canvas.getContext(\"2d\");\r\n\t\tcanvas.width = canvas.height = 1;\r\n\t}\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when the user presses their left mouse button over the display object. See the \r\n\t * {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event mousedown\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user presses their left mouse button and then releases it while over the display object.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event click\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user double clicks their left mouse button over this display object.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event dblclick\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user's mouse enters this display object. This event must be enabled using \r\n\t * {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}. See also {{#crossLink \"DisplayObject/rollover:event\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event mouseover\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user's mouse leaves this display object. This event must be enabled using \r\n\t * {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}. See also {{#crossLink \"DisplayObject/rollout:event\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event mouseout\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * This event is similar to {{#crossLink \"DisplayObject/mouseover:event\"}}{{/crossLink}}, with the following\r\n\t * differences: it does not bubble, and it considers {{#crossLink \"Container\"}}{{/crossLink}} instances as an\r\n\t * aggregate of their content.\r\n\t * \r\n\t * For example, myContainer contains two overlapping children: shapeA and shapeB. The user moves their mouse over\r\n\t * shapeA and then directly on to shapeB. With a listener for {{#crossLink \"mouseover:event\"}}{{/crossLink}} on\r\n\t * myContainer, two events would be received, each targeting a child element:<OL>\r\n\t * <LI>when the mouse enters shapeA (target=shapeA)</LI>\r\n\t * <LI>when the mouse enters shapeB (target=shapeB)</LI>\r\n\t * </OL>\r\n\t * However, with a listener for \"rollover\" instead, only a single event is received when the mouse first enters\r\n\t * the aggregate myContainer content (target=myContainer).\r\n\t * \r\n\t * This event must be enabled using {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event rollover\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * This event is similar to {{#crossLink \"DisplayObject/mouseout:event\"}}{{/crossLink}}, with the following\r\n\t * differences: it does not bubble, and it considers {{#crossLink \"Container\"}}{{/crossLink}} instances as an\r\n\t * aggregate of their content.\r\n\t * \r\n\t * For example, myContainer contains two overlapping children: shapeA and shapeB. The user moves their mouse over\r\n\t * shapeA, then directly on to shapeB, then off both. With a listener for {{#crossLink \"mouseout:event\"}}{{/crossLink}}\r\n\t * on myContainer, two events would be received, each targeting a child element:<OL>\r\n\t * <LI>when the mouse leaves shapeA (target=shapeA)</LI>\r\n\t * <LI>when the mouse leaves shapeB (target=shapeB)</LI>\r\n\t * </OL>\r\n\t * However, with a listener for \"rollout\" instead, only a single event is received when the mouse leaves\r\n\t * the aggregate myContainer content (target=myContainer).\r\n\t * \r\n\t * This event must be enabled using {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event rollout\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * After a {{#crossLink \"DisplayObject/mousedown:event\"}}{{/crossLink}} occurs on a display object, a pressmove\r\n\t * event will be generated on that object whenever the mouse moves until the mouse press is released. This can be\r\n\t * useful for dragging and similar operations.\r\n\t *\r\n\t * **Please note** that if the initial mouse target from a `mousedown` event is removed from the stage after being pressed\r\n\t * (e.g. during a `pressmove` event), a `pressmove` event is still generated. However since it is no longer in the\r\n\t * display list, the event can not bubble. This means that previous ancestors (parent containers) will not receive\r\n\t * the event, and therefore can not re-dispatch it. If you intend to listen for `{{#crossLink \"DisplayObject/pressup:event\"}}{{/crossLink}}`\r\n\t * or `pressmove` on a dynamic object (such as a {{#crossLink \"MovieClip\"}}{{/crossLink}} or {{#crossLink \"Container\"}}{{/crossLink}}),\r\n\t * then ensure you set {{#crossLink \"Container/mouseChildren:property\"}}{{/crossLink}} to `false`.\r\n\t * @event pressmove\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * After a {{#crossLink \"DisplayObject/mousedown:event\"}}{{/crossLink}} occurs on a display object, a pressup event\r\n\t * will be generated on that object when that mouse press is released. This can be useful for dragging and similar\r\n\t * operations.\r\n\t *\r\n\t * **Please note** that if the initial mouse target from a `mousedown` event is removed from the stage after being pressed\r\n\t * (e.g. during a `pressmove` event), a `pressup` event is still generated. However since it is no longer in the\r\n\t * display list, the event can not bubble. This means that previous ancestors (parent containers) will not receive\r\n\t * the event, and therefore can not re-dispatch it. If you intend to listen for `{{#crossLink \"DisplayObject/pressmove:event\"}}{{/crossLink}}`\r\n\t * or `pressup` on a dynamic object (such as a {{#crossLink \"MovieClip\"}}{{/crossLink}} or {{#crossLink \"Container\"}}{{/crossLink}}),\r\n\t * then ensure you set {{#crossLink \"Container/mouseChildren:property\"}}{{/crossLink}} to `false`.\r\n\t * @event pressup\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the display object is added to a parent container.\r\n\t * @event added\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the display object is removed from its parent container.\r\n\t * @event removed\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched on each display object on a stage whenever the stage updates. This occurs immediately before the\r\n\t * rendering (draw) pass. When {{#crossLink \"Stage/update\"}}{{/crossLink}} is called, first all display objects on\r\n\t * the stage dispatch the tick event, then all of the display objects are drawn to stage. Children will have their\r\n\t * {{#crossLink \"tick:event\"}}{{/crossLink}} event dispatched in order of their depth prior to the event being\r\n\t * dispatched on their parent.\r\n\t * @event tick\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {Array} params An array containing any arguments that were passed to the Stage.update() method. For\r\n\t *      example if you called stage.update(\"hello\"), then the params would be [\"hello\"].\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"DisplayObject/stage:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getStage\r\n\t * @protected\r\n\t * @return {Stage}\r\n\t **/\r\n\tp._getStage = function() {\r\n\t\t// uses dynamic access to avoid circular dependencies;\r\n\t\tvar o = this, _Stage = createjs[\"Stage\"];\r\n\t\twhile (o.parent) { o = o.parent; }\r\n\t\tif (o instanceof _Stage) { return o; }\r\n\t\treturn null;\r\n\t};\r\n\t// DisplayObject.getStage is @deprecated. Remove for 1.1+\r\n\tp.getStage = createjs.deprecate(p._getStage, \"DisplayObject.getStage\");\r\n\r\n\t/**\r\n\t * Returns the Stage instance that this display object will be rendered on, or null if it has not been added to one.\r\n\t * @property stage\r\n\t * @type {Stage}\r\n\t * @readonly\r\n\t **/\r\n\r\n\t/**\r\n\t * Returns an ID number that uniquely identifies the current cache for this display object. This can be used to\r\n\t * determine if the cache has changed since a previous check.\r\n\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\r\n\t * @property cacheID\r\n\t * @deprecated\r\n\t * @type {Number}\r\n\t * @default 0\r\n\t */\r\n\r\n\t/**\r\n\t * Set both the {{#crossLink \"DisplayObject/scaleX:property\"}}{{/crossLink}} and the {{#crossLink \"DisplayObject/scaleY\"}}{{/crossLink}}\r\n\t * property to the same value. Note that when you get the value, if the `scaleX` and `scaleY` are different values,\r\n\t * it will return only the `scaleX`.\r\n\t * @property scaleX\r\n\t * @type {Number}\r\n\t * @default 1\r\n\t */\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tstage: { get: p._getStage },\r\n\t\t\tcacheID: {\r\n\t\t\t\tget: function(){ return this.bitmapCache && this.bitmapCache.cacheID },\r\n\t\t\t\tset: function(a){ this.bitmapCache && (this.bitmapCache.cacheID = a) }\r\n\t\t\t},\r\n\t\t\tscale: {\r\n\t\t\t\tget: function() { return this.scaleX; },\r\n\t\t\t\tset: function(scale) { this.scaleX = this.scaleY = scale; },\r\n\t\t\t}\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns <code>true</code> if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For example,\r\n\t * used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tvar cache = this.bitmapCache;\r\n\t\tif(cache && !ignoreCache) {\r\n\t\t\treturn cache.draw(ctx);\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Applies this display object's transformation, alpha, globalCompositeOperation, clipping path (mask), and shadow\r\n\t * to the specified context. This is typically called prior to {{#crossLink \"DisplayObject/draw\"}}{{/crossLink}}.\r\n\t * @method updateContext\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D to update.\r\n\t **/\r\n\tp.updateContext = function(ctx) {\r\n\t\tvar o=this, mask=o.mask, mtx= o._props.matrix;\r\n\t\t\r\n\t\tif (mask && mask.graphics && !mask.graphics.isEmpty()) {\r\n\t\t\tmask.getMatrix(mtx);\r\n\t\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\r\n\t\t\t\r\n\t\t\tmask.graphics.drawAsPath(ctx);\r\n\t\t\tctx.clip();\r\n\t\t\t\r\n\t\t\tmtx.invert();\r\n\t\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\r\n\t\t}\r\n\t\t\r\n\t\tthis.getMatrix(mtx);\r\n\t\tvar tx = mtx.tx, ty = mtx.ty;\r\n\t\tif (DisplayObject._snapToPixelEnabled && o.snapToPixel) {\r\n\t\t\ttx = tx + (tx < 0 ? -0.5 : 0.5) | 0;\r\n\t\t\tty = ty + (ty < 0 ? -0.5 : 0.5) | 0;\r\n\t\t}\r\n\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, tx, ty);\r\n\t\tctx.globalAlpha *= o.alpha;\r\n\t\tif (o.compositeOperation) { ctx.globalCompositeOperation = o.compositeOperation; }\r\n\t\tif (o.shadow) { this._applyShadow(ctx, o.shadow); }\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into a new element, which is then used for subsequent draws. Intended for complex content\r\n\t * that does not change frequently (ex. a Container with many children that do not move, or a complex vector Shape),\r\n\t * this can provide for much faster rendering because the content does not need to be re-rendered each tick. The\r\n\t * cached display object can be moved, rotated, faded, etc freely, however if its content changes, you must manually\r\n\t * update the cache by calling <code>updateCache()</code> again. You must specify the cached area via the x, y, w,\r\n\t * and h parameters. This defines the rectangle that will be rendered and cached using this display object's coordinates.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * For example if you defined a Shape that drew a circle at 0, 0 with a radius of 25:\r\n\t *\r\n\t *      var shape = new createjs.Shape();\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0, 0, 25);\r\n\t *      shape.cache(-25, -25, 50, 50);\r\n\t *\r\n\t * Note that filters need to be defined <em>before</em> the cache is applied or you will have to call updateCache after\r\n\t * application. Check out the {{#crossLink \"Filter\"}}{{/crossLink}} class for more information. Some filters\r\n\t * (ex. BlurFilter) may not work as expected in conjunction with the scale param.\r\n\t * \r\n\t * Usually, the resulting cacheCanvas will have the dimensions width * scale, height * scale, however some filters (ex. BlurFilter)\r\n\t * will add padding to the canvas dimensions.\r\n\t *\r\n\t * In previous versions caching was handled on DisplayObject but has since been moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}.\r\n\t * This allows for easier interaction and alternate cache methods like WebGL with {{#crossLink \"StageGL\"}}{{/crossLink}}.\r\n\t * For more information on the options object, see the BitmapCache {{#crossLink \"BitmapCache/define\"}}{{/crossLink}}.\r\n\t *\r\n\t * @method cache\r\n\t * @param {Number} x The x coordinate origin for the cache region.\r\n\t * @param {Number} y The y coordinate origin for the cache region.\r\n\t * @param {Number} width The width of the cache region.\r\n\t * @param {Number} height The height of the cache region.\r\n\t * @param {Number} [scale=1] The scale at which the cache will be created. For example, if you cache a vector shape using\r\n\t * \tmyShape.cache(0,0,100,100,2) then the resulting cacheCanvas will be 200x200 px. This lets you scale and rotate\r\n\t * \tcached elements with greater fidelity. Default is 1.\r\n\t * @param {Object} [options=undefined] Specify additional parameters for the cache logic\r\n\t **/\r\n\tp.cache = function(x, y, width, height, scale, options) {\r\n\t\tif(!this.bitmapCache){\r\n\t\t\tthis.bitmapCache = new createjs.BitmapCache();\r\n\t\t}\r\n\t\tthis.bitmapCache.define(this, x, y, width, height, scale, options);\r\n\t};\r\n\r\n\t/**\r\n\t * Redraws the display object to its cache. Calling updateCache without an active cache will throw an error.\r\n\t * If compositeOperation is null the current cache will be cleared prior to drawing. Otherwise the display object\r\n\t * will be drawn over the existing cache using the specified compositeOperation.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * Clear the current graphics of a cached shape, draw some new instructions, and then update the cache. The new line\r\n\t * will be drawn on top of the old one.\r\n\t *\r\n\t *      // Not shown: Creating the shape, and caching it.\r\n\t *      shapeInstance.clear();\r\n\t *      shapeInstance.setStrokeStyle(3).beginStroke(\"#ff0000\").moveTo(100, 100).lineTo(200,200);\r\n\t *      shapeInstance.updateCache();\r\n\t *\r\n\t * In previous versions caching was handled on DisplayObject but has since been moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}.\r\n\t * This allows for easier interaction and alternate cache methods like WebGL and {{#crossLink \"StageGL\"}}{{/crossLink}}.\r\n\t *\r\n\t * @method updateCache\r\n\t * @param {String} compositeOperation The compositeOperation to use, or null to clear the cache and redraw it.\r\n\t * <a href=\"https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-globalcompositeoperation\">\r\n\t * whatwg spec on compositing</a>.\r\n\t **/\r\n\tp.updateCache = function(compositeOperation) {\r\n\t\tif(!this.bitmapCache) {\r\n\t\t\tthrow \"cache() must be called before updateCache()\";\r\n\t\t}\r\n\t\tthis.bitmapCache.update(compositeOperation);\r\n\t};\r\n\r\n\t/**\r\n\t * Clears the current cache. See {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} for more information.\r\n\t * @method uncache\r\n\t **/\r\n\tp.uncache = function() {\r\n\t\tif(this.bitmapCache) {\r\n\t\t\tthis.bitmapCache.release();\r\n\t\t\tthis.bitmapCache = undefined;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a data URL for the cache, or null if this display object is not cached.\r\n\t * Only generated if the cache has changed, otherwise returns last result.\r\n\t * @method getCacheDataURL\r\n\t * @return {String} The image data url for the cache.\r\n\t **/\r\n\tp.getCacheDataURL = function() {\r\n\t\treturn this.bitmapCache?this.bitmapCache.getDataURL():null;\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms the specified x and y position from the coordinate space of the display object\r\n\t * to the global (stage) coordinate space. For example, this could be used to position an HTML label\r\n\t * over a specific point on a nested display object. Returns a Point instance with x and y properties\r\n\t * correlating to the transformed coordinates on the stage.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.x = 300;\r\n\t *      displayObject.y = 200;\r\n\t *      stage.addChild(displayObject);\r\n\t *      var point = displayObject.localToGlobal(100, 100);\r\n\t *      // Results in x=400, y=300\r\n\t *\r\n\t * @method localToGlobal\r\n\t * @param {Number} x The x position in the source display object to transform.\r\n\t * @param {Number} y The y position in the source display object to transform.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \r\n\t * @return {Point} A Point instance with x and y properties correlating to the transformed coordinates\r\n\t * on the stage.\r\n\t **/\r\n\tp.localToGlobal = function(x, y, pt) {\r\n\t\treturn this.getConcatenatedMatrix(this._props.matrix).transformPoint(x,y, pt||new createjs.Point());\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms the specified x and y position from the global (stage) coordinate space to the\r\n\t * coordinate space of the display object. For example, this could be used to determine\r\n\t * the current mouse position within the display object. Returns a Point instance with x and y properties\r\n\t * correlating to the transformed position in the display object's coordinate space.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.x = 300;\r\n\t *      displayObject.y = 200;\r\n\t *      stage.addChild(displayObject);\r\n\t *      var point = displayObject.globalToLocal(100, 100);\r\n\t *      // Results in x=-200, y=-100\r\n\t *\r\n\t * @method globalToLocal\r\n\t * @param {Number} x The x position on the stage to transform.\r\n\t * @param {Number} y The y position on the stage to transform.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \r\n\t * @return {Point} A Point instance with x and y properties correlating to the transformed position in the\r\n\t * display object's coordinate space.\r\n\t **/\r\n\tp.globalToLocal = function(x, y, pt) {\r\n\t\treturn this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(x,y, pt||new createjs.Point());\r\n\t};\r\n\r\n\t/**\r\n\t * Transforms the specified x and y position from the coordinate space of this display object to the coordinate\r\n\t * space of the target display object. Returns a Point instance with x and y properties correlating to the\r\n\t * transformed position in the target's coordinate space. Effectively the same as using the following code with\r\n\t * {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}} and {{#crossLink \"DisplayObject/globalToLocal\"}}{{/crossLink}}.\r\n\t *\r\n\t *      var pt = this.localToGlobal(x, y);\r\n\t *      pt = target.globalToLocal(pt.x, pt.y);\r\n\t *\r\n\t * @method localToLocal\r\n\t * @param {Number} x The x position in the source display object to transform.\r\n\t * @param {Number} y The y position on the source display object to transform.\r\n\t * @param {DisplayObject} target The target display object to which the coordinates will be transformed.\r\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \r\n\t * @return {Point} Returns a Point instance with x and y properties correlating to the transformed position\r\n\t * in the target's coordinate space.\r\n\t **/\r\n\tp.localToLocal = function(x, y, target, pt) {\r\n\t\tpt = this.localToGlobal(x, y, pt);\r\n\t\treturn target.globalToLocal(pt.x, pt.y, pt);\r\n\t};\r\n\r\n\t/**\r\n\t * Shortcut method to quickly set the transform properties on the display object. All parameters are optional.\r\n\t * Omitted parameters will have the default value set.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.setTransform(100, 100, 2, 2);\r\n\t *\r\n\t * @method setTransform\r\n\t * @param {Number} [x=0] The horizontal translation (x position) in pixels\r\n\t * @param {Number} [y=0] The vertical translation (y position) in pixels\r\n\t * @param {Number} [scaleX=1] The horizontal scale, as a percentage of 1\r\n\t * @param {Number} [scaleY=1] the vertical scale, as a percentage of 1\r\n\t * @param {Number} [rotation=0] The rotation, in degrees\r\n\t * @param {Number} [skewX=0] The horizontal skew factor\r\n\t * @param {Number} [skewY=0] The vertical skew factor\r\n\t * @param {Number} [regX=0] The horizontal registration point in pixels\r\n\t * @param {Number} [regY=0] The vertical registration point in pixels\r\n\t * @return {DisplayObject} Returns this instance. Useful for chaining commands.\r\n\t * @chainable\r\n\t*/\r\n\tp.setTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\tthis.x = x || 0;\r\n\t\tthis.y = y || 0;\r\n\t\tthis.scaleX = scaleX == null ? 1 : scaleX;\r\n\t\tthis.scaleY = scaleY == null ? 1 : scaleY;\r\n\t\tthis.rotation = rotation || 0;\r\n\t\tthis.skewX = skewX || 0;\r\n\t\tthis.skewY = skewY || 0;\r\n\t\tthis.regX = regX || 0;\r\n\t\tthis.regY = regY || 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a matrix based on this object's current transform.\r\n\t * @method getMatrix\r\n\t * @param {Matrix2D} matrix Optional. A Matrix2D object to populate with the calculated values. If null, a new\r\n\t * Matrix object is returned.\r\n\t * @return {Matrix2D} A matrix representing this display object's transform.\r\n\t **/\r\n\tp.getMatrix = function(matrix) {\r\n\t\tvar o = this, mtx = matrix&&matrix.identity() || new createjs.Matrix2D();\r\n\t\treturn o.transformMatrix ?  mtx.copy(o.transformMatrix) : mtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY);\r\n\t};\r\n\r\n\t/**\r\n\t * Generates a Matrix2D object representing the combined transform of the display object and all of its\r\n\t * parent Containers up to the highest level ancestor (usually the {{#crossLink \"Stage\"}}{{/crossLink}}). This can\r\n\t * be used to transform positions between coordinate spaces, such as with {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"DisplayObject/globalToLocal\"}}{{/crossLink}}.\r\n\t * @method getConcatenatedMatrix\r\n\t * @param {Matrix2D} [matrix] A {{#crossLink \"Matrix2D\"}}{{/crossLink}} object to populate with the calculated values.\r\n\t * If null, a new Matrix2D object is returned.\r\n\t * @return {Matrix2D} The combined matrix.\r\n\t **/\r\n\tp.getConcatenatedMatrix = function(matrix) {\r\n\t\tvar o = this, mtx = this.getMatrix(matrix);\r\n\t\twhile (o = o.parent) {\r\n\t\t\tmtx.prependMatrix(o.getMatrix(o._props.matrix));\r\n\t\t}\r\n\t\treturn mtx;\r\n\t};\r\n\r\n\t/**\r\n\t * Generates a DisplayProps object representing the combined display properties of the  object and all of its\r\n\t * parent Containers up to the highest level ancestor (usually the {{#crossLink \"Stage\"}}{{/crossLink}}).\r\n\t * @method getConcatenatedDisplayProps\r\n\t * @param {DisplayProps} [props] A {{#crossLink \"DisplayProps\"}}{{/crossLink}} object to populate with the calculated values.\r\n\t * If null, a new DisplayProps object is returned.\r\n\t * @return {DisplayProps} The combined display properties.\r\n\t **/\r\n\tp.getConcatenatedDisplayProps = function(props) {\r\n\t\tprops = props ? props.identity() : new createjs.DisplayProps();\r\n\t\tvar o = this, mtx = o.getMatrix(props.matrix); \r\n\t\tdo {\r\n\t\t\tprops.prepend(o.visible, o.alpha, o.shadow, o.compositeOperation);\r\n\t\t\t\r\n\t\t\t// we do this to avoid problems with the matrix being used for both operations when o._props.matrix is passed in as the props param.\r\n\t\t\t// this could be simplified (ie. just done as part of the prepend above) if we switched to using a pool.\r\n\t\t\tif (o != this) { mtx.prependMatrix(o.getMatrix(o._props.matrix)); }\r\n\t\t} while (o = o.parent);\r\n\t\treturn props;\r\n\t};\r\n\r\n\t/**\r\n\t * Tests whether the display object intersects the specified point in local coordinates (ie. draws a pixel with alpha > 0 at\r\n\t * the specified position). This ignores the alpha, shadow, hitArea, mask, and compositeOperation of the display object.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      stage.addEventListener(\"stagemousedown\", handleMouseDown);\r\n\t *      function handleMouseDown(event) {\r\n\t *          var hit = myShape.hitTest(event.stageX, event.stageY);\r\n\t *      }\r\n\t *\r\n\t * Please note that shape-to-shape collision is not currently supported by EaselJS.\r\n\t * @method hitTest\r\n\t * @param {Number} x The x position to check in the display object's local coordinates.\r\n\t * @param {Number} y The y position to check in the display object's local coordinates.\r\n\t * @return {Boolean} A Boolean indicating whether a visible portion of the DisplayObject intersect the specified\r\n\t * local Point.\r\n\t*/\r\n\tp.hitTest = function(x, y) {\r\n\t\tvar ctx = DisplayObject._hitTestContext;\r\n\t\tctx.setTransform(1, 0, 0, 1, -x, -y);\r\n\t\tthis.draw(ctx);\r\n\r\n\t\tvar hit = this._testHit(ctx);\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tctx.clearRect(0, 0, 2, 2);\r\n\t\treturn hit;\r\n\t};\r\n\r\n\t/**\r\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var myGraphics = new createjs.Graphics().beginFill(\"#ff0000\").drawCircle(0, 0, 25);\r\n\t *      var shape = stage.addChild(new Shape()).set({graphics:myGraphics, x:100, y:100, alpha:0.5});\r\n\t *\r\n\t * @method set\r\n\t * @param {Object} props A generic object containing properties to copy to the DisplayObject instance.\r\n\t * @return {DisplayObject} Returns the instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t*/\r\n\tp.set = function(props) {\r\n\t\tfor (var n in props) { this[n] = props[n]; }\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a rectangle representing this object's bounds in its local coordinate system (ie. with no transformation).\r\n\t * Objects that have been cached will return the bounds of the cache.\r\n\t * \r\n\t * Not all display objects can calculate their own bounds (ex. Shape). For these objects, you can use \r\n\t * {{#crossLink \"DisplayObject/setBounds\"}}{{/crossLink}} so that they are included when calculating Container\r\n\t * bounds.\r\n\t * \r\n\t * <table>\r\n\t * \t<tr><td><b>All</b></td><td>\r\n\t * \t\tAll display objects support setting bounds manually using setBounds(). Likewise, display objects that\r\n\t * \t\thave been cached using cache() will return the bounds of their cache. Manual and cache bounds will override\r\n\t * \t\tthe automatic calculations listed below.\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Bitmap</b></td><td>\r\n\t * \t\tReturns the width and height of the sourceRect (if specified) or image, extending from (x=0,y=0).\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Sprite</b></td><td>\r\n\t * \t\tReturns the bounds of the current frame. May have non-zero x/y if a frame registration point was specified\r\n\t * \t\tin the spritesheet data. See also {{#crossLink \"SpriteSheet/getFrameBounds\"}}{{/crossLink}}\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Container</b></td><td>\r\n\t * \t\tReturns the aggregate (combined) bounds of all children that return a non-null value from getBounds().\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Shape</b></td><td>\r\n\t * \t\tDoes not currently support automatic bounds calculations. Use setBounds() to manually define bounds.\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>Text</b></td><td>\r\n\t * \t\tReturns approximate bounds. Horizontal values (x/width) are quite accurate, but vertical values (y/height) are\r\n\t * \t\tnot, especially when using textBaseline values other than \"top\".\r\n\t * \t</td></tr>\r\n\t * \t<tr><td><b>BitmapText</b></td><td>\r\n\t * \t\tReturns approximate bounds. Values will be more accurate if spritesheet frame registration points are close\r\n\t * \t\tto (x=0,y=0).\r\n\t * \t</td></tr>\r\n\t* </table>\r\n\t * \r\n\t * Bounds can be expensive to calculate for some objects (ex. text, or containers with many children), and\r\n\t * are recalculated each time you call getBounds(). You can prevent recalculation on static objects by setting the\r\n\t * bounds explicitly:\r\n\t * \r\n\t * \tvar bounds = obj.getBounds();\r\n\t * \tobj.setBounds(bounds.x, bounds.y, bounds.width, bounds.height);\r\n\t * \t// getBounds will now use the set values, instead of recalculating\r\n\t * \r\n\t * To reduce memory impact, the returned Rectangle instance may be reused internally; clone the instance or copy its\r\n\t * values if you need to retain it.\r\n\t * \r\n\t * \tvar myBounds = obj.getBounds().clone();\r\n\t * \t// OR:\r\n\t * \tmyRect.copy(obj.getBounds());\r\n\t * \r\n\t * @method getBounds\r\n\t * @return {Rectangle} A Rectangle instance representing the bounds, or null if bounds are not available for this\r\n\t * object.\r\n\t **/\r\n\tp.getBounds = function() {\r\n\t\tif (this._bounds) { return this._rectangle.copy(this._bounds); }\r\n\t\tvar cacheCanvas = this.cacheCanvas;\r\n\t\tif (cacheCanvas) {\r\n\t\t\tvar scale = this._cacheScale;\r\n\t\t\treturn this._rectangle.setValues(this._cacheOffsetX, this._cacheOffsetY, cacheCanvas.width/scale, cacheCanvas.height/scale);\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a rectangle representing this object's bounds in its parent's coordinate system (ie. with transformations applied).\r\n\t * Objects that have been cached will return the transformed bounds of the cache.\r\n\t * \r\n\t * Not all display objects can calculate their own bounds (ex. Shape). For these objects, you can use \r\n\t * {{#crossLink \"DisplayObject/setBounds\"}}{{/crossLink}} so that they are included when calculating Container\r\n\t * bounds.\r\n\t * \r\n\t * To reduce memory impact, the returned Rectangle instance may be reused internally; clone the instance or copy its\r\n\t * values if you need to retain it.\r\n\t * \r\n\t * Container instances calculate aggregate bounds for all children that return bounds via getBounds.\r\n\t * @method getTransformedBounds\r\n\t * @return {Rectangle} A Rectangle instance representing the bounds, or null if bounds are not available for this object.\r\n\t **/\r\n\tp.getTransformedBounds = function() {\r\n\t\treturn this._getBounds();\r\n\t};\r\n\r\n\t/**\r\n\t * Allows you to manually specify the bounds of an object that either cannot calculate their own bounds (ex. Shape &\r\n\t * Text) for future reference, or so the object can be included in Container bounds. Manually set bounds will always\r\n\t * override calculated bounds.\r\n\t * \r\n\t * The bounds should be specified in the object's local (untransformed) coordinates. For example, a Shape instance\r\n\t * with a 25px radius circle centered at 0,0 would have bounds of (-25, -25, 50, 50).\r\n\t * @method setBounds\r\n\t * @param {Number} x The x origin of the bounds. Pass null to remove the manual bounds.\r\n\t * @param {Number} y The y origin of the bounds.\r\n\t * @param {Number} width The width of the bounds.\r\n\t * @param {Number} height The height of the bounds.\r\n\t **/\r\n\tp.setBounds = function(x, y, width, height) {\r\n\t\tif (x == null) { this._bounds = x; return; }\r\n\t\tthis._bounds = (this._bounds || new createjs.Rectangle()).setValues(x, y, width, height);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this DisplayObject. Some properties that are specific to this instance's current context are\r\n\t * reverted to their defaults (for example .parent). Caches are not maintained across clones, and some elements\r\n\t * are copied by reference (masks, individual filter instances, hit area)\r\n\t * @method clone\r\n\t * @return {DisplayObject} A clone of the current DisplayObject instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new DisplayObject());\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[DisplayObject (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * Called before the object gets drawn and is a chance to ensure the display state of the object is correct.\r\n\t * Mostly used by {{#crossLink \"MovieClip\"}}{{/crossLink}} and {{#crossLink \"BitmapText\"}}{{/crossLink}} to\r\n\t * correct their internal state and children prior to being drawn.\r\n\t *\r\n\t * Is manually called via draw in a {{#crossLink \"Stage\"}}{{/crossLink}} but is automatically called when\r\n\t * present in a {{#crossLink \"StageGL\"}}{{/crossLink}} instance.\r\n\t *\r\n\t * @method _updateState\r\n\t * @default null\r\n\t */\r\n\tp._updateState = null;\r\n\r\n\t// separated so it can be used more easily in subclasses:\r\n\t/**\r\n\t * @method _cloneProps\r\n\t * @param {DisplayObject} o The DisplayObject instance which will have properties from the current DisplayObject\r\n\t * instance copied into.\r\n\t * @return {DisplayObject} o\r\n\t * @protected\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\to.alpha = this.alpha;\r\n\t\to.mouseEnabled = this.mouseEnabled;\r\n\t\to.tickEnabled = this.tickEnabled;\r\n\t\to.name = this.name;\r\n\t\to.regX = this.regX;\r\n\t\to.regY = this.regY;\r\n\t\to.rotation = this.rotation;\r\n\t\to.scaleX = this.scaleX;\r\n\t\to.scaleY = this.scaleY;\r\n\t\to.shadow = this.shadow;\r\n\t\to.skewX = this.skewX;\r\n\t\to.skewY = this.skewY;\r\n\t\to.visible = this.visible;\r\n\t\to.x  = this.x;\r\n\t\to.y = this.y;\r\n\t\to.compositeOperation = this.compositeOperation;\r\n\t\to.snapToPixel = this.snapToPixel;\r\n\t\to.filters = this.filters==null?null:this.filters.slice(0);\r\n\t\to.mask = this.mask;\r\n\t\to.hitArea = this.hitArea;\r\n\t\to.cursor = this.cursor;\r\n\t\to._bounds = this._bounds;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _applyShadow\r\n\t * @protected\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @param {Shadow} shadow\r\n\t **/\r\n\tp._applyShadow = function(ctx, shadow) {\r\n\t\tshadow = shadow || Shadow.identity;\r\n\t\tctx.shadowColor = shadow.color;\r\n\t\tctx.shadowOffsetX = shadow.offsetX;\r\n\t\tctx.shadowOffsetY = shadow.offsetY;\r\n\t\tctx.shadowBlur = shadow.blur;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * @protected\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\t// because tick can be really performance sensitive, check for listeners before calling dispatchEvent.\r\n\t\tvar ls = this._listeners;\r\n\t\tif (ls && ls[\"tick\"]) {\r\n\t\t\t// reset & reuse the event object to avoid construction / GC costs:\r\n\t\t\tevtObj.target = null;\r\n\t\t\tevtObj.propagationStopped = evtObj.immediatePropagationStopped = false;\r\n\t\t\tthis.dispatchEvent(evtObj);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _testHit\r\n\t * @protected\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp._testHit = function(ctx) {\r\n\t\ttry {\r\n\t\t\tvar hit = ctx.getImageData(0, 0, 1, 1).data[3] > 1;\r\n\t\t} catch (e) {\r\n\t\t\tif (!DisplayObject.suppressCrossDomainErrors) {\r\n\t\t\t\tthrow \"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn hit;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getBounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform If true, does not apply this object's transform.\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._getBounds = function(matrix, ignoreTransform){\r\n\t\treturn this._transformBounds(this.getBounds(), matrix, ignoreTransform);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _transformBounds\r\n\t * @param {Rectangle} bounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._transformBounds = function(bounds, matrix, ignoreTransform) {\r\n\t\tif (!bounds) { return bounds; }\r\n\t\tvar x = bounds.x, y = bounds.y, width = bounds.width, height = bounds.height, mtx = this._props.matrix;\r\n\t\tmtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\r\n\t\t\r\n\t\tif (x || y) { mtx.appendTransform(0,0,1,1,0,0,0,-x,-y); } // TODO: simplify this.\r\n\t\tif (matrix) { mtx.prependMatrix(matrix); }\r\n\t\t\r\n\t\tvar x_a = width*mtx.a, x_b = width*mtx.b;\r\n\t\tvar y_c = height*mtx.c, y_d = height*mtx.d;\r\n\t\tvar tx = mtx.tx, ty = mtx.ty;\r\n\t\t\r\n\t\tvar minX = tx, maxX = tx, minY = ty, maxY = ty;\r\n\r\n\t\tif ((x = x_a + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\r\n\t\tif ((x = x_a + y_c + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\r\n\t\tif ((x = y_c + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\r\n\r\n\t\tif ((y = x_b + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\r\n\t\tif ((y = x_b + y_d + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\r\n\t\tif ((y = y_d + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\r\n\r\n\t\treturn bounds.setValues(minX, minY, maxX-minX, maxY-minY);\r\n\t};\r\n\r\n\t/**\r\n\t * Indicates whether the display object has any mouse event listeners or a cursor.\r\n\t * @method _isMouseOpaque\r\n\t * @return {Boolean}\r\n\t * @protected\r\n\t **/\r\n\tp._hasMouseEventListener = function() {\r\n\t\tvar evts = DisplayObject._MOUSE_EVENTS;\r\n\t\tfor (var i= 0, l=evts.length; i<l; i++) {\r\n\t\t\tif (this.hasEventListener(evts[i])) { return true; }\r\n\t\t}\r\n\t\treturn !!this.cursor;\r\n\t};\r\n\r\n\tcreatejs.DisplayObject = createjs.promote(DisplayObject, \"EventDispatcher\");\r\n}());\r\n\r\n//##############################################################################\r\n// Container.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\t\r\n\r\n// constructor:\r\n/**\r\n * A Container is a nestable display list that allows you to work with compound display elements. For  example you could\r\n * group arm, leg, torso and head {{#crossLink \"Bitmap\"}}{{/crossLink}} instances together into a Person Container, and\r\n * transform them as a group, while still being able to move the individual parts relative to each other. Children of\r\n * containers have their <code>transform</code> and <code>alpha</code> properties concatenated with their parent\r\n * Container.\r\n *\r\n * For example, a {{#crossLink \"Shape\"}}{{/crossLink}} with x=100 and alpha=0.5, placed in a Container with <code>x=50</code>\r\n * and <code>alpha=0.7</code> will be rendered to the canvas at <code>x=150</code> and <code>alpha=0.35</code>.\r\n * Containers have some overhead, so you generally shouldn't create a Container to hold a single child.\r\n *\r\n * <h4>Example</h4>\r\n *\r\n *      var container = new createjs.Container();\r\n *      container.addChild(bitmapInstance, shapeInstance);\r\n *      container.x = 100;\r\n *\r\n * @class Container\r\n * @extends DisplayObject\r\n * @constructor\r\n **/\r\n\tfunction Container() {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The array of children in the display list. You should usually use the child management methods such as\r\n\t\t * {{#crossLink \"Container/addChild\"}}{{/crossLink}}, {{#crossLink \"Container/removeChild\"}}{{/crossLink}},\r\n\t\t * {{#crossLink \"Container/swapChildren\"}}{{/crossLink}}, etc, rather than accessing this directly, but it is\r\n\t\t * included for advanced uses.\r\n\t\t * @property children\r\n\t\t * @type Array\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.children = [];\r\n\t\t\r\n\t\t/**\r\n\t\t * Indicates whether the children of this container are independently enabled for mouse/pointer interaction.\r\n\t\t * If false, the children will be aggregated under the container - for example, a click on a child shape would\r\n\t\t * trigger a click event on the container.\r\n\t\t * @property mouseChildren\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.mouseChildren = true;\r\n\t\t\r\n\t\t/**\r\n\t\t * If false, the tick will not be propagated to children of this Container. This can provide some performance benefits.\r\n\t\t * In addition to preventing the \"tick\" event from being dispatched, it will also prevent tick related updates\r\n\t\t * on some display objects (ex. Sprite & MovieClip frame advancing, DOMElement visibility handling).\r\n\t\t * @property tickChildren\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.tickChildren = true;\r\n\t}\r\n\tvar p = createjs.extend(Container, createjs.DisplayObject);\r\n\t\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"Container/numChildren:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getNumChildren\r\n\t * @protected\r\n\t * @return {Number}\r\n\t **/\r\n\tp._getNumChildren = function() {\r\n\t\treturn this.children.length;\r\n\t};\r\n\t// Container.getNumChildren is @deprecated. Remove for 1.1+\r\n\tp.getNumChildren = createjs.deprecate(p._getNumChildren, \"Container.getNumChildren\");\r\n\r\n\t/**\r\n\t * Returns the number of children in the container.\r\n\t * @property numChildren\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tnumChildren: { get: p._getNumChildren }\r\n\t\t});\r\n\t} catch (e) {}\r\n\t\r\n\r\n// public methods:\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = Container; // TODO: deprecated.\r\n\t\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || this.children.length;\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\t\r\n\t\t// this ensures we don't have issues with display list changes that occur during a draw:\r\n\t\tvar list = this.children.slice();\r\n\t\tfor (var i=0,l=list.length; i<l; i++) {\r\n\t\t\tvar child = list[i];\r\n\t\t\tif (!child.isVisible()) { continue; }\r\n\t\t\t\r\n\t\t\t// draw the child:\r\n\t\t\tctx.save();\r\n\t\t\tchild.updateContext(ctx);\r\n\t\t\tchild.draw(ctx);\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Adds a child to the top of the display list.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t * \t\tcontainer.addChild(bitmapInstance);\r\n\t *\r\n\t * You can also add multiple children at once:\r\n\t *\r\n\t * \t\tcontainer.addChild(bitmapInstance, shapeInstance, textInstance);\r\n\t *\r\n\t * @method addChild\r\n\t * @param {DisplayObject} child The display object to add.\r\n\t * @return {DisplayObject} The child that was added, or the last child if multiple children were added.\r\n\t **/\r\n\tp.addChild = function(child) {\r\n\t\tif (child == null) { return child; }\r\n\t\tvar l = arguments.length;\r\n\t\tif (l > 1) {\r\n\t\t\tfor (var i=0; i<l; i++) { this.addChild(arguments[i]); }\r\n\t\t\treturn arguments[l-1];\r\n\t\t}\r\n\t\t// Note: a lot of duplication with addChildAt, but push is WAY faster than splice.\r\n\t\tvar par=child.parent, silent = par === this;\r\n\t\tpar&&par._removeChildAt(createjs.indexOf(par.children, child), silent);\r\n\t\tchild.parent = this;\r\n\t\tthis.children.push(child);\r\n\t\tif (!silent) { child.dispatchEvent(\"added\"); }\r\n\t\treturn child;\r\n\t};\r\n\r\n\t/**\r\n\t * Adds a child to the display list at the specified index, bumping children at equal or greater indexes up one, and\r\n\t * setting its parent to this Container.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      addChildAt(child1, index);\r\n\t *\r\n\t * You can also add multiple children, such as:\r\n\t *\r\n\t *      addChildAt(child1, child2, ..., index);\r\n\t *\r\n\t * The index must be between 0 and numChildren. For example, to add myShape under otherShape in the display list,\r\n\t * you could use:\r\n\t *\r\n\t *      container.addChildAt(myShape, container.getChildIndex(otherShape));\r\n\t *\r\n\t * This would also bump otherShape's index up by one. Fails silently if the index is out of range.\r\n\t *\r\n\t * @method addChildAt\r\n\t * @param {DisplayObject} child The display object to add.\r\n\t * @param {Number} index The index to add the child at.\r\n\t * @return {DisplayObject} Returns the last child that was added, or the last child if multiple children were added.\r\n\t **/\r\n\tp.addChildAt = function(child, index) {\r\n\t\tvar l = arguments.length;\r\n\t\tvar indx = arguments[l-1]; // can't use the same name as the index param or it replaces arguments[1]\r\n\t\tif (indx < 0 || indx > this.children.length) { return arguments[l-2]; }\r\n\t\tif (l > 2) {\r\n\t\t\tfor (var i=0; i<l-1; i++) { this.addChildAt(arguments[i], indx+i); }\r\n\t\t\treturn arguments[l-2];\r\n\t\t}\r\n\t\tvar par=child.parent, silent = par === this;\r\n\t\tpar&&par._removeChildAt(createjs.indexOf(par.children, child), silent);\r\n\t\tchild.parent = this;\r\n\t\tthis.children.splice(index, 0, child);\r\n\t\tif (!silent) { child.dispatchEvent(\"added\"); }\r\n\t\treturn child;\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the specified child from the display list. Note that it is faster to use removeChildAt() if the index is\r\n\t * already known.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      container.removeChild(child);\r\n\t *\r\n\t * You can also remove multiple children:\r\n\t *\r\n\t *      removeChild(child1, child2, ...);\r\n\t *\r\n\t * Returns true if the child (or children) was removed, or false if it was not in the display list.\r\n\t * @method removeChild\r\n\t * @param {DisplayObject} child The child to remove.\r\n\t * @return {Boolean} true if the child (or children) was removed, or false if it was not in the display list.\r\n\t **/\r\n\tp.removeChild = function(child) {\r\n\t\tvar l = arguments.length;\r\n\t\tif (l > 1) {\r\n\t\t\tvar good = true;\r\n\t\t\tfor (var i=0; i<l; i++) { good = good && this.removeChild(arguments[i]); }\r\n\t\t\treturn good;\r\n\t\t}\r\n\t\treturn this._removeChildAt(createjs.indexOf(this.children, child));\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the child at the specified index from the display list, and sets its parent to null.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      container.removeChildAt(2);\r\n\t *\r\n\t * You can also remove multiple children:\r\n\t *\r\n\t *      container.removeChild(2, 7, ...)\r\n\t *\r\n\t * Returns true if the child (or children) was removed, or false if any index was out of range.\r\n\t * @method removeChildAt\r\n\t * @param {Number} index The index of the child to remove.\r\n\t * @return {Boolean} true if the child (or children) was removed, or false if any index was out of range.\r\n\t **/\r\n\tp.removeChildAt = function(index) {\r\n\t\tvar l = arguments.length;\r\n\t\tif (l > 1) {\r\n\t\t\tvar a = [];\r\n\t\t\tfor (var i=0; i<l; i++) { a[i] = arguments[i]; }\r\n\t\t\ta.sort(function(a, b) { return b-a; });\r\n\t\t\tvar good = true;\r\n\t\t\tfor (var i=0; i<l; i++) { good = good && this._removeChildAt(a[i]); }\r\n\t\t\treturn good;\r\n\t\t}\r\n\t\treturn this._removeChildAt(index);\r\n\t};\r\n\r\n\t/**\r\n\t * Removes all children from the display list.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t * \tcontainer.removeAllChildren();\r\n\t *\r\n\t * @method removeAllChildren\r\n\t **/\r\n\tp.removeAllChildren = function() {\r\n\t\tvar kids = this.children;\r\n\t\twhile (kids.length) { this._removeChildAt(0); }\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the child at the specified index.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      container.getChildAt(2);\r\n\t *\r\n\t * @method getChildAt\r\n\t * @param {Number} index The index of the child to return.\r\n\t * @return {DisplayObject} The child at the specified index. Returns null if there is no child at the index.\r\n\t **/\r\n\tp.getChildAt = function(index) {\r\n\t\treturn this.children[index];\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns the child with the specified name.\r\n\t * @method getChildByName\r\n\t * @param {String} name The name of the child to return.\r\n\t * @return {DisplayObject} The child with the specified name.\r\n\t **/\r\n\tp.getChildByName = function(name) {\r\n\t\tvar kids = this.children;\r\n\t\tfor (var i=0,l=kids.length;i<l;i++) {\r\n\t\t\tif(kids[i].name == name) { return kids[i]; }\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/**\r\n\t * Performs an array sort operation on the child list.\r\n\t *\r\n\t * <h4>Example: Display children with a higher y in front.</h4>\r\n\t * \r\n\t *      var sortFunction = function(obj1, obj2, options) {\r\n\t *          if (obj1.y > obj2.y) { return 1; }\r\n\t *          if (obj1.y < obj2.y) { return -1; }\r\n\t *          return 0;\r\n\t *      }\r\n\t *      container.sortChildren(sortFunction);\r\n\t *\r\n\t * @method sortChildren\r\n\t * @param {Function} sortFunction the function to use to sort the child list. See JavaScript's <code>Array.sort</code>\r\n\t * documentation for details.\r\n\t **/\r\n\tp.sortChildren = function(sortFunction) {\r\n\t\tthis.children.sort(sortFunction);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the index of the specified child in the display list, or -1 if it is not in the display list.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var index = container.getChildIndex(child);\r\n\t *\r\n\t * @method getChildIndex\r\n\t * @param {DisplayObject} child The child to return the index of.\r\n\t * @return {Number} The index of the specified child. -1 if the child is not found.\r\n\t **/\r\n\tp.getChildIndex = function(child) {\r\n\t\treturn createjs.indexOf(this.children, child);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Swaps the children at the specified indexes. Fails silently if either index is out of range.\r\n\t * @method swapChildrenAt\r\n\t * @param {Number} index1\r\n\t * @param {Number} index2\r\n\t **/\r\n\tp.swapChildrenAt = function(index1, index2) {\r\n\t\tvar kids = this.children;\r\n\t\tvar o1 = kids[index1];\r\n\t\tvar o2 = kids[index2];\r\n\t\tif (!o1 || !o2) { return; }\r\n\t\tkids[index1] = o2;\r\n\t\tkids[index2] = o1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Swaps the specified children's depth in the display list. Fails silently if either child is not a child of this\r\n\t * Container.\r\n\t * @method swapChildren\r\n\t * @param {DisplayObject} child1\r\n\t * @param {DisplayObject} child2\r\n\t **/\r\n\tp.swapChildren = function(child1, child2) {\r\n\t\tvar kids = this.children;\r\n\t\tvar index1,index2;\r\n\t\tfor (var i=0,l=kids.length;i<l;i++) {\r\n\t\t\tif (kids[i] == child1) { index1 = i; }\r\n\t\t\tif (kids[i] == child2) { index2 = i; }\r\n\t\t\tif (index1 != null && index2 != null) { break; }\r\n\t\t}\r\n\t\tif (i==l) { return; } // TODO: throw error?\r\n\t\tkids[index1] = child2;\r\n\t\tkids[index2] = child1;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Changes the depth of the specified child. Fails silently if the child is not a child of this container, or the index is out of range.\r\n\t * @param {DisplayObject} child\r\n\t * @param {Number} index  \r\n\t * @method setChildIndex\r\n\t **/\r\n\tp.setChildIndex = function(child, index) {\r\n\t\tvar kids = this.children, l=kids.length;\r\n\t\tif (child.parent != this || index < 0 || index >= l) { return; }\r\n\t\tfor (var i=0;i<l;i++) {\r\n\t\t\tif (kids[i] == child) { break; }\r\n\t\t}\r\n\t\tif (i==l || i == index) { return; }\r\n\t\tkids.splice(i,1);\r\n\t\tkids.splice(index,0,child);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if the specified display object either is this container or is a descendent (child, grandchild, etc)\r\n\t * of this container.\r\n\t * @method contains\r\n\t * @param {DisplayObject} child The DisplayObject to be checked.\r\n\t * @return {Boolean} true if the specified display object either is this container or is a descendent.\r\n\t **/\r\n\tp.contains = function(child) {\r\n\t\twhile (child) {\r\n\t\t\tif (child == this) { return true; }\r\n\t\t\tchild = child.parent;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Tests whether the display object intersects the specified local point (ie. draws a pixel with alpha > 0 at the\r\n\t * specified position). This ignores the alpha, shadow and compositeOperation of the display object, and all\r\n\t * transform properties including regX/Y.\r\n\t * @method hitTest\r\n\t * @param {Number} x The x position to check in the display object's local coordinates.\r\n\t * @param {Number} y The y position to check in the display object's local coordinates.\r\n\t * @return {Boolean} A Boolean indicating whether there is a visible section of a DisplayObject that overlaps the specified\r\n\t * coordinates.\r\n\t **/\r\n\tp.hitTest = function(x, y) {\r\n\t\t// TODO: optimize to use the fast cache check where possible.\r\n\t\treturn (this.getObjectUnderPoint(x, y) != null);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an array of all display objects under the specified coordinates that are in this container's display\r\n\t * list. This routine ignores any display objects with {{#crossLink \"DisplayObject/mouseEnabled:property\"}}{{/crossLink}}\r\n\t * set to `false`. The array will be sorted in order of visual depth, with the top-most display object at index 0.\r\n\t * This uses shape based hit detection, and can be an expensive operation to run, so it is best to use it carefully.\r\n\t * For example, if testing for objects under the mouse, test on tick (instead of on {{#crossLink \"DisplayObject/mousemove:event\"}}{{/crossLink}}),\r\n\t * and only if the mouse's position has changed.\r\n\t * \r\n\t * <ul>\r\n\t *     <li>By default (mode=0) this method evaluates all display objects.</li>\r\n\t *     <li>By setting the `mode` parameter to `1`, the {{#crossLink \"DisplayObject/mouseEnabled:property\"}}{{/crossLink}}\r\n\t * \t\tand {{#crossLink \"mouseChildren:property\"}}{{/crossLink}} properties will be respected.</li>\r\n\t * \t   <li>Setting the `mode` to `2` additionally excludes display objects that do not have active mouse event\r\n\t * \t   \tlisteners or a {{#crossLink \"DisplayObject:cursor:property\"}}{{/crossLink}} property. That is, only objects\r\n\t * \t   \tthat would normally intercept mouse interaction will be included. This can significantly improve performance\r\n\t * \t   \tin some cases by reducing the number of display objects that need to be tested.</li>\r\n\t * </li>\r\n\t * \r\n\t * This method accounts for both {{#crossLink \"DisplayObject/hitArea:property\"}}{{/crossLink}} and {{#crossLink \"DisplayObject/mask:property\"}}{{/crossLink}}.\r\n\t * @method getObjectsUnderPoint\r\n\t * @param {Number} x The x position in the container to test.\r\n\t * @param {Number} y The y position in the container to test.\r\n\t * @param {Number} [mode=0] The mode to use to determine which display objects to include. 0-all, 1-respect mouseEnabled/mouseChildren, 2-only mouse opaque objects.\r\n\t * @return {Array} An Array of DisplayObjects under the specified coordinates.\r\n\t **/\r\n\tp.getObjectsUnderPoint = function(x, y, mode) {\r\n\t\tvar arr = [];\r\n\t\tvar pt = this.localToGlobal(x, y);\r\n\t\tthis._getObjectsUnderPoint(pt.x, pt.y, arr, mode>0, mode==1);\r\n\t\treturn arr;\r\n\t};\r\n\r\n\t/**\r\n\t * Similar to {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}, but returns only the top-most display\r\n\t * object. This runs significantly faster than <code>getObjectsUnderPoint()</code>, but is still potentially an expensive\r\n\t * operation. See {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}} for more information.\r\n\t * @method getObjectUnderPoint\r\n\t * @param {Number} x The x position in the container to test.\r\n\t * @param {Number} y The y position in the container to test.\r\n\t * @param {Number} mode The mode to use to determine which display objects to include.  0-all, 1-respect mouseEnabled/mouseChildren, 2-only mouse opaque objects.\r\n\t * @return {DisplayObject} The top-most display object under the specified coordinates.\r\n\t **/\r\n\tp.getObjectUnderPoint = function(x, y, mode) {\r\n\t\tvar pt = this.localToGlobal(x, y);\r\n\t\treturn this._getObjectsUnderPoint(pt.x, pt.y, null, mode>0, mode==1);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getBounds = function() {\r\n\t\treturn this._getBounds(null, true);\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getTransformedBounds = function() {\r\n\t\treturn this._getBounds();\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Container. Some properties that are specific to this instance's current context are\r\n\t * reverted to their defaults (for example .parent).\r\n\t * @method clone\r\n\t * @param {Boolean} [recursive=false] If true, all of the descendants of this container will be cloned recursively. If false, the\r\n\t * properties of the container will be cloned, but the new instance will not have any children.\r\n\t * @return {Container} A clone of the current Container instance.\r\n\t **/\r\n\tp.clone = function(recursive) {\r\n\t\tvar o = this._cloneProps(new Container());\r\n\t\tif (recursive) { this._cloneChildren(o); }\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Container (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * @protected\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\tif (this.tickChildren) {\r\n\t\t\tfor (var i=this.children.length-1; i>=0; i--) {\r\n\t\t\t\tvar child = this.children[i];\r\n\t\t\t\tif (child.tickEnabled && child._tick) { child._tick(evtObj); }\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.DisplayObject__tick(evtObj);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Recursively clones all children of this container, and adds them to the target container.\r\n\t * @method cloneChildren\r\n\t * @protected\r\n\t * @param {Container} o The target container.\r\n\t **/\r\n\tp._cloneChildren = function(o) {\r\n\t\tif (o.children.length) { o.removeAllChildren(); }\r\n\t\tvar arr = o.children;\r\n\t\tfor (var i=0, l=this.children.length; i<l; i++) {\r\n\t\t\tvar clone = this.children[i].clone(true);\r\n\t\t\tclone.parent = o;\r\n\t\t\tarr.push(clone);\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * Removes the child at the specified index from the display list, and sets its parent to null.\r\n\t * Used by `removeChildAt`, `addChild`, and `addChildAt`.\r\n\t * @method removeChildAt\r\n\t * @protected\r\n\t * @param {Number} index The index of the child to remove.\r\n\t * @param {Boolean} [silent] Prevents dispatch of `removed` event if true.\r\n\t * @return {Boolean} true if the child (or children) was removed, or false if any index was out of range.\r\n\t **/\r\n\tp._removeChildAt = function(index, silent) {\r\n\t\tif (index < 0 || index > this.children.length-1) { return false; }\r\n\t\tvar child = this.children[index];\r\n\t\tif (child) { child.parent = null; }\r\n\t\tthis.children.splice(index, 1);\r\n\t\tif (!silent) { child.dispatchEvent(\"removed\"); }\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getObjectsUnderPoint\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @param {Array} arr\r\n\t * @param {Boolean} mouse If true, it will respect mouse interaction properties like mouseEnabled, mouseChildren, and active listeners.\r\n\t * @param {Boolean} activeListener If true, there is an active mouse event listener on a parent object.\r\n\t * @param {Number} currentDepth Indicates the current depth of the search.\r\n\t * @return {DisplayObject}\r\n\t * @protected\r\n\t **/\r\n\tp._getObjectsUnderPoint = function(x, y, arr, mouse, activeListener, currentDepth) {\r\n\t\tcurrentDepth = currentDepth || 0;\r\n\t\tif (!currentDepth && !this._testMask(this, x, y)) { return null; }\r\n\t\tvar mtx, ctx = createjs.DisplayObject._hitTestContext;\r\n\t\tactiveListener = activeListener || (mouse&&this._hasMouseEventListener());\r\n\r\n\t\t// draw children one at a time, and check if we get a hit:\r\n\t\tvar children = this.children, l = children.length;\r\n\t\tfor (var i=l-1; i>=0; i--) {\r\n\t\t\tvar child = children[i];\r\n\t\t\tvar hitArea = child.hitArea;\r\n\t\t\tif (!child.visible || (!hitArea && !child.isVisible()) || (mouse && !child.mouseEnabled)) { continue; }\r\n\t\t\tif (!hitArea && !this._testMask(child, x, y)) { continue; }\r\n\t\t\t\r\n\t\t\t// if a child container has a hitArea then we only need to check its hitAre2a, so we can treat it as a normal DO:\r\n\t\t\tif (!hitArea && child instanceof Container) {\r\n\t\t\t\tvar result = child._getObjectsUnderPoint(x, y, arr, mouse, activeListener, currentDepth+1);\r\n\t\t\t\tif (!arr && result) { return (mouse && !this.mouseChildren) ? this : result; }\r\n\t\t\t} else {\r\n\t\t\t\tif (mouse && !activeListener && !child._hasMouseEventListener()) { continue; }\r\n\t\t\t\t\r\n\t\t\t\t// TODO: can we pass displayProps forward, to avoid having to calculate this backwards every time? It's kind of a mixed bag. When we're only hunting for DOs with event listeners, it may not make sense.\r\n\t\t\t\tvar props = child.getConcatenatedDisplayProps(child._props);\r\n\t\t\t\tmtx = props.matrix;\r\n\t\t\t\t\r\n\t\t\t\tif (hitArea) {\r\n\t\t\t\t\tmtx.appendMatrix(hitArea.getMatrix(hitArea._props.matrix));\r\n\t\t\t\t\tprops.alpha = hitArea.alpha;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tctx.globalAlpha = props.alpha;\r\n\t\t\t\tctx.setTransform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx-x, mtx.ty-y);\r\n\t\t\t\t(hitArea||child).draw(ctx);\r\n\t\t\t\tif (!this._testHit(ctx)) { continue; }\r\n\t\t\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\t\t\tctx.clearRect(0, 0, 2, 2);\r\n\t\t\t\tif (arr) { arr.push(child); }\r\n\t\t\t\telse { return (mouse && !this.mouseChildren) ? this : child; }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _testMask\r\n\t * @param {DisplayObject} target\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @return {Boolean} Indicates whether the x/y is within the masked region.\r\n\t * @protected\r\n\t **/\r\n\tp._testMask = function(target, x, y) {\r\n\t\tvar mask = target.mask;\r\n\t\tif (!mask || !mask.graphics || mask.graphics.isEmpty()) { return true; }\r\n\t\t\r\n\t\tvar mtx = this._props.matrix, parent = target.parent;\r\n\t\tmtx = parent ? parent.getConcatenatedMatrix(mtx) : mtx.identity();\r\n\t\tmtx = mask.getMatrix(mask._props.matrix).prependMatrix(mtx);\r\n\t\t\r\n\t\tvar ctx = createjs.DisplayObject._hitTestContext;\r\n\t\tctx.setTransform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx-x, mtx.ty-y);\r\n\t\t\r\n\t\t// draw the mask as a solid fill:\r\n\t\tmask.graphics.drawAsPath(ctx);\r\n\t\tctx.fillStyle = \"#000\";\r\n\t\tctx.fill();\r\n\t\t\r\n\t\tif (!this._testHit(ctx)) { return false; }\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tctx.clearRect(0, 0, 2, 2);\r\n\t\t\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getBounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform If true, does not apply this object's transform.\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._getBounds = function(matrix, ignoreTransform) {\r\n\t\tvar bounds = this.DisplayObject_getBounds();\r\n\t\tif (bounds) { return this._transformBounds(bounds, matrix, ignoreTransform); }\r\n\t\t\r\n\t\tvar mtx = this._props.matrix;\r\n\t\tmtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\r\n\t\tif (matrix) { mtx.prependMatrix(matrix); }\r\n\t\t\r\n\t\tvar l = this.children.length, rect=null;\r\n\t\tfor (var i=0; i<l; i++) {\r\n\t\t\tvar child = this.children[i];\r\n\t\t\tif (!child.visible || !(bounds = child._getBounds(mtx))) { continue; }\r\n\t\t\tif (rect) { rect.extend(bounds.x, bounds.y, bounds.width, bounds.height); }\r\n\t\t\telse { rect = bounds.clone(); }\r\n\t\t}\r\n\t\treturn rect;\r\n\t};\r\n\r\n\r\n\tcreatejs.Container = createjs.promote(Container, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Stage.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * A stage is the root level {{#crossLink \"Container\"}}{{/crossLink}} for a display list. Each time its {{#crossLink \"Stage/tick\"}}{{/crossLink}}\r\n\t * method is called, it will render its display list to its target canvas.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a stage, adds a child to it, then uses {{#crossLink \"Ticker\"}}{{/crossLink}} to update the child\r\n\t * and redraw the stage using {{#crossLink \"Stage/update\"}}{{/crossLink}}.\r\n\t *\r\n\t *      var stage = new createjs.Stage(\"canvasElementId\");\r\n\t *      var image = new createjs.Bitmap(\"imagePath.png\");\r\n\t *      stage.addChild(image);\r\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\r\n\t *      function handleTick(event) {\r\n\t *          image.x += 10;\r\n\t *          stage.update();\r\n\t *      }\r\n\t *\r\n\t * @class Stage\r\n\t * @extends Container\r\n\t * @constructor\r\n\t * @param {HTMLCanvasElement | String | Object} canvas A canvas object that the Stage will render to, or the string id\r\n\t * of a canvas object in the current document.\r\n\t **/\r\n\tfunction Stage(canvas) {\r\n\t\tthis.Container_constructor();\r\n\t\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * Indicates whether the stage should automatically clear the canvas before each render. You can set this to <code>false</code>\r\n\t\t * to manually control clearing (for generative art, or when pointing multiple stages at the same canvas for\r\n\t\t * example).\r\n\t\t *\r\n\t\t * <h4>Example</h4>\r\n\t\t *\r\n\t\t *      var stage = new createjs.Stage(\"canvasId\");\r\n\t\t *      stage.autoClear = false;\r\n\t\t *\r\n\t\t * @property autoClear\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.autoClear = true;\r\n\t\r\n\t\t/**\r\n\t\t * The canvas the stage will render to. Multiple stages can share a single canvas, but you must disable autoClear for all but the\r\n\t\t * first stage that will be ticked (or they will clear each other's render).\r\n\t\t *\r\n\t\t * When changing the canvas property you must disable the events on the old canvas, and enable events on the\r\n\t\t * new canvas or mouse events will not work as expected. For example:\r\n\t\t *\r\n\t\t *      myStage.enableDOMEvents(false);\r\n\t\t *      myStage.canvas = anotherCanvas;\r\n\t\t *      myStage.enableDOMEvents(true);\r\n\t\t *\r\n\t\t * @property canvas\r\n\t\t * @type HTMLCanvasElement | Object\r\n\t\t **/\r\n\t\tthis.canvas = (typeof canvas == \"string\") ? document.getElementById(canvas) : canvas;\r\n\t\r\n\t\t/**\r\n\t\t * The current mouse X position on the canvas. If the mouse leaves the canvas, this will indicate the most recent\r\n\t\t * position over the canvas, and mouseInBounds will be set to false.\r\n\t\t * @property mouseX\r\n\t\t * @type Number\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.mouseX = 0;\r\n\t\r\n\t\t/**\r\n\t\t * The current mouse Y position on the canvas. If the mouse leaves the canvas, this will indicate the most recent\r\n\t\t * position over the canvas, and mouseInBounds will be set to false.\r\n\t\t * @property mouseY\r\n\t\t * @type Number\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.mouseY = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies the area of the stage to affect when calling update. This can be use to selectively\r\n\t\t * re-draw specific regions of the canvas. If null, the whole canvas area is drawn.\r\n\t\t * @property drawRect\r\n\t\t * @type {Rectangle}\r\n\t\t */\r\n\t\tthis.drawRect = null;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether display objects should be rendered on whole pixels. You can set the\r\n\t\t * {{#crossLink \"DisplayObject/snapToPixel\"}}{{/crossLink}} property of\r\n\t\t * display objects to false to enable/disable this behaviour on a per instance basis.\r\n\t\t * @property snapToPixelEnabled\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.snapToPixelEnabled = false;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates whether the mouse is currently within the bounds of the canvas.\r\n\t\t * @property mouseInBounds\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.mouseInBounds = false;\r\n\t\r\n\t\t/**\r\n\t\t * If true, tick callbacks will be called on all display objects on the stage prior to rendering to the canvas.\r\n\t\t * @property tickOnUpdate\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.tickOnUpdate = true;\r\n\t\r\n\t\t/**\r\n\t\t * If true, mouse move events will continue to be called when the mouse leaves the target canvas. See\r\n\t\t * {{#crossLink \"Stage/mouseInBounds:property\"}}{{/crossLink}}, and {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t\t * x/y/rawX/rawY.\r\n\t\t * @property mouseMoveOutside\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.mouseMoveOutside = false;\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Prevents selection of other elements in the html page if the user clicks and drags, or double clicks on the canvas.\r\n\t\t * This works by calling `preventDefault()` on any mousedown events (or touch equivalent) originating on the canvas.\r\n\t\t * @property preventSelection\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t **/\r\n\t\tthis.preventSelection = true;\r\n\t\r\n\t\t/**\r\n\t\t * The hitArea property is not supported for Stage.\r\n\t\t * @property hitArea\r\n\t\t * @type {DisplayObject}\r\n\t\t * @default null\r\n\t\t */\r\n\t\t \r\n\t\t \r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Holds objects with data for each active pointer id. Each object has the following properties:\r\n\t\t * x, y, event, target, overTarget, overX, overY, inBounds, posEvtObj (native event that last updated position)\r\n\t\t * @property _pointerData\r\n\t\t * @type {Object}\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._pointerData = {};\r\n\t\r\n\t\t/**\r\n\t\t * Number of active pointers.\r\n\t\t * @property _pointerCount\r\n\t\t * @type {Object}\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._pointerCount = 0;\r\n\t\r\n\t\t/**\r\n\t\t * The ID of the primary pointer.\r\n\t\t * @property _primaryPointerID\r\n\t\t * @type {Object}\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._primaryPointerID = null;\r\n\t\r\n\t\t/**\r\n\t\t * @property _mouseOverIntervalID\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._mouseOverIntervalID = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _nextStage\r\n\t\t * @protected\r\n\t\t * @type Stage\r\n\t\t **/\r\n\t\tthis._nextStage = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _prevStage\r\n\t\t * @protected\r\n\t\t * @type Stage\r\n\t\t **/\r\n\t\tthis._prevStage = null;\r\n\t\t\r\n\t\t\r\n\t// initialize:\r\n\t\tthis.enableDOMEvents(true);\r\n\t}\r\n\tvar p = createjs.extend(Stage, createjs.Container);\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when the user moves the mouse over the canvas.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event stagemousemove\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user presses their left mouse button on the canvas. See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t * class for a listing of event properties.\r\n\t * @event stagemousedown\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the user the user presses somewhere on the stage, then releases the mouse button anywhere that the page can detect it (this varies slightly between browsers).\r\n\t * You can use {{#crossLink \"Stage/mouseInBounds:property\"}}{{/crossLink}} to check whether the mouse is currently within the stage bounds.\r\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\r\n\t * @event stagemouseup\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the mouse moves from within the canvas area (mouseInBounds == true) to outside it (mouseInBounds == false).\r\n\t * This is currently only dispatched for mouse input (not touch). See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t * class for a listing of event properties.\r\n\t * @event mouseleave\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when the mouse moves into the canvas area (mouseInBounds == false) from outside it (mouseInBounds == true).\r\n\t * This is currently only dispatched for mouse input (not touch). See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\r\n\t * class for a listing of event properties.\r\n\t * @event mouseenter\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately before the tick event is propagated through the display list.\r\n\t * You can call preventDefault on the event object to cancel propagating the tick event.\r\n\t * @event tickstart\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately after the tick event is propagated through the display list. Does not fire if\r\n\t * tickOnUpdate is false. Precedes the \"drawstart\" event.\r\n\t * @event tickend\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately before the canvas is cleared and the display list is drawn to it.\r\n\t * You can call preventDefault on the event object to cancel the draw.\r\n\t * @event drawstart\r\n\t * @since 0.7.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched each update immediately after the display list is drawn to the canvas and the canvas context is restored.\r\n\t * @event drawend\r\n\t * @since 0.7.0\r\n\t */\r\n\r\n\t \r\n// getter / setters:\r\n\t/**\r\n\t * Specifies a target stage that will have mouse / touch interactions relayed to it after this stage handles them.\r\n\t * This can be useful in cases where you have multiple layered canvases and want user interactions\r\n\t * events to pass through. For example, this would relay mouse events from topStage to bottomStage:\r\n\t *\r\n\t *      topStage.nextStage = bottomStage;\r\n\t *\r\n\t * To disable relaying, set nextStage to null.\r\n\t * \r\n\t * MouseOver, MouseOut, RollOver, and RollOut interactions are also passed through using the mouse over settings\r\n\t * of the top-most stage, but are only processed if the target stage has mouse over interactions enabled.\r\n\t * Considerations when using roll over in relay targets:<OL>\r\n\t * <LI> The top-most (first) stage must have mouse over interactions enabled (via enableMouseOver)</LI>\r\n\t * <LI> All stages that wish to participate in mouse over interaction must enable them via enableMouseOver</LI>\r\n\t * <LI> All relay targets will share the frequency value of the top-most stage</LI>\r\n\t * </OL>\r\n\t * To illustrate, in this example the targetStage would process mouse over interactions at 10hz (despite passing\r\n\t * 30 as it's desired frequency):\r\n\t * \ttopStage.nextStage = targetStage;\r\n\t * \ttopStage.enableMouseOver(10);\r\n\t * \ttargetStage.enableMouseOver(30);\r\n\t * \r\n\t * If the target stage's canvas is completely covered by this stage's canvas, you may also want to disable its\r\n\t * DOM events using:\r\n\t * \r\n\t *\ttargetStage.enableDOMEvents(false);\r\n\t * \r\n\t * @property nextStage\r\n\t * @type {Stage}\r\n\t **/\r\n\tp._get_nextStage = function() {\r\n\t\treturn this._nextStage;\r\n\t};\r\n\tp._set_nextStage = function(value) {\r\n\t\tif (this._nextStage) { this._nextStage._prevStage = null; }\r\n\t\tif (value) { value._prevStage = this; }\r\n\t\tthis._nextStage = value;\r\n\t};\r\n\t\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tnextStage: { get: p._get_nextStage, set: p._set_nextStage }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Each time the update method is called, the stage will call {{#crossLink \"Stage/tick\"}}{{/crossLink}}\r\n\t * unless {{#crossLink \"Stage/tickOnUpdate:property\"}}{{/crossLink}} is set to false,\r\n\t * and then render the display list to the canvas.\r\n\t *\r\n\t * @method update\r\n\t * @param {Object} [props] Props object to pass to `tick()`. Should usually be a {{#crossLink \"Ticker\"}}{{/crossLink}} event object, or similar object with a delta property.\r\n\t **/\r\n\tp.update = function(props) {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tif (this.dispatchEvent(\"drawstart\", false, true) === false) { return; }\r\n\t\tcreatejs.DisplayObject._snapToPixelEnabled = this.snapToPixelEnabled;\r\n\t\tvar r = this.drawRect, ctx = this.canvas.getContext(\"2d\");\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tif (this.autoClear) {\r\n\t\t\tif (r) { ctx.clearRect(r.x, r.y, r.width, r.height); }\r\n\t\t\telse { ctx.clearRect(0, 0, this.canvas.width+1, this.canvas.height+1); }\r\n\t\t}\r\n\t\tctx.save();\r\n\t\tif (this.drawRect) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(r.x, r.y, r.width, r.height);\r\n\t\t\tctx.clip();\r\n\t\t}\r\n\t\tthis.updateContext(ctx);\r\n\t\tthis.draw(ctx, false);\r\n\t\tctx.restore();\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t};\r\n\t\r\n\t/**\r\n\t * Propagates a tick event through the display list. This is automatically called by {{#crossLink \"Stage/update\"}}{{/crossLink}}\r\n\t * unless {{#crossLink \"Stage/tickOnUpdate:property\"}}{{/crossLink}} is set to false.\r\n\t *\r\n\t * If a props object is passed to `tick()`, then all of its properties will be copied to the event object that is\r\n\t * propagated to listeners.\r\n\t *\r\n\t * Some time-based features in EaselJS (for example {{#crossLink \"Sprite/framerate\"}}{{/crossLink}} require that\r\n\t * a {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}} event object (or equivalent object with a delta property) be\r\n\t * passed as the `props` parameter to `tick()`. For example:\r\n\t *\r\n\t * \tTicker.on(\"tick\", handleTick);\r\n\t * \tfunction handleTick(evtObj) {\r\n\t * \t\t// clone the event object from Ticker, and add some custom data to it:\r\n\t * \t\tvar evt = evtObj.clone().set({greeting:\"hello\", name:\"world\"});\r\n\t * \t\t\r\n\t * \t\t// pass it to stage.update():\r\n\t * \t\tmyStage.update(evt); // subsequently calls tick() with the same param\r\n\t * \t}\r\n\t * \t\r\n\t * \t// ...\r\n\t * \tmyDisplayObject.on(\"tick\", handleDisplayObjectTick);\r\n\t * \tfunction handleDisplayObjectTick(evt) {\r\n\t * \t\tconsole.log(evt.delta); // the delta property from the Ticker tick event object\r\n\t * \t\tconsole.log(evt.greeting, evt.name); // custom data: \"hello world\"\r\n\t * \t}\r\n\t * \r\n\t * @method tick\r\n\t * @param {Object} [props] An object with properties that should be copied to the event object. Should usually be a Ticker event object, or similar object with a delta property.\r\n\t **/\r\n\tp.tick = function(props) {\r\n\t\tif (!this.tickEnabled || this.dispatchEvent(\"tickstart\", false, true) === false) { return; }\r\n\t\tvar evtObj = new createjs.Event(\"tick\");\r\n\t\tif (props) {\r\n\t\t\tfor (var n in props) {\r\n\t\t\t\tif (props.hasOwnProperty(n)) { evtObj[n] = props[n]; }\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._tick(evtObj);\r\n\t\tthis.dispatchEvent(\"tickend\");\r\n\t};\r\n\r\n\t/**\r\n\t * Default event handler that calls the Stage {{#crossLink \"Stage/update\"}}{{/crossLink}} method when a {{#crossLink \"DisplayObject/tick:event\"}}{{/crossLink}}\r\n\t * event is received. This allows you to register a Stage instance as a event listener on {{#crossLink \"Ticker\"}}{{/crossLink}}\r\n\t * directly, using:\r\n\t *\r\n\t *      Ticker.addEventListener(\"tick\", myStage);\r\n\t *\r\n\t * Note that if you subscribe to ticks using this pattern, then the tick event object will be passed through to\r\n\t * display object tick handlers, instead of <code>delta</code> and <code>paused</code> parameters.\r\n\t * @property handleEvent\r\n\t * @type Function\r\n\t **/\r\n\tp.handleEvent = function(evt) {\r\n\t\tif (evt.type == \"tick\") { this.update(evt); }\r\n\t};\r\n\r\n\t/**\r\n\t * Clears the target canvas. Useful if {{#crossLink \"Stage/autoClear:property\"}}{{/crossLink}} is set to `false`.\r\n\t * @method clear\r\n\t **/\r\n\tp.clear = function() {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tvar ctx = this.canvas.getContext(\"2d\");\r\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\tctx.clearRect(0, 0, this.canvas.width+1, this.canvas.height+1);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a data url that contains a Base64-encoded image of the contents of the stage. The returned data url can\r\n\t * be specified as the src value of an image element.\r\n\t * @method toDataURL\r\n\t * @param {String} [backgroundColor] The background color to be used for the generated image. Any valid CSS color\r\n\t * value is allowed. The default value is a transparent background.\r\n\t * @param {String} [mimeType=\"image/png\"] The MIME type of the image format to be create. The default is \"image/png\". If an unknown MIME type\r\n\t * is passed in, or if the browser does not support the specified MIME type, the default value will be used.\r\n\t * @return {String} a Base64 encoded image.\r\n\t **/\r\n\tp.toDataURL = function(backgroundColor, mimeType) {\r\n\t\tvar data, ctx = this.canvas.getContext('2d'), w = this.canvas.width, h = this.canvas.height;\r\n\r\n\t\tif (backgroundColor) {\r\n\t\t\tdata = ctx.getImageData(0, 0, w, h);\r\n\t\t\tvar compositeOperation = ctx.globalCompositeOperation;\r\n\t\t\tctx.globalCompositeOperation = \"destination-over\";\r\n\t\t\t\r\n\t\t\tctx.fillStyle = backgroundColor;\r\n\t\t\tctx.fillRect(0, 0, w, h);\r\n\t\t}\r\n\r\n\t\tvar dataURL = this.canvas.toDataURL(mimeType||\"image/png\");\r\n\r\n\t\tif(backgroundColor) {\r\n\t\t\tctx.putImageData(data, 0, 0);\r\n\t\t\tctx.globalCompositeOperation = compositeOperation;\r\n\t\t}\r\n\r\n\t\treturn dataURL;\r\n\t};\r\n\r\n\t/**\r\n\t * Enables or disables (by passing a frequency of 0) mouse over ({{#crossLink \"DisplayObject/mouseover:event\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"DisplayObject/mouseout:event\"}}{{/crossLink}}) and roll over events ({{#crossLink \"DisplayObject/rollover:event\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"DisplayObject/rollout:event\"}}{{/crossLink}}) for this stage's display list. These events can\r\n\t * be expensive to generate, so they are disabled by default. The frequency of the events can be controlled\r\n\t * independently of mouse move events via the optional `frequency` parameter.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var stage = new createjs.Stage(\"canvasId\");\r\n\t *      stage.enableMouseOver(10); // 10 updates per second\r\n\t *\r\n\t * @method enableMouseOver\r\n\t * @param {Number} [frequency=20] Optional param specifying the maximum number of times per second to broadcast\r\n\t * mouse over/out events. Set to 0 to disable mouse over events completely. Maximum is 50. A lower frequency is less\r\n\t * responsive, but uses less CPU.\r\n\t **/\r\n\tp.enableMouseOver = function(frequency) {\r\n\t\tif (this._mouseOverIntervalID) {\r\n\t\t\tclearInterval(this._mouseOverIntervalID);\r\n\t\t\tthis._mouseOverIntervalID = null;\r\n\t\t\tif (frequency == 0) {\r\n\t\t\t\tthis._testMouseOver(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequency == null) { frequency = 20; }\r\n\t\telse if (frequency <= 0) { return; }\r\n\t\tvar o = this;\r\n\t\tthis._mouseOverIntervalID = setInterval(function(){ o._testMouseOver(); }, 1000/Math.min(50,frequency));\r\n\t};\r\n\r\n\t/**\r\n\t * Enables or disables the event listeners that stage adds to DOM elements (window, document and canvas). It is good\r\n\t * practice to disable events when disposing of a Stage instance, otherwise the stage will continue to receive\r\n\t * events from the page.\r\n\t *\r\n\t * When changing the canvas property you must disable the events on the old canvas, and enable events on the\r\n\t * new canvas or mouse events will not work as expected. For example:\r\n\t *\r\n\t *      myStage.enableDOMEvents(false);\r\n\t *      myStage.canvas = anotherCanvas;\r\n\t *      myStage.enableDOMEvents(true);\r\n\t *\r\n\t * @method enableDOMEvents\r\n\t * @param {Boolean} [enable=true] Indicates whether to enable or disable the events. Default is true.\r\n\t **/\r\n\tp.enableDOMEvents = function(enable) {\r\n\t\tif (enable == null) { enable = true; }\r\n\t\tvar n, o, ls = this._eventListeners;\r\n\t\tif (!enable && ls) {\r\n\t\t\tfor (n in ls) {\r\n\t\t\t\to = ls[n];\r\n\t\t\t\to.t.removeEventListener(n, o.f, false);\r\n\t\t\t}\r\n\t\t\tthis._eventListeners = null;\r\n\t\t} else if (enable && !ls && this.canvas) {\r\n\t\t\tvar t = window.addEventListener ? window : document;\r\n\t\t\tvar _this = this;\r\n\t\t\tls = this._eventListeners = {};\r\n\t\t\tls[\"mouseup\"] = {t:t, f:function(e) { _this._handleMouseUp(e)} };\r\n\t\t\tls[\"mousemove\"] = {t:t, f:function(e) { _this._handleMouseMove(e)} };\r\n\t\t\tls[\"dblclick\"] = {t:this.canvas, f:function(e) { _this._handleDoubleClick(e)} };\r\n\t\t\tls[\"mousedown\"] = {t:this.canvas, f:function(e) { _this._handleMouseDown(e)} };\r\n\r\n\t\t\tfor (n in ls) {\r\n\t\t\t\to = ls[n];\r\n\t\t\t\to.t.addEventListener(n, o.f, false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Stage instances cannot be cloned.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tthrow(\"Stage cannot be cloned.\");\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Stage (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _getElementRect\r\n\t * @protected\r\n\t * @param {HTMLElement} e\r\n\t **/\r\n\tp._getElementRect = function(e) {\r\n\t\tvar bounds;\r\n\t\ttry { bounds = e.getBoundingClientRect(); } // this can fail on disconnected DOM elements in IE9\r\n\t\tcatch (err) { bounds = {top: e.offsetTop, left: e.offsetLeft, width:e.offsetWidth, height:e.offsetHeight}; }\r\n\r\n\t\tvar offX = (window.pageXOffset || document.scrollLeft || 0) - (document.clientLeft || document.body.clientLeft || 0);\r\n\t\tvar offY = (window.pageYOffset || document.scrollTop || 0) - (document.clientTop  || document.body.clientTop  || 0);\r\n\r\n\t\tvar styles = window.getComputedStyle ? getComputedStyle(e,null) : e.currentStyle; // IE <9 compatibility.\r\n\t\tvar padL = parseInt(styles.paddingLeft)+parseInt(styles.borderLeftWidth);\r\n\t\tvar padT = parseInt(styles.paddingTop)+parseInt(styles.borderTopWidth);\r\n\t\tvar padR = parseInt(styles.paddingRight)+parseInt(styles.borderRightWidth);\r\n\t\tvar padB = parseInt(styles.paddingBottom)+parseInt(styles.borderBottomWidth);\r\n\r\n\t\t// note: in some browsers bounds properties are read only.\r\n\t\treturn {\r\n\t\t\tleft: bounds.left+offX+padL,\r\n\t\t\tright: bounds.right+offX-padR,\r\n\t\t\ttop: bounds.top+offY+padT,\r\n\t\t\tbottom: bounds.bottom+offY-padB\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getPointerData\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t **/\r\n\tp._getPointerData = function(id) {\r\n\t\tvar data = this._pointerData[id];\r\n\t\tif (!data) { data = this._pointerData[id] = {x:0,y:0}; }\r\n\t\treturn data;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMouseMove\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t **/\r\n\tp._handleMouseMove = function(e) {\r\n\t\tif(!e){ e = window.event; }\r\n\t\tthis._handlePointerMove(-1, e, e.pageX, e.pageY);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handlePointerMove\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Number} pageX\r\n\t * @param {Number} pageY\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handlePointerMove = function(id, e, pageX, pageY, owner) {\r\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\r\n\t\tif (!this.canvas) { return; }\r\n\t\tvar nextStage=this._nextStage, o=this._getPointerData(id);\r\n\r\n\t\tvar inBounds = o.inBounds;\r\n\t\tthis._updatePointerPosition(id, e, pageX, pageY);\r\n\t\tif (inBounds || o.inBounds || this.mouseMoveOutside) {\r\n\t\t\tif (id === -1 && o.inBounds == !inBounds) {\r\n\t\t\t\tthis._dispatchMouseEvent(this, (inBounds ? \"mouseleave\" : \"mouseenter\"), false, id, o, e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._dispatchMouseEvent(this, \"stagemousemove\", false, id, o, e);\r\n\t\t\tthis._dispatchMouseEvent(o.target, \"pressmove\", true, id, o, e);\r\n\t\t}\r\n\t\t\r\n\t\tnextStage&&nextStage._handlePointerMove(id, e, pageX, pageY, null);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _updatePointerPosition\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Number} pageX\r\n\t * @param {Number} pageY\r\n\t **/\r\n\tp._updatePointerPosition = function(id, e, pageX, pageY) {\r\n\t\tvar rect = this._getElementRect(this.canvas);\r\n\t\tpageX -= rect.left;\r\n\t\tpageY -= rect.top;\r\n\r\n\t\tvar w = this.canvas.width;\r\n\t\tvar h = this.canvas.height;\r\n\t\tpageX /= (rect.right-rect.left)/w;\r\n\t\tpageY /= (rect.bottom-rect.top)/h;\r\n\t\tvar o = this._getPointerData(id);\r\n\t\tif (o.inBounds = (pageX >= 0 && pageY >= 0 && pageX <= w-1 && pageY <= h-1)) {\r\n\t\t\to.x = pageX;\r\n\t\t\to.y = pageY;\r\n\t\t} else if (this.mouseMoveOutside) {\r\n\t\t\to.x = pageX < 0 ? 0 : (pageX > w-1 ? w-1 : pageX);\r\n\t\t\to.y = pageY < 0 ? 0 : (pageY > h-1 ? h-1 : pageY);\r\n\t\t}\r\n\r\n\t\to.posEvtObj = e;\r\n\t\to.rawX = pageX;\r\n\t\to.rawY = pageY;\r\n\r\n\t\tif (id === this._primaryPointerID || id === -1) {\r\n\t\t\tthis.mouseX = o.x;\r\n\t\t\tthis.mouseY = o.y;\r\n\t\t\tthis.mouseInBounds = o.inBounds;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMouseUp\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t **/\r\n\tp._handleMouseUp = function(e) {\r\n\t\tthis._handlePointerUp(-1, e, false);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handlePointerUp\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Boolean} clear\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handlePointerUp = function(id, e, clear, owner) {\r\n\t\tvar nextStage = this._nextStage, o = this._getPointerData(id);\r\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\r\n\t\t\r\n\t\tvar target=null, oTarget = o.target;\r\n\t\tif (!owner && (oTarget || nextStage)) { target = this._getObjectsUnderPoint(o.x, o.y, null, true); }\r\n\t\t\r\n\t\tif (o.down) { this._dispatchMouseEvent(this, \"stagemouseup\", false, id, o, e, target); o.down = false; }\r\n\t\t\r\n\t\tif (target == oTarget) { this._dispatchMouseEvent(oTarget, \"click\", true, id, o, e); }\r\n\t\tthis._dispatchMouseEvent(oTarget, \"pressup\", true, id, o, e);\r\n\t\t\r\n\t\tif (clear) {\r\n\t\t\tif (id==this._primaryPointerID) { this._primaryPointerID = null; }\r\n\t\t\tdelete(this._pointerData[id]);\r\n\t\t} else { o.target = null; }\r\n\t\t\r\n\t\tnextStage&&nextStage._handlePointerUp(id, e, clear, owner || target && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMouseDown\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t **/\r\n\tp._handleMouseDown = function(e) {\r\n\t\tthis._handlePointerDown(-1, e, e.pageX, e.pageY);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handlePointerDown\r\n\t * @protected\r\n\t * @param {Number} id\r\n\t * @param {Event} e\r\n\t * @param {Number} pageX\r\n\t * @param {Number} pageY\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handlePointerDown = function(id, e, pageX, pageY, owner) {\r\n\t\tif (this.preventSelection) { e.preventDefault(); }\r\n\t\tif (this._primaryPointerID == null || id === -1) { this._primaryPointerID = id; } // mouse always takes over.\r\n\t\t\r\n\t\tif (pageY != null) { this._updatePointerPosition(id, e, pageX, pageY); }\r\n\t\tvar target = null, nextStage = this._nextStage, o = this._getPointerData(id);\r\n\t\tif (!owner) { target = o.target = this._getObjectsUnderPoint(o.x, o.y, null, true); }\r\n\r\n\t\tif (o.inBounds) { this._dispatchMouseEvent(this, \"stagemousedown\", false, id, o, e, target); o.down = true; }\r\n\t\tthis._dispatchMouseEvent(target, \"mousedown\", true, id, o, e);\r\n\t\t\r\n\t\tnextStage&&nextStage._handlePointerDown(id, e, pageX, pageY, owner || target && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _testMouseOver\r\n\t * @param {Boolean} clear If true, clears the mouseover / rollover (ie. no target)\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t * @param {Stage} eventTarget The stage that the cursor is actively over.\r\n\t * @protected\r\n\t **/\r\n\tp._testMouseOver = function(clear, owner, eventTarget) {\r\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\r\n\t\t\r\n\t\tvar nextStage = this._nextStage;\r\n\t\tif (!this._mouseOverIntervalID) {\r\n\t\t\t// not enabled for mouseover, but should still relay the event.\r\n\t\t\tnextStage&&nextStage._testMouseOver(clear, owner, eventTarget);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar o = this._getPointerData(-1);\r\n\t\t// only update if the mouse position has changed. This provides a lot of optimization, but has some trade-offs.\r\n\t\tif (!o || (!clear && this.mouseX == this._mouseOverX && this.mouseY == this._mouseOverY && this.mouseInBounds)) { return; }\r\n\t\t\r\n\t\tvar e = o.posEvtObj;\r\n\t\tvar isEventTarget = eventTarget || e&&(e.target == this.canvas);\r\n\t\tvar target=null, common = -1, cursor=\"\", t, i, l;\r\n\t\t\r\n\t\tif (!owner && (clear || this.mouseInBounds && isEventTarget)) {\r\n\t\t\ttarget = this._getObjectsUnderPoint(this.mouseX, this.mouseY, null, true);\r\n\t\t\tthis._mouseOverX = this.mouseX;\r\n\t\t\tthis._mouseOverY = this.mouseY;\r\n\t\t}\r\n\r\n\t\tvar oldList = this._mouseOverTarget||[];\r\n\t\tvar oldTarget = oldList[oldList.length-1];\r\n\t\tvar list = this._mouseOverTarget = [];\r\n\r\n\t\t// generate ancestor list and check for cursor:\r\n\t\tt = target;\r\n\t\twhile (t) {\r\n\t\t\tlist.unshift(t);\r\n\t\t\tif (!cursor) { cursor = t.cursor; }\r\n\t\t\tt = t.parent;\r\n\t\t}\r\n\t\tthis.canvas.style.cursor = cursor;\r\n\t\tif (!owner && eventTarget) { eventTarget.canvas.style.cursor = cursor; }\r\n\r\n\t\t// find common ancestor:\r\n\t\tfor (i=0,l=list.length; i<l; i++) {\r\n\t\t\tif (list[i] != oldList[i]) { break; }\r\n\t\t\tcommon = i;\r\n\t\t}\r\n\r\n\t\tif (oldTarget != target) {\r\n\t\t\tthis._dispatchMouseEvent(oldTarget, \"mouseout\", true, -1, o, e, target);\r\n\t\t}\r\n\r\n\t\tfor (i=oldList.length-1; i>common; i--) {\r\n\t\t\tthis._dispatchMouseEvent(oldList[i], \"rollout\", false, -1, o, e, target);\r\n\t\t}\r\n\r\n\t\tfor (i=list.length-1; i>common; i--) {\r\n\t\t\tthis._dispatchMouseEvent(list[i], \"rollover\", false, -1, o, e, oldTarget);\r\n\t\t}\r\n\r\n\t\tif (oldTarget != target) {\r\n\t\t\tthis._dispatchMouseEvent(target, \"mouseover\", true, -1, o, e, oldTarget);\r\n\t\t}\r\n\t\t\r\n\t\tnextStage&&nextStage._testMouseOver(clear, owner || target && this, eventTarget || isEventTarget && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleDoubleClick\r\n\t * @protected\r\n\t * @param {MouseEvent} e\r\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\r\n\t **/\r\n\tp._handleDoubleClick = function(e, owner) {\r\n\t\tvar target=null, nextStage=this._nextStage, o=this._getPointerData(-1);\r\n\t\tif (!owner) {\r\n\t\t\ttarget = this._getObjectsUnderPoint(o.x, o.y, null, true);\r\n\t\t\tthis._dispatchMouseEvent(target, \"dblclick\", true, -1, o, e);\r\n\t\t}\r\n\t\tnextStage&&nextStage._handleDoubleClick(e, owner || target && this);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _dispatchMouseEvent\r\n\t * @protected\r\n\t * @param {DisplayObject} target\r\n\t * @param {String} type\r\n\t * @param {Boolean} bubbles\r\n\t * @param {Number} pointerId\r\n\t * @param {Object} o\r\n\t * @param {MouseEvent} [nativeEvent]\r\n\t * @param {DisplayObject} [relatedTarget]\r\n\t **/\r\n\tp._dispatchMouseEvent = function(target, type, bubbles, pointerId, o, nativeEvent, relatedTarget) {\r\n\t\t// TODO: might be worth either reusing MouseEvent instances, or adding a willTrigger method to avoid GC.\r\n\t\tif (!target || (!bubbles && !target.hasEventListener(type))) { return; }\r\n\t\t/*\r\n\t\t// TODO: account for stage transformations?\r\n\t\tthis._mtx = this.getConcatenatedMatrix(this._mtx).invert();\r\n\t\tvar pt = this._mtx.transformPoint(o.x, o.y);\r\n\t\tvar evt = new createjs.MouseEvent(type, bubbles, false, pt.x, pt.y, nativeEvent, pointerId, pointerId==this._primaryPointerID || pointerId==-1, o.rawX, o.rawY);\r\n\t\t*/\r\n\t\tvar evt = new createjs.MouseEvent(type, bubbles, false, o.x, o.y, nativeEvent, pointerId, pointerId === this._primaryPointerID || pointerId === -1, o.rawX, o.rawY, relatedTarget);\r\n\t\ttarget.dispatchEvent(evt);\r\n\t};\r\n\r\n\r\n\tcreatejs.Stage = createjs.promote(Stage, \"Container\");\r\n}());\r\n\r\n//##############################################################################\r\n// StageGL.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n/*\r\n * README IF EDITING:\r\n * Terminology for developers:\r\n *\r\n * Vertex: a point that help defines a shape, 3 per triangle. Usually has an x,y,z but can have more/less info.\r\n * Vertex Property: a piece of information attached to the vertex like a vector3 containing x,y,z\r\n * Index/Indices: used in groups of 3 to define a triangle, points to vertices by their index in an array (some render\r\n * \t\tmodes do not use these)\r\n * Card: a group of 2 triangles used to display a rectangular image\r\n * U/V: common names for the [0-1] texture co-ordinates on an image\r\n * Batch: a single call to the renderer, best done as little as possible so multiple cards are put into a single batch\r\n * Buffer: WebGL array data\r\n * Program/Shader: For every vertex we run the Vertex shader. The results are used per pixel by the Fragment shader. When\r\n * \t\tcombined and paired these are a shader \"program\"\r\n * Texture: WebGL representation of image data and associated extra information\r\n * Slot: A space on the GPU into which textures can be loaded for use in a batch, using \"ActiveTexture\" switches texture slot.\r\n */\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * A StageGL instance is the root level {{#crossLink \"Container\"}}{{/crossLink}} for an WebGL-optimized display list,\r\n\t * which is used in place of the usual {{#crossLink \"Stage\"}}{{/crossLink}}. This class should behave identically to\r\n\t * a {{#crossLink \"Stage\"}}{{/crossLink}} except for WebGL-specific functionality.\r\n\t *\r\n\t * Each time the {{#crossLink \"Stage/tick\"}}{{/crossLink}} method is called, the display list is rendered to the\r\n\t * target &lt;canvas/&gt; instance, ignoring non-WebGL-compatible display objects. On devices and browsers that don't\r\n\t * support WebGL, content will automatically be rendered to canvas 2D context instead.\r\n\t *\r\n\t * <h4>Limitations</h4>\r\n\t * - {{#crossLink \"Shape\"}}{{/crossLink}}, {{#crossLink \"Shadow\"}}{{/crossLink}}, and {{#crossLink \"Text\"}}{{/crossLink}}\r\n\t * \tare not rendered when added to the display list.\r\n\t * - To display something StageGL cannot render, {{#crossLink \"displayObject/cache\"}}{{/crossLink}} the object.\r\n\t *\tCaches can be rendered regardless of source.\r\n\t * - Images are wrapped as a webGL \"Texture\". Each graphics card has a limit to its concurrent Textures, too many \r\n\t * Textures will noticeably slow performance.\r\n\t * - Each cache counts as an individual Texture. As such {{#crossLink \"SpriteSheet\"}}{{/crossLink}} and \r\n\t * {{#crossLink \"SpriteSheetBuilder\"}}{{/crossLink}} are recommended practices to help keep texture counts low.\r\n\t * - To use any image node (DOM Image/Canvas Element) between multiple StageGL instances it must be a \r\n\t * {{#crossLink \"Bitmap/clone\"}}{{/crossLink}}, otherwise the GPU texture loading and tracking will get confused.\r\n\t * - to avoid an up/down scaled render you must call {{#crossLink \"StageGL/updateViewport\"}}{{/crossLink}} if you\r\n\t * resize your canvas after making a StageGL instance, this will properly size the WebGL context stored in memory.\r\n\t * - Best performance in demanding scenarios will come from manual management of texture memory, but it is handled\r\n\t * automatically by default. See {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}} for details.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a StageGL instance, adds a child to it, then uses the EaselJS {{#crossLink \"Ticker\"}}{{/crossLink}}\r\n\t * to update the child and redraw the stage.\r\n\t *\r\n\t *      var stage = new createjs.StageGL(\"canvasElementId\");\r\n\t *\r\n\t *      var image = new createjs.Bitmap(\"imagePath.png\");\r\n\t *      stage.addChild(image);\r\n\t *\r\n\t *      createjs.Ticker.on(\"tick\", handleTick);\r\n\t *\r\n\t *      function handleTick(event) {\r\n\t *          image.x += 10;\r\n\t *          stage.update();\r\n\t *      }\r\n\t *\r\n\t * <h4>Notes</h4>\r\n\t * - StageGL is not currently included in the minified version of EaselJS.\r\n\t * - {{#crossLink \"SpriteContainer\"}}{{/crossLink}} (the previous approach to WebGL with EaselJS) has been deprecated.\r\n\t * - Earlier versions of WebGL support in EaselJS (SpriteStage and SpriteContainer) had hard limitations on images\r\n\t * \tper container, which have been solved.\r\n\t *\r\n\t * @class StageGL\r\n\t * @extends Stage\r\n\t * @constructor\r\n\t * @param {HTMLCanvasElement | String | Object} canvas A canvas object that StageGL will render to, or the string id\r\n\t *  of a canvas object in the current DOM.\r\n\t * @param {Object} options All the option parameters in a reference object, some are not supported by some browsers.\r\n\t * @param {Boolean} [options.preserveBuffer=false] If `true`, the canvas is NOT auto-cleared by WebGL (the spec\r\n\t *  discourages setting this to `true`). This is useful if you want persistent draw effects.\r\n\t * @param {Boolean} [options.antialias=false] Specifies whether or not the browser's WebGL implementation should try\r\n\t *  to perform anti-aliasing. This will also enable linear pixel sampling on power-of-two textures (smoother images).\r\n\t * @param {Boolean} [options.transparent=false] If `true`, the canvas is transparent. This is <strong>very</strong>\r\n\t * expensive, and should be used with caution.\r\n\t * @param {Boolean} [options.premultiply=false] Alters color handling. If `true`, this assumes the shader must\r\n\t * account for pre-multiplied alpha. This can help avoid visual halo effects with some assets, but may also cause\r\n\t * problems with other assets.\r\n\t * @param {Integer} [options.autoPurge=1200] How often the system should automatically dump unused textures with\r\n\t * `purgeTextures(autoPurge)` every `autoPurge/2` draws. See {{#crossLink \"StageGL/purgeTextures\"}}{{/crossLink}} for more\r\n\t * information.\r\n\t */\r\n\tfunction StageGL(canvas, options) {\r\n\t\tthis.Stage_constructor(canvas);\r\n\r\n\t\tif (options !== undefined) {\r\n\t\t\tif (typeof options !== \"object\"){ throw(\"Invalid options object\"); }\r\n\t\t\tvar premultiply = options.premultiply;\r\n\t\t\tvar transparent = options.transparent;\r\n\t\t\tvar antialias = options.antialias;\r\n\t\t\tvar preserveBuffer = options.preserveBuffer;\r\n\t\t\tvar autoPurge = options.autoPurge;\r\n\t\t}\r\n\r\n// public properties:\r\n\t\t/**\r\n\t\t * Console log potential issues and problems. This is designed to have <em>minimal</em> performance impact, so\r\n\t\t * if extensive debugging information is required, this may be inadequate. See {{#crossLink \"WebGLInspector\"}}{{/crossLink}}\r\n\t\t * @property vocalDebug\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis.vocalDebug = false;\r\n\r\n// private properties:\r\n\t\t/**\r\n\t\t * Specifies whether or not the canvas is auto-cleared by WebGL. The WebGL spec discourages `true`.\r\n\t\t * If true, the canvas is NOT auto-cleared by WebGL. Used when the canvas context is created and requires\r\n\t\t * context re-creation to update.\r\n\t\t * @property _preserveBuffer\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._preserveBuffer = preserveBuffer||false;\r\n\r\n\t\t/**\r\n\t\t * Specifies whether or not the browser's WebGL implementation should try to perform anti-aliasing.\r\n\t\t * @property _antialias\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._antialias = antialias||false;\r\n\r\n\t\t/**\r\n\t\t * Specifies whether or not the browser's WebGL implementation should be transparent.\r\n\t\t * @property _transparent\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._transparent = transparent||false;\r\n\r\n\t\t/**\r\n\t\t * Specifies whether or not StageGL is handling colours as premultiplied alpha.\r\n\t\t * @property _premultiply\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis._premultiply = premultiply||false;\r\n\r\n\t\t/**\r\n\t\t * Internal value of {{#crossLink \"StageGL/autoPurge\"}}{{/crossLink}}\r\n\t\t * @property _autoPurge\r\n\t\t * @protected\r\n\t\t * @type {Integer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._autoPurge = undefined;\r\n\t\tthis.autoPurge = autoPurge;\t//getter/setter handles setting the real value and validating\r\n\r\n\t\t/**\r\n\t\t * The width in px of the drawing surface saved in memory.\r\n\t\t * @property _viewportWidth\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._viewportWidth = 0;\r\n\r\n\t\t/**\r\n\t\t * The height in px of the drawing surface saved in memory.\r\n\t\t * @property _viewportHeight\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._viewportHeight = 0;\r\n\r\n\t\t/**\r\n\t\t * A 2D projection matrix used to convert WebGL's viewspace into canvas co-ordinates. Regular canvas display\r\n\t\t * uses Top-Left values of [0,0] where WebGL uses a Center [0,0] Top-Right [1,1] (euclidean) system.\r\n\t\t * @property _projectionMatrix\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._projectionMatrix = null;\r\n\r\n\t\t/**\r\n\t\t * The current WebGL canvas context. Often shorthanded to just \"gl\" in many parts of the code.\r\n\t\t * @property _webGLContext\r\n\t\t * @protected\r\n\t\t * @type {WebGLRenderingContext}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._webGLContext = null;\r\n\r\n\t\t/**\r\n\t\t * The color to use when the WebGL canvas has been cleared. May appear as a background color. Defaults to grey.\r\n\t\t * @property _clearColor\r\n\t\t * @protected\r\n\t\t * @type {Object}\r\n\t\t * @default {r: 0.50, g: 0.50, b: 0.50, a: 0.00}\r\n\t\t */\r\n\t\tthis._clearColor = {r: 0.50, g: 0.50, b: 0.50, a: 0.00};\r\n\r\n\t\t/**\r\n\t\t * The maximum number of cards (aka a single sprite) that can be drawn in one draw call. Use getter/setters to\r\n\t\t * modify otherwise internal buffers may be incorrect sizes.\r\n\t\t * @property _maxCardsPerBatch\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default StageGL.DEFAULT_MAX_BATCH_SIZE (10000)\r\n\t\t */\r\n\t\tthis._maxCardsPerBatch = StageGL.DEFAULT_MAX_BATCH_SIZE;\t\t\t\t\t\t\t\t\t\t\t\t\t\t//TODO: write getter/setters for this\r\n\r\n\t\t/**\r\n\t\t * The shader program used to draw the current batch.\r\n\t\t * @property _activeShader\r\n\t\t * @protected\r\n\t\t * @type {WebGLProgram}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._activeShader = null;\r\n\r\n\t\t/**\r\n\t\t * The vertex position data for the current draw call.\r\n\t\t * @property _vertices\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._vertices = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_vertices:property\"}}{{/crossLink}}.\r\n\t\t * @property _vertexPositionBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._vertexPositionBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * The vertex U/V data for the current draw call.\r\n\t\t * @property _uvs\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._uvs = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_uvs:property\"}}{{/crossLink}}.\r\n\t\t * @property _uvPositionBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._uvPositionBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * The vertex indices data for the current draw call.\r\n\t\t * @property _indices\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._indices = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_indices:property\"}}{{/crossLink}}.\r\n\t\t * @property _textureIndexBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._textureIndexBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * The vertices data for the current draw call.\r\n\t\t * @property _alphas\r\n\t\t * @protected\r\n\t\t * @type {Float32Array}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._alphas = null;\r\n\r\n\t\t/**\r\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_alphas:property\"}}{{/crossLink}}.\r\n\t\t * @property _alphaBuffer\r\n\t\t * @protected\r\n\t\t * @type {WebGLBuffer}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._alphaBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * An index based lookup of every WebGL Texture currently in use.\r\n\t\t * @property _drawTexture\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._textureDictionary = [];\r\n\r\n\t\t/**\r\n\t\t * A string based lookup hash of which index a texture is stored at in the dictionary. The lookup string is\r\n\t\t * often the src url.\r\n\t\t * @property _textureIDs\r\n\t\t * @protected\r\n\t\t * @type {Object}\r\n\t\t */\r\n\t\tthis._textureIDs = {};\r\n\r\n\t\t/**\r\n\t\t * An array of all the textures currently loaded into the GPU. The index in the array matches the GPU index.\r\n\t\t * @property _batchTextures\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._batchTextures = [];\r\n\r\n\t\t/**\r\n\t\t * An array of all the simple filler textures used to prevent issues with missing textures in a batch.\r\n\t\t * @property _baseTextures\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._baseTextures = [];\r\n\r\n\t\t/**\r\n\t\t * The number of concurrent textures the GPU can handle. This value is dynamically set from WebGL during initialization\r\n\t\t * via `gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS)`. The WebGL spec states that the lowest guaranteed value is 8,\r\n\t\t * but it could be higher. Do not set this value higher than the value returned by the GPU. Setting it lower will\r\n\t\t * probably reduce performance, but may be advisable to reserve slots for custom filter work.\r\n\t\t * NOTE: Can also act as a length for {{#crossLink \"StageGL/_batchTextures:property\"}}.\r\n\t\t * @property _batchTextureCount\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 8\r\n\t\t */\r\n\t\tthis._batchTextureCount = 8;\r\n\r\n\t\t/**\r\n\t\t * The location at which the last texture was inserted into a GPU slot in {{#crossLink \"StageGL/_batchTextures:property\"}}{{/crossLink}}.\r\n\t\t * Manual control of this variable can yield improvements in performance by intelligently replacing textures\r\n\t\t * inside a batch to reduce texture re-load. It is impossible to write automated general use code, as it requires\r\n\t\t * display list look ahead inspection and/or render foreknowledge.\r\n\t\t * @property _lastTextureInsert\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default -1\r\n\t\t */\r\n\t\tthis._lastTextureInsert = -1;\r\n\r\n\t\t/**\r\n\t\t * The current batch being drawn, A batch consists of a call to `drawElements` on the GPU. Many of these calls\r\n\t\t * can occur per draw.\r\n\t\t * @property _batchId\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._batchID = 0;\r\n\r\n\t\t/**\r\n\t\t * The current draw being performed, may contain multiple batches. Comparing to {{#crossLink \"StageGL/_batchID:property\"}}{{/crossLink}}\r\n\t\t * can reveal batching efficiency.\r\n\t\t * @property _drawID\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._drawID = 0;\r\n\r\n\t\t/**\r\n\t\t * Used to prevent textures in certain GPU slots from being replaced by an insert.\r\n\t\t * @property _slotBlackList\r\n\t\t * @protected\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis._slotBlacklist = [];\r\n\r\n\t\t/**\r\n\t\t * Used to prevent nested draw calls from accidentally overwriting drawing information by tracking depth.\r\n\t\t * @property _isDrawing\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._isDrawing = 0;\r\n\r\n\t\t/**\r\n\t\t * Used to ensure every canvas used as a texture source has a unique ID.\r\n\t\t * @property _lastTrackedCanvas\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis._lastTrackedCanvas = 0;\r\n\r\n\t\t/**\r\n\t\t * Controls whether final rendering output of a {{#crossLink \"cacheDraw\"}}{{/crossLink}} is the canvas or a render\r\n\t\t * texture. See the {{#crossLink \"cache\"}}{{/crossLink}} function modifications for full implications and discussion.\r\n\t\t * @property isCacheControlled\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t * @todo LM: is this supposed to be _isCacheControlled since its private?\r\n\t\t */\r\n\t\tthis.isCacheControlled = false;\r\n\r\n\t\t/**\r\n\t\t * Used to counter-position the object being cached so it aligns with the cache surface. Additionally ensures\r\n\t\t * that all rendering starts with a top level container.\r\n\t\t * @property _cacheContainer\r\n\t\t * @protected\r\n\t\t * @type {Container}\r\n\t\t * @default An instance of an EaselJS Container.\r\n\t\t */\r\n\t\tthis._cacheContainer = new createjs.Container();\r\n\r\n\t\t// and begin\r\n\t\tthis._initializeWebGL();\r\n\t}\r\n\tvar p = createjs.extend(StageGL, createjs.Stage);\r\n\r\n// static methods:\r\n\t/**\r\n\t * Calculate the U/V co-ordinate based info for sprite frames. Instead of pixel count it uses a 0-1 space. Also includes\r\n\t * the ability to get info back for a specific frame, or only calculate that one frame.\r\n\t *\r\n\t *     //generate UV rects for all entries\r\n\t *     StageGL.buildUVRects( spriteSheetA );\r\n\t *     //generate all, fetch the first\r\n\t *     var firstFrame = StageGL.buildUVRects( spriteSheetB, 0 );\r\n\t *     //generate the rect for just a single frame for performance's sake\r\n\t *     var newFrame = StageGL.buildUVRects( dynamicSpriteSheet, newFrameIndex, true );\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method buildUVRects\r\n\t * @param  {SpriteSheet} spritesheet The spritesheet to find the frames on\r\n\t * @param  {int} [target=-1] The index of the frame to return\r\n\t * @param  {Boolean} [onlyTarget=false] Whether \"target\" is the only frame that gets calculated\r\n\t * @static\r\n\t * @return {Object} the target frame if supplied and present or a generic frame {t, l, b, r}\r\n\t */\r\n\tStageGL.buildUVRects = function (spritesheet, target, onlyTarget) {\r\n\t\tif (!spritesheet || !spritesheet._frames) { return null; }\r\n\t\tif (target === undefined) { target = -1; }\r\n\t\tif (onlyTarget === undefined) { onlyTarget = false; }\r\n\r\n\t\tvar start = (target != -1 && onlyTarget)?(target):(0);\r\n\t\tvar end = (target != -1 && onlyTarget)?(target+1):(spritesheet._frames.length);\r\n\t\tfor (var i=start; i<end; i++) {\r\n\t\t\tvar f = spritesheet._frames[i];\r\n\t\t\tif (f.uvRect || f.image.width <= 0 || f.image.height <= 0) { continue; }\r\n\r\n\t\t\tvar r = f.rect;\r\n\t\t\tf.uvRect = {\r\n\t\t\t\tt: r.y / f.image.height,\r\n\t\t\t\tl: r.x / f.image.width,\r\n\t\t\t\tb: (r.y + r.height) / f.image.height,\r\n\t\t\t\tr: (r.x + r.width) / f.image.width\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn spritesheet._frames[(target != -1) ? target : 0].uvRect || {t:0, l:0, b:1, r:1};\r\n\t};\r\n\r\n\t/**\r\n\t * Test a context to see if it has WebGL enabled on it.\r\n\t * @method isWebGLActive\r\n\t * @param {CanvasContext} ctx The context to test\r\n\t * @static\r\n\t * @return {Boolean} Whether WebGL is enabled\r\n\t */\r\n\tStageGL.isWebGLActive = function (ctx) {\r\n\t\treturn ctx &&\r\n\t\t\tctx instanceof WebGLRenderingContext &&\r\n\t\t\ttypeof WebGLRenderingContext !== 'undefined';\r\n\t};\r\n\r\n// static properties:\r\n\t/**\r\n\t * The number of properties defined per vertex (x, y, textureU, textureV, textureIndex, alpha)\r\n\t * @property VERTEX_PROPERTY_COUNT\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 6\r\n\t * @readonly\r\n\t */\r\n\tStageGL.VERTEX_PROPERTY_COUNT = 6;\r\n\r\n\t/**\r\n\t * The number of triangle indices it takes to form a Card. 3 per triangle, 2 triangles.\r\n\t * @property INDICIES_PER_CARD\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 6\r\n\t * @readonly\r\n\t */\r\n\tStageGL.INDICIES_PER_CARD = 6;\r\n\r\n\t/**\r\n\t * The default value for the maximum number of cards we want to process in a batch. See\r\n\t * {{#crossLink \"StageGL/WEBGL_MAX_INDEX_NUM:property\"}}{{/crossLink}} for a hard limit.\r\n\t * @property DEFAULT_MAX_BATCH_SIZE\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 10000\r\n\t * @readonly\r\n\t */\r\n\tStageGL.DEFAULT_MAX_BATCH_SIZE = 10000;\r\n\r\n\t/**\r\n\t * The maximum size WebGL allows for element index numbers. Uses a 16 bit unsigned integer. It takes 6 indices to\r\n\t * make a unique card.\r\n\t * @property WEBGL_MAX_INDEX_NUM\r\n\t * @static\r\n\t * @final\r\n\t * @type {Number}\r\n\t * @default 65536\r\n\t * @readonly\r\n\t */\r\n\tStageGL.WEBGL_MAX_INDEX_NUM = Math.pow(2, 16);\r\n\r\n\t/**\r\n\t * Default U/V rect for dealing with full coverage from an image source.\r\n\t * @property UV_RECT\r\n\t * @static\r\n\t * @final\r\n\t * @type {Object}\r\n\t * @default {t:0, l:0, b:1, r:1}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.UV_RECT = {t:0, l:0, b:1, r:1};\r\n\r\n\ttry {\r\n\t\t/**\r\n\t\t * Vertex positions for a card that covers the entire render. Used with render targets primarily.\r\n\t\t * @property COVER_VERT\r\n\t\t * @static\r\n\t\t * @final\r\n\t\t * @type {Float32Array}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tStageGL.COVER_VERT = new Float32Array([\r\n\t\t\t-1,\t\t 1,\t\t//TL\r\n\t\t\t1,\t\t 1,\t\t//TR\r\n\t\t\t-1,\t\t-1,\t\t//BL\r\n\t\t\t1,\t\t 1,\t\t//TR\r\n\t\t\t1,\t\t-1,\t\t//BR\r\n\t\t\t-1,\t\t-1\t\t//BL\r\n\t\t]);\r\n\r\n\t\t/**\r\n\t\t * U/V for {{#crossLink \"StageGL/COVER_VERT:property\"}}{{/crossLink}}.\r\n\t\t * @property COVER_UV\r\n\t\t * @static\r\n\t\t * @final\r\n\t\t * @type {Float32Array}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tStageGL.COVER_UV = new Float32Array([\r\n\t\t\t 0,\t\t 0,\t\t//TL\r\n\t\t\t 1,\t\t 0,\t\t//TR\r\n\t\t\t 0,\t\t 1,\t\t//BL\r\n\t\t\t 1,\t\t 0,\t\t//TR\r\n\t\t\t 1,\t\t 1,\t\t//BR\r\n\t\t\t 0,\t\t 1\t\t//BL\r\n\t\t]);\r\n\r\n\t\t/**\r\n\t\t * Flipped U/V for {{#crossLink \"StageGL:COVER_VERT:property\"}}{{/crossLink}}.\r\n\t\t * @property COVER_UV_FLIP\r\n\t\t * @static\r\n\t\t * @final\r\n\t\t * @type {Float32Array}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tStageGL.COVER_UV_FLIP = new Float32Array([\r\n\t\t\t 0,\t\t 1,\t\t//TL\r\n\t\t\t 1,\t\t 1,\t\t//TR\r\n\t\t\t 0,\t\t 0,\t\t//BL\r\n\t\t\t 1,\t\t 1,\t\t//TR\r\n\t\t\t 1,\t\t 0,\t\t//BR\r\n\t\t\t 0,\t\t 0\t\t//BL\r\n\t\t]);\r\n\t} catch(e) { /* Breaking in older browsers, but those browsers wont run StageGL so no recovery or warning needed */ }\r\n\r\n\t/**\r\n\t * Portion of the shader that contains the \"varying\" properties required in both vertex and fragment shaders. The\r\n\t * regular shader is designed to render all expected objects. Shader code may contain templates that are replaced\r\n\t * pre-compile.\r\n\t * @property REGULAR_VARYING_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_VARYING_HEADER = (\r\n\t\t\"precision mediump float;\" +\r\n\t\t\"varying vec2 vTextureCoord;\" +\r\n\t\t\"varying lowp float indexPicker;\" +\r\n\t\t\"varying lowp float alphaValue;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the vertex shader. Includes the varying header. The regular shader is designed to render\r\n\t * all expected objects. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property REGULAR_VERTEX_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_VERTEX_HEADER = (\r\n\t\tStageGL.REGULAR_VARYING_HEADER +\r\n\t\t\"attribute vec2 vertexPosition;\" +\r\n\t\t\"attribute vec2 uvPosition;\" +\r\n\t\t\"attribute lowp float textureIndex;\" +\r\n\t\t\"attribute lowp float objectAlpha;\" +\r\n\t\t\"uniform mat4 pMatrix;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the fragment shader. Includes the varying header. The regular shader is designed to render\r\n\t * all expected objects. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property REGULAR_FRAGMENT_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_FRAGMENT_HEADER = (\r\n\t\tStageGL.REGULAR_VARYING_HEADER +\r\n\t\t\"uniform sampler2D uSampler[{{count}}];\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the vertex shader. The regular shader is designed to render all expected objects. Shader code may contain\r\n\t * templates that are replaced pre-compile.\r\n\t * @property REGULAR_VERTEX_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_VERTEX_BODY  = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t//DHG TODO: This doesn't work. Must be something wrong with the hand built matrix see js... bypass for now\r\n\t\t\t//vertexPosition, round if flag\r\n\t\t\t//\"gl_Position = pMatrix * vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);\" +\r\n\t\t\t\"gl_Position = vec4(\"+\r\n\t\t\t\t\"(vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],\" +\r\n\t\t\t\t\"(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],\" +\r\n\t\t\t\t\"pMatrix[3][2],\" +\r\n\t\t\t\t\"1.0\" +\r\n\t\t\t\");\" +\r\n\t\t\t\"alphaValue = objectAlpha;\" +\r\n\t\t\t\"indexPicker = textureIndex;\" +\r\n\t\t\t\"vTextureCoord = uvPosition;\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the fragment shader. The regular shader is designed to render all expected objects. Shader code may\r\n\t * contain templates that are replaced pre-compile.\r\n\t * @property REGULAR_FRAGMENT_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.REGULAR_FRAGMENT_BODY = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t\"vec4 color = vec4(1.0, 0.0, 0.0, 1.0);\" +\r\n\r\n\t\t\t\"if (indexPicker <= 0.5) {\" +\r\n\t\t\t\t\"color = texture2D(uSampler[0], vTextureCoord);\" +\r\n\t\t\t\t\"{{alternates}}\" +\r\n\t\t\t\"}\" +\r\n\r\n\t\t\t\"{{fragColor}}\" +\r\n\t\t\"}\"\r\n\t);\r\n\tStageGL.REGULAR_FRAG_COLOR_NORMAL = (\r\n\t\t\"gl_FragColor = vec4(color.rgb, color.a * alphaValue);\"\r\n\t);\r\n\tStageGL.REGULAR_FRAG_COLOR_PREMULTIPLY = (\r\n\t\t\"if(color.a > 0.0035) {\" +\t\t// 1/255 = 0.0039, so ignore any value below 1 because it's probably noise\r\n\t\t\t\"gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);\" +\r\n\t\t\"} else {\" +\r\n\t\t\t\"gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n\t//TODO: DHG: a real particle shader\r\n\t/**\r\n\t * @property PARTICLE_VERTEX_BODY\r\n\t * @todo\r\n\t * @final\r\n\t * @static\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.PARTICLE_VERTEX_BODY = (\r\n\t\tStageGL.REGULAR_VERTEX_BODY\r\n\t);\r\n\t/**\r\n\t * @property PARTICLE_FRAGMENT_BODY\r\n\t * @todo\r\n\t * @final\r\n\t * @static\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.PARTICLE_FRAGMENT_BODY = (\r\n\t\tStageGL.REGULAR_FRAGMENT_BODY\r\n\t);\r\n\r\n\t/**\r\n\t * Portion of the shader that contains the \"varying\" properties required in both vertex and fragment shaders. The\r\n\t * cover shader is designed to be a simple vertex/uv only texture render that covers the render surface. Shader\r\n\t * code may contain templates that are replaced pre-compile.\r\n\t * @property COVER_VARYING_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_VARYING_HEADER = (\r\n\t\t\"precision mediump float;\" +\r\n\r\n\t\t\"varying highp vec2 vRenderCoord;\" +\r\n\t\t\"varying highp vec2 vTextureCoord;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the vertex shader. Includes the varying header. The cover shader is designed to be a\r\n\t * simple vertex/uv only texture render that covers the render surface. Shader code may contain templates that are\r\n\t * replaced pre-compile.\r\n\t * @property COVER_VERTEX_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_VERTEX_HEADER = (\r\n\t\tStageGL.COVER_VARYING_HEADER +\r\n\t\t\"attribute vec2 vertexPosition;\" +\r\n\t\t\"attribute vec2 uvPosition;\" +\r\n\t\t\"uniform float uUpright;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Actual full header for the fragment shader. Includes the varying header. The cover shader is designed to be a\r\n\t * simple vertex/uv only texture render that covers the render surface. Shader code may contain templates that are\r\n\t * replaced pre-compile.\r\n\t * @property COVER_FRAGMENT_HEADER\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_FRAGMENT_HEADER = (\r\n\t\tStageGL.COVER_VARYING_HEADER +\r\n\t\t\"uniform sampler2D uSampler;\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the vertex shader. The cover shader is designed to be a simple vertex/uv only texture render that covers\r\n\t * the render surface. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property COVER_VERTEX_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_VERTEX_BODY  = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t\"gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);\" +\r\n\t\t\t\"vRenderCoord = uvPosition;\" +\r\n\t\t\t\"vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n\t/**\r\n\t * Body of the fragment shader. The cover shader is designed to be a simple vertex/uv only texture render that\r\n\t * covers the render surface. Shader code may contain templates that are replaced pre-compile.\r\n\t * @property COVER_FRAGMENT_BODY\r\n\t * @static\r\n\t * @final\r\n\t * @type {String}\r\n\t * @readonly\r\n\t */\r\n\tStageGL.COVER_FRAGMENT_BODY = (\r\n\t\t\"void main(void) {\" +\r\n\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\t\t\t\"gl_FragColor = color;\" +\r\n\t\t\"}\"\r\n\t);\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched each update immediately before the canvas is cleared and the display list is drawn to it. You can call\r\n\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} on the event to cancel the draw.\r\n\t * @event drawstart\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched each update immediately after the display list is drawn to the canvas and the canvas context is restored.\r\n\t * @event drawend\r\n\t */\r\n\r\n// getter / setters:\r\n\tp._get_isWebGL = function () {\r\n\t\treturn !!this._webGLContext;\r\n\t};\r\n\r\n\tp._set_autoPurge = function (value) {\r\n\t\tvalue = isNaN(value)?1200:value;\r\n\t\tif (value != -1) {\r\n\t\t\tvalue = value<10?10:value;\r\n\t\t}\r\n\t\tthis._autoPurge = value;\r\n\t};\r\n\tp._get_autoPurge = function () {\r\n\t\treturn Number(this._autoPurge);\r\n\t};\r\n\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\t/**\r\n\t\t\t * Indicates whether WebGL is being used for rendering. For example, this would be `false` if WebGL is not\r\n\t\t\t * supported in the browser.\r\n\t\t\t * @property isWebGL\r\n\t\t\t * @type {Boolean}\r\n\t\t\t * @readonly\r\n\t\t\t */\r\n\t\t\tisWebGL: { get: p._get_isWebGL },\r\n\r\n\t\t\t/**\r\n\t\t\t * Specifies whether or not StageGL is automatically purging unused textures. Higher numbers purge less\r\n\t\t\t * often. Values below 10 are upgraded to 10, and -1 disables this feature.\r\n\t\t\t * @property autoPurge\r\n\t\t\t * @protected\r\n\t\t\t * @type {Integer}\r\n\t\t\t * @default 1000\r\n\t\t\t */\r\n\t\t\tautoPurge: { get: p._get_autoPurge, set: p._set_autoPurge }\r\n\t\t});\r\n\t} catch (e) {} // TODO: use Log\r\n\r\n\r\n// constructor methods:\r\n\t/**\r\n\t * Create and properly initialize the WebGL instance.\r\n\t * @method _initializeWebGL\r\n\t * @protected\r\n\t * @return {WebGLRenderingContext}\r\n\t */\r\n\tp._initializeWebGL = function () {\r\n\t\tif (this.canvas) {\r\n\t\t\tif (!this._webGLContext || this._webGLContext.canvas !== this.canvas) {\r\n\t\t\t\t// A context hasn't been defined yet,\r\n\t\t\t\t// OR the defined context belongs to a different canvas, so reinitialize.\r\n\r\n\t\t\t\t// defaults and options\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\tdepth: false, // Disable the depth buffer as it isn't used.\r\n\t\t\t\t\talpha: this._transparent, // Make the canvas background transparent.\r\n\t\t\t\t\tstencil: true,\r\n\t\t\t\t\tantialias: this._antialias,\r\n\t\t\t\t\tpremultipliedAlpha: this._premultiply, // Assume the drawing buffer contains colors with premultiplied alpha.\r\n\t\t\t\t\tpreserveDrawingBuffer: this._preserveBuffer\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar gl = this._webGLContext = this._fetchWebGLContext(this.canvas, options);\r\n\t\t\t\tif (!gl) { return null; }\r\n\r\n\t\t\t\tthis.updateSimultaneousTextureCount(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));\r\n\t\t\t\tthis._maxTextureSlots = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\r\n\t\t\t\tthis._createBuffers(gl);\r\n\t\t\t\tthis._initTextures(gl);\r\n\r\n\t\t\t\tgl.disable(gl.DEPTH_TEST);\r\n\t\t\t\tgl.enable(gl.BLEND);\r\n\t\t\t\tgl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\r\n\t\t\t\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiply);\r\n\t\t\t\t//gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\r\n\r\n\t\t\t\tthis._webGLContext.clearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a);\r\n\t\t\t\tthis.updateViewport(this._viewportWidth || this.canvas.width, this._viewportHeight || this.canvas.height);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis._webGLContext = null;\r\n\t\t}\r\n\t\treturn this._webGLContext;\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Docced in superclass\r\n\t */\r\n\tp.update = function (props) {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tif (this.autoClear) { this.clear(); }\r\n\r\n\t\tif (this._webGLContext) {\r\n\t\t\t// Use WebGL.\r\n\t\t\tthis._batchDraw(this, this._webGLContext);\r\n\t\t\tif (this._autoPurge != -1 && !(this._drawID%((this._autoPurge/2)|0))) {\r\n\t\t\t\tthis.purgeTextures(this._autoPurge);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Use 2D.\r\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\r\n\t\t\tctx.save();\r\n\t\t\tthis.updateContext(ctx);\r\n\t\t\tthis.draw(ctx, false);\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t};\r\n\r\n\t/**\r\n\t * Docced in superclass\r\n\t */\r\n\tp.clear = function () {\r\n\t\tif (!this.canvas) { return; }\r\n\t\tif (StageGL.isWebGLActive(this._webGLContext)) {\r\n\t\t\tvar gl = this._webGLContext;\r\n\t\t\tvar cc = this._clearColor;\r\n\t\t\tvar adjust = this._transparent ? cc.a : 1.0;\r\n\t\t\t// Use WebGL settings; adjust for pre multiplied alpha appropriate to scenario\r\n\t\t\tthis._webGLContext.clearColor(cc.r * adjust, cc.g * adjust, cc.b * adjust, adjust);\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\tthis._webGLContext.clearColor(cc.r, cc.g, cc.b, cc.a);\r\n\t\t} else {\r\n\t\t\t// Use 2D.\r\n\t\t\tthis.Stage_clear();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the stage into the supplied context if possible. Many WebGL properties only exist on their context. As such\r\n\t * you cannot share contexts among many StageGLs and each context requires a unique StageGL instance. Contexts that\r\n\t * don't match the context managed by this StageGL will be treated as a 2D context.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D | WebGLRenderingContext} context The context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For\r\n\t *  example, used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @return {Boolean} If the draw was handled by this function\r\n\t */\r\n\tp.draw = function (context, ignoreCache) {\r\n\t\tif (context === this._webGLContext && StageGL.isWebGLActive(this._webGLContext)) {\r\n\t\t\tvar gl = this._webGLContext;\r\n\t\t\tthis._batchDraw(this, gl, ignoreCache);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn this.Stage_draw(context, ignoreCache);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the target into the correct context, be it a canvas or Render Texture using WebGL.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method cacheDraw\r\n\t * @param {DisplayObject} target The object we're drawing into cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @param {Array} filters The filters we're drawing into cache.\r\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\r\n\t * @return {Boolean} If the draw was handled by this function\r\n\t */\r\n\tp.cacheDraw = function (target, filters, manager) {\r\n\t\tif (StageGL.isWebGLActive(this._webGLContext)) {\r\n\t\t\tvar gl = this._webGLContext;\r\n\t\t\tthis._cacheDraw(gl, target, filters, manager);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Blocks, or frees a texture \"slot\" on the GPU. Can be useful if you are overflowing textures. When overflowing\r\n\t * textures they are re-uploaded to the GPU every time they're encountered, this can be expensive with large textures.\r\n\t * By blocking the slot you reduce available slots, potentially increasing draw calls, but mostly you prevent a\r\n\t * texture being re-uploaded if it would have moved slots due to overflow.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * For example, block the slot a background image is stored in so there is less re-loading of that image.\r\n\t * @method protectTextureSlot\r\n\t * @param  {Number} id The slot to be affected\r\n\t * @param  {Boolean} [lock=false] Whether this slot is the one being locked.\r\n\t */\r\n\tp.protectTextureSlot = function (id, lock) {\r\n\t\tif (id > this._maxTextureSlots || id < 0) {\r\n\t\t\tthrow \"Slot outside of acceptable range\";\r\n\t\t}\r\n\t\tthis._slotBlacklist[id] = !!lock;\r\n\t};\r\n\r\n\t/**\r\n\t * Render textures can't draw into themselves so any item being used for renderTextures needs two to alternate between.\r\n\t * This function creates, gets, and toggles the render surface between the two.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method getTargetRenderTexture\r\n\t * @param  {DisplayObject} target The object associated with the render textures, usually a cached object.\r\n\t * @param  {Number} w The width to create the texture at.\r\n\t * @param  {Number} h The height to create the texture at.\r\n\t * @return {Objet}\r\n\t * @todo fill in return type\r\n\t */\r\n\tp.getTargetRenderTexture = function (target, w, h) {\r\n\t\tvar result, toggle = false;\r\n\t\tvar gl = this._webGLContext;\r\n\t\tif (target.__lastRT !== undefined && target.__lastRT === target.__rtA) { toggle = true; }\r\n\t\tif (!toggle) {\r\n\t\t\tif (target.__rtA === undefined) {\r\n\t\t\t\ttarget.__rtA = this.getRenderBufferTexture(w, h);\r\n\t\t\t} else {\r\n\t\t\t\tif (w != target.__rtA._width || h != target.__rtA._height) {\r\n\t\t\t\t\tthis.resizeTexture(target.__rtA, w, h);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setTextureParams(gl);\r\n\t\t\t}\r\n\t\t\tresult = target.__rtA;\r\n\t\t} else {\r\n\t\t\tif (target.__rtB === undefined) {\r\n\t\t\t\ttarget.__rtB = this.getRenderBufferTexture(w, h);\r\n\t\t\t} else {\r\n\t\t\t\tif (w != target.__rtB._width || h != target.__rtB._height) {\r\n\t\t\t\t\tthis.resizeTexture(target.__rtB, w, h);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setTextureParams(gl);\r\n\t\t\t}\r\n\t\t\tresult = target.__rtB;\r\n\t\t}\r\n\t\tif (!result) {\r\n\t\t\tthrow \"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances\";\r\n\t\t}\r\n\t\ttarget.__lastRT = result;\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * For every image encountered StageGL registers and tracks it automatically. This tracking can cause memory leaks \r\n\t * if not purged. StageGL, by default, automatically purges them. This does have a cost and may unfortunately find\r\n\t * false positives. This function is for manual management of this memory instead of the automatic system controlled\r\n\t * by the {{#crossLink \"StageGL/autoPurge:property\"}}{{/crossLink}} property.\r\n\t *\r\n\t * This function will recursively remove all textures found on the object, its children, cache, etc. It will uncache \r\n\t * objects and remove any texture it finds REGARDLESS of whether it is currently in use elsewhere. It is up to the\r\n\t * developer to ensure that a texture in use is not removed.\r\n\t *\r\n\t * Textures in use, or to be used again shortly, should not be removed. This is simply for performance reasons.\r\n\t * Removing a texture in use will cause the texture to have to be re-uploaded slowing rendering.\r\n\t * @method releaseTexture\r\n\t * @param  {DisplayObject | Texture | Image | Canvas} item An object that used the texture to be discarded.\r\n\t */\r\n\tp.releaseTexture = function (item) {\r\n\t\tvar i, l;\r\n\t\tif (!item) { return; }\r\n\r\n\t\t// this is a container object\r\n\t\tif (item.children) {\r\n\t\t\tfor (i = 0, l = item.children.length; i < l; i++) {\r\n\t\t\t\tthis.releaseTexture(item.children[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// this has a cache canvas\r\n\t\tif (item.cacheCanvas) {\r\n\t\t\titem.uncache();\r\n\t\t}\r\n\r\n\t\tvar foundImage = undefined;\r\n\t\tif (item._storeID !== undefined) {\r\n\t\t\t// this is a texture itself\r\n\t\t\tif (item === this._textureDictionary[item._storeID]) {\r\n\t\t\t\tthis._killTextureObject(item);\r\n\t\t\t\titem._storeID = undefined;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// this is an image or canvas\r\n\t\t\tfoundImage = item;\r\n\t\t} else if (item._webGLRenderStyle === 2) {\r\n\t\t\t// this is a Bitmap class\r\n\t\t\tfoundImage = item.image;\r\n\t\t} else if (item._webGLRenderStyle === 1) {\r\n\t\t\t// this is a SpriteSheet, we can't tell which image we used from the list easily so remove them all!\r\n\t\t\tfor (i = 0, l = item.spriteSheet._images.length; i < l; i++) {\r\n\t\t\t\tthis.releaseTexture(item.spriteSheet._images[i]);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// did we find anything\r\n\t\tif (foundImage === undefined) {\r\n\t\t\tif (this.vocalDebug) {\r\n\t\t\t\tconsole.log(\"No associated texture found on release\");\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// remove it\r\n\t\tthis._killTextureObject(this._textureDictionary[foundImage._storeID]);\r\n\t\tfoundImage._storeID = undefined;\r\n\t};\r\n\r\n\t/**\r\n\t * Similar to {{#crossLink \"releaseTexture\"}}{{/crossLink}}, but this function differs by searching for textures to\r\n\t * release. It works by assuming that it can purge any texture which was last used more than \"count\" draw calls ago.\r\n\t * Because this process is unaware of the objects and whether they may be used on your stage, false positives can\r\n\t * occur. It is recommended to manually manage your memory with {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}},\r\n\t * however, there are many use cases where this is simpler and error-free. This process is also run by default under\r\n\t * the hood to prevent leaks. To disable it see the {{#crossLink \"StageGL/autoPurge:property\"}}{{/crossLink}} property.\r\n\t * @method purgeTextures\r\n\t * @param {Number} [count=100] How many renders ago the texture was last used\r\n\t */\r\n\tp.purgeTextures = function (count) {\r\n\t\tif (count == undefined){ count = 100; }\r\n\r\n\t\tvar dict = this._textureDictionary;\r\n\t\tvar l = dict.length;\r\n\t\tfor (var i= 0; i<l; i++) {\r\n\t\t\tvar item = dict[i];\r\n\t\t\tif (!item) { continue; }\r\n\t\t\tif (item._drawID + count <= this._drawID) {\t// use draw not batch as draw is more indicative of time\r\n\t\t\t\tthis._killTextureObject(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Try to set the max textures the system can handle. It should default to the hardware maximum, and lower values\r\n\t * may limit performance. Some devices have been known to mis-report their max textures, or you may need a standard\r\n\t * baseline cross devices for testing. Barring the previous suggestions, there is little need to call this function\r\n\t * as the library will automatically try to find the best value.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method updateSimultaneousTextureCount\r\n\t * @param {Number} [count=1] The number of textures intended for simultaneous loading.\r\n\t */\r\n\tp.updateSimultaneousTextureCount = function (count) {\r\n\t\t// TODO: DHG: make sure API works in all instances, may be some issues with buffers etc I haven't foreseen\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar success = false;\r\n\r\n\t\tif (count < 1 || isNaN(count)) { count = 1; }\r\n\t\tthis._batchTextureCount = count;\r\n\r\n\t\twhile (!success) {\r\n\t\t\ttry {\r\n\t\t\t\tthis._activeShader = this._fetchShaderProgram(gl);\r\n\t\t\t\tsuccess = true;\r\n\t\t\t} catch(e) {\r\n\t\t\t\tif (this._batchTextureCount == 1) {\r\n\t\t\t\t\tthrow \"Cannot compile shader \" + e;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._batchTextureCount -= 4;\r\n\t\t\t\tif (this._batchTextureCount < 1) { this._batchTextureCount = 1; }\r\n\r\n\t\t\t\tif (this.vocalDebug) {\r\n\t\t\t\t\tconsole.log(\"Reducing desired texture count due to errors: \" + this._batchTextureCount);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Update the WebGL viewport. Note that this does <strong>not</strong> update the canvas element's width/height, but\r\n\t * the render surface's instead. This is necessary after manually resizing the canvas element on the DOM to avoid a\r\n\t * up/down scaled render.\r\n\t * @method updateViewport\r\n\t * @param {Integer} width The width of the render surface in pixels.\r\n\t * @param {Integer} height The height of the render surface in pixels.\r\n\t */\r\n\tp.updateViewport = function (width, height) {\r\n\t\tthis._viewportWidth = width|0;\r\n\t\tthis._viewportHeight = height|0;\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\tif (gl) {\r\n\t\t\tgl.viewport(0, 0, this._viewportWidth, this._viewportHeight);\r\n\r\n\t\t\t// WebGL works with a -1,1 space on its screen. It also follows Y-Up\r\n\t\t\t// we need to flip the y, scale and then translate the co-ordinates to match this\r\n\t\t\t// additionally we offset into they Y so the polygons are inside the camera's \"clipping\" plane\r\n\t\t\tthis._projectionMatrix = new Float32Array([\r\n\t\t\t\t2 / this._viewportWidth,\t0,\t\t\t\t\t\t\t\t0,\t\t\t\t\t\t\t0,\r\n\t\t\t\t0,\t\t\t\t\t\t\t-2 / this._viewportHeight,\t\t1,\t\t\t\t\t\t\t0,\r\n\t\t\t\t0,\t\t\t\t\t\t\t0,\t\t\t\t\t\t\t\t1,\t\t\t\t\t\t\t0,\r\n\t\t\t\t-1,\t\t\t\t\t\t\t1,\t\t\t\t\t\t\t\t0.1,\t\t\t\t\t\t0\r\n\t\t\t]);\r\n\t\t\t// create the flipped version for use with render texture flipping\r\n\t\t\t// DHG: this would be a slice/clone but some platforms don't offer them for Float32Array\r\n\t\t\tthis._projectionMatrixFlip = new Float32Array([0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0]);\r\n\t\t\tthis._projectionMatrixFlip.set(this._projectionMatrix);\r\n\t\t\tthis._projectionMatrixFlip[5] *= -1;\r\n\t\t\tthis._projectionMatrixFlip[13] *= -1;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Fetches the shader compiled and set up to work with the provided filter/object. The shader is compiled on first\r\n\t * use and returned on subsequent calls.\r\n\t * @method getFilterShader\r\n\t * @param  {Filter|Object} filter The object which will provide the information needed to construct the filter shader.\r\n\t * @return {WebGLProgram}\r\n\t */\r\n\tp.getFilterShader = function (filter) {\r\n\t\tif (!filter) { filter = this; }\r\n\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar targetShader = this._activeShader;\r\n\r\n\t\tif (filter._builtShader) {\r\n\t\t\ttargetShader = filter._builtShader;\r\n\t\t\tif (filter.shaderParamSetup) {\r\n\t\t\t\tgl.useProgram(targetShader);\r\n\t\t\t\tfilter.shaderParamSetup(gl, this, targetShader);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\ttargetShader = this._fetchShaderProgram(\r\n\t\t\t\t\tgl, \"filter\",\r\n\t\t\t\t\tfilter.VTX_SHADER_BODY, filter.FRAG_SHADER_BODY,\r\n\t\t\t\t\tfilter.shaderParamSetup && filter.shaderParamSetup.bind(filter)\r\n\t\t\t\t);\r\n\t\t\t\tfilter._builtShader = targetShader;\r\n\t\t\t\ttargetShader._name = filter.toString();\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole && console.log(\"SHADER SWITCH FAILURE\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn targetShader;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a base texture that has no image or data loaded. Not intended for loading images. It may return `null`\r\n\t * in some error cases, and trying to use a \"null\" texture can cause renders to fail.\r\n\t * @method getBaseTexture\r\n\t * @param  {uint} [w=1] The width of the texture in pixels, defaults to 1\r\n\t * @param  {uint} [h=1] The height of the texture in pixels, defaults to 1\r\n\t */\r\n\tp.getBaseTexture = function (w, h) {\r\n\t\tvar width = Math.ceil(w > 0 ? w : 1) || 1;\r\n\t\tvar height = Math.ceil(h > 0 ? h : 1) || 1;\r\n\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar texture = gl.createTexture();\r\n\t\tthis.resizeTexture(texture, width, height);\r\n\t\tthis.setTextureParams(gl, false);\r\n\r\n\t\treturn texture;\r\n\t};\r\n\r\n\t/**\r\n\t * Resizes a supplied texture element. May generate invalid textures in some error cases such as; when the texture\r\n\t * is too large, when an out of texture memory error occurs, or other error scenarios. Trying to use an invalid texture\r\n\t * can cause renders to hard stop on some devices. Check the WebGL bound texture after running this function.\r\n\t *\r\n\t * NOTE: The supplied texture must have been made with the WebGL \"texImage2D\" function, all default APIs in StageGL\r\n\t * use this, so this note only matters for library developers and plugins.\r\n\t *\r\n\t * @protected\r\n\t * @method resizeTexture\r\n\t * @param  {WebGLTexture} texture The GL Texture to be modified.\r\n\t * @param  {uint} [width=1] The width of the texture in pixels, defaults to 1\r\n\t * @param  {uint} [height=1] The height of the texture in pixels, defaults to 1\r\n\t */\r\n\tp.resizeTexture = function (texture, width,height) {\r\n\t\tvar gl = this._webGLContext;\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\tgl.texImage2D(\r\n\t\t\tgl.TEXTURE_2D,\t\t\t\t// target\r\n\t\t\t0,\t\t\t\t\t\t\t// level of detail\r\n\t\t\tgl.RGBA,\t\t\t\t\t// internal format\r\n\t\t\twidth, height, 0,\t\t\t// width, height, border (only for array/null sourced textures)\r\n\t\t\tgl.RGBA,\t\t\t\t\t// format (match internal format)\r\n\t\t\tgl.UNSIGNED_BYTE,\t\t\t// type of texture(pixel color depth)\r\n\t\t\tnull\t\t\t\t\t\t// image data, we can do null because we're doing array data\r\n\t\t);\r\n\t\ttexture.width = width;\r\n\t\ttexture.height = height;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a base texture (see {{#crossLink \"StageGL/getBaseTexture\"}}{{/crossLink}}) for details. Also includes an\r\n\t * attached and linked render buffer in `texture._frameBuffer`. RenderTextures can be thought of as an internal\r\n\t * canvas on the GPU that can be drawn to.\r\n\t * @method getRenderBufferTexture\r\n\t * @param  {Number} w The width of the texture in pixels.\r\n\t * @param  {Number} h The height of the texture in pixels.\r\n\t * @return {Texture} the basic texture instance with a render buffer property.\r\n\t */\r\n\tp.getRenderBufferTexture = function (w, h) {\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\t// get the texture\r\n\t\tvar renderTexture = this.getBaseTexture(w, h);\r\n\t\tif (!renderTexture) { return null; }\r\n\r\n\t\t// get the frame buffer\r\n\t\tvar frameBuffer = gl.createFramebuffer();\r\n\t\tif (!frameBuffer) { return null; }\r\n\r\n\t\t// set its width and height for spoofing as an image\r\n\t\trenderTexture.width = w;\r\n\t\trenderTexture.height = h;\r\n\r\n\t\t// attach frame buffer to texture and provide cross links to look up each other\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\r\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, renderTexture, 0);\r\n\t\tframeBuffer._renderTexture = renderTexture;\r\n\t\trenderTexture._frameBuffer = frameBuffer;\r\n\r\n\t\t// these keep track of themselves simply to reduce complexity of some lookup code\r\n\t\trenderTexture._storeID = this._textureDictionary.length;\r\n\t\tthis._textureDictionary[renderTexture._storeID] = renderTexture;\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\treturn renderTexture;\r\n\t};\r\n\r\n\t/**\r\n\t * Common utility function used to apply the correct texture processing parameters for the bound texture.\r\n\t * @method setTextureParams\r\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param  {Boolean} [isPOT=false] Marks whether the texture is \"Power of Two\", this may allow better quality AA.\r\n\t */\r\n\tp.setTextureParams = function (gl, isPOT) {\r\n\t\tif (isPOT && this._antialias) {\r\n\t\t\t//non POT linear works in some devices, but performance is NOT good, investigate\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n\t\t} else {\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\t\t}\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\t};\r\n\r\n\t/**\r\n\t * Changes the webGL clear, aka \"background\" color to the provided value. A transparent clear is recommended, as\r\n\t * non-transparent colours may create undesired boxes around some visuals.\r\n\t *\r\n\t * The clear color will also be used for filters and other \"render textures\". The stage background will ignore the\r\n\t * transparency value and display a solid color normally. For the stage to recognize and use transparency it must be\r\n\t * created with the transparent flag set to `true` (see {{#crossLink \"StageGL/constructor\"}}{{/crossLink}})).\r\n\t *\r\n\t * Using \"transparent white\" to demonstrate, the valid data formats are as follows:\r\n\t * <ul>\r\n\t *     <li>\"#FFF\"</li>\r\n\t *     <li>\"#FFFFFF\"</li>\r\n\t *     <li>\"#FFFFFF00\"</li>\r\n\t *     <li>\"rgba(255,255,255,0.0)\"</li>\r\n\t * </ul>\r\n\t * @method setClearColor\r\n\t * @param {String|int} [color=0x00000000] The new color to use as the background\r\n\t */\r\n\tp.setClearColor = function (color) {\r\n\t\tvar r, g, b, a, output;\r\n\r\n\t\tif (typeof color == \"string\") {\r\n\t\t\tif (color.indexOf(\"#\") == 0) {\r\n\t\t\t\tif (color.length == 4) {\r\n\t\t\t\t\tcolor = \"#\" + color.charAt(1)+color.charAt(1) + color.charAt(2)+color.charAt(2) + color.charAt(3)+color.charAt(3)\r\n\t\t\t\t}\r\n\t\t\t\tr = Number(\"0x\"+color.slice(1, 3))/255;\r\n\t\t\t\tg = Number(\"0x\"+color.slice(3, 5))/255;\r\n\t\t\t\tb = Number(\"0x\"+color.slice(5, 7))/255;\r\n\t\t\t\ta = Number(\"0x\"+color.slice(7, 9))/255;\r\n\t\t\t} else if (color.indexOf(\"rgba(\") == 0) {\r\n\t\t\t\toutput = color.slice(5, -1).split(\",\");\r\n\t\t\t\tr = Number(output[0])/255;\r\n\t\t\t\tg = Number(output[1])/255;\r\n\t\t\t\tb = Number(output[2])/255;\r\n\t\t\t\ta = Number(output[3]);\r\n\t\t\t}\r\n\t\t} else {\t// >>> is an unsigned shift which is what we want as 0x80000000 and up are negative values\r\n\t\t\tr = ((color & 0xFF000000) >>> 24)/255;\r\n\t\t\tg = ((color & 0x00FF0000) >>> 16)/255;\r\n\t\t\tb = ((color & 0x0000FF00) >>> 8)/255;\r\n\t\t\ta = (color & 0x000000FF)/255;\r\n\t\t}\r\n\r\n\t\tthis._clearColor.r = r || 0;\r\n\t\tthis._clearColor.g = g || 0;\r\n\t\tthis._clearColor.b = b || 0;\r\n\t\tthis._clearColor.a = a || 0;\r\n\r\n\t\tif (!this._webGLContext) { return; }\r\n\t\tthis._webGLContext.clearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a);\r\n\t};\r\n\r\n\t/**\r\n\t * docced in subclass\r\n\t */\r\n\tp.toString = function () {\r\n\t\treturn \"[StageGL (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * Sets up and returns the WebGL context for the canvas. May return undefined in error scenarios. These can include \r\n\t * situations where the canvas element already has a context, 2D or GL.\r\n\t * @param  {Canvas} canvas The DOM canvas element to attach to\r\n\t * @param  {Object} options The options to be handed into the WebGL object, see WebGL spec\r\n\t * @method _fetchWebGLContext\r\n\t * @protected\r\n\t * @return {WebGLRenderingContext} The WebGL context, may return undefined in error scenarios\r\n\t */\r\n\tp._fetchWebGLContext = function (canvas, options) {\r\n\t\tvar gl;\r\n\r\n\t\ttry {\r\n\t\t\tgl = canvas.getContext(\"webgl\", options) || canvas.getContext(\"experimental-webgl\", options);\r\n\t\t} catch (e) {\r\n\t\t\t// don't do anything in catch, null check will handle it\r\n\t\t}\r\n\r\n\t\tif (!gl) {\r\n\t\t\tvar msg = \"Could not initialize WebGL\";\r\n\t\t\tconsole.error?console.error(msg):console.log(msg);\r\n\t\t} else {\r\n\t\t\tgl.viewportWidth = canvas.width;\r\n\t\t\tgl.viewportHeight = canvas.height;\r\n\t\t}\r\n\r\n\t\treturn gl;\r\n\t};\r\n\r\n\t/**\r\n\t * Create the completed Shader Program from the vertex and fragment shaders. Allows building of custom shaders for\r\n\t * filters. Once compiled, shaders are saved so. If the Shader code requires dynamic alterations re-run this function\r\n\t * to generate a new shader.\r\n\t * @method _fetchShaderProgram\r\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param  {String} [shaderName=\"regular\"] Working values: \"regular\", \"override\", and \"filter\". Which type of shader to build.\r\n\t * Filter and override both accept the custom params. Regular and override have all features. Filter is a special case reduced feature shader meant to be over-ridden.\r\n\t * @param  {String} [customVTX] Extra vertex shader information to replace a regular draw, see \r\n\t * {{#crossLink \"StageGL/COVER_VERTEX_BODY\"}}{{/crossLink}} for default and {{#crossLink \"Filter\"}}{{/crossLink}} for examples.\r\n\t * @param  {String} [customFRAG] Extra fragment shader information to replace a regular draw, see \r\n\t * {{#crossLink \"StageGL/COVER_FRAGMENT_BODY\"}}{{/crossLink}} for default and {{#crossLink \"Filter\"}}{{/crossLink}} for examples.\r\n\t * @param  {Function} [shaderParamSetup] Function to run so custom shader parameters can get applied for the render.\r\n\t * @protected\r\n\t * @return {WebGLProgram} The compiled and linked shader\r\n\t */\r\n\tp._fetchShaderProgram = function (gl, shaderName, customVTX, customFRAG, shaderParamSetup) {\r\n\t\tgl.useProgram(null);\t\t// safety to avoid collisions\r\n\r\n\t\t// build the correct shader string out of the right headers and bodies\r\n\t\tvar targetFrag, targetVtx;\r\n\t\tswitch (shaderName) {\r\n\t\t\tcase \"filter\":\r\n\t\t\t\ttargetVtx = StageGL.COVER_VERTEX_HEADER + (customVTX || StageGL.COVER_VERTEX_BODY);\r\n\t\t\t\ttargetFrag = StageGL.COVER_FRAGMENT_HEADER + (customFRAG || StageGL.COVER_FRAGMENT_BODY);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"particle\": //TODO\r\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + StageGL.PARTICLE_VERTEX_BODY;\r\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + StageGL.PARTICLE_FRAGMENT_BODY;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"override\":\r\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + (customVTX || StageGL.REGULAR_VERTEX_BODY);\r\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + (customFRAG || StageGL.REGULAR_FRAGMENT_BODY);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"regular\":\r\n\t\t\tdefault:\r\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + StageGL.REGULAR_VERTEX_BODY;\r\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + StageGL.REGULAR_FRAGMENT_BODY;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// create the separate vars\r\n\t\tvar vertexShader = this._createShader(gl, gl.VERTEX_SHADER, targetVtx);\r\n\t\tvar fragmentShader = this._createShader(gl, gl.FRAGMENT_SHADER, targetFrag);\r\n\r\n\t\t// link them together\r\n\t\tvar shaderProgram = gl.createProgram();\r\n\t\tgl.attachShader(shaderProgram, vertexShader);\r\n\t\tgl.attachShader(shaderProgram, fragmentShader);\r\n\t\tgl.linkProgram(shaderProgram);\r\n\t\tshaderProgram._type = shaderName;\r\n\r\n\t\t// check compile status\r\n\t\tif (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\r\n\t\t\tgl.useProgram(this._activeShader);\r\n\t\t\tthrow gl.getProgramInfoLog(shaderProgram);\r\n\t\t}\r\n\r\n\t\t// set up the parameters on the shader\r\n\t\tgl.useProgram(shaderProgram);\r\n\t\tswitch (shaderName) {\r\n\t\t\tcase \"filter\":\r\n\t\t\t\t// get the places in memory the shader is stored so we can feed information into them\r\n\t\t\t\t// then save it off on the shader because it's so tied to the shader itself\r\n\t\t\t\tshaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"vertexPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.uvPositionAttribute = gl.getAttribLocation(shaderProgram, \"uvPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.uvPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.samplerUniform = gl.getUniformLocation(shaderProgram, \"uSampler\");\r\n\t\t\t\tgl.uniform1i(shaderProgram.samplerUniform, 0);\r\n\r\n\t\t\t\tshaderProgram.uprightUniform = gl.getUniformLocation(shaderProgram, \"uUpright\");\r\n\t\t\t\tgl.uniform1f(shaderProgram.uprightUniform, 0);\r\n\r\n\t\t\t\t// if there's some custom attributes be sure to hook them up\r\n\t\t\t\tif (shaderParamSetup) {\r\n\t\t\t\t\tshaderParamSetup(gl, this, shaderProgram);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"override\":\r\n\t\t\tcase \"particle\":\r\n\t\t\tcase \"regular\":\r\n\t\t\tdefault:\r\n\t\t\t\t// get the places in memory the shader is stored so we can feed information into them\r\n\t\t\t\t// then save it off on the shader because it's so tied to the shader itself\r\n\t\t\t\tshaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"vertexPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.uvPositionAttribute = gl.getAttribLocation(shaderProgram, \"uvPosition\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.uvPositionAttribute);\r\n\r\n\t\t\t\tshaderProgram.textureIndexAttribute = gl.getAttribLocation(shaderProgram, \"textureIndex\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.textureIndexAttribute);\r\n\r\n\t\t\t\tshaderProgram.alphaAttribute = gl.getAttribLocation(shaderProgram, \"objectAlpha\");\r\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.alphaAttribute);\r\n\r\n\t\t\t\tvar samplers = [];\r\n\t\t\t\tfor (var i = 0; i < this._batchTextureCount; i++) {\r\n\t\t\t\t\tsamplers[i] = i;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tshaderProgram.samplerData = samplers;\r\n\t\t\t\tshaderProgram.samplerUniform = gl.getUniformLocation(shaderProgram, \"uSampler\");\r\n\t\t\t\tgl.uniform1iv(shaderProgram.samplerUniform, samplers);\r\n\r\n\t\t\t\tshaderProgram.pMatrixUniform = gl.getUniformLocation(shaderProgram, \"pMatrix\");\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tgl.useProgram(this._activeShader);\r\n\t\treturn shaderProgram;\r\n\t};\r\n\r\n\t/**\r\n\t * Creates a shader from the specified string replacing templates. Template items are defined via `{{` `key` `}}``.\r\n\t * @method _createShader\r\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param  {Number} type The type of shader to create. gl.VERTEX_SHADER | gl.FRAGMENT_SHADER\r\n\t * @param  {String} str The definition for the shader.\r\n\t * @return {WebGLShader}\r\n\t * @protected\r\n\t */\r\n\tp._createShader = function (gl, type, str) {\r\n\t\t// inject the static number\r\n\t\tstr = str.replace(/{{count}}/g, this._batchTextureCount);\r\n\r\n\t\t// resolve issue with no dynamic samplers by creating correct samplers in if else chain\r\n\t\t// TODO: WebGL 2.0 does not need this support\r\n\t\tvar insert = \"\";\r\n\t\tfor (var i = 1; i<this._batchTextureCount; i++) {\r\n\t\t\tinsert += \"} else if (indexPicker <= \"+ i +\".5) { color = texture2D(uSampler[\"+ i +\"], vTextureCoord);\";\r\n\t\t}\r\n\t\tstr = str.replace(/{{alternates}}/g, insert);\r\n\t\tstr = str.replace(/{{fragColor}}/g, this._premultiply ? StageGL.REGULAR_FRAG_COLOR_PREMULTIPLY : StageGL.REGULAR_FRAG_COLOR_NORMAL);\r\n\r\n\t\t// actually compile the shader\r\n\t\tvar shader = gl.createShader(type);\r\n\t\tgl.shaderSource(shader, str);\r\n\t\tgl.compileShader(shader);\r\n\r\n\t\t// check compile status\r\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t\tthrow gl.getShaderInfoLog(shader);\r\n\t\t}\r\n\r\n\t\treturn shader;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets up the necessary vertex property buffers, including position and U/V.\r\n\t * @method _createBuffers\r\n\t * @param {WebGLRenderingContext} gl\r\n\t * @protected\r\n\t */\r\n\tp._createBuffers = function (gl) {\r\n\t\tvar groupCount = this._maxCardsPerBatch * StageGL.INDICIES_PER_CARD;\r\n\t\tvar groupSize, i, l;\r\n\r\n\t\t// INFO:\r\n\t\t// all buffers are created using this pattern\r\n\t\t// create a WebGL buffer\r\n\t\t// attach it to context\r\n\t\t// figure out how many parts it has to an entry\r\n\t\t// fill it with empty data to reserve the memory\r\n\t\t// attach the empty data to the GPU\r\n\t\t// track the sizes on the buffer object\r\n\r\n\t\t// INFO:\r\n\t\t// a single buffer may be optimal in some situations and would be approached like this,\r\n\t\t// currently not implemented due to lack of need and potential complications with drawCover\r\n\r\n\t\t// var vertexBuffer = this._vertexBuffer = gl.createBuffer();\r\n\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n\t\t// groupSize = 2 + 2 + 1 + 1; //x/y, u/v, index, alpha\r\n\t\t// var vertexData = this._vertexData = new Float32Array(groupCount * groupSize);\r\n\t\t// for (i=0; i<vertexData.length; i+=groupSize) {\r\n\t\t// \tvertexData[i+0] = vertexData[i+1] = 0;\r\n\t\t// \tvertexData[i+2] = vertexData[i+3] = 0.5;\r\n\t\t// \tvertexData[i+4] = 0;\r\n\t\t// \tvertexData[i+5] = 1;\r\n\t\t// }\r\n\t\t// vertexBuffer.itemSize = groupSize;\r\n\t\t// vertexBuffer.numItems = groupCount;\r\n\t\t// TODO bechmark and test using unified buffer\r\n\r\n\t\t// the actual position information\r\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\r\n\t\tgroupSize = 2;\r\n\t\tvar vertices = this._vertices = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=vertices.length; i<l; i+=groupSize) { vertices[i] = vertices[i+1] = 0; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, vertices, gl.DYNAMIC_DRAW);\r\n\t\tvertexPositionBuffer.itemSize = groupSize;\r\n\t\tvertexPositionBuffer.numItems = groupCount;\r\n\r\n\t\t// where on the texture it gets its information\r\n\t\tvar uvPositionBuffer = this._uvPositionBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\r\n\t\tgroupSize = 2;\r\n\t\tvar uvs = this._uvs = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=uvs.length; i<l; i+=groupSize) { uvs[i] = uvs[i+1] = 0; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, uvs, gl.DYNAMIC_DRAW);\r\n\t\tuvPositionBuffer.itemSize = groupSize;\r\n\t\tuvPositionBuffer.numItems = groupCount;\r\n\r\n\t\t// what texture it should use\r\n\t\tvar textureIndexBuffer = this._textureIndexBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, textureIndexBuffer);\r\n\t\tgroupSize = 1;\r\n\t\tvar indices = this._indices = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=indices.length; i<l; i++) { indices[i] = 0; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, indices, gl.DYNAMIC_DRAW);\r\n\t\ttextureIndexBuffer.itemSize = groupSize;\r\n\t\ttextureIndexBuffer.numItems = groupCount;\r\n\r\n\t\t// what alpha it should have\r\n\t\tvar alphaBuffer = this._alphaBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, alphaBuffer);\r\n\t\tgroupSize = 1;\r\n\t\tvar alphas = this._alphas = new Float32Array(groupCount * groupSize);\r\n\t\tfor (i=0, l=alphas.length; i<l; i++) { alphas[i] = 1; }\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, alphas, gl.DYNAMIC_DRAW);\r\n\t\talphaBuffer.itemSize = groupSize;\r\n\t\talphaBuffer.numItems = groupCount;\r\n\t};\r\n\r\n\t/**\r\n\t * Do all the setup steps for textures in the system.\r\n\t * @method _initTextures\r\n\t * @protected\r\n\t */\r\n\tp._initTextures = function () {\r\n\t\t//TODO: DHG: add a cleanup routine in here in case this happens mid stream\r\n\r\n\t\t// reset counters\r\n\t\tthis._lastTextureInsert = -1;\r\n\r\n\t\t// clear containers\r\n\t\tthis._textureDictionary = [];\r\n\t\tthis._textureIDs = {};\r\n\t\tthis._baseTextures = [];\r\n\t\tthis._batchTextures = [];\r\n\r\n\t\t// fill in blanks as it helps the renderer be stable while textures are loading and reduces need for safety code\r\n\t\tfor (var i=0; i<this._batchTextureCount;i++) {\r\n\t\t\tvar tex = this.getBaseTexture();\r\n\t\t\tthis._baseTextures[i] = this._batchTextures[i] = tex;\r\n\t\t\tif (!tex) {\r\n\t\t\t\tthrow \"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances\";\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Load a specific texture, accounting for potential delay, as it might not be preloaded.\r\n\t * @method _loadTextureImage\r\n\t * @param {WebGLRenderingContext} gl\r\n\t * @param {Image} image Actual image to be loaded\r\n\t * @return {WebGLTexture} The resulting Texture object\r\n\t * @protected\r\n\t */\r\n\tp._loadTextureImage = function (gl, image) {\r\n\t\tvar src = image.src;\r\n\r\n\t\tif (!src) {\r\n\t\t\t// one time canvas property setup\r\n\t\t\timage._isCanvas = true;\r\n\t\t\tsrc = image.src = \"canvas_\" + this._lastTrackedCanvas++;\r\n\t\t}\r\n\r\n\t\t// put the texture into our storage system\r\n\t\tvar storeID = this._textureIDs[src];\r\n\t\tif (storeID === undefined) {\r\n\t\t\tstoreID = this._textureIDs[src] = this._textureDictionary.length;\r\n\t\t}\r\n\t\tif (this._textureDictionary[storeID] === undefined) {\r\n\t\t\tthis._textureDictionary[storeID] = this.getBaseTexture();\r\n\t\t}\r\n\r\n\t\tvar texture = this._textureDictionary[storeID];\r\n\r\n\t\tif (texture) {\r\n\t\t\t// get texture params all set up\r\n\t\t\ttexture._batchID = this._batchID;\r\n\t\t\ttexture._storeID = storeID;\r\n\t\t\ttexture._imageData = image;\r\n\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\r\n\t\t\t// get the data into the texture or wait for it to load\r\n\t\t\timage._storeID = storeID;\r\n\t\t\tif (image.complete || image.naturalWidth || image._isCanvas) {\t// is it already loaded\r\n\t\t\t\tthis._updateTextureImageData(gl, image);\r\n\t\t\t} else  {\r\n\t\t\t\timage.addEventListener(\"load\", this._updateTextureImageData.bind(this, gl, image));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// we really really should have a texture, try to recover the error by using a saved empty texture so we don't crash\r\n\t\t\tvar msg = \"Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances\";\r\n\t\t\t(console.error && console.error(msg)) || console.log(msg);\r\n\r\n\t\t\ttexture = this._baseTextures[0];\r\n\t\t\ttexture._batchID = this._batchID;\r\n\t\t\ttexture._storeID = -1;\r\n\t\t\ttexture._imageData = texture;\r\n\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\t};\r\n\r\n\t/**\r\n\t * Necessary to upload the actual image data to the GPU. Without this the texture will be blank. Called automatically\r\n\t * in most cases due to loading and caching APIs. Flagging an image source with `_invalid = true` will trigger this\r\n\t * next time the image is rendered.\r\n\t * @param {WebGLRenderingContext} gl\r\n\t * @param {Image | Canvas} image The image data to be uploaded\r\n\t * @protected\r\n\t */\r\n\tp._updateTextureImageData = function (gl, image) {\r\n\t\t// the bitwise & is intentional, cheap exponent 2 check\r\n\t\tvar isNPOT = (image.width & image.width-1) || (image.height & image.height-1);\r\n\t\tvar texture = this._textureDictionary[image._storeID];\r\n\r\n\t\tgl.activeTexture(gl.TEXTURE0 + texture._activeIndex);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n\t\ttexture.isPOT = !isNPOT;\r\n\t\tthis.setTextureParams(gl, texture.isPOT);\r\n\r\n\t\ttry {\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\t\t} catch(e) {\r\n\t\t\tvar errString = \"\\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins\";\r\n\t\t\tif(console.error) {\r\n\t\t\t\t//TODO: LM: I recommend putting this into a log function internally, since you do it so often, and each is implemented differently.\r\n\t\t\t\tconsole.error(errString);\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t} else if (console) {\r\n\t\t\t\tconsole.log(errString);\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\timage._invalid = false;\r\n\r\n\t\ttexture._w = image.width;\r\n\t\ttexture._h = image.height;\r\n\r\n\t\tif (this.vocalDebug) {\r\n\t\t\tif (isNPOT) {\r\n\t\t\t\tconsole.warn(\"NPOT(Non Power of Two) Texture: \"+ image.src);\r\n\t\t\t}\r\n\t\t\tif (image.width > gl.MAX_TEXTURE_SIZE || image.height > gl.MAX_TEXTURE_SIZE){\r\n\t\t\t\tconsole && console.error(\"Oversized Texture: \"+ image.width+\"x\"+image.height +\" vs \"+ gl.MAX_TEXTURE_SIZE +\"max\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Adds the texture to a spot in the current batch, forcing a draw if no spots are free.\r\n\t * @method _insertTextureInBatch\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {WebGLTexture} texture The texture to be inserted.\r\n\t * @protected\r\n\t */\r\n\tp._insertTextureInBatch = function (gl, texture) {\r\n\t\t// if it wasn't used last batch\r\n\t\tif (this._batchTextures[texture._activeIndex] !== texture) {\r\n\t\t\t// we've got to find it a a spot.\r\n\t\t\tvar found = -1;\r\n\t\t\tvar start = (this._lastTextureInsert+1) % this._batchTextureCount;\r\n\t\t\tvar look = start;\r\n\t\t\tdo {\r\n\t\t\t\tif (this._batchTextures[look]._batchID != this._batchID && !this._slotBlacklist[look]) {\r\n\t\t\t\t\tfound = look;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlook = (look+1) % this._batchTextureCount;\r\n\t\t\t} while (look !== start);\r\n\r\n\t\t\t// we couldn't find anywhere for it go, meaning we're maxed out\r\n\t\t\tif (found === -1) {\r\n\t\t\t\tthis.batchReason = \"textureOverflow\";\r\n\t\t\t\tthis._drawBuffers(gl);\t\t// <------------------------------------------------------------------------\r\n\t\t\t\tthis.batchCardCount = 0;\r\n\t\t\t\tfound = start;\r\n\t\t\t}\r\n\r\n\t\t\t// lets put it into that spot\r\n\t\t\tthis._batchTextures[found] = texture;\r\n\t\t\ttexture._activeIndex = found;\r\n\t\t\tvar image = texture._imageData;\r\n\t\t\tif (image && image._invalid && texture._drawID !== undefined) {\r\n\t\t\t\tthis._updateTextureImageData(gl, image);\r\n\t\t\t} else {\r\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + found);\r\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\t\t\tthis.setTextureParams(gl);\r\n\t\t\t}\r\n\t\t\tthis._lastTextureInsert = found;\r\n\t\t} else {\r\n\t\t\tvar image = texture._imageData;\r\n\t\t\tif (texture._storeID != undefined && image && image._invalid) {\r\n\t\t\t\tthis._updateTextureImageData(gl, image);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttexture._drawID = this._drawID;\r\n\t\ttexture._batchID = this._batchID;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove and clean the texture, expects a texture and is inflexible. Mostly for internal use, recommended to call \r\n\t * {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}} instead as it will call this with the correct texture object(s).\r\n\t * Note: Testing shows this may not happen immediately, have to wait frames for WebGL to have actually adjust memory.\r\n\t * @method _killTextureObject\r\n\t * @param {Texture} tex The texture to be cleaned out\r\n\t * @protected\r\n\t */\r\n\tp._killTextureObject = function (tex) {\r\n\t\tif (!tex) { return; }\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\t// remove linkage\r\n\t\tif (tex._storeID !== undefined && tex._storeID >= 0) {\r\n\t\t\tthis._textureDictionary[tex._storeID] = undefined;\r\n\t\t\tfor (var n in this._textureIDs) {\r\n\t\t\t\tif (this._textureIDs[n] == tex._storeID) { delete this._textureIDs[n]; }\r\n\t\t\t}\r\n\t\t\tif(tex._imageData) { tex._imageData._storeID = undefined; }\r\n\t\t\ttex._imageData = tex._storeID = undefined;\r\n\t\t}\r\n\r\n\t\t// make sure to drop it out of an active slot\r\n\t\tif (tex._activeIndex !== undefined && this._batchTextures[tex._activeIndex] === tex) {\r\n\t\t\tthis._batchTextures[tex._activeIndex] = this._baseTextures[tex._activeIndex];\r\n\t\t}\r\n\r\n\t\t// remove buffers if present\r\n\t\ttry {\r\n\t\t\tif (tex._frameBuffer) { gl.deleteFramebuffer(tex._frameBuffer); }\r\n\t\t\ttex._frameBuffer = undefined;\r\n\t\t} catch(e) {\r\n\t\t\t/* suppress delete errors because it's already gone or didn't need deleting probably */\r\n\t\t\tif (this.vocalDebug) { console.log(e); }\r\n\t\t}\r\n\r\n\t\t// remove entry\r\n\t\ttry {\r\n\t\t\tgl.deleteTexture(tex);\r\n\t\t} catch(e) {\r\n\t\t\t/* suppress delete errors because it's already gone or didn't need deleting probably */\r\n\t\t\tif (this.vocalDebug) { console.log(e); }\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Store or restore current batch textures into a backup array\r\n\t * @method _backupBatchTextures\r\n\t * @param {Boolean} restore Perform a restore instead of a store.\r\n\t * @param {Array} [target=this._backupTextures] Where to perform the backup, defaults to internal backup.\r\n\t * @protected\r\n\t */\r\n\tp._backupBatchTextures = function (restore, target) {\r\n\t\tvar gl = this._webGLContext;\r\n\r\n\t\tif (!this._backupTextures) { this._backupTextures = []; }\r\n\t\tif (target === undefined) { target = this._backupTextures; }\r\n\r\n\t\tfor (var i=0; i<this._batchTextureCount; i++) {\r\n\t\t\tgl.activeTexture(gl.TEXTURE0 + i);\r\n\t\t\tif (restore) {\r\n\t\t\t\tthis._batchTextures[i] = target[i];\r\n\t\t\t} else {\r\n\t\t\t\ttarget[i] = this._batchTextures[i];\r\n\t\t\t\tthis._batchTextures[i] = this._baseTextures[i];\r\n\t\t\t}\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this._batchTextures[i]);\r\n\t\t\tthis.setTextureParams(gl, this._batchTextures[i].isPOT);\r\n\t\t}\r\n\r\n\t\tif (restore && target === this._backupTextures) { this._backupTextures = []; }\r\n\t};\r\n\r\n\t/**\r\n\t * Begin the drawing process for a regular render.\r\n\t * @method _batchDraw\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {Stage || Container} sceneGraph {{#crossLink \"Container\"}}{{/crossLink}} object with all that needs to rendered, preferably a Stage.\r\n\t * @param {Boolean} ignoreCache\r\n\t * @protected\r\n\t */\r\n\tp._batchDraw = function (sceneGraph, gl, ignoreCache) {\r\n\t\tif (this._isDrawing > 0) {\r\n\t\t\tthis._drawBuffers(gl);\r\n\t\t}\r\n\t\tthis._isDrawing++;\r\n\t\tthis._drawID++;\r\n\r\n\t\tthis.batchCardCount = 0;\r\n\t\tthis.depth = 0;\r\n\r\n\t\tthis._appendToBatchGroup(sceneGraph, gl, new createjs.Matrix2D(), this.alpha, ignoreCache);\r\n\r\n\t\tthis.batchReason = \"drawFinish\";\r\n\t\tthis._drawBuffers(gl);\t\t\t\t\t\t\t\t// <--------------------------------------------------------\r\n\t\tthis._isDrawing--;\r\n\t};\r\n\r\n\t/**\r\n\t * Perform the drawing process to fill a specific cache texture, including applying filters.\r\n\t * @method _cacheDraw\r\n\t * @param {DisplayObject} target The object we're drawing into the cache. For example, used for drawing the cache\r\n\t * (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @param {Array} filters The filters we're drawing into cache.\r\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\r\n\t * @protected\r\n\t */\r\n\tp._cacheDraw = function (gl, target, filters, manager) {\r\n\t\t/*\r\n\t\tImplicitly there are 4 modes to this function: filtered-sameContext, filtered-uniqueContext, sameContext, uniqueContext.\r\n\t\tEach situation must be handled slightly differently as 'sameContext' or 'uniqueContext' define how the output works,\r\n\t\tone drawing directly into the main context and the other drawing into a stored renderTexture respectively.\r\n\t\tWhen the draw is a 'filtered' draw, the filters are applied sequentially and will draw into saved textures repeatedly.\r\n\t\tOnce the final filter is done the final output is treated depending upon whether it is a same or unique context.\r\n\t\tThe internal complexity comes from reducing over-draw, shared code, and issues like textures needing to be flipped\r\n\t\tsometimes when written to render textures.\r\n\t\t*/\r\n\t\tvar renderTexture;\r\n\t\tvar shaderBackup = this._activeShader;\r\n\t\tvar blackListBackup = this._slotBlacklist;\r\n\t\tvar lastTextureSlot = this._maxTextureSlots-1;\r\n\t\tvar wBackup = this._viewportWidth, hBackup = this._viewportHeight;\r\n\r\n\t\t// protect the last slot so that we have somewhere to bind the renderTextures so it doesn't get upset\r\n\t\tthis.protectTextureSlot(lastTextureSlot, true);\r\n\r\n\t\t// create offset container for drawing item\r\n\t\tvar mtx = target.getMatrix();\r\n\t\tmtx = mtx.clone();\r\n\t\tmtx.scale(1/manager.scale, 1/manager.scale);\r\n\t\tmtx = mtx.invert();\r\n\t\tmtx.translate(-manager.offX/manager.scale*target.scaleX, -manager.offY/manager.scale*target.scaleY);\r\n\t\tvar container = this._cacheContainer;\r\n\t\tcontainer.children = [target];\r\n\t\tcontainer.transformMatrix = mtx;\r\n\r\n\t\tthis._backupBatchTextures(false);\r\n\r\n\t\tif (filters && filters.length) {\r\n\t\t\tthis._drawFilters(target, filters, manager);\r\n\t\t} else {\r\n\t\t\t// is this for another stage or mine?\r\n\t\t\tif (this.isCacheControlled) {\r\n\t\t\t\t// draw item to canvas\t\t\t\tI -> C\r\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\t\tthis._batchDraw(container, gl, true);\r\n\t\t\t} else {\r\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\t\t\ttarget.cacheCanvas = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\t\t\t\trenderTexture = target.cacheCanvas;\r\n\r\n\t\t\t\t// draw item to render texture\t\tI -> T\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\t\t\t\tthis.updateViewport(manager._drawWidth, manager._drawHeight);\r\n\t\t\t\tthis._projectionMatrix = this._projectionMatrixFlip;\r\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\t\tthis._batchDraw(container, gl, true);\r\n\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\t\tthis.updateViewport(wBackup, hBackup);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._backupBatchTextures(true);\r\n\r\n\t\tthis.protectTextureSlot(lastTextureSlot, false);\r\n\t\tthis._activeShader = shaderBackup;\r\n\t\tthis._slotBlacklist = blackListBackup;\r\n\t};\r\n\r\n\t/**\r\n\t * Sub portion of _cacheDraw, split off for readability. Do not call independently.\r\n\t * @method _drawFilters\r\n\t * @param {DisplayObject} target The object we're drawing with a filter.\r\n\t * @param {Array} filters The filters we're drawing into cache.\r\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\r\n\t */\r\n\tp._drawFilters = function (target, filters, manager) {\r\n\t\tvar gl = this._webGLContext;\r\n\t\tvar renderTexture;\r\n\t\tvar lastTextureSlot = this._maxTextureSlots-1;\r\n\t\tvar wBackup = this._viewportWidth, hBackup = this._viewportHeight;\r\n\r\n\t\tvar container = this._cacheContainer;\r\n\t\tvar filterCount = filters.length;\r\n\r\n\t\t// we don't know which texture slot we're dealing with previously and we need one out of the way\r\n\t\t// once we're using that slot activate it so when we make and bind our RenderTexture it's safe there\r\n\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\r\n\t\t// draw item to render texture\t\tI -> T\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\t\tthis.updateViewport(manager._drawWidth, manager._drawHeight);\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\tthis._batchDraw(container, gl, true);\r\n\r\n\t\t// bind the result texture to slot 0 as all filters and cover draws assume original content is in slot 0\r\n\t\tgl.activeTexture(gl.TEXTURE0);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, renderTexture);\r\n\t\tthis.setTextureParams(gl);\r\n\r\n\t\tvar flipY = false;\r\n\t\tvar i = 0, filter = filters[i];\r\n\t\tdo { // this is safe because we wouldn't be in apply filters without a filter count of at least 1\r\n\r\n\t\t\t// swap to correct shader\r\n\t\t\tthis._activeShader = this.getFilterShader(filter);\r\n\t\t\tif (!this._activeShader) { continue; }\r\n\r\n\t\t\t// now the old result is stored in slot 0, make a new render texture\r\n\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\r\n\t\t\t// draw result to render texture\tR -> T\r\n\t\t\tgl.viewport(0, 0, manager._drawWidth, manager._drawHeight);\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\tthis._drawCover(gl, flipY);\r\n\r\n\t\t\t// bind the result texture to slot 0 as all filters and cover draws assume original content is in slot 0\r\n\t\t\tgl.activeTexture(gl.TEXTURE0);\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, renderTexture);\r\n\t\t\tthis.setTextureParams(gl);\r\n\r\n\t\t\t// use flipping to keep things upright, things already cancel out on a single filter\r\n\t\t\t// this needs to be here as multiPass is not accurate to _this_ frame until after shader acquisition\r\n\t\t\tif (filterCount > 1 || filters[0]._multiPass) {\r\n\t\t\t\tflipY = !flipY;\r\n\t\t\t}\r\n\r\n\t\t\t// work through the multipass if it's there, otherwise move on\r\n\t\t\tfilter = filter._multiPass !== null ? filter._multiPass : filters[++i];\r\n\t\t} while (filter);\r\n\r\n\t\t// is this for another stage or mine\r\n\t\tif (this.isCacheControlled) {\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\tthis.updateViewport(wBackup, hBackup);\r\n\r\n\t\t\t// draw result to canvas\t\t\tR -> C\r\n\t\t\tthis._activeShader = this.getFilterShader(this);\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\tthis._drawCover(gl, flipY);\r\n\t\t} else {\r\n\t\t\t//TODO: DHG: this is less than ideal. A flipped initial render for this circumstance might help. Adjust the perspective matrix?\r\n\t\t\tif (flipY) {\r\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\r\n\t\t\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\r\n\r\n\t\t\t\tthis._activeShader = this.getFilterShader(this);\r\n\t\t\t\tgl.viewport(0, 0, manager._drawWidth, manager._drawHeight);\r\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\t\t\tthis._drawCover(gl, !flipY);\r\n\t\t\t}\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\tthis.updateViewport(wBackup, hBackup);\r\n\r\n\t\t\t// make sure the last texture is the active thing to draw\r\n\t\t\ttarget.cacheCanvas = renderTexture;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Add all the contents of a container to the pending buffers, called recursively on each container. This may\r\n\t * trigger a draw if a buffer runs out of space. This is the main workforce of the render loop.\r\n\t * @method _appendToBatchGroup\r\n\t * @param {Container} container The {{#crossLink \"Container\"}}{{/crossLink}} that contains everything to be drawn.\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {Matrix2D} concatMtx The effective (concatenated) transformation matrix when beginning this container\r\n\t * @param {Number} concatAlpha The effective (concatenated) alpha when beginning this container\r\n\t * @param {Boolean} ignoreCache Don't use an element's cache during this draw\r\n\t * @protected\r\n\t */\r\n\tp._appendToBatchGroup = function (container, gl, concatMtx, concatAlpha, ignoreCache) {\r\n\t\t// sort out shared properties\r\n\t\tif (!container._glMtx) { container._glMtx = new createjs.Matrix2D(); }\r\n\t\tvar cMtx = container._glMtx;\r\n\t\tcMtx.copy(concatMtx);\r\n\t\tif (container.transformMatrix) {\r\n\t\t\tcMtx.appendMatrix(container.transformMatrix);\r\n\t\t} else {\r\n\t\t\tcMtx.appendTransform(\r\n\t\t\t\tcontainer.x, container.y,\r\n\t\t\t\tcontainer.scaleX, container.scaleY,\r\n\t\t\t\tcontainer.rotation, container.skewX, container.skewY,\r\n\t\t\t\tcontainer.regX, container.regY\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// sub components of figuring out the position an object holds\r\n\t\tvar subL, subT, subR, subB;\r\n\r\n\t\t// actually apply its data to the buffers\r\n\t\tvar l = container.children.length;\r\n\t\tfor (var i = 0; i < l; i++) {\r\n\t\t\tvar item = container.children[i];\r\n\r\n\t\t\tif (!(item.visible && concatAlpha)) { continue; }\r\n\t\t\tif (!item.cacheCanvas || ignoreCache) {\r\n\t\t\t\tif (item._updateState){\r\n\t\t\t\t\titem._updateState();\r\n\t\t\t\t}\r\n\t\t\t\tif (item.children) {\r\n\t\t\t\t\tthis._appendToBatchGroup(item, gl, cMtx, item.alpha * concatAlpha);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// check for overflowing batch, if yes then force a render\r\n\t\t\t// TODO: DHG: consider making this polygon count dependant for things like vector draws\r\n\t\t\tif (this.batchCardCount+1 > this._maxCardsPerBatch) {\r\n\t\t\t\tthis.batchReason = \"vertexOverflow\";\r\n\t\t\t\tthis._drawBuffers(gl);\t\t\t\t\t// <------------------------------------------------------------\r\n\t\t\t\tthis.batchCardCount = 0;\r\n\t\t\t}\r\n\r\n\t\t\t// keep track of concatenated position\r\n\t\t\tif (!item._glMtx) { item._glMtx = new createjs.Matrix2D(); }\r\n\t\t\tvar iMtx = item._glMtx;\r\n\t\t\tiMtx.copy(cMtx);\r\n\t\t\tif (item.transformMatrix) {\r\n\t\t\t\tiMtx.appendMatrix(item.transformMatrix);\r\n\t\t\t} else {\r\n\t\t\t\tiMtx.appendTransform(\r\n\t\t\t\t\titem.x, item.y,\r\n\t\t\t\t\titem.scaleX, item.scaleY,\r\n\t\t\t\t\titem.rotation, item.skewX, item.skewY,\r\n\t\t\t\t\titem.regX, item.regY\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tvar uvRect, texIndex, image, frame, texture, src;\r\n\t\t\tvar useCache = item.cacheCanvas && !ignoreCache;\r\n\r\n\t\t\tif (item._webGLRenderStyle === 2 || useCache) {\t\t\t// BITMAP / Cached Canvas\r\n\t\t\t\timage = (ignoreCache?false:item.cacheCanvas) || item.image;\r\n\t\t\t} else if (item._webGLRenderStyle === 1) {\t\t\t\t\t\t\t\t\t\t\t// SPRITE\r\n\t\t\t\tframe = item.spriteSheet.getFrame(item.currentFrame);\t//TODO: Faster way?\r\n\t\t\t\tif (frame === null) { continue; }\r\n\t\t\t\timage = frame.image;\r\n\t\t\t} else {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// MISC (DOM objects render themselves later)\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar uvs = this._uvs;\r\n\t\t\tvar vertices = this._vertices;\r\n\t\t\tvar texI = this._indices;\r\n\t\t\tvar alphas = this._alphas;\r\n\r\n\t\t\t// calculate texture\r\n\t\t\tif (!image) { continue; }\r\n\t\t\tif (image._storeID === undefined) {\r\n\t\t\t\t// this texture is new to us so load it and add it to the batch\r\n\t\t\t\ttexture = this._loadTextureImage(gl, image);\r\n\t\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\t\t\t} else {\r\n\t\t\t\t// fetch the texture (render textures know how to look themselves up to simplify this logic)\r\n\t\t\t\ttexture = this._textureDictionary[image._storeID];\r\n\t\t\t\tif (!texture){\r\n\t\t\t\t\tif (this.vocalDebug){ console.log(\"Texture should not be looked up while not being stored.\"); }\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// put it in the batch if needed\r\n\t\t\t\tif (texture._batchID !== this._batchID) {\r\n\t\t\t\t\tthis._insertTextureInBatch(gl, texture);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttexIndex = texture._activeIndex;\r\n\r\n\t\t\tif (item._webGLRenderStyle === 2 || useCache) {\t\t\t// BITMAP / Cached Canvas\r\n\t\t\t\tif (!useCache && item.sourceRect) {\r\n\t\t\t\t\t// calculate uvs\r\n\t\t\t\t\tif (!item._uvRect) { item._uvRect = {}; }\r\n\t\t\t\t\tsrc = item.sourceRect;\r\n\t\t\t\t\tuvRect = item._uvRect;\r\n\t\t\t\t\tuvRect.t = (src.y)/image.height;\r\n\t\t\t\t\tuvRect.l = (src.x)/image.width;\r\n\t\t\t\t\tuvRect.b = (src.y + src.height)/image.height;\r\n\t\t\t\t\tuvRect.r = (src.x + src.width)/image.width;\r\n\r\n\t\t\t\t\t// calculate vertices\r\n\t\t\t\t\tsubL = 0;\t\t\t\t\t\t\tsubT = 0;\r\n\t\t\t\t\tsubR = src.width+subL;\t\t\t\tsubB = src.height+subT;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// calculate uvs\r\n\t\t\t\t\tuvRect = StageGL.UV_RECT;\r\n\t\t\t\t\t// calculate vertices\r\n\t\t\t\t\tif (useCache) {\r\n\t\t\t\t\t\tsrc = item.bitmapCache;\r\n\t\t\t\t\t\tsubL = src.x+(src._filterOffX/src.scale);\tsubT = src.y+(src._filterOffY/src.scale);\r\n\t\t\t\t\t\tsubR = (src._drawWidth/src.scale)+subL;\t\tsubB = (src._drawHeight/src.scale)+subT;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsubL = 0;\t\t\t\t\t\tsubT = 0;\r\n\t\t\t\t\t\tsubR = image.width+subL;\t\tsubB = image.height+subT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (item._webGLRenderStyle === 1) {\t\t\t\t\t\t\t\t\t\t\t// SPRITE\r\n\t\t\t\tvar rect = frame.rect;\r\n\r\n\t\t\t\t// calculate uvs\r\n\t\t\t\tuvRect = frame.uvRect;\r\n\t\t\t\tif (!uvRect) {\r\n\t\t\t\t\tuvRect = StageGL.buildUVRects(item.spriteSheet, item.currentFrame, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// calculate vertices\r\n\t\t\t\tsubL = -frame.regX;\t\t\t\t\t\t\t\tsubT = -frame.regY;\r\n\t\t\t\tsubR = rect.width-frame.regX;\t\t\t\t\tsubB = rect.height-frame.regY;\r\n\t\t\t}\r\n\r\n\t\t\t// These must be calculated here else a forced draw might happen after they're set\r\n\t\t\tvar offV1 = this.batchCardCount*StageGL.INDICIES_PER_CARD;\t\t// offset for 1 component vectors\r\n\t\t\tvar offV2 = offV1*2;\t\t\t\t\t\t\t\t\t\t\t// offset for 2 component vectors\r\n\r\n\t\t\t//DHG: See Matrix2D.transformPoint for why this math specifically\r\n\t\t\t// apply vertices\r\n\t\t\tvertices[offV2] =\t\tsubL *iMtx.a + subT *iMtx.c +iMtx.tx;\t\tvertices[offV2+1] =\t\tsubL *iMtx.b + subT *iMtx.d +iMtx.ty;\r\n\t\t\tvertices[offV2+2] =\t\tsubL *iMtx.a + subB *iMtx.c +iMtx.tx;\t\tvertices[offV2+3] =\t\tsubL *iMtx.b + subB *iMtx.d +iMtx.ty;\r\n\t\t\tvertices[offV2+4] =\t\tsubR *iMtx.a + subT *iMtx.c +iMtx.tx;\t\tvertices[offV2+5] =\t\tsubR *iMtx.b + subT *iMtx.d +iMtx.ty;\r\n\t\t\tvertices[offV2+6] =\t\tvertices[offV2+2];\t\t\t\t\t\t\tvertices[offV2+7] =\t\tvertices[offV2+3];\r\n\t\t\tvertices[offV2+8] =\t\tvertices[offV2+4];\t\t\t\t\t\t\tvertices[offV2+9] =\t\tvertices[offV2+5];\r\n\t\t\tvertices[offV2+10] =\tsubR *iMtx.a + subB *iMtx.c +iMtx.tx;\t\tvertices[offV2+11] =\tsubR *iMtx.b + subB *iMtx.d +iMtx.ty;\r\n\r\n\t\t\t// apply uvs\r\n\t\t\tuvs[offV2] =\tuvRect.l;\t\t\tuvs[offV2+1] =\tuvRect.t;\r\n\t\t\tuvs[offV2+2] =\tuvRect.l;\t\t\tuvs[offV2+3] =\tuvRect.b;\r\n\t\t\tuvs[offV2+4] =\tuvRect.r;\t\t\tuvs[offV2+5] =\tuvRect.t;\r\n\t\t\tuvs[offV2+6] =\tuvRect.l;\t\t\tuvs[offV2+7] =\tuvRect.b;\r\n\t\t\tuvs[offV2+8] =\tuvRect.r;\t\t\tuvs[offV2+9] =\tuvRect.t;\r\n\t\t\tuvs[offV2+10] =\tuvRect.r;\t\t\tuvs[offV2+11] =\tuvRect.b;\r\n\r\n\t\t\t// apply texture\r\n\t\t\ttexI[offV1] = texI[offV1+1] = texI[offV1+2] = texI[offV1+3] = texI[offV1+4] = texI[offV1+5] = texIndex;\r\n\r\n\t\t\t// apply alpha\r\n\t\t\talphas[offV1] = alphas[offV1+1] = alphas[offV1+2] = alphas[offV1+3] = alphas[offV1+4] = alphas[offV1+5] = item.alpha * concatAlpha;\r\n\r\n\t\t\tthis.batchCardCount++;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Draws all the currently defined cards in the buffer to the render surface.\r\n\t * @method _drawBuffers\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @protected\r\n\t */\r\n\tp._drawBuffers = function (gl) {\r\n\t\tif (this.batchCardCount <= 0) { return; }\t// prevents error logs on stages filled with un-renederable content.\r\n\r\n\t\tif (this.vocalDebug) {\r\n\t\t\tconsole.log(\"Draw[\"+ this._drawID +\":\"+ this._batchID +\"] : \"+ this.batchReason);\r\n\t\t}\r\n\t\tvar shaderProgram = this._activeShader;\r\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer;\r\n\t\tvar textureIndexBuffer = this._textureIndexBuffer;\r\n\t\tvar uvPositionBuffer = this._uvPositionBuffer;\r\n\t\tvar alphaBuffer = this._alphaBuffer;\r\n\r\n\t\tgl.useProgram(shaderProgram);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, vertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._vertices);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, textureIndexBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.textureIndexAttribute, textureIndexBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._indices);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.uvPositionAttribute, uvPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._uvs);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, alphaBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.alphaAttribute, alphaBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._alphas);\r\n\r\n\t\tgl.uniformMatrix4fv(shaderProgram.pMatrixUniform, gl.FALSE, this._projectionMatrix);\r\n\r\n\t\tfor (var i = 0; i < this._batchTextureCount; i++) {\r\n\t\t\tvar texture = this._batchTextures[i];\r\n\t\t\tgl.activeTexture(gl.TEXTURE0 + i);\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\t\tthis.setTextureParams(gl, texture.isPOT);\r\n\t\t}\r\n\r\n\t\tgl.drawArrays(gl.TRIANGLES, 0, this.batchCardCount*StageGL.INDICIES_PER_CARD);\r\n\t\tthis._batchID++;\r\n\t};\r\n\r\n\t/**\r\n\t * Draws a card that covers the entire render surface. Mainly used for filters.\r\n\t * @method _drawBuffers\r\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\r\n\t * @param {Boolean} flipY Covers are used for things like RenderTextures and because of 3D vs Canvas space this can\r\n\t * end up meaning the `y` space sometimes requires flipping in the render.\r\n\t * @protected\r\n\t */\r\n\tp._drawCover = function (gl, flipY) {\r\n\t\tif (this._isDrawing > 0) {\r\n\t\t\tthis._drawBuffers(gl);\r\n\t\t}\r\n\r\n\t\tif (this.vocalDebug) {\r\n\t\t\tconsole.log(\"Draw[\"+ this._drawID +\":\"+ this._batchID +\"] : \"+ \"Cover\");\r\n\t\t}\r\n\t\tvar shaderProgram = this._activeShader;\r\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer;\r\n\t\tvar uvPositionBuffer = this._uvPositionBuffer;\r\n\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\r\n\t\tgl.useProgram(shaderProgram);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, vertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, StageGL.COVER_VERT);\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\r\n\t\tgl.vertexAttribPointer(shaderProgram.uvPositionAttribute, uvPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, flipY?StageGL.COVER_UV_FLIP:StageGL.COVER_UV);\r\n\r\n\t\tgl.uniform1i(shaderProgram.samplerUniform, 0);\r\n\t\tgl.uniform1f(shaderProgram.uprightUniform, flipY?0:1);\r\n\r\n\t\tgl.drawArrays(gl.TRIANGLES, 0, StageGL.INDICIES_PER_CARD);\r\n\t};\r\n\r\n\tcreatejs.StageGL = createjs.promote(StageGL, \"Stage\");\r\n}());\r\n\r\n//##############################################################################\r\n// Bitmap.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\r\n\t/**\r\n\t * A Bitmap represents an Image, Canvas, or Video in the display list. A Bitmap can be instantiated using an existing\r\n\t * HTML element, or a string.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t * \tvar bitmap = new createjs.Bitmap(\"imagePath.jpg\");\r\n\t *\r\n\t * <strong>Notes:</strong>\r\n\t * <ol>\r\n\t * \t<li>When using a video source that may loop or seek, use a {{#crossLink \"VideoBuffer\"}}{{/crossLink}} object to\r\n\t * \t prevent blinking / flashing.\r\n\t * \t<li>When a string path or image tag that is not yet loaded is used, the stage may need to be redrawn before it\r\n\t * \t will be displayed.</li>\r\n\t * \t<li>Bitmaps with an SVG source currently will not respect an alpha value other than 0 or 1. To get around this,\r\n\t * \tthe Bitmap can be cached.</li>\r\n\t * \t<li>Bitmaps with an SVG source will taint the canvas with cross-origin data, which prevents interactivity. This\r\n\t * \thappens in all browsers except recent Firefox builds.</li>\r\n\t * \t<li>Images loaded cross-origin will throw cross-origin security errors when interacted with using a mouse, using\r\n\t * \tmethods such as `getObjectUnderPoint`, or using filters, or caching. You can get around this by setting\r\n\t * \t`crossOrigin` flags on your images before passing them to EaselJS, eg: `img.crossOrigin=\"Anonymous\";`</li>\r\n\t * </ol>\r\n\t *\r\n\t * @class Bitmap\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {CanvasImageSource | String | Object} imageOrUri The source image to display. This can be a CanvasImageSource\r\n\t * (image, video, canvas), an object with a `getImage` method that returns a CanvasImageSource, or a string URL to an image.\r\n\t * If the latter, a new Image instance with the URL as its src will be used.\r\n\t **/\r\n\tfunction Bitmap(imageOrUri) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The source image to display. This can be a CanvasImageSource\r\n\t\t * (image, video, canvas), an object with a `getImage` method that returns a CanvasImageSource, or a string URL to an image.\r\n\t\t * If the latter, a new Image instance with the URL as its src will be used.\r\n\t\t * @property image\r\n\t\t * @type CanvasImageSource | Object\r\n\t\t **/\r\n\t\tif (typeof imageOrUri == \"string\") {\r\n\t\t\tthis.image = document.createElement(\"img\");\r\n\t\t\tthis.image.src = imageOrUri;\r\n\t\t} else {\r\n\t\t\tthis.image = imageOrUri;\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Specifies an area of the source image to draw. If omitted, the whole image will be drawn.\r\n\t\t * Notes:\r\n\t\t * <ul>\r\n\t\t *     <li>that video sources must have a width / height set to work correctly with `sourceRect`</li>\r\n\t\t *     <li>Cached objects will ignore the `sourceRect` property</li>\r\n\t\t * </ul>\r\n\t\t * @property sourceRect\r\n\t\t * @type Rectangle\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.sourceRect = null;\r\n\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Docced in superclass.\r\n\t\t */\r\n\t\tthis._webGLRenderStyle = createjs.DisplayObject._StageGL_BITMAP;\r\n\t}\r\n\tvar p = createjs.extend(Bitmap, createjs.DisplayObject);\r\n\t\r\n\t\r\n// public methods:\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = Bitmap; // TODO: deprecated.\r\n\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar image = this.image;\r\n\t\tvar hasContent = this.cacheCanvas || (image && (image.naturalWidth || image.getContext || image.readyState >= 2));\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tvar img = this.image, rect = this.sourceRect;\r\n\t\tif (img.getImage) { img = img.getImage(); }\r\n\t\tif (!img) { return true; }\r\n\t\tif (rect) {\r\n\t\t\t// some browsers choke on out of bound values, so we'll fix them:\r\n\t\t\tvar x1 = rect.x, y1 = rect.y, x2 = x1 + rect.width, y2 = y1 + rect.height, x = 0, y = 0, w = img.width, h = img.height;\r\n\t\t\tif (x1 < 0) { x -= x1; x1 = 0; }\r\n\t\t\tif (x2 > w) { x2 = w; }\r\n\t\t\tif (y1 < 0) { y -= y1; y1 = 0; }\r\n\t\t\tif (y2 > h) { y2 = h; }\r\n\t\t\tctx.drawImage(img, x1, y1, x2-x1, y2-y1, x, y, x2-x1, y2-y1);\r\n\t\t} else {\r\n\t\t\tctx.drawImage(img, 0, 0);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\t//Note, the doc sections below document using the specified APIs (from DisplayObject)  from\r\n\t//Bitmap. This is why they have no method implementations.\r\n\t\r\n\t/**\r\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\r\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\r\n\t *\r\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\r\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method cache\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\r\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\r\n\t *\r\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\r\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method updateCache\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\r\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\r\n\t *\r\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\r\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method.\r\n\t * @method uncache\r\n\t **/\r\n\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getBounds = function() {\r\n\t\tvar rect = this.DisplayObject_getBounds();\r\n\t\tif (rect) { return rect; }\r\n\t\tvar image = this.image, o = this.sourceRect || image;\r\n\t\tvar hasContent = (image && (image.naturalWidth || image.getContext || image.readyState >= 2));\r\n\t\treturn hasContent ? this._rectangle.setValues(0, 0, o.width, o.height) : null;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a clone of the Bitmap instance.\r\n\t * @method clone\r\n\t * @param {Boolean} node Whether the underlying dom element should be cloned as well.\r\n\t * @return {Bitmap} a clone of the Bitmap instance.\r\n\t **/\r\n\tp.clone = function(node) {\r\n\t\tvar image = this.image;\r\n\t\tif(image && node){ image = image.cloneNode(); }\r\n\t\tvar o = new Bitmap(image);\r\n\t\tif (this.sourceRect) { o.sourceRect = this.sourceRect.clone(); }\r\n\t\tthis._cloneProps(o);\r\n\t\treturn o;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Bitmap (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\t\r\n\tcreatejs.Bitmap = createjs.promote(Bitmap, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Sprite.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Displays a frame or sequence of frames (ie. an animation) from a SpriteSheet instance. A sprite sheet is a series of\r\n\t * images (usually animation frames) combined into a single image. For example, an animation consisting of 8 100x100\r\n\t * images could be combined into a 400x200 sprite sheet (4 frames across by 2 high). You can display individual frames,\r\n\t * play frames as an animation, and even sequence animations together.\r\n\t *\r\n\t * See the {{#crossLink \"SpriteSheet\"}}{{/crossLink}} class for more information on setting up frames and animations.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var instance = new createjs.Sprite(spriteSheet);\r\n\t *      instance.gotoAndStop(\"frameName\");\r\n\t *\r\n\t * Until {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} or {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}} is called,\r\n\t * only the first defined frame defined in the sprite sheet will be displayed.\r\n\t *\r\n\t * @class Sprite\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {SpriteSheet} spriteSheet The SpriteSheet instance to play back. This includes the source image(s), frame\r\n\t * dimensions, and frame data. See {{#crossLink \"SpriteSheet\"}}{{/crossLink}} for more information.\r\n\t * @param {String|Number} [frameOrAnimation] The frame number or animation to play initially.\r\n\t **/\r\n\tfunction Sprite(spriteSheet, frameOrAnimation) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The frame index that will be drawn when draw is called. Note that with some {{#crossLink \"SpriteSheet\"}}{{/crossLink}}\r\n\t\t * definitions, this will advance non-sequentially. This will always be an integer value.\r\n\t\t * @property currentFrame\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.currentFrame = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Returns the name of the currently playing animation.\r\n\t\t * @property currentAnimation\r\n\t\t * @type {String}\r\n\t\t * @final\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.currentAnimation = null;\r\n\t\r\n\t\t/**\r\n\t\t * Prevents the animation from advancing each tick automatically. For example, you could create a sprite\r\n\t\t * sheet of icons, set paused to true, and display the appropriate icon by setting <code>currentFrame</code>.\r\n\t\t * @property paused\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis.paused = true;\r\n\t\r\n\t\t/**\r\n\t\t * The SpriteSheet instance to play back. This includes the source image, frame dimensions, and frame\r\n\t\t * data. See {{#crossLink \"SpriteSheet\"}}{{/crossLink}} for more information.\r\n\t\t * @property spriteSheet\r\n\t\t * @type {SpriteSheet}\r\n\t\t * @readonly\r\n\t\t **/\r\n\t\tthis.spriteSheet = spriteSheet;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies the current frame index within the currently playing animation. When playing normally, this will increase\r\n\t\t * from 0 to n-1, where n is the number of frames in the current animation.\r\n\t\t *\r\n\t\t * This could be a non-integer value if\r\n\t\t * using time-based playback (see {{#crossLink \"Sprite/framerate\"}}{{/crossLink}}, or if the animation's speed is\r\n\t\t * not an integer.\r\n\t\t * @property currentAnimationFrame\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.currentAnimationFrame = 0;\r\n\t\r\n\t\t/**\r\n\t\t * By default Sprite instances advance one frame per tick. Specifying a framerate for the Sprite (or its related\r\n\t\t * SpriteSheet) will cause it to advance based on elapsed time between ticks as appropriate to maintain the target\r\n\t\t * framerate.\r\n\t\t *\r\n\t\t * For example, if a Sprite with a framerate of 10 is placed on a Stage being updated at 40fps, then the Sprite will\r\n\t\t * advance roughly one frame every 4 ticks. This will not be exact, because the time between each tick will\r\n\t\t * vary slightly between frames.\r\n\t\t *\r\n\t\t * This feature is dependent on the tick event object (or an object with an appropriate \"delta\" property) being\r\n\t\t * passed into {{#crossLink \"Stage/update\"}}{{/crossLink}}.\r\n\t\t * @property framerate\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.framerate = 0;\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * Current animation object.\r\n\t\t * @property _animation\r\n\t\t * @protected\r\n\t\t * @type {Object}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._animation = null;\r\n\t\r\n\t\t/**\r\n\t\t * Current frame index.\r\n\t\t * @property _currentFrame\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._currentFrame = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * Skips the next auto advance. Used by gotoAndPlay to avoid immediately jumping to the next frame\r\n\t\t * @property _skipAdvance\r\n\t\t * @protected\r\n\t\t * @type {Boolean}\r\n\t\t * @default false\r\n\t\t **/\r\n\t\tthis._skipAdvance = false;\r\n\r\n\t\t/**\r\n\t\t * Docced in superclass.\r\n\t\t */\r\n\t\tthis._webGLRenderStyle = createjs.DisplayObject._StageGL_SPRITE;\r\n\r\n\t\tif (frameOrAnimation != null) { this.gotoAndPlay(frameOrAnimation); }\r\n\t}\r\n\tvar p = createjs.extend(Sprite, createjs.DisplayObject);\r\n\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = Sprite; // TODO: Deprecated. This is for backwards support of Flash/Animate spritesheet export.\r\n\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when an animation reaches its ends.\r\n\t * @event animationend\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {String} name The name of the animation that just ended.\r\n\t * @param {String} next The name of the next animation that will be played, or null. This will be the same as name if the animation is looping.\r\n\t * @since 0.6.0\r\n\t */\r\n\t \r\n\t/**\r\n\t * Dispatched any time the current frame changes. For example, this could be due to automatic advancement on a tick,\r\n\t * or calling gotoAndPlay() or gotoAndStop().\r\n\t * @event change\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t */\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || this.spriteSheet.complete;\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tthis._normalizeFrame();\r\n\t\tvar o = this.spriteSheet.getFrame(this._currentFrame|0);\r\n\t\tif (!o) { return false; }\r\n\t\tvar rect = o.rect;\r\n\t\tif (rect.width && rect.height) { ctx.drawImage(o.image, rect.x, rect.y, rect.width, rect.height, -o.regX, -o.regY, rect.width, rect.height); }\r\n\t\treturn true;\r\n\t};\r\n\r\n\t//Note, the doc sections below document using the specified APIs (from DisplayObject)  from\r\n\t//Bitmap. This is why they have no method implementations.\r\n\r\n\t/**\r\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\r\n\t * You should not cache Sprite instances as it can degrade performance.\r\n\t * @method cache\r\n\t **/\r\n\r\n\t/**\r\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\r\n\t * You should not cache Sprite instances as it can degrade performance.\r\n\t * @method updateCache\r\n\t **/\r\n\r\n\t/**\r\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\r\n\t * You should not cache Sprite instances as it can degrade performance.\r\n\t * @method uncache\r\n\t **/\r\n\r\n\t/**\r\n\t * Play (unpause) the current animation. The Sprite will be paused if either {{#crossLink \"Sprite/stop\"}}{{/crossLink}}\r\n\t * or {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} is called. Single frame animations will remain\r\n\t * unchanged.\r\n\t * @method play\r\n\t **/\r\n\tp.play = function() {\r\n\t\tthis.paused = false;\r\n\t};\r\n\r\n\t/**\r\n\t * Stop playing a running animation. The Sprite will be playing if {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}}\r\n\t * is called. Note that calling {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}} or {{#crossLink \"Sprite/play\"}}{{/crossLink}}\r\n\t * will resume playback.\r\n\t * @method stop\r\n\t **/\r\n\tp.stop = function() {\r\n\t\tthis.paused = true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets paused to false and plays the specified animation name, named frame, or frame number.\r\n\t * @method gotoAndPlay\r\n\t * @param {String|Number} frameOrAnimation The frame number or animation name that the playhead should move to\r\n\t * and begin playing.\r\n\t **/\r\n\tp.gotoAndPlay = function(frameOrAnimation) {\r\n\t\tthis.paused = false;\r\n\t\tthis._skipAdvance = true;\r\n\t\tthis._goto(frameOrAnimation);\r\n\t};\r\n\r\n\t/**\r\n\t * Sets paused to true and seeks to the specified animation name, named frame, or frame number.\r\n\t * @method gotoAndStop\r\n\t * @param {String|Number} frameOrAnimation The frame number or animation name that the playhead should move to\r\n\t * and stop.\r\n\t **/\r\n\tp.gotoAndStop = function(frameOrAnimation) {\r\n\t\tthis.paused = true;\r\n\t\tthis._goto(frameOrAnimation);\r\n\t};\r\n\r\n\t/**\r\n\t * Advances the playhead. This occurs automatically each tick by default.\r\n\t * @param [time] {Number} The amount of time in ms to advance by. Only applicable if framerate is set on the Sprite\r\n\t * or its SpriteSheet.\r\n\t * @method advance\r\n\t*/\r\n\tp.advance = function(time) {\r\n\t\tvar fps = this.framerate || this.spriteSheet.framerate;\r\n\t\tvar t = (fps && time != null) ? time/(1000/fps) : 1;\r\n\t\tthis._normalizeFrame(t);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a {{#crossLink \"Rectangle\"}}{{/crossLink}} instance defining the bounds of the current frame relative to\r\n\t * the origin. For example, a 90 x 70 frame with <code>regX=50</code> and <code>regY=40</code> would return a\r\n\t * rectangle with [x=-50, y=-40, width=90, height=70]. This ignores transformations on the display object.\r\n\t *\r\n\t * Also see the SpriteSheet {{#crossLink \"SpriteSheet/getFrameBounds\"}}{{/crossLink}} method.\r\n\t * @method getBounds\r\n\t * @return {Rectangle} A Rectangle instance. Returns null if the frame does not exist, or the image is not fully\r\n\t * loaded.\r\n\t **/\r\n\tp.getBounds = function() {\r\n\t\t// TODO: should this normalizeFrame?\r\n\t\treturn this.DisplayObject_getBounds() || this.spriteSheet.getFrameBounds(this.currentFrame, this._rectangle);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of the Sprite instance. Note that the same SpriteSheet is shared between cloned\r\n\t * instances.\r\n\t * @method clone\r\n\t * @return {Sprite} a clone of the Sprite instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new Sprite(this.spriteSheet));\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Sprite (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _cloneProps\r\n\t * @param {Sprite} o\r\n\t * @return {Sprite} o\r\n\t * @protected\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\tthis.DisplayObject__cloneProps(o);\r\n\t\to.currentFrame = this.currentFrame;\r\n\t\to.currentAnimation = this.currentAnimation;\r\n\t\to.paused = this.paused;\r\n\t\to.currentAnimationFrame = this.currentAnimationFrame;\r\n\t\to.framerate = this.framerate;\r\n\t\t\r\n\t\to._animation = this._animation;\r\n\t\to._currentFrame = this._currentFrame;\r\n\t\to._skipAdvance = this._skipAdvance;\r\n\t\treturn o;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances the <code>currentFrame</code> if paused is not true. This is called automatically when the {{#crossLink \"Stage\"}}{{/crossLink}}\r\n\t * ticks.\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * @protected\r\n\t * @method _tick\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\tif (!this.paused) {\r\n\t\t\tif (!this._skipAdvance) { this.advance(evtObj&&evtObj.delta); }\r\n\t\t\tthis._skipAdvance = false;\r\n\t\t}\r\n\t\tthis.DisplayObject__tick(evtObj);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Normalizes the current frame, advancing animations and dispatching callbacks as appropriate.\r\n\t * @protected\r\n\t * @method _normalizeFrame\r\n\t **/\r\n\tp._normalizeFrame = function(frameDelta) {\r\n\t\tframeDelta = frameDelta || 0;\r\n\t\tvar animation = this._animation;\r\n\t\tvar paused = this.paused;\r\n\t\tvar frame = this._currentFrame;\r\n\t\tvar l;\r\n\t\t\r\n\t\tif (animation) {\r\n\t\t\tvar speed = animation.speed || 1;\r\n\t\t\tvar animFrame = this.currentAnimationFrame;\r\n\t\t\tl = animation.frames.length;\r\n\t\t\tif (animFrame + frameDelta * speed >= l) {\r\n\t\t\t\tvar next = animation.next;\r\n\t\t\t\tif (this._dispatchAnimationEnd(animation, frame, paused, next, l - 1)) {\r\n\t\t\t\t\t// something changed in the event stack, so we shouldn't make any more changes here.\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (next) {\r\n\t\t\t\t\t// sequence. Automatically calls _normalizeFrame again with the remaining frames.\r\n\t\t\t\t\treturn this._goto(next, frameDelta - (l - animFrame) / speed);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// end.\r\n\t\t\t\t\tthis.paused = true;\r\n\t\t\t\t\tanimFrame = animation.frames.length - 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tanimFrame += frameDelta * speed;\r\n\t\t\t}\r\n\t\t\tthis.currentAnimationFrame = animFrame;\r\n\t\t\tthis._currentFrame = animation.frames[animFrame | 0]\r\n\t\t} else {\r\n\t\t\tframe = (this._currentFrame += frameDelta);\r\n\t\t\tl = this.spriteSheet.getNumFrames();\r\n\t\t\tif (frame >= l && l > 0) {\r\n\t\t\t\tif (!this._dispatchAnimationEnd(animation, frame, paused, l - 1)) {\r\n\t\t\t\t\t// looped.\r\n\t\t\t\t\tif ((this._currentFrame -= l) >= l) { return this._normalizeFrame(); }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tframe = this._currentFrame | 0;\r\n\t\tif (this.currentFrame != frame) {\r\n\t\t\tthis.currentFrame = frame;\r\n\t\t\tthis.dispatchEvent(\"change\");\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Dispatches the \"animationend\" event. Returns true if a handler changed the animation (ex. calling {{#crossLink \"Sprite/stop\"}}{{/crossLink}},\r\n\t * {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}}, etc.)\r\n\t * @property _dispatchAnimationEnd\r\n\t * @private\r\n\t * @type {Function}\r\n\t **/\r\n\tp._dispatchAnimationEnd = function(animation, frame, paused, next, end) {\r\n\t\tvar name = animation ? animation.name : null;\r\n\t\tif (this.hasEventListener(\"animationend\")) {\r\n\t\t\tvar evt = new createjs.Event(\"animationend\");\r\n\t\t\tevt.name = name;\r\n\t\t\tevt.next = next;\r\n\t\t\tthis.dispatchEvent(evt);\r\n\t\t}\r\n\t\t// did the animation get changed in the event stack?:\r\n\t\tvar changed = (this._animation != animation || this._currentFrame != frame);\r\n\t\t// if the animation hasn't changed, but the sprite was paused, then we want to stick to the last frame:\r\n\t\tif (!changed && !paused && this.paused) { this.currentAnimationFrame = end; changed = true; }\r\n\t\treturn changed;\r\n\t};\r\n\r\n\t/**\r\n\t * Moves the playhead to the specified frame number or animation.\r\n\t * @method _goto\r\n\t * @param {String|Number} frameOrAnimation The frame number or animation that the playhead should move to.\r\n\t * @param {Boolean} [frame] The frame of the animation to go to. Defaults to 0.\r\n\t * @protected\r\n\t **/\r\n\tp._goto = function(frameOrAnimation, frame) {\r\n\t\tthis.currentAnimationFrame = 0;\r\n\t\tif (isNaN(frameOrAnimation)) {\r\n\t\t\tvar data = this.spriteSheet.getAnimation(frameOrAnimation);\r\n\t\t\tif (data) {\r\n\t\t\t\tthis._animation = data;\r\n\t\t\t\tthis.currentAnimation = frameOrAnimation;\r\n\t\t\t\tthis._normalizeFrame(frame);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.currentAnimation = this._animation = null;\r\n\t\t\tthis._currentFrame = frameOrAnimation;\r\n\t\t\tthis._normalizeFrame();\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tcreatejs.Sprite = createjs.promote(Sprite, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Shape.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * A Shape allows you to display vector art in the display list. It composites a {{#crossLink \"Graphics\"}}{{/crossLink}}\r\n\t * instance which exposes all of the vector drawing methods. The Graphics instance can be shared between multiple Shape\r\n\t * instances to display the same vector graphics with different positions or transforms.\r\n\t *\r\n\t * If the vector art will not\r\n\t * change between draws, you may want to use the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} method to reduce the\r\n\t * rendering cost.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var graphics = new createjs.Graphics().beginFill(\"#ff0000\").drawRect(0, 0, 100, 100);\r\n\t *      var shape = new createjs.Shape(graphics);\r\n\t *\r\n\t *      //Alternatively use can also use the graphics property of the Shape class to renderer the same as above.\r\n\t *      var shape = new createjs.Shape();\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawRect(0, 0, 100, 100);\r\n\t *\r\n\t * @class Shape\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {Graphics} graphics Optional. The graphics instance to display. If null, a new Graphics instance will be created.\r\n\t **/\r\n\tfunction Shape(graphics) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The graphics instance to display.\r\n\t\t * @property graphics\r\n\t\t * @type Graphics\r\n\t\t **/\r\n\t\tthis.graphics = graphics ? graphics : new createjs.Graphics();\r\n\t}\r\n\tvar p = createjs.extend(Shape, createjs.DisplayObject);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the Shape would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the Shape would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || (this.graphics && !this.graphics.isEmpty());\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the Shape into the specified context ignoring its visible, alpha, shadow, and transform. Returns true if\r\n\t * the draw was handled (useful for overriding functionality).\r\n\t *\r\n\t * <i>NOTE: This method is mainly for internal use, though it may be useful for advanced uses.</i>\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For example,\r\n\t * used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tthis.graphics.draw(ctx, this);\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Shape. Some properties that are specific to this instance's current context are reverted to\r\n\t * their defaults (for example .parent).\r\n\t * @method clone\r\n\t * @param {Boolean} recursive If true, this Shape's {{#crossLink \"Graphics\"}}{{/crossLink}} instance will also be\r\n\t * cloned. If false, the Graphics instance will be shared with the new Shape.\r\n\t **/\r\n\tp.clone = function(recursive) {\r\n\t\tvar g = (recursive && this.graphics) ? this.graphics.clone() : this.graphics;\r\n\t\treturn  this._cloneProps(new Shape(g));\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Shape (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n\tcreatejs.Shape = createjs.promote(Shape, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Text.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Display one or more lines of dynamic text (not user editable) in the display list. Line wrapping support (using the\r\n\t * lineWidth) is very basic, wrapping on spaces and tabs only. Note that as an alternative to Text, you can position HTML\r\n\t * text above or below the canvas relative to items in the display list using the {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}}\r\n\t * method, or using {{#crossLink \"DOMElement\"}}{{/crossLink}}.\r\n\t *\r\n\t * <b>Please note that Text does not support HTML text, and can only display one font style at a time.</b> To use\r\n\t * multiple font styles, you will need to create multiple text instances, and position them manually.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      var text = new createjs.Text(\"Hello World\", \"20px Arial\", \"#ff7700\");\r\n\t *      text.x = 100;\r\n\t *      text.textBaseline = \"alphabetic\";\r\n\t *\r\n\t * CreateJS Text supports web fonts (the same rules as Canvas). The font must be loaded and supported by the browser\r\n\t * before it can be displayed.\r\n\t *\r\n\t * <strong>Note:</strong> Text can be expensive to generate, so cache instances where possible. Be aware that not all\r\n\t * browsers will render Text exactly the same.\r\n\t * @class Text\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {String} [text] The text to display.\r\n\t * @param {String} [font] The font style to use. Any valid value for the CSS font attribute is acceptable (ex. \"bold\r\n\t * 36px Arial\").\r\n\t * @param {String} [color] The color to draw the text in. Any valid value for the CSS color attribute is acceptable (ex.\r\n\t * \"#F00\", \"red\", or \"#FF0000\").\r\n\t **/\r\n\tfunction Text(text, font, color) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The text to display.\r\n\t\t * @property text\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.text = text;\r\n\t\r\n\t\t/**\r\n\t\t * The font style to use. Any valid value for the CSS font attribute is acceptable (ex. \"bold 36px Arial\").\r\n\t\t * @property font\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.font = font;\r\n\t\r\n\t\t/**\r\n\t\t * The color to draw the text in. Any valid value for the CSS color attribute is acceptable (ex. \"#F00\"). Default is \"#000\".\r\n\t\t * It will also accept valid canvas fillStyle values.\r\n\t\t * @property color\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.color = color;\r\n\t\r\n\t\t/**\r\n\t\t * The horizontal text alignment. Any of \"start\", \"end\", \"left\", \"right\", and \"center\". For detailed\r\n\t\t * information view the\r\n\t\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\r\n\t\t * whatwg spec</a>. Default is \"left\".\r\n\t\t * @property textAlign\r\n\t\t * @type String\r\n\t\t **/\r\n\t\tthis.textAlign = \"left\";\r\n\t\r\n\t\t/**\r\n\t\t * The vertical alignment point on the font. Any of \"top\", \"hanging\", \"middle\", \"alphabetic\", \"ideographic\", or\r\n\t\t * \"bottom\". For detailed information view the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\r\n\t\t * whatwg spec</a>. Default is \"top\".\r\n\t\t * @property textBaseline\r\n\t\t * @type String\r\n\t\t*/\r\n\t\tthis.textBaseline = \"top\";\r\n\t\r\n\t\t/**\r\n\t\t * The maximum width to draw the text. If maxWidth is specified (not null), the text will be condensed or\r\n\t\t * shrunk to make it fit in this width. For detailed information view the\r\n\t\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\r\n\t\t * whatwg spec</a>.\r\n\t\t * @property maxWidth\r\n\t\t * @type Number\r\n\t\t*/\r\n\t\tthis.maxWidth = null;\r\n\t\r\n\t\t/**\r\n\t\t * If greater than 0, the text will be drawn as a stroke (outline) of the specified width.\r\n\t\t * @property outline\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.outline = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates the line height (vertical distance between baselines) for multi-line text. If null or 0,\r\n\t\t * the value of getMeasuredLineHeight is used.\r\n\t\t * @property lineHeight\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.lineHeight = 0;\r\n\t\r\n\t\t/**\r\n\t\t * Indicates the maximum width for a line of text before it is wrapped to multiple lines. If null,\r\n\t\t * the text will not be wrapped.\r\n\t\t * @property lineWidth\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.lineWidth = null;\r\n\t}\r\n\tvar p = createjs.extend(Text, createjs.DisplayObject);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t\r\n// static properties:\r\n\t/**\r\n\t * @property _workingContext\r\n\t * @type CanvasRenderingContext2D\r\n\t * @private\r\n\t **/\r\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\r\n\tif (canvas.getContext) { Text._workingContext = canvas.getContext(\"2d\"); canvas.width = canvas.height = 1; }\r\n\t\r\n\t\r\n// constants:\r\n\t/**\r\n\t * Lookup table for the ratio to offset bounds x calculations based on the textAlign property.\r\n\t * @property H_OFFSETS\r\n\t * @type Object\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tText.H_OFFSETS = {start: 0, left: 0, center: -0.5, end: -1, right: -1};\r\n\t\r\n\t/**\r\n\t * Lookup table for the ratio to offset bounds y calculations based on the textBaseline property.\r\n\t * @property H_OFFSETS\r\n\t * @type Object\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tText.V_OFFSETS = {top: 0, hanging: -0.01, middle: -0.4, alphabetic: -0.8, ideographic: -0.85, bottom: -1};\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || (this.text != null && this.text !== \"\");\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the Text into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\r\n\t\tvar col = this.color || \"#000\";\r\n\t\tif (this.outline) { ctx.strokeStyle = col; ctx.lineWidth = this.outline*1; }\r\n\t\telse { ctx.fillStyle = col; }\r\n\t\t\r\n\t\tthis._drawText(this._prepContext(ctx));\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the measured, untransformed width of the text without wrapping. Use getBounds for a more robust value.\r\n\t * @method getMeasuredWidth\r\n\t * @return {Number} The measured, untransformed width of the text.\r\n\t **/\r\n\tp.getMeasuredWidth = function() {\r\n\t\treturn this._getMeasuredWidth(this.text);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns an approximate line height of the text, ignoring the lineHeight property. This is based on the measured\r\n\t * width of a \"M\" character multiplied by 1.2, which provides an approximate line height for most fonts.\r\n\t * @method getMeasuredLineHeight\r\n\t * @return {Number} an approximate line height of the text, ignoring the lineHeight property. This is\r\n\t * based on the measured width of a \"M\" character multiplied by 1.2, which approximates em for most fonts.\r\n\t **/\r\n\tp.getMeasuredLineHeight = function() {\r\n\t\treturn this._getMeasuredWidth(\"M\")*1.2;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the approximate height of multi-line text by multiplying the number of lines against either the\r\n\t * <code>lineHeight</code> (if specified) or {{#crossLink \"Text/getMeasuredLineHeight\"}}{{/crossLink}}. Note that\r\n\t * this operation requires the text flowing logic to run, which has an associated CPU cost.\r\n\t * @method getMeasuredHeight\r\n\t * @return {Number} The approximate height of the untransformed multi-line text.\r\n\t **/\r\n\tp.getMeasuredHeight = function() {\r\n\t\treturn this._drawText(null,{}).height;\r\n\t};\r\n\r\n\t/**\r\n\t * Docced in superclass.\r\n\t */\r\n\tp.getBounds = function() {\r\n\t\tvar rect = this.DisplayObject_getBounds();\r\n\t\tif (rect) { return rect; }\r\n\t\tif (this.text == null || this.text === \"\") { return null; }\r\n\t\tvar o = this._drawText(null, {});\r\n\t\tvar w = (this.maxWidth && this.maxWidth < o.width) ? this.maxWidth : o.width;\r\n\t\tvar x = w * Text.H_OFFSETS[this.textAlign||\"left\"];\r\n\t\tvar lineHeight = this.lineHeight||this.getMeasuredLineHeight();\r\n\t\tvar y = lineHeight * Text.V_OFFSETS[this.textBaseline||\"top\"];\r\n\t\treturn this._rectangle.setValues(x, y, w, o.height);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns an object with width, height, and lines properties. The width and height are the visual width and height\r\n\t * of the drawn text. The lines property contains an array of strings, one for\r\n\t * each line of text that will be drawn, accounting for line breaks and wrapping. These strings have trailing\r\n\t * whitespace removed.\r\n\t * @method getMetrics\r\n\t * @return {Object} An object with width, height, and lines properties.\r\n\t **/\r\n\tp.getMetrics = function() {\r\n\t\tvar o = {lines:[]};\r\n\t\to.lineHeight = this.lineHeight || this.getMeasuredLineHeight();\r\n\t\to.vOffset = o.lineHeight * Text.V_OFFSETS[this.textBaseline||\"top\"];\r\n\t\treturn this._drawText(null, o, o.lines);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of the Text instance.\r\n\t * @method clone\r\n\t * @return {Text} a clone of the Text instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new Text(this.text, this.font, this.color));\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Text (text=\"+  (this.text.length > 20 ? this.text.substr(0, 17)+\"...\" : this.text) +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _cloneProps\r\n\t * @param {Text} o\r\n\t * @protected\r\n\t * @return {Text} o\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\tthis.DisplayObject__cloneProps(o);\r\n\t\to.textAlign = this.textAlign;\r\n\t\to.textBaseline = this.textBaseline;\r\n\t\to.maxWidth = this.maxWidth;\r\n\t\to.outline = this.outline;\r\n\t\to.lineHeight = this.lineHeight;\r\n\t\to.lineWidth = this.lineWidth;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getWorkingContext\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @return {CanvasRenderingContext2D}\r\n\t * @protected\r\n\t **/\r\n\tp._prepContext = function(ctx) {\r\n\t\tctx.font = this.font||\"10px sans-serif\";\r\n\t\tctx.textAlign = this.textAlign||\"left\";\r\n\t\tctx.textBaseline = this.textBaseline||\"top\";\r\n\t\tctx.lineJoin = \"miter\";\r\n\t\tctx.miterLimit = 2.5;\r\n\t\treturn ctx;\r\n\t};\r\n\r\n\t/**\r\n\t * Draws multiline text.\r\n\t * @method _drawText\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @param {Object} o\r\n\t * @param {Array} lines\r\n\t * @return {Object}\r\n\t * @protected\r\n\t **/\r\n\tp._drawText = function(ctx, o, lines) {\r\n\t\tvar paint = !!ctx;\r\n\t\tif (!paint) {\r\n\t\t\tctx = Text._workingContext;\r\n\t\t\tctx.save();\r\n\t\t\tthis._prepContext(ctx);\r\n\t\t}\r\n\t\tvar lineHeight = this.lineHeight||this.getMeasuredLineHeight();\r\n\t\t\r\n\t\tvar maxW = 0, count = 0;\r\n\t\tvar hardLines = String(this.text).split(/(?:\\r\\n|\\r|\\n)/);\r\n\t\tfor (var i=0, l=hardLines.length; i<l; i++) {\r\n\t\t\tvar str = hardLines[i];\r\n\t\t\tvar w = null;\r\n\t\t\t\r\n\t\t\tif (this.lineWidth != null && (w = ctx.measureText(str).width) > this.lineWidth) {\r\n\t\t\t\t// text wrapping:\r\n\t\t\t\tvar words = str.split(/(\\s)/);\r\n\t\t\t\tstr = words[0];\r\n\t\t\t\tw = ctx.measureText(str).width;\r\n\t\t\t\t\r\n\t\t\t\tfor (var j=1, jl=words.length; j<jl; j+=2) {\r\n\t\t\t\t\t// Line needs to wrap:\r\n\t\t\t\t\tvar wordW = ctx.measureText(words[j] + words[j+1]).width;\r\n\t\t\t\t\tif (w + wordW > this.lineWidth) {\r\n\t\t\t\t\t\tif (paint) { this._drawTextLine(ctx, str, count*lineHeight); }\r\n\t\t\t\t\t\tif (lines) { lines.push(str); }\r\n\t\t\t\t\t\tif (w > maxW) { maxW = w; }\r\n\t\t\t\t\t\tstr = words[j+1];\r\n\t\t\t\t\t\tw = ctx.measureText(str).width;\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstr += words[j] + words[j+1];\r\n\t\t\t\t\t\tw += wordW;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (paint) { this._drawTextLine(ctx, str, count*lineHeight); }\r\n\t\t\tif (lines) { lines.push(str); }\r\n\t\t\tif (o && w == null) { w = ctx.measureText(str).width; }\r\n\t\t\tif (w > maxW) { maxW = w; }\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tif (o) {\r\n\t\t\to.width = maxW;\r\n\t\t\to.height = count*lineHeight;\r\n\t\t}\r\n\t\tif (!paint) { ctx.restore(); }\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _drawTextLine\r\n\t * @param {CanvasRenderingContext2D} ctx\r\n\t * @param {String} text\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t **/\r\n\tp._drawTextLine = function(ctx, text, y) {\r\n\t\t// Chrome 17 will fail to draw the text if the last param is included but null, so we feed it a large value instead:\r\n\t\tif (this.outline) { ctx.strokeText(text, 0, y, this.maxWidth||0xFFFF); }\r\n\t\telse { ctx.fillText(text, 0, y, this.maxWidth||0xFFFF); }\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * @method _getMeasuredWidth\r\n\t * @param {String} text\r\n\t * @protected\r\n\t **/\r\n\tp._getMeasuredWidth = function(text) {\r\n\t\tvar ctx = Text._workingContext;\r\n\t\tctx.save();\r\n\t\tvar w = this._prepContext(ctx).measureText(text).width;\r\n\t\tctx.restore();\r\n\t\treturn w;\r\n\t};\r\n\r\n\r\n\tcreatejs.Text = createjs.promote(Text, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// BitmapText.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Displays text using bitmap glyphs defined in a sprite sheet. Multi-line text is supported using new line characters,\r\n\t * but automatic wrapping is not supported. See the {{#crossLink \"BitmapText/spriteSheet:property\"}}{{/crossLink}}\r\n\t * property for more information on defining glyphs.\r\n\t *\r\n\t * <strong>Important:</strong> While BitmapText extends Container, it is not designed to be used as one.\r\n\t * As such, methods like addChild and removeChild are disabled.\r\n\t *\r\n\t *\r\n\t * @class BitmapText\r\n\t * @extends DisplayObject\r\n\t * @param {String} [text=\"\"] The text to display.\r\n\t * @param {SpriteSheet} [spriteSheet=null] The spritesheet that defines the character glyphs.\r\n\t * @constructor\r\n\t **/\r\n\tfunction BitmapText(text, spriteSheet) {\r\n\t\tthis.Container_constructor();\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The text to display.\r\n\t\t * @property text\r\n\t\t * @type String\r\n\t\t * @default \"\"\r\n\t\t **/\r\n\t\tthis.text = text||\"\";\r\n\t\t\r\n\t\t/**\r\n\t\t * A SpriteSheet instance that defines the glyphs for this bitmap text. Each glyph/character\r\n\t\t * should have a single frame animation defined in the sprite sheet named the same as\r\n\t\t * corresponding character. For example, the following animation definition:\r\n\t\t *\r\n\t\t * \t\t\"A\": {frames: [0]}\r\n\t\t *\r\n\t\t * would indicate that the frame at index 0 of the spritesheet should be drawn for the \"A\" character. The short form\r\n\t\t * is also acceptable:\r\n\t\t * \r\n\t\t * \t\t\"A\": 0\r\n\t\t *\r\n\t\t * Note that if a character in the text is not found in the sprite sheet, it will also\r\n\t\t * try to use the alternate case (upper or lower).\r\n\t\t *\r\n\t\t * See SpriteSheet for more information on defining sprite sheet data.\r\n\t\t * @property spriteSheet\r\n\t\t * @type SpriteSheet\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.spriteSheet = spriteSheet;\r\n\t\r\n\t\t/**\r\n\t\t * The height of each line of text. If 0, then it will use a line height calculated\r\n\t\t * by checking for the height of the \"1\", \"T\", or \"L\" character (in that order). If\r\n\t\t * those characters are not defined, it will use the height of the first frame of the\r\n\t\t * sprite sheet.\r\n\t\t * @property lineHeight\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.lineHeight = 0;\r\n\t\r\n\t\t/**\r\n\t\t * This spacing (in pixels) will be added after each character in the output.\r\n\t\t * @property letterSpacing\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.letterSpacing = 0;\r\n\t\r\n\t\t/**\r\n\t\t * If a space character is not defined in the sprite sheet, then empty pixels equal to\r\n\t\t * spaceWidth will be inserted instead. If 0, then it will use a value calculated\r\n\t\t * by checking for the width of the \"1\", \"l\", \"E\", or \"A\" character (in that order). If\r\n\t\t * those characters are not defined, it will use the width of the first frame of the\r\n\t\t * sprite sheet.\r\n\t\t * @property spaceWidth\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.spaceWidth = 0;\r\n\t\t\r\n\t\t\r\n\t// private properties:\r\n\t \t/**\r\n\t\t * @property _oldProps\r\n\t\t * @type Object\r\n\t\t * @protected\r\n\t\t **/\r\n\t\tthis._oldProps = {text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0};\r\n\r\n\t\t/**\r\n\t\t * Used to track the object which this class attached listeners to, helps optimize listener attachment.\r\n\t\t * @property _oldStage\r\n\t\t * @type Stage\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._oldStage = null;\r\n\t\t/**\r\n\t\t * The event listener proxy triggered drawing draw for special circumstances.\r\n\t\t * @property _drawAction\r\n\t\t * @type function\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._drawAction = null;\r\n\t}\r\n\tvar p = createjs.extend(BitmapText, createjs.Container);\r\n\r\n// static properties:\r\n\t/**\r\n\t * BitmapText uses Sprite instances to draw text. To reduce the creation and destruction of instances (and thus garbage collection), it maintains\r\n\t * an internal object pool of sprite instances to reuse. Increasing this value can cause more sprites to be\r\n\t * retained, slightly increasing memory use, but reducing instantiation.\r\n\t * @property maxPoolSize\r\n\t * @type Number\r\n\t * @static\r\n\t * @default 100\r\n\t **/\r\n\tBitmapText.maxPoolSize = 100;\r\n\t\r\n\t/**\r\n\t * Sprite object pool.\r\n\t * @type {Array}\r\n\t * @static\r\n\t * @private\r\n\t */\r\n\tBitmapText._spritePool = [];\r\n\r\n\t\r\n// public methods:\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return; }\r\n\t\tthis._updateState();\r\n\t\tthis.Container_draw(ctx, ignoreCache);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp.getBounds = function() {\r\n\t\tthis._updateText();\r\n\t\treturn this.Container_getBounds();\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\tvar hasContent = this.cacheCanvas || (this.spriteSheet && this.spriteSheet.complete && this.text);\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX !== 0 && this.scaleY !== 0 && hasContent);\r\n\t};\r\n\t\r\n\tp.clone = function() {\r\n\t\treturn this._cloneProps(new BitmapText(this.text, this.spriteSheet));\r\n\t};\r\n\t\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method addChild\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method addChildAt\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method removeChild\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method removeChildAt\r\n\t **/\r\n\t/**\r\n\t * <strong>Disabled in BitmapText.</strong>\r\n\t * @method removeAllChildren\r\n\t **/\r\n\tp.addChild = p.addChildAt = p.removeChild = p.removeChildAt = p.removeAllChildren = function() {};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp._updateState = function() {\r\n\t\tthis._updateText();\r\n\t};\r\n\r\n \t/**\r\n\t * @method _cloneProps\r\n\t * @param {BitmapText} o\r\n\t * @return {BitmapText} o\r\n\t * @protected\r\n\t **/\r\n\tp._cloneProps = function(o) {\r\n\t\tthis.Container__cloneProps(o);\r\n\t\to.lineHeight = this.lineHeight;\r\n\t\to.letterSpacing = this.letterSpacing;\r\n\t\to.spaceWidth = this.spaceWidth;\r\n\t\treturn o;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getFrameIndex\r\n\t * @param {String} character\r\n\t * @param {SpriteSheet} spriteSheet\r\n\t * @return {Number}\r\n\t * @protected\r\n\t **/\r\n\tp._getFrameIndex = function(character, spriteSheet) {\r\n\t\tvar c, o = spriteSheet.getAnimation(character);\r\n\t\tif (!o) {\r\n\t\t\t(character != (c = character.toUpperCase())) || (character != (c = character.toLowerCase())) || (c=null);\r\n\t\t\tif (c) { o = spriteSheet.getAnimation(c); }\r\n\t\t}\r\n\t\treturn o && o.frames[0];\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getFrame\r\n\t * @param {String} character\r\n\t * @param {SpriteSheet} spriteSheet\r\n\t * @return {Object}\r\n\t * @protected\r\n\t **/\r\n\tp._getFrame = function(character, spriteSheet) {\r\n\t\tvar index = this._getFrameIndex(character, spriteSheet);\r\n\t\treturn index == null ? index : spriteSheet.getFrame(index);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getLineHeight\r\n\t * @param {SpriteSheet} ss\r\n\t * @return {Number}\r\n\t * @protected\r\n\t **/\r\n\tp._getLineHeight = function(ss) {\r\n\t\tvar frame = this._getFrame(\"1\",ss) || this._getFrame(\"T\",ss) || this._getFrame(\"L\",ss) || ss.getFrame(0);\r\n\t\treturn frame ? frame.rect.height : 1;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getSpaceWidth\r\n\t * @param {SpriteSheet} ss\r\n\t * @return {Number}\r\n\t * @protected\r\n\t **/\r\n\tp._getSpaceWidth = function(ss) {\r\n\t\tvar frame = this._getFrame(\"1\",ss) || this._getFrame(\"l\",ss) || this._getFrame(\"e\",ss) || this._getFrame(\"a\",ss) || ss.getFrame(0);\r\n\t\treturn frame ? frame.rect.width : 1;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _updateText\r\n\t * @protected\r\n\t **/\r\n\tp._updateText = function() {\r\n\t\tvar x=0, y=0, o=this._oldProps, change=false, spaceW=this.spaceWidth, lineH=this.lineHeight, ss=this.spriteSheet;\r\n\t\tvar pool=BitmapText._spritePool, kids=this.children, childIndex=0, numKids=kids.length, sprite;\r\n\t\t\r\n\t\tfor (var n in o) {\r\n\t\t\tif (o[n] != this[n]) {\r\n\t\t\t\to[n] = this[n];\r\n\t\t\t\tchange = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!change) { return; }\r\n\t\t\r\n\t\tvar hasSpace = !!this._getFrame(\" \", ss);\r\n\t\tif (!hasSpace && !spaceW) { spaceW = this._getSpaceWidth(ss); }\r\n\t\tif (!lineH) { lineH = this._getLineHeight(ss); }\r\n\t\t\r\n\t\tfor(var i=0, l=this.text.length; i<l; i++) {\r\n\t\t\tvar character = this.text.charAt(i);\r\n\t\t\tif (character == \" \" && !hasSpace) {\r\n\t\t\t\tx += spaceW;\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (character==\"\\n\" || character==\"\\r\") {\r\n\t\t\t\tif (character==\"\\r\" && this.text.charAt(i+1) == \"\\n\") { i++; } // crlf\r\n\t\t\t\tx = 0;\r\n\t\t\t\ty += lineH;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar index = this._getFrameIndex(character, ss);\r\n\t\t\tif (index == null) { continue; }\r\n\t\t\t\r\n\t\t\tif (childIndex < numKids) {\r\n\t\t\t\tsprite = kids[childIndex];\r\n\t\t\t} else {\r\n\t\t\t\tkids.push(sprite = pool.length ? pool.pop() : new createjs.Sprite());\r\n\t\t\t\tsprite.parent = this;\r\n\t\t\t\tnumKids++;\r\n\t\t\t}\r\n\t\t\tsprite.spriteSheet = ss;\r\n\t\t\tsprite.gotoAndStop(index);\r\n\t\t\tsprite.x = x;\r\n\t\t\tsprite.y = y;\r\n\t\t\tchildIndex++;\r\n\t\t\t\r\n\t\t\tx += sprite.getBounds().width + this.letterSpacing;\r\n\t\t}\r\n\t\twhile (numKids > childIndex) {\r\n\t\t\t // faster than removeChild.\r\n\t\t\tpool.push(sprite = kids.pop());\r\n\t\t\tsprite.parent = null;\r\n\t\t\tnumKids--;\r\n\t\t}\r\n\t\tif (pool.length > BitmapText.maxPoolSize) { pool.length = BitmapText.maxPoolSize; }\r\n\t};\r\n\r\n\r\n\tcreatejs.BitmapText = createjs.promote(BitmapText, \"Container\");\r\n}());\r\n\r\n//##############################################################################\r\n// MovieClip.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The MovieClip class associates a TweenJS Timeline with an EaselJS {{#crossLink \"Container\"}}{{/crossLink}}. It allows\r\n\t * you to create objects which encapsulate timeline animations, state changes, and synched actions. The MovieClip\r\n\t * class has been included in the EaselJS minified file since 0.7.0.\r\n\t *\r\n\t * Currently MovieClip only works properly if it is tick based (as opposed to time based) though some concessions have\r\n\t * been made to support time-based timelines in the future.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example animates two shapes back and forth. The grey shape starts on the left, but we jump to a mid-point in\r\n\t * the animation using {{#crossLink \"MovieClip/gotoAndPlay\"}}{{/crossLink}}.\r\n\t *\r\n\t *      var stage = new createjs.Stage(\"canvas\");\r\n\t *      createjs.Ticker.addEventListener(\"tick\", stage);\r\n\t *\r\n\t *      var mc = new createjs.MovieClip({loop:-1, labels:{myLabel:20}});\r\n\t *      stage.addChild(mc);\r\n\t *\r\n\t *      var child1 = new createjs.Shape(\r\n\t *          new createjs.Graphics().beginFill(\"#999999\")\r\n\t *              .drawCircle(30,30,30));\r\n\t *      var child2 = new createjs.Shape(\r\n\t *          new createjs.Graphics().beginFill(\"#5a9cfb\")\r\n\t *              .drawCircle(30,30,30));\r\n\t *\r\n\t *      mc.timeline.addTween(\r\n\t *          createjs.Tween.get(child1)\r\n\t *              .to({x:0}).to({x:60}, 50).to({x:0}, 50));\r\n\t *      mc.timeline.addTween(\r\n\t *          createjs.Tween.get(child2)\r\n\t *              .to({x:60}).to({x:0}, 50).to({x:60}, 50));\r\n\t *\r\n\t *      mc.gotoAndPlay(\"start\");\r\n\t *\r\n\t * It is recommended to use <code>tween.to()</code> to animate and set properties (use no duration to have it set\r\n\t * immediately), and the <code>tween.wait()</code> method to create delays between animations. Note that using the\r\n\t * <code>tween.set()</code> method to affect properties will likely not provide the desired result.\r\n\t *\r\n\t * @class MovieClip\r\n\t * @main MovieClip\r\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{mode:MovieClip.SYNCHED}`).\r\n\t * Supported props for the MovieClip are listed below. These props are set on the corresponding instance properties except where\r\n\t * specified.<UL>\r\n\t *    <LI> `mode`</LI>\r\n\t *    <LI> `startPosition`</LI>\r\n\t *    <LI> `frameBounds`</LI>\r\n\t * </UL>\r\n\t * \r\n\t * This object will also be passed into the Timeline instance associated with this MovieClip. See the documentation\r\n\t * for Timeline for a list of supported props (ex. `paused`, `labels`, `loop`, `reversed`, etc.)\r\n\t * @extends Container\r\n\t * @constructor\r\n\t **/\r\n\tfunction MovieClip(props) {\r\n\t\tthis.Container_constructor();\r\n\t\t!MovieClip.inited&&MovieClip.init(); // static init\r\n\t\t\r\n\t\tvar mode, startPosition, loop, labels;\r\n\t\t\r\n\t\t// handle old params (mode, startPosition, loop, labels):\r\n\t\t// TODO: deprecated param handling:\r\n\t\tif (props instanceof String || arguments.length > 1) {\r\n\t\t\tmode = props;\r\n\t\t\tstartPosition = arguments[1];\r\n\t\t\tloop = arguments[2];\r\n\t\t\tlabels = arguments[3];\r\n\t\t\tif (loop == null) { loop = -1; }\r\n\t\t\tprops = null;\r\n\t\t} else if (props) {\r\n\t\t\tmode = props.mode;\r\n\t\t\tstartPosition = props.startPosition;\r\n\t\t\tloop = props.loop;\r\n\t\t\tlabels = props.labels;\r\n\t\t}\r\n\t\tif (!props) { props = {labels:labels}; }\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * Controls how this MovieClip advances its time. Must be one of 0 (INDEPENDENT), 1 (SINGLE_FRAME), or 2 (SYNCHED).\r\n\t\t * See each constant for a description of the behaviour.\r\n\t\t * @property mode\r\n\t\t * @type String\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.mode = mode||MovieClip.INDEPENDENT;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies what the first frame to play in this movieclip, or the only frame to display if mode is SINGLE_FRAME.\r\n\t\t * @property startPosition\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.startPosition = startPosition||0;\r\n\t\r\n\t\t/**\r\n\t\t * Specifies how many times this MovieClip should loop. A value of -1 indicates it should loop indefinitely. A value of\r\n\t\t * 1 would cause it to loop once (ie. play a total of twice).\r\n\t\t * @property loop\r\n\t\t * @type Number\r\n\t\t * @default -1\r\n\t\t */\r\n\t\tthis.loop = loop === true ? -1 : (loop || 0);\r\n\t\r\n\t\t/**\r\n\t\t * The current frame of the movieclip.\r\n\t\t * @property currentFrame\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.currentFrame = 0;\r\n\t\r\n\t\t/**\r\n\t\t * If true, the MovieClip's position will not advance when ticked.\r\n\t\t * @property paused\r\n\t\t * @type Boolean\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis.paused = props.paused||false;\r\n\t\r\n\t\t/**\r\n\t\t * If true, actions in this MovieClip's tweens will be run when the playhead advances.\r\n\t\t * @property actionsEnabled\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t */\r\n\t\tthis.actionsEnabled = true;\r\n\t\r\n\t\t/**\r\n\t\t * If true, the MovieClip will automatically be reset to its first frame whenever the timeline adds\r\n\t\t * it back onto the display list. This only applies to MovieClip instances with mode=INDEPENDENT.\r\n\t\t * <br><br>\r\n\t\t * For example, if you had a character animation with a \"body\" child MovieClip instance\r\n\t\t * with different costumes on each frame, you could set body.autoReset = false, so that\r\n\t\t * you can manually change the frame it is on, without worrying that it will be reset\r\n\t\t * automatically.\r\n\t\t * @property autoReset\r\n\t\t * @type Boolean\r\n\t\t * @default true\r\n\t\t */\r\n\t\tthis.autoReset = true;\r\n\t\t\r\n\t\t/**\r\n\t\t * An array of bounds for each frame in the MovieClip. This is mainly intended for tool output.\r\n\t\t * @property frameBounds\r\n\t\t * @type Array\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.frameBounds = this.frameBounds||props.frameBounds; // frameBounds are set on the prototype in Animate.\r\n\t\t\r\n\t\t/**\r\n\t\t * By default MovieClip instances advance one frame per tick. Specifying a framerate for the MovieClip\r\n\t\t * will cause it to advance based on elapsed time between ticks as appropriate to maintain the target\r\n\t\t * framerate.\r\n\t\t *\r\n\t\t * For example, if a MovieClip with a framerate of 10 is placed on a Stage being updated at 40fps, then the MovieClip will\r\n\t\t * advance roughly one frame every 4 ticks. This will not be exact, because the time between each tick will\r\n\t\t * vary slightly between frames.\r\n\t\t *\r\n\t\t * This feature is dependent on the tick event object (or an object with an appropriate \"delta\" property) being\r\n\t\t * passed into {{#crossLink \"Stage/update\"}}{{/crossLink}}.\r\n\t\t * @property framerate\r\n\t\t * @type {Number}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis.framerate = null;\r\n\t\t\r\n\t\t// set up the needed props for Timeline:\r\n\t\tprops.useTicks = props.paused = true;\r\n\t\t\r\n\t\t/**\r\n\t\t * The TweenJS Timeline that is associated with this MovieClip. This is created automatically when the MovieClip\r\n\t\t * instance is initialized. Animations are created by adding <a href=\"http://tweenjs.com\">TweenJS</a> Tween\r\n\t\t * instances to the timeline.\r\n\t\t *\r\n\t\t * <h4>Example</h4>\r\n\t\t *\r\n\t\t *      var tween = createjs.Tween.get(target).to({x:0}).to({x:100}, 30);\r\n\t\t *      var mc = new createjs.MovieClip();\r\n\t\t *      mc.timeline.addTween(tween);\r\n\t\t *\r\n\t\t * Elements can be added and removed from the timeline by toggling an \"_off\" property\r\n\t\t * using the <code>tweenInstance.to()</code> method. Note that using <code>Tween.set</code> is not recommended to\r\n\t\t * create MovieClip animations. The following example will toggle the target off on frame 0, and then back on for\r\n\t\t * frame 1. You can use the \"visible\" property to achieve the same effect.\r\n\t\t *\r\n\t\t *      var tween = createjs.Tween.get(target).to({_off:false})\r\n\t\t *          .wait(1).to({_off:true})\r\n\t\t *          .wait(1).to({_off:false});\r\n\t\t *\r\n\t\t * @property timeline\r\n\t\t * @type Timeline\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis.timeline = new createjs.Timeline(props);\r\n\t\t\r\n\t\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _synchOffset\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._synchOffset = 0;\r\n\t\r\n\t\t/**\r\n\t\t * @property _rawPosition\r\n\t\t * @type Number\r\n\t\t * @default -1\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._rawPosition = -1; // TODO: evaluate using a ._reset Boolean prop instead of -1.\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _bound_resolveState\r\n\t\t * @type Function\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._bound_resolveState = this._resolveState.bind(this);\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * The time remaining from the previous tick, only applicable when .framerate is set.\r\n\t\t * @property _t\r\n\t\t * @type Number\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._t = 0;\r\n\t\r\n\t\t/**\r\n\t\t * List of display objects that are actively being managed by the MovieClip.\r\n\t\t * @property _managed\r\n\t\t * @type Object\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._managed = {};\r\n\t}\r\n\tvar p = createjs.extend(MovieClip, createjs.Container);\r\n\r\n\r\n// constants:\r\n\t/**\r\n\t * The MovieClip will advance independently of its parent, even if its parent is paused.\r\n\t * This is the default mode.\r\n\t * @property INDEPENDENT\r\n\t * @static\r\n\t * @type String\r\n\t * @default \"independent\"\r\n\t * @readonly\r\n\t **/\r\n\tMovieClip.INDEPENDENT = \"independent\";\r\n\r\n\t/**\r\n\t * The MovieClip will only display a single frame (as determined by the startPosition property).\r\n\t * @property SINGLE_FRAME\r\n\t * @static\r\n\t * @type String\r\n\t * @default \"single\"\r\n\t * @readonly\r\n\t **/\r\n\tMovieClip.SINGLE_FRAME = \"single\";\r\n\r\n\t/**\r\n\t * The MovieClip will be advanced only when its parent advances and will be synched to the position of\r\n\t * the parent MovieClip.\r\n\t * @property SYNCHED\r\n\t * @static\r\n\t * @type String\r\n\t * @default \"synched\"\r\n\t * @readonly\r\n\t **/\r\n\tMovieClip.SYNCHED = \"synched\";\r\n\t\r\n\t\r\n// static properties:\r\n\tMovieClip.inited = false;\r\n\t\r\n\t\r\n// static methods:\r\n\tMovieClip.init = function() {\r\n\t\tif (MovieClip.inited) { return; }\r\n\t\t// plugins introduce some overhead to Tween, so we only install this if an MC is instantiated.\r\n\t\tMovieClipPlugin.install();\r\n\t\tMovieClip.inited = true;\r\n\t};\r\n\t\r\n\t\r\n// getter / setters:\r\n\t/**\r\n\t * Use the {{#crossLink \"MovieClip/labels:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getLabels\r\n\t * @protected\r\n\t * @return {Array}\r\n\t **/\r\n\tp._getLabels = function() {\r\n\t\treturn this.timeline.getLabels();\r\n\t};\r\n\t// MovieClip.getLabels is @deprecated. Remove for 1.1+\r\n\tp.getLabels = createjs.deprecate(p._getLabels, \"MovieClip.getLabels\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"MovieClip/currentLabel:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getCurrentLabel\r\n\t * @protected\r\n\t * @return {String}\r\n\t **/\r\n\tp._getCurrentLabel = function() {\r\n\t\treturn this.timeline.currentLabel;\r\n\t};\r\n\t// MovieClip.getCurrentLabel is @deprecated. Remove for 1.1+\r\n\tp.getCurrentLabel = createjs.deprecate(p._getCurrentLabel, \"MovieClip.getCurrentLabel\");\r\n\r\n\t/**\r\n\t * Use the {{#crossLink \"MovieClip/duration:property\"}}{{/crossLink}} property instead.\r\n\t * @method _getDuration\r\n\t * @protected\r\n\t * @return {Number}\r\n\t **/\r\n\tp._getDuration = function() {\r\n\t\treturn this.timeline.duration;\r\n\t};\r\n\t// MovieClip.getDuration is @deprecated. Remove for 1.1+\r\n\tp.getDuration = createjs.deprecate(p._getDuration, \"MovieClip.getDuration\");\r\n\r\n\t/**\r\n\t * Returns an array of objects with label and position (aka frame) properties, sorted by position.\r\n\t * @property labels\r\n\t * @type {Array}\r\n\t * @readonly\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Returns the name of the label on or immediately before the current frame.\r\n\t * @property currentLabel\r\n\t * @type {String}\r\n\t * @readonly\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Returns the duration of this MovieClip in seconds or ticks.\r\n\t * @property totalFrames\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t **/\r\n\t\r\n\t/**\r\n\t * Returns the duration of this MovieClip in seconds or ticks.\r\n\t * @property duration\r\n\t * @type {Number}\r\n\t * @readonly\r\n\t **/\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tlabels: { get: p._getLabels },\r\n\t\t\tcurrentLabel: { get: p._getCurrentLabel },\r\n\t\t\ttotalFrames: { get: p._getDuration },\r\n\t\t\tduration: { get: p._getDuration }\r\n\t\t\t// TODO: can we just proxy .currentFrame to tl.position as well? Ditto for .loop (or just remove entirely).\r\n\t\t});\r\n\t} catch (e) {}\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\r\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\r\n\t * @method initialize\r\n\t * @deprecated in favour of `createjs.promote()`\r\n\t **/\r\n\tp.initialize = MovieClip; // TODO: Deprecated. This is for backwards support of Adobe Flash/Animate\r\n\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t **/\r\n\tp.isVisible = function() {\r\n\t\t// children are placed in draw, so we can't determine if we have content.\r\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t **/\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\t// draw to cache first:\r\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\r\n\t\tthis._updateState();\r\n\t\tthis.Container_draw(ctx, ignoreCache);\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets paused to false.\r\n\t * @method play\r\n\t **/\r\n\tp.play = function() {\r\n\t\tthis.paused = false;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Sets paused to true.\r\n\t * @method stop\r\n\t **/\r\n\tp.stop = function() {\r\n\t\tthis.paused = true;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances this movie clip to the specified position or label and sets paused to false.\r\n\t * @method gotoAndPlay\r\n\t * @param {String|Number} positionOrLabel The animation name or frame number to go to.\r\n\t **/\r\n\tp.gotoAndPlay = function(positionOrLabel) {\r\n\t\tthis.paused = false;\r\n\t\tthis._goto(positionOrLabel);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances this movie clip to the specified position or label and sets paused to true.\r\n\t * @method gotoAndStop\r\n\t * @param {String|Number} positionOrLabel The animation or frame name to go to.\r\n\t **/\r\n\tp.gotoAndStop = function(positionOrLabel) {\r\n\t\tthis.paused = true;\r\n\t\tthis._goto(positionOrLabel);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Advances the playhead. This occurs automatically each tick by default.\r\n\t * @param [time] {Number} The amount of time in ms to advance by. Only applicable if framerate is set.\r\n\t * @method advance\r\n\t*/\r\n\tp.advance = function(time) {\r\n\t\tvar independent = MovieClip.INDEPENDENT;\r\n\t\tif (this.mode !== independent) { return; } // update happens in draw for synched clips\r\n\t\t\r\n\t\t// if this MC doesn't have a framerate, hunt ancestors for one:\r\n\t\tvar o=this, fps = o.framerate;\r\n\t\twhile ((o = o.parent) && fps === null) { if (o.mode === independent) { fps = o._framerate; } }\r\n\t\tthis._framerate = fps;\r\n\t\t\r\n\t\tif (this.paused) { return; }\r\n\t\t\r\n\t\t// calculate how many frames to advance:\r\n\t\tvar t = (fps !== null && fps !== -1 && time !== null) ? time/(1000/fps) + this._t : 1;\r\n\t\tvar frames = t|0;\r\n\t\tthis._t = t-frames; // leftover time, save to add to next advance.\r\n\t\t\r\n\t\twhile (frames--) { this._updateTimeline(this._rawPosition+1, false); }\r\n\t};\r\n\t\r\n\t/**\r\n\t * MovieClip instances cannot be cloned.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\t// TODO: add support for this? Need to clone the Timeline & retarget tweens - pretty complex.\r\n\t\tthrow(\"MovieClip cannot be cloned.\");\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[MovieClip (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * Docced in superclass.\r\n\t **/\r\n\tp._updateState = function() {\r\n\t\tif (this._rawPosition === -1 || this.mode !== MovieClip.INDEPENDENT) { this._updateTimeline(-1); }\r\n\t};\r\n\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * function.\r\n\t * @protected\r\n\t **/\r\n\tp._tick = function(evtObj) {\r\n\t\tthis.advance(evtObj&&evtObj.delta);\r\n\t\tthis.Container__tick(evtObj);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _goto\r\n\t * @param {String|Number} positionOrLabel The animation name or frame number to go to.\r\n\t * @protected\r\n\t **/\r\n\tp._goto = function(positionOrLabel) {\r\n\t\tvar pos = this.timeline.resolve(positionOrLabel);\r\n\t\tif (pos == null) { return; }\r\n\t\tthis._t = 0;\r\n\t\tthis._updateTimeline(pos, true);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _reset\r\n\t * @private\r\n\t **/\r\n\tp._reset = function() {\r\n\t\tthis._rawPosition = -1;\r\n\t\tthis._t = this.currentFrame = 0;\r\n\t\tthis.paused = false;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _updateTimeline\r\n\t * @param {Boolean} jump Indicates whether this update is due to jumping (via gotoAndXX) to a new position.\r\n\t * @protected\r\n\t **/\r\n\tp._updateTimeline = function(rawPosition, jump) {\r\n\t\tvar synced = this.mode !== MovieClip.INDEPENDENT, tl = this.timeline;\r\n\t\tif (synced) { rawPosition = this.startPosition + (this.mode===MovieClip.SINGLE_FRAME?0:this._synchOffset); }\r\n\t\tif (rawPosition < 0) { rawPosition = 0; }\r\n\t\tif (this._rawPosition === rawPosition && !synced) { return; }\r\n\t\tthis._rawPosition = rawPosition;\r\n\t\t\r\n\t\t// update timeline position, ignoring actions if this is a graphic.\r\n\t\ttl.loop = this.loop; // TODO: should we maintain this on MovieClip, or just have it on timeline?\r\n\t\ttl.setPosition(rawPosition, synced || !this.actionsEnabled, jump, this._bound_resolveState);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Renders position 0 without running actions or updating _rawPosition.\r\n\t * Primarily used by Animate CC to build out the first frame in the constructor of MC symbols.\r\n\t * NOTE: not tested when run after the MC advances past the first frame.\r\n\t * @method _renderFirstFrame\r\n\t * @protected\r\n\t **/\r\n\tp._renderFirstFrame = function() {\r\n\t\tvar tl = this.timeline, pos = tl.rawPosition;\r\n\t\ttl.setPosition(0, true, true, this._bound_resolveState);\r\n\t\ttl.rawPosition = pos;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Runs via a callback after timeline property updates and before actions.\r\n\t * @method _resolveState\r\n\t * @protected\r\n\t **/\r\n\tp._resolveState = function() {\r\n\t\tvar tl = this.timeline;\r\n\t\tthis.currentFrame = tl.position;\r\n\t\t\r\n\t\tfor (var n in this._managed) { this._managed[n] = 1; }\r\n\r\n\t\tvar tweens = tl.tweens;\r\n\t\tfor (var i=0, l=tweens.length; i<l; i++) {\r\n\t\t\tvar tween = tweens[i],  target = tween.target;\r\n\t\t\tif (target === this || tween.passive) { continue; } // TODO: this assumes the actions tween from Animate has `this` as the target. There's likely a better approach.\r\n\t\t\tvar offset = tween._stepPosition;\r\n\r\n\t\t\tif (target instanceof createjs.DisplayObject) {\r\n\t\t\t\t// motion tween.\r\n\t\t\t\tthis._addManagedChild(target, offset);\r\n\t\t\t} else {\r\n\t\t\t\t// state tween.\r\n\t\t\t\tthis._setState(target.state, offset);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar kids = this.children;\r\n\t\tfor (i=kids.length-1; i>=0; i--) {\r\n\t\t\tvar id = kids[i].id;\r\n\t\t\tif (this._managed[id] === 1) {\r\n\t\t\t\tthis.removeChildAt(i);\r\n\t\t\t\tdelete(this._managed[id]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _setState\r\n\t * @param {Array} state\r\n\t * @param {Number} offset\r\n\t * @protected\r\n\t **/\r\n\tp._setState = function(state, offset) {\r\n\t\tif (!state) { return; }\r\n\t\tfor (var i=state.length-1;i>=0;i--) {\r\n\t\t\tvar o = state[i];\r\n\t\t\tvar target = o.t;\r\n\t\t\tvar props = o.p;\r\n\t\t\tfor (var n in props) { target[n] = props[n]; }\r\n\t\t\tthis._addManagedChild(target, offset);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Adds a child to the timeline, and sets it up as a managed child.\r\n\t * @method _addManagedChild\r\n\t * @param {MovieClip} child The child MovieClip to manage\r\n\t * @param {Number} offset\r\n\t * @private\r\n\t **/\r\n\tp._addManagedChild = function(child, offset) {\r\n\t\tif (child._off) { return; }\r\n\t\tthis.addChildAt(child,0);\r\n\r\n\t\tif (child instanceof MovieClip) {\r\n\t\t\tchild._synchOffset = offset;\r\n\t\t\t// TODO: this does not precisely match Adobe Flash/Animate, which loses track of the clip if it is renamed or removed from the timeline, which causes it to reset.\r\n\t\t\t// TODO: should also reset when MovieClip loops, though that will be a bit tricky to detect.\r\n\t\t\tif (child.mode === MovieClip.INDEPENDENT && child.autoReset && (!this._managed[child.id])) { child._reset(); }\r\n\t\t}\r\n\t\tthis._managed[child.id] = 2;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _getBounds\r\n\t * @param {Matrix2D} matrix\r\n\t * @param {Boolean} ignoreTransform\r\n\t * @return {Rectangle}\r\n\t * @protected\r\n\t **/\r\n\tp._getBounds = function(matrix, ignoreTransform) {\r\n\t\tvar bounds = this.DisplayObject_getBounds();\r\n\t\tif (!bounds) {\r\n\t\t\tif (this.frameBounds) { bounds = this._rectangle.copy(this.frameBounds[this.currentFrame]); }\r\n\t\t}\r\n\t\tif (bounds) { return this._transformBounds(bounds, matrix, ignoreTransform); }\r\n\t\treturn this.Container__getBounds(matrix, ignoreTransform);\r\n\t};\r\n\r\n\r\n\tcreatejs.MovieClip = createjs.promote(MovieClip, \"Container\");\r\n\r\n\r\n\r\n// MovieClipPlugin for TweenJS:\r\n\t/**\r\n\t * This plugin works with <a href=\"http://tweenjs.com\" target=\"_blank\">TweenJS</a> to prevent the startPosition\r\n\t * property from tweening.\r\n\t * @private\r\n\t * @class MovieClipPlugin\r\n\t * @constructor\r\n\t **/\r\n\tfunction MovieClipPlugin() {\r\n\t\tthrow(\"MovieClipPlugin cannot be instantiated.\")\r\n\t}\r\n\t\r\n\t/**\r\n\t * @property priority\r\n\t * @type {Number}\r\n\t * @static\r\n\t * @readonly\r\n\t **/\r\n\tMovieClipPlugin.priority = 100; // very high priority, should run first\r\n\t\r\n\t/**\r\n\t * @property ID\r\n\t * @type {String}\r\n\t * @static\r\n\t * @readonly\r\n\t **/\r\n\tMovieClipPlugin.ID = \"MovieClip\";\r\n\r\n\t/**\r\n\t * @method install\r\n\t * @static\r\n\t **/\r\n\tMovieClipPlugin.install = function() {\r\n\t\tcreatejs.Tween._installPlugin(MovieClipPlugin);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method init\r\n\t * @param {Tween} tween\r\n\t * @param {String} prop\r\n\t * @param {*} value\r\n\t * @static\r\n\t **/\r\n\tMovieClipPlugin.init = function(tween, prop, value) {\r\n\t\tif (prop === \"startPosition\" && tween.target instanceof MovieClip) { tween._addPlugin(MovieClipPlugin); }\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method step\r\n\t * @param {Tween} tween\r\n\t * @param {TweenStep} step\r\n\t * @param {Object} props\r\n\t * @static\r\n\t **/\r\n\tMovieClipPlugin.step = function(tween, step, props) {};\r\n\r\n\t/**\r\n\t * @method change\r\n\t * @param {Tween} tween\r\n\t * @param {TweenStep} step\r\n\t * @param {*} value\r\n\t * @param {Number} ratio\r\n\t * @param {Object} end\r\n\t * @return {*}\r\n\t * @static\r\n\t */\r\n\tMovieClipPlugin.change = function(tween, step, prop, value, ratio, end) {\r\n\t\tif (prop === \"startPosition\") { return (ratio === 1 ? step.props[prop] : step.prev.props[prop]); }\r\n\t};\r\n\r\n}());\r\n\r\n//##############################################################################\r\n// SpriteSheetUtils.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\t\r\n\t\r\n// constructor:\r\n\t/**\r\n\t * The SpriteSheetUtils class is a collection of static methods for working with {{#crossLink \"SpriteSheet\"}}{{/crossLink}}s.\r\n\t * A sprite sheet is a series of images (usually animation frames) combined into a single image on a regular grid. For\r\n\t * example, an animation consisting of 8 100x100 images could be combined into a 400x200 sprite sheet (4 frames across\r\n\t * by 2 high). The SpriteSheetUtils class uses a static interface and should not be instantiated.\r\n\t * @class SpriteSheetUtils\r\n\t * @static\r\n\t **/\r\n\tfunction SpriteSheetUtils() {\r\n\t\tthrow \"SpriteSheetUtils cannot be instantiated\";\r\n\t}\r\n\r\n\r\n// private static properties:\r\n\t/**\r\n\t * @property _workingCanvas\r\n\t * @static\r\n\t * @type HTMLCanvasElement | Object\r\n\t * @protected\r\n\t*/\r\n\t/**\r\n\t * @property _workingContext\r\n\t * @static\r\n\t * @type CanvasRenderingContext2D\r\n\t * @protected\r\n\t*/\r\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\r\n\tif (canvas.getContext) {\r\n\t\tSpriteSheetUtils._workingCanvas = canvas;\r\n\t\tSpriteSheetUtils._workingContext = canvas.getContext(\"2d\");\r\n\t\tcanvas.width = canvas.height = 1;\r\n\t}\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Returns a single frame of the specified sprite sheet as a new PNG image. An example of when this may be useful is\r\n\t * to use a spritesheet frame as the source for a bitmap fill.\r\n\t *\r\n\t * <strong>WARNING:</strong> In almost all cases it is better to display a single frame using a {{#crossLink \"Sprite\"}}{{/crossLink}}\r\n\t * with a {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} call than it is to slice out a frame using this\r\n\t * method and display it with a Bitmap instance. You can also crop an image using the {{#crossLink \"Bitmap/sourceRect\"}}{{/crossLink}}\r\n\t * property of {{#crossLink \"Bitmap\"}}{{/crossLink}}.\r\n\t *\r\n\t * The extractFrame method may cause cross-domain warnings since it accesses pixels directly on the canvas.\r\n\t * @method extractFrame\r\n\t * @static\r\n\t * @param {SpriteSheet} spriteSheet The SpriteSheet instance to extract a frame from.\r\n\t * @param {Number|String} frameOrAnimation The frame number or animation name to extract. If an animation\r\n\t * name is specified, only the first frame of the animation will be extracted.\r\n\t * @return {HTMLImageElement} a single frame of the specified sprite sheet as a new PNG image.\r\n\t*/\r\n\tSpriteSheetUtils.extractFrame = function(spriteSheet, frameOrAnimation) {\r\n\t\tif (isNaN(frameOrAnimation)) {\r\n\t\t\tframeOrAnimation = spriteSheet.getAnimation(frameOrAnimation).frames[0];\r\n\t\t}\r\n\t\tvar data = spriteSheet.getFrame(frameOrAnimation);\r\n\t\tif (!data) { return null; }\r\n\t\tvar r = data.rect;\r\n\t\tvar canvas = SpriteSheetUtils._workingCanvas;\r\n\t\tcanvas.width = r.width;\r\n\t\tcanvas.height = r.height;\r\n\t\tSpriteSheetUtils._workingContext.drawImage(data.image, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height);\r\n\t\tvar img = document.createElement(\"img\");\r\n\t\timg.src = canvas.toDataURL(\"image/png\");\r\n\t\treturn img;\r\n\t};\r\n\r\n\t// SpriteSheetUtils.addFlippedFrames is @deprecated. Remove for 1.1+\r\n\tSpriteSheetUtils.addFlippedFrames = createjs.deprecate(null, \"SpriteSheetUtils.addFlippedFrames\");\r\n\r\n\t// SpriteSheetUtils.addFlippedFrames is @deprecated. Remove for 1.1+\r\n\tSpriteSheetUtils.mergeAlpha = createjs.deprecate(null, \"SpriteSheetUtils.mergeAlpha\");\r\n\r\n\t\r\n// private static methods:\r\n\tSpriteSheetUtils._flip = function(spriteSheet, count, h, v) {\r\n\t\tvar imgs = spriteSheet._images;\r\n\t\tvar canvas = SpriteSheetUtils._workingCanvas;\r\n\t\tvar ctx = SpriteSheetUtils._workingContext;\r\n\t\tvar il = imgs.length/count;\r\n\t\tfor (var i=0;i<il;i++) {\r\n\t\t\tvar src = imgs[i];\r\n\t\t\tsrc.__tmp = i; // a bit hacky, but faster than doing indexOf below.\r\n\t\t\tctx.setTransform(1,0,0,1,0,0);\r\n\t\t\tctx.clearRect(0,0,canvas.width+1,canvas.height+1);\r\n\t\t\tcanvas.width = src.width;\r\n\t\t\tcanvas.height = src.height;\r\n\t\t\tctx.setTransform(h?-1:1, 0, 0, v?-1:1, h?src.width:0, v?src.height:0);\r\n\t\t\tctx.drawImage(src,0,0);\r\n\t\t\tvar img = document.createElement(\"img\");\r\n\t\t\timg.src = canvas.toDataURL(\"image/png\");\r\n\t\t\t// work around a strange bug in Safari:\r\n\t\t\timg.width = (src.width||src.naturalWidth);\r\n\t\t\timg.height = (src.height||src.naturalHeight);\r\n\t\t\timgs.push(img);\r\n\t\t}\r\n\r\n\t\tvar frames = spriteSheet._frames;\r\n\t\tvar fl = frames.length/count;\r\n\t\tfor (i=0;i<fl;i++) {\r\n\t\t\tsrc = frames[i];\r\n\t\t\tvar rect = src.rect.clone();\r\n\t\t\timg = imgs[src.image.__tmp+il*count];\r\n\r\n\t\t\tvar frame = {image:img,rect:rect,regX:src.regX,regY:src.regY};\r\n\t\t\tif (h) {\r\n\t\t\t\trect.x = (img.width||img.naturalWidth)-rect.x-rect.width; // update rect\r\n\t\t\t\tframe.regX = rect.width-src.regX; // update registration point\r\n\t\t\t}\r\n\t\t\tif (v) {\r\n\t\t\t\trect.y = (img.height||img.naturalHeight)-rect.y-rect.height;  // update rect\r\n\t\t\t\tframe.regY = rect.height-src.regY; // update registration point\r\n\t\t\t}\r\n\t\t\tframes.push(frame);\r\n\t\t}\r\n\r\n\t\tvar sfx = \"_\"+(h?\"h\":\"\")+(v?\"v\":\"\");\r\n\t\tvar names = spriteSheet._animations;\r\n\t\tvar data = spriteSheet._data;\r\n\t\tvar al = names.length/count;\r\n\t\tfor (i=0;i<al;i++) {\r\n\t\t\tvar name = names[i];\r\n\t\t\tsrc = data[name];\r\n\t\t\tvar anim = {name:name+sfx,speed:src.speed,next:src.next,frames:[]};\r\n\t\t\tif (src.next) { anim.next += sfx; }\r\n\t\t\tframes = src.frames;\r\n\t\t\tfor (var j=0,l=frames.length;j<l;j++) {\r\n\t\t\t\tanim.frames.push(frames[j]+fl*count);\r\n\t\t\t}\r\n\t\t\tdata[anim.name] = anim;\r\n\t\t\tnames.push(anim.name);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tcreatejs.SpriteSheetUtils = SpriteSheetUtils;\r\n}());\r\n\r\n//##############################################################################\r\n// SpriteSheetBuilder.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The SpriteSheetBuilder allows you to generate {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances at run time\r\n\t * from any display object. This can allow you to maintain your assets as vector graphics (for low file size), and\r\n\t * render them at run time as SpriteSheets for better performance.\r\n\t *\r\n\t * SpriteSheets can be built either synchronously, or asynchronously, so that large SpriteSheets can be generated\r\n\t * without locking the UI.\r\n\t *\r\n\t * Note that the \"images\" used in the generated SpriteSheet are actually canvas elements, and that they will be\r\n\t * sized to the nearest power of 2 up to the value of {{#crossLink \"SpriteSheetBuilder/maxWidth:property\"}}{{/crossLink}}\r\n\t * or {{#crossLink \"SpriteSheetBuilder/maxHeight:property\"}}{{/crossLink}}.\r\n\t * @class SpriteSheetBuilder\r\n\t * @param {Number} [framerate=0] The {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} of\r\n\t * {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances that are created.\r\n\t * @extends EventDispatcher\r\n\t * @constructor\r\n\t **/\r\n\tfunction SpriteSheetBuilder(framerate) {\r\n\t\tthis.EventDispatcher_constructor();\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The maximum width for the images (not individual frames) in the generated SpriteSheet. It is recommended to\r\n\t\t * use a power of 2 for this value (ex. 1024, 2048, 4096). If the frames cannot all fit within the max\r\n\t\t * dimensions, then additional images will be created as needed.\r\n\t\t * @property maxWidth\r\n\t\t * @type Number\r\n\t\t * @default 2048\r\n\t\t*/\r\n\t\tthis.maxWidth = 2048;\r\n\t\r\n\t\t/**\r\n\t\t * The maximum height for the images (not individual frames) in the generated SpriteSheet. It is recommended to\r\n\t\t * use a power of 2 for this value (ex. 1024, 2048, 4096). If the frames cannot all fit within the max\r\n\t\t * dimensions, then additional images will be created as needed.\r\n\t\t * @property maxHeight\r\n\t\t * @type Number\r\n\t\t * @default 2048\r\n\t\t **/\r\n\t\tthis.maxHeight = 2048;\r\n\t\r\n\t\t/**\r\n\t\t * The SpriteSheet that was generated. This will be null before a build is completed successfully.\r\n\t\t * @property spriteSheet\r\n\t\t * @type SpriteSheet\r\n\t\t **/\r\n\t\tthis.spriteSheet = null;\r\n\t\r\n\t\t/**\r\n\t\t * The scale to apply when drawing all frames to the SpriteSheet. This is multiplied against any scale specified\r\n\t\t * in the addFrame call. This can be used, for example, to generate a SpriteSheet at run time that is tailored\r\n\t\t * to the a specific device resolution (ex. tablet vs mobile).\r\n\t\t * @property scale\r\n\t\t * @type Number\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scale = 1;\r\n\t\r\n\t\t/**\r\n\t\t* The padding to use between frames. This is helpful to preserve antialiasing on drawn vector content.\r\n\t\t* @property padding\r\n\t\t* @type Number\r\n\t\t* @default 1\r\n\t\t**/\r\n\t\tthis.padding = 1;\r\n\t\r\n\t\t/**\r\n\t\t * A number from 0.01 to 0.99 that indicates what percentage of time the builder can use. This can be\r\n\t\t * thought of as the number of seconds per second the builder will use. For example, with a timeSlice value of 0.3,\r\n\t\t * the builder will run 20 times per second, using approximately 15ms per build (30% of available time, or 0.3s per second).\r\n\t\t * Defaults to 0.3.\r\n\t\t * @property timeSlice\r\n\t\t * @type Number\r\n\t\t * @default 0.3\r\n\t\t **/\r\n\t\tthis.timeSlice = 0.3;\r\n\t\r\n\t\t/**\r\n\t\t * A value between 0 and 1 that indicates the progress of a build, or -1 if a build has not\r\n\t\t * been initiated.\r\n\t\t * @property progress\r\n\t\t * @type Number\r\n\t\t * @default -1\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.progress = -1;\r\n\r\n\t\t/**\r\n\t\t * A {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} value that will be passed to new {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances that are\r\n\t\t * created. If no framerate is specified (or it is 0), then SpriteSheets will use the {{#crossLink \"Ticker\"}}{{/crossLink}}\r\n\t\t * framerate.\r\n\t\t * @property framerate\r\n\t\t * @type Number\r\n\t\t * @default 0\r\n\t\t */\r\n\t\tthis.framerate = framerate || 0;\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _frames\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._frames = [];\r\n\t\r\n\t\t/**\r\n\t\t * @property _animations\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._animations = {};\r\n\t\r\n\t\t/**\r\n\t\t * @property _data\r\n\t\t * @protected\r\n\t\t * @type Array\r\n\t\t **/\r\n\t\tthis._data = null;\r\n\t\r\n\t\t/**\r\n\t\t * @property _nextFrameIndex\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._nextFrameIndex = 0;\r\n\t\r\n\t\t/**\r\n\t\t * @property _index\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._index = 0;\r\n\t\r\n\t\t/**\r\n\t\t * @property _timerID\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._timerID = null;\r\n\t\r\n\t\t/**\r\n\t\t * @property _scale\r\n\t\t * @protected\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._scale = 1;\r\n\t}\r\n\tvar p = createjs.extend(SpriteSheetBuilder, createjs.EventDispatcher);\r\n\r\n// constants:\r\n\tSpriteSheetBuilder.ERR_DIMENSIONS = \"frame dimensions exceed max spritesheet dimensions\";\r\n\tSpriteSheetBuilder.ERR_RUNNING = \"a build is already running\";\r\n\r\n// events:\r\n\t/**\r\n\t * Dispatched when a build completes.\r\n\t * @event complete\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\t/**\r\n\t * Dispatched when an asynchronous build has progress.\r\n\t * @event progress\r\n\t * @param {Object} target The object that dispatched the event.\r\n\t * @param {String} type The event type.\r\n\t * @param {Number} progress The current progress value (0-1).\r\n\t * @since 0.6.0\r\n\t */\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Adds a frame to the {{#crossLink \"SpriteSheet\"}}{{/crossLink}}. Note that the frame will not be drawn until you\r\n\t * call {{#crossLink \"SpriteSheetBuilder/build\"}}{{/crossLink}} method. The optional setup params allow you to have\r\n\t * a function run immediately before the draw occurs. For example, this allows you to add a single source multiple\r\n\t * times, but manipulate it or its children to change it to generate different frames.\r\n\t *\r\n\t * Note that the source's transformations (x, y, scale, rotate, alpha) will be ignored, except for regX/Y. To apply\r\n\t * transforms to a source object and have them captured in the SpriteSheet, simply place it into a {{#crossLink \"Container\"}}{{/crossLink}}\r\n\t * and pass in the Container as the source.\r\n\t * @method addFrame\r\n\t * @param {DisplayObject} source The source {{#crossLink \"DisplayObject\"}}{{/crossLink}}  to draw as the frame.\r\n\t * @param {Rectangle} [sourceRect] A {{#crossLink \"Rectangle\"}}{{/crossLink}} defining the portion of the\r\n\t * source to draw to the frame. If not specified, it will look for a `getBounds` method, bounds property, or\r\n\t * `nominalBounds` property on the source to use. If one is not found, the frame will be skipped.\r\n\t * @param {Number} [scale=1] Optional. The scale to draw this frame at. Default is 1.\r\n\t * @param {Function} [setupFunction] A function to call immediately before drawing this frame. It will be called with two parameters: the source, and setupData.\r\n\t * @param {Object} [setupData] Arbitrary setup data to pass to setupFunction as the second parameter.\r\n\t * @return {Number} The index of the frame that was just added, or null if a sourceRect could not be determined.\r\n\t **/\r\n\tp.addFrame = function(source, sourceRect, scale, setupFunction, setupData) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tvar rect = sourceRect||source.bounds||source.nominalBounds;\r\n\t\tif (!rect&&source.getBounds) { rect = source.getBounds(); }\r\n\t\tif (!rect) { return null; }\r\n\t\tscale = scale||1;\r\n\t\treturn this._frames.push({source:source, sourceRect:rect, scale:scale, funct:setupFunction, data:setupData, index:this._frames.length, height:rect.height*scale})-1;\r\n\t};\r\n\r\n\t/**\r\n\t * Adds an animation that will be included in the created {{#crossLink \"SpriteSheet\"}}{{/crossLink}}.\r\n\t * @method addAnimation\r\n\t * @param {String} name The name for the animation.\r\n\t * @param {Array} frames An array of frame indexes that comprise the animation. Ex. [3,6,5] would describe an animation\r\n\t * that played frame indexes 3, 6, and 5 in that order.\r\n\t * @param {String} [next] Specifies the name of the animation to continue to after this animation ends. You can\r\n\t * also pass false to have the animation stop when it ends. By default it will loop to the start of the same animation.\r\n\t * @param {Number} [speed] Specifies a frame advance speed for this animation. For example, a value of 0.5 would\r\n\t * cause the animation to advance every second tick. Note that earlier versions used `frequency` instead, which had\r\n\t * the opposite effect.\r\n\t **/\r\n\tp.addAnimation = function(name, frames, next, speed) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tthis._animations[name] = {frames:frames, next:next, speed:speed};\r\n\t};\r\n\r\n\t/**\r\n\t * This will take a {{#crossLink \"MovieClip\"}}{{/crossLink}} instance, and add its frames and labels to this\r\n\t * builder. Labels will be added as an animation running from the label index to the next label. For example, if\r\n\t * there is a label named \"foo\" at frame 0 and a label named \"bar\" at frame 10, in a MovieClip with 15 frames, it\r\n\t * will add an animation named \"foo\" that runs from frame index 0 to 9, and an animation named \"bar\" that runs from\r\n\t * frame index 10 to 14.\r\n\t *\r\n\t * Note that this will iterate through the full MovieClip with {{#crossLink \"MovieClip/actionsEnabled:property\"}}{{/crossLink}}\r\n\t * set to `false`, ending on the last frame.\r\n\t * @method addMovieClip\r\n\t * @param {MovieClip} source The source MovieClip instance to add to the SpriteSheet.\r\n\t * @param {Rectangle} [sourceRect] A {{#crossLink \"Rectangle\"}}{{/crossLink}} defining the portion of the source to\r\n\t * draw to the frame. If not specified, it will look for a {{#crossLink \"DisplayObject/getBounds\"}}{{/crossLink}}\r\n\t * method, `frameBounds` Array, `bounds` property, or `nominalBounds` property on the source to use. If one is not\r\n\t * found, the MovieClip will be skipped.\r\n\t * @param {Number} [scale=1] The scale to draw the movie clip at.\r\n\t * @param {Function} [setupFunction] A function to call immediately before drawing each frame. It will be called\r\n\t * with three parameters: the source, setupData, and the frame index.\r\n\t * @param {Object} [setupData] Arbitrary setup data to pass to setupFunction as the second parameter.\r\n\t * @param {Function} [labelFunction] This method will be called for each MovieClip label that is added with four\r\n\t * parameters: the label name, the source MovieClip instance, the starting frame index (in the movieclip timeline)\r\n\t * and the end index. It must return a new name for the label/animation, or `false` to exclude the label.\r\n\t **/\r\n\tp.addMovieClip = function(source, sourceRect, scale, setupFunction, setupData, labelFunction) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tvar rects = source.frameBounds;\r\n\t\tvar rect = sourceRect||source.bounds||source.nominalBounds;\r\n\t\tif (!rect&&source.getBounds) { rect = source.getBounds(); }\r\n\t\tif (!rect && !rects) { return; }\r\n\r\n\t\tvar i, l, baseFrameIndex = this._frames.length;\r\n\t\tvar duration = source.timeline.duration;\r\n\t\tfor (i=0; i<duration; i++) {\r\n\t\t\tvar r = (rects&&rects[i]) ? rects[i] : rect;\r\n\t\t\tthis.addFrame(source, r, scale, this._setupMovieClipFrame, {i:i, f:setupFunction, d:setupData});\r\n\t\t}\r\n\t\tvar labels = source.timeline._labels;\r\n\t\tvar lbls = [];\r\n\t\tfor (var n in labels) {\r\n\t\t\tlbls.push({index:labels[n], label:n});\r\n\t\t}\r\n\t\tif (lbls.length) {\r\n\t\t\tlbls.sort(function(a,b){ return a.index-b.index; });\r\n\t\t\tfor (i=0,l=lbls.length; i<l; i++) {\r\n\t\t\t\tvar label = lbls[i].label;\r\n\t\t\t\tvar start = baseFrameIndex+lbls[i].index;\r\n\t\t\t\tvar end = baseFrameIndex+((i == l-1) ? duration : lbls[i+1].index);\r\n\t\t\t\tvar frames = [];\r\n\t\t\t\tfor (var j=start; j<end; j++) { frames.push(j); }\r\n\t\t\t\tif (labelFunction) {\r\n\t\t\t\t\tlabel = labelFunction(label, source, start, end);\r\n\t\t\t\t\tif (!label) { continue; }\r\n\t\t\t\t}\r\n\t\t\t\tthis.addAnimation(label, frames, true); // for now, this loops all animations.\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Builds a {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instance based on the current frames.\r\n\t * @method build\r\n\t * @return {SpriteSheet} The created SpriteSheet instance, or null if a build is already running or an error\r\n\t * occurred.\r\n\t **/\r\n\tp.build = function() {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tthis._startBuild();\r\n\t\twhile (this._drawNext()) {}\r\n\t\tthis._endBuild();\r\n\t\treturn this.spriteSheet;\r\n\t};\r\n\r\n\t/**\r\n\t * Asynchronously builds a {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instance based on the current frames. It will\r\n\t * run 20 times per second, using an amount of time defined by `timeSlice`. When it is complete it will call the\r\n\t * specified callback.\r\n\t * @method buildAsync\r\n\t * @param {Number} [timeSlice] Sets the timeSlice property on this instance.\r\n\t **/\r\n\tp.buildAsync = function(timeSlice) {\r\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\r\n\t\tthis.timeSlice = timeSlice;\r\n\t\tthis._startBuild();\r\n\t\tvar _this = this;\r\n\t\tthis._timerID = setTimeout(function() { _this._run(); }, 50-Math.max(0.01, Math.min(0.99, this.timeSlice||0.3))*50);\r\n\t};\r\n\r\n\t/**\r\n\t * Stops the current asynchronous build.\r\n\t * @method stopAsync\r\n\t **/\r\n\tp.stopAsync = function() {\r\n\t\tclearTimeout(this._timerID);\r\n\t\tthis._data = null;\r\n\t};\r\n\r\n\t/**\r\n\t * SpriteSheetBuilder instances cannot be cloned.\r\n\t * @method clone\r\n\t **/\r\n\tp.clone = function() {\r\n\t\tthrow(\"SpriteSheetBuilder cannot be cloned.\");\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[SpriteSheetBuilder]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _startBuild\r\n\t * @protected\r\n\t **/\r\n\tp._startBuild = function() {\r\n\t\tvar pad = this.padding||0;\r\n\t\tthis.progress = 0;\r\n\t\tthis.spriteSheet = null;\r\n\t\tthis._index = 0;\r\n\t\tthis._scale = this.scale;\r\n\t\tvar dataFrames = [];\r\n\t\tthis._data = {\r\n\t\t\timages: [],\r\n\t\t\tframes: dataFrames,\r\n\t\t\tframerate: this.framerate,\r\n\t\t\tanimations: this._animations // TODO: should we \"clone\" _animations in case someone adds more animations after a build?\r\n\t\t};\r\n\r\n\t\tvar frames = this._frames.slice();\r\n\t\tframes.sort(function(a,b) { return (a.height<=b.height) ? -1 : 1; });\r\n\r\n\t\tif (frames[frames.length-1].height+pad*2 > this.maxHeight) { throw SpriteSheetBuilder.ERR_DIMENSIONS; }\r\n\t\tvar y=0, x=0;\r\n\t\tvar img = 0;\r\n\t\twhile (frames.length) {\r\n\t\t\tvar o = this._fillRow(frames, y, img, dataFrames, pad);\r\n\t\t\tif (o.w > x) { x = o.w; }\r\n\t\t\ty += o.h;\r\n\t\t\tif (!o.h || !frames.length) {\r\n\t\t\t\tvar canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\r\n\t\t\t\tcanvas.width = this._getSize(x,this.maxWidth);\r\n\t\t\t\tcanvas.height = this._getSize(y,this.maxHeight);\r\n\t\t\t\tthis._data.images[img] = canvas;\r\n\t\t\t\tif (!o.h) {\r\n\t\t\t\t\tx=y=0;\r\n\t\t\t\t\timg++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _setupMovieClipFrame\r\n\t * @protected\r\n\t * @return {Number} The width & height of the row.\r\n\t **/\r\n\tp._setupMovieClipFrame = function(source, data) {\r\n\t\tvar ae = source.actionsEnabled;\r\n\t\tsource.actionsEnabled = false;\r\n\t\tsource.gotoAndStop(data.i);\r\n\t\tsource.actionsEnabled = ae;\r\n\t\tdata.f&&data.f(source, data.d, data.i);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _getSize\r\n\t * @protected\r\n\t * @return {Number} The width & height of the row.\r\n\t **/\r\n\tp._getSize = function(size,max) {\r\n\t\tvar pow = 4;\r\n\t\twhile (Math.pow(2,++pow) < size){}\r\n\t\treturn Math.min(max,Math.pow(2,pow));\r\n\t};\r\n\r\n\t/**\r\n\t * @method _fillRow\r\n\t * @param {Array} frames\r\n\t * @param {Number} y\r\n\t * @param {HTMLImageElement} img\r\n\t * @param {Object} dataFrames\r\n\t * @param {Number} pad\r\n\t * @protected\r\n\t * @return {Number} The width & height of the row.\r\n\t **/\r\n\tp._fillRow = function(frames, y, img, dataFrames, pad) {\r\n\t\tvar w = this.maxWidth;\r\n\t\tvar maxH = this.maxHeight;\r\n\t\ty += pad;\r\n\t\tvar h = maxH-y;\r\n\t\tvar x = pad;\r\n\t\tvar height = 0;\r\n\t\tfor (var i=frames.length-1; i>=0; i--) {\r\n\t\t\tvar frame = frames[i];\r\n\t\t\tvar sc = this._scale*frame.scale;\r\n\t\t\tvar rect = frame.sourceRect;\r\n\t\t\tvar source = frame.source;\r\n\t\t\tvar rx = Math.floor(sc*rect.x-pad);\r\n\t\t\tvar ry = Math.floor(sc*rect.y-pad);\r\n\t\t\tvar rh = Math.ceil(sc*rect.height+pad*2);\r\n\t\t\tvar rw = Math.ceil(sc*rect.width+pad*2);\r\n\t\t\tif (rw > w) { throw SpriteSheetBuilder.ERR_DIMENSIONS; }\r\n\t\t\tif (rh > h || x+rw > w) { continue; }\r\n\t\t\tframe.img = img;\r\n\t\t\tframe.rect = new createjs.Rectangle(x,y,rw,rh);\r\n\t\t\theight = height || rh;\r\n\t\t\tframes.splice(i,1);\r\n\t\t\tdataFrames[frame.index] = [x,y,rw,rh,img,Math.round(-rx+sc*source.regX-pad),Math.round(-ry+sc*source.regY-pad)];\r\n\t\t\tx += rw;\r\n\t\t}\r\n\t\treturn {w:x, h:height};\r\n\t};\r\n\r\n\t/**\r\n\t * @method _endBuild\r\n\t * @protected\r\n\t **/\r\n\tp._endBuild = function() {\r\n\t\tthis.spriteSheet = new createjs.SpriteSheet(this._data);\r\n\t\tthis._data = null;\r\n\t\tthis.progress = 1;\r\n\t\tthis.dispatchEvent(\"complete\");\r\n\t};\r\n\r\n\t/**\r\n\t * @method _run\r\n\t * @protected\r\n\t **/\r\n\tp._run = function() {\r\n\t\tvar ts = Math.max(0.01, Math.min(0.99, this.timeSlice||0.3))*50;\r\n\t\tvar t = (new Date()).getTime()+ts;\r\n\t\tvar complete = false;\r\n\t\twhile (t > (new Date()).getTime()) {\r\n\t\t\tif (!this._drawNext()) { complete = true; break; }\r\n\t\t}\r\n\t\tif (complete) {\r\n\t\t\tthis._endBuild();\r\n\t\t} else {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis._timerID = setTimeout(function() { _this._run(); }, 50-ts);\r\n\t\t}\r\n\t\tvar p = this.progress = this._index/this._frames.length;\r\n\t\tif (this.hasEventListener(\"progress\")) {\r\n\t\t\tvar evt = new createjs.Event(\"progress\");\r\n\t\t\tevt.progress = p;\r\n\t\t\tthis.dispatchEvent(evt);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _drawNext\r\n\t * @protected\r\n\t * @return Boolean Returns false if this is the last draw.\r\n\t **/\r\n\tp._drawNext = function() {\r\n\t\tvar frame = this._frames[this._index];\r\n\t\tvar sc = frame.scale*this._scale;\r\n\t\tvar rect = frame.rect;\r\n\t\tvar sourceRect = frame.sourceRect;\r\n\t\tvar canvas = this._data.images[frame.img];\r\n\t\tvar ctx = canvas.getContext(\"2d\");\r\n\t\tframe.funct&&frame.funct(frame.source, frame.data);\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(rect.x, rect.y, rect.width, rect.height);\r\n\t\tctx.clip();\r\n\t\tctx.translate(Math.ceil(rect.x-sourceRect.x*sc), Math.ceil(rect.y-sourceRect.y*sc));\r\n\t\tctx.scale(sc,sc);\r\n\t\tframe.source.draw(ctx); // display object will draw itself.\r\n\t\tctx.restore();\r\n\t\treturn (++this._index) < this._frames.length;\r\n\t};\r\n\r\n\r\n\tcreatejs.SpriteSheetBuilder = createjs.promote(SpriteSheetBuilder, \"EventDispatcher\");\r\n}());\r\n\r\n//##############################################################################\r\n// DOMElement.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * <b>This class is still experimental, and more advanced use is likely to be buggy. Please report bugs.</b>\r\n\t *\r\n\t * A DOMElement allows you to associate a HTMLElement with the display list. It will be transformed\r\n\t * within the DOM as though it is child of the {{#crossLink \"Container\"}}{{/crossLink}} it is added to. However, it is\r\n\t * not rendered to canvas, and as such will retain whatever z-index it has relative to the canvas (ie. it will be\r\n\t * drawn in front of or behind the canvas).\r\n\t *\r\n\t * The position of a DOMElement is relative to their parent node in the DOM. It is recommended that\r\n\t * the DOM Object be added to a div that also contains the canvas so that they share the same position\r\n\t * on the page.\r\n\t *\r\n\t * DOMElement is useful for positioning HTML elements over top of canvas content, and for elements\r\n\t * that you want to display outside the bounds of the canvas. For example, a tooltip with rich HTML\r\n\t * content.\r\n\t *\r\n\t * <h4>Mouse Interaction</h4>\r\n\t *\r\n\t * DOMElement instances are not full EaselJS display objects, and do not participate in EaselJS mouse\r\n\t * events or support methods like hitTest. To get mouse events from a DOMElement, you must instead add handlers to\r\n\t * the htmlElement (note, this does not support EventDispatcher)\r\n\t *\r\n\t *      var domElement = new createjs.DOMElement(htmlElement);\r\n\t *      domElement.htmlElement.onclick = function() {\r\n\t *          console.log(\"clicked\");\r\n\t *      }\r\n\t *\r\n\t * <strong>Important:</strong> This class needs to be notified it is about to be drawn, this will happen automatically\r\n\t * if you call stage.update, calling stage.draw or disabling tickEnabled will miss important steps and it will render\r\n\t * stale information.\r\n\t *\r\n\t * @class DOMElement\r\n\t * @extends DisplayObject\r\n\t * @constructor\r\n\t * @param {HTMLElement} htmlElement A reference or id for the DOM element to manage.\r\n\t */\r\n\tfunction DOMElement(htmlElement) {\r\n\t\tthis.DisplayObject_constructor();\r\n\t\t\r\n\t\tif (typeof(htmlElement)==\"string\") { htmlElement = document.getElementById(htmlElement); }\r\n\t\tthis.mouseEnabled = false;\r\n\t\t\r\n\t\tvar style = htmlElement.style;\r\n\t\tstyle.position = \"absolute\";\r\n\t\tstyle.transformOrigin = style.WebkitTransformOrigin = style.msTransformOrigin = style.MozTransformOrigin = style.OTransformOrigin = \"0% 0%\";\r\n\t\t\r\n\t\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The DOM object to manage.\r\n\t\t * @property htmlElement\r\n\t\t * @type HTMLElement\r\n\t\t */\r\n\t\tthis.htmlElement = htmlElement;\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _oldMtx\r\n\t\t * @type Matrix2D\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._oldProps = null;\r\n\r\n\t\t/**\r\n\t\t * Used to track the object which this class attached listeners to, helps optimize listener attachment.\r\n\t\t * @property _oldStage\r\n\t\t * @type Stage\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._oldStage = null;\r\n\t\t/**\r\n\t\t * The event listener proxy triggered drawing draw for special circumstances.\r\n\t\t * @property _drawAction\r\n\t\t * @type function\r\n\t\t * @protected\r\n\t\t */\r\n\t\tthis._drawAction = null;\r\n\t}\r\n\tvar p = createjs.extend(DOMElement, createjs.DisplayObject);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\r\n\t * This does not account for whether it would be visible within the boundaries of the stage.\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method isVisible\r\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\r\n\t */\r\n\tp.isVisible = function() {\r\n\t\treturn this.htmlElement != null;\r\n\t};\r\n\r\n\t/**\r\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\r\n\t * Returns true if the draw was handled (useful for overriding functionality).\r\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\r\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\r\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\r\n\t * into itself).\r\n\t * @return {Boolean}\r\n\t */\r\n\tp.draw = function(ctx, ignoreCache) {\r\n\t\t// this relies on the _tick method because draw isn't called if the parent is not visible.\r\n\t\t// the actual update happens in _handleDrawEnd\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method cache\r\n\t */\r\n\tp.cache = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method uncache\r\n\t */\r\n\tp.uncache = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method updateCache\r\n\t */\r\n\tp.updateCache = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method hitTest\r\n\t */\r\n\tp.hitTest = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method localToGlobal\r\n\t */\r\n\tp.localToGlobal = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method globalToLocal\r\n\t */\r\n\tp.globalToLocal = function() {};\r\n\r\n\t/**\r\n\t * Not applicable to DOMElement.\r\n\t * @method localToLocal\r\n\t */\r\n\tp.localToLocal = function() {};\r\n\r\n\t/**\r\n\t * DOMElement cannot be cloned. Throws an error.\r\n\t * @method clone\r\n\t */\r\n\tp.clone = function() {\r\n\t\tthrow(\"DOMElement cannot be cloned.\")\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t */\r\n\tp.toString = function() {\r\n\t\treturn \"[DOMElement (name=\"+  this.name +\")]\";\r\n\t};\r\n\r\n\t/**\r\n     * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\r\n\t * are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n\t * @event click\r\n\t */\r\n\r\n     /**\r\n     * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\r\n \t * are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n\t * @event dblClick\r\n\t */\r\n\r\n     /**\r\n      * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\r\n \t  * are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n\t  * @event mousedown\r\n\t  */\r\n\r\n     /**\r\n      * The HTMLElement can listen for the mouseover event, not the DOMElement instance.\r\n      * Since DOMElement instances are not full EaselJS display objects and do not participate in EaselJS mouse events.\r\n      * @event mouseover\r\n\t  */\r\n\r\n     /**\r\n      * Not applicable to DOMElement.\r\n\t  * @event tick\r\n\t  */\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _tick\r\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\r\n\t * function.\r\n\t * @protected\r\n\t */\r\n\tp._tick = function(evtObj) {\r\n\t\tvar stage = this.stage;\r\n\t\tif(stage && stage !== this._oldStage) {\r\n\t\t\tthis._drawAction && stage.off(\"drawend\", this._drawAction);\r\n\t\t\tthis._drawAction = stage.on(\"drawend\", this._handleDrawEnd, this);\r\n\t\t\tthis._oldStage = stage;\r\n\t\t}\r\n\t\tthis.DisplayObject__tick(evtObj);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @method _handleDrawEnd\r\n\t * @param {Event} evt\r\n\t * @protected\r\n\t */\r\n\tp._handleDrawEnd = function(evt) {\r\n\t\tvar o = this.htmlElement;\r\n\t\tif (!o) { return; }\r\n\t\tvar style = o.style;\r\n\t\t\r\n\t\tvar props = this.getConcatenatedDisplayProps(this._props), mtx = props.matrix;\r\n\t\t\r\n\t\tvar visibility = props.visible ? \"visible\" : \"hidden\";\r\n\t\tif (visibility != style.visibility) { style.visibility = visibility; }\r\n\t\tif (!props.visible) { return; }\r\n\t\t\r\n\t\tvar oldProps = this._oldProps, oldMtx = oldProps&&oldProps.matrix;\r\n\t\tvar n = 10000; // precision\r\n\t\t\r\n\t\tif (!oldMtx || !oldMtx.equals(mtx)) {\r\n\t\t\tvar str = \"matrix(\" + (mtx.a*n|0)/n +\",\"+ (mtx.b*n|0)/n +\",\"+ (mtx.c*n|0)/n +\",\"+ (mtx.d*n|0)/n +\",\"+ (mtx.tx+0.5|0);\r\n\t\t\tstyle.transform = style.WebkitTransform = style.OTransform = style.msTransform = str +\",\"+ (mtx.ty+0.5|0) +\")\";\r\n\t\t\tstyle.MozTransform = str +\"px,\"+ (mtx.ty+0.5|0) +\"px)\";\r\n\t\t\tif (!oldProps) { oldProps = this._oldProps = new createjs.DisplayProps(true, null); }\r\n\t\t\toldProps.matrix.copy(mtx);\r\n\t\t}\r\n\t\t\r\n\t\tif (oldProps.alpha != props.alpha) {\r\n\t\t\tstyle.opacity = \"\"+(props.alpha*n|0)/n;\r\n\t\t\toldProps.alpha = props.alpha;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tcreatejs.DOMElement = createjs.promote(DOMElement, \"DisplayObject\");\r\n}());\r\n\r\n//##############################################################################\r\n// Filter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Base class that all filters should inherit from. Filters need to be applied to objects that have been cached using\r\n\t * the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} method. If an object changes, please cache it again, or use\r\n\t * {{#crossLink \"DisplayObject/updateCache\"}}{{/crossLink}}. Note that the filters must be applied before caching.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      myInstance.filters = [\r\n\t *          new createjs.ColorFilter(0, 0, 0, 1, 255, 0, 0),\r\n\t *          new createjs.BlurFilter(5, 5, 10)\r\n\t *      ];\r\n\t *      myInstance.cache(0,0, 100, 100);\r\n\t *\r\n\t * Note that each filter can implement a {{#crossLink \"Filter/getBounds\"}}{{/crossLink}} method, which returns the\r\n\t * margins that need to be applied in order to fully display the filter. For example, the {{#crossLink \"BlurFilter\"}}{{/crossLink}}\r\n\t * will cause an object to feather outwards, resulting in a margin around the shape.\r\n\t *\r\n\t * <h4>EaselJS Filters</h4>\r\n\t * EaselJS comes with a number of pre-built filters:\r\n\t * <ul><li>{{#crossLink \"AlphaMapFilter\"}}{{/crossLink}} : Map a greyscale image to the alpha channel of a display object</li>\r\n\t *      <li>{{#crossLink \"AlphaMaskFilter\"}}{{/crossLink}}: Map an image's alpha channel to the alpha channel of a display object</li>\r\n\t *      <li>{{#crossLink \"BlurFilter\"}}{{/crossLink}}: Apply vertical and horizontal blur to a display object</li>\r\n\t *      <li>{{#crossLink \"ColorFilter\"}}{{/crossLink}}: Color transform a display object</li>\r\n\t *      <li>{{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}: Transform an image using a {{#crossLink \"ColorMatrix\"}}{{/crossLink}}</li>\r\n\t * </ul>\r\n\t *\r\n\t * @class Filter\r\n\t * @constructor\r\n\t **/\r\n\tfunction Filter() {\r\n\t\t/**\r\n\t\t * A flag stating that this filter uses a context draw mode and cannot be batched into imageData processing.\r\n\t\t * @property usesContext\r\n\t\t * @type {boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis.usesContext = false;\r\n\r\n\t\t/**\r\n\t\t * Another filter that is required to act as part of this filter and created and managed under the hood.\r\n\t\t * @private\r\n\t\t * @property _multiPass\r\n\t\t * @type {Filter}\r\n\t\t * @default null\r\n\t\t */\r\n\t\tthis._multiPass = null;\r\n\r\n\t\t/**\r\n\t\t * Pre-processed template shader code. It will be parsed before being fed in into the shader compiler.\r\n\t\t * This should be based upon StageGL.SHADER_VERTEX_BODY_REGULAR\r\n\t\t * @property VTX_SHADER\r\n\t\t * @virtual\r\n\t\t * @type {String}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.VTX_SHADER_BODY = null;\r\n\r\n\t\t/**\r\n\t\t * Pre-processed template shader code. It will be parsed before being fed in into the shader compiler.\r\n\t\t * This should be based upon StageGL.SHADER_FRAGMENT_BODY_REGULAR\r\n\t\t * @property FRAG_SHADER\r\n\t\t * @virtual\r\n\t\t * @type {String}\r\n\t\t * @readonly\r\n\t\t */\r\n\t\tthis.FRAG_SHADER_BODY = null;\r\n\t}\r\n\tvar p = Filter.prototype;\r\n\r\n// public methods:\r\n\t/**\r\n\t * Provides padding values for this filter. That is, how much the filter will extend the visual bounds of an object it is applied to.\r\n\t * @method getBounds\r\n\t * @param {Rectangle} [rect] If specified, the provided Rectangle instance will be expanded by the padding amounts and returned.\r\n\t * @return {Rectangle} If a `rect` param was provided, it is returned. If not, either a new rectangle with the padding values, or null if no padding is required for this filter.\r\n\t **/\r\n\tp.getBounds = function(rect) {\r\n\t\treturn rect;\r\n\t};\r\n\r\n\t/**\r\n\t * Assign any unique uniforms or other setup functionality here.\r\n\t * @method shaderParamSetup\r\n\t * @virtual\r\n\t * @param {WebGLContext} gl The context associated with the stage performing the render.\r\n\t * @param {StageGL} stage The stage instance that will be rendering.\r\n\t * @param {ShaderProgram} shaderProgram The compiled shader that is going to be used to perform the render.\r\n\t */\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {};\r\n\r\n\t/**\r\n\t * Applies the filter to the specified context.\r\n\t * @method applyFilter\r\n\t * @param {CanvasRenderingContext2D} ctx The 2D context to use as the source.\r\n\t * @param {Number} x The x position to use for the source rect.\r\n\t * @param {Number} y The y position to use for the source rect.\r\n\t * @param {Number} width The width to use for the source rect.\r\n\t * @param {Number} height The height to use for the source rect.\r\n\t * @param {CanvasRenderingContext2D} [targetCtx] The 2D context to draw the result to. Defaults to the context passed to ctx.\r\n\t * @param {Number} [targetX] The x position to draw the result to. Defaults to the value passed to x.\r\n\t * @param {Number} [targetY] The y position to draw the result to. Defaults to the value passed to y.\r\n\t * @return {Boolean} If the filter was applied successfully.\r\n\t **/\r\n\tp.applyFilter = function(ctx, x, y, width, height, targetCtx, targetX, targetY) {\r\n\t\t// this is the default behaviour because most filters access pixel data. It is overridden when not needed.\r\n\t\ttargetCtx = targetCtx || ctx;\r\n\t\tif (targetX == null) { targetX = x; }\r\n\t\tif (targetY == null) { targetY = y; }\r\n\t\ttry {\r\n\t\t\tvar imageData = ctx.getImageData(x, y, width, height);\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (this._applyFilter(imageData)) {\r\n\t\t\ttargetCtx.putImageData(imageData, targetX, targetY);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[Filter]\";\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this Filter instance.\r\n\t * @method clone\r\n\t * @return {Filter} A clone of the current Filter instance.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn new Filter();\r\n\t};\r\n\t\r\n// private methods:\r\n\t/**\r\n\t * @method _applyFilter\r\n\t * @param {ImageData} imageData Target ImageData instance.\r\n\t * @return {Boolean}\r\n\t **/\r\n\tp._applyFilter = function(imageData) { return true; };\r\n\r\n\r\n\tcreatejs.Filter = Filter;\r\n}());\r\n\r\n//##############################################################################\r\n// BitmapCache.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * The BitmapCache is an internal representation of all the cache properties and logic required in order to \"cache\"\r\n\t * an object. This information and functionality used to be located on a {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\r\n\t * method in {{#crossLink \"DisplayObject\"}}{{/crossLink}}, but was moved to its own class.\r\n\t *\r\n\t * Caching in this context is purely visual, and will render the DisplayObject out into an image to be used instead\r\n\t * of the object. The actual cache itself is still stored on the target with the {{#crossLink \"DisplayObject/cacheCanvas:property\"}}{{/crossLink}}.\r\n\t * Working with a singular image like a {{#crossLink \"Bitmap\"}}{{/crossLink}} there is little benefit to performing \r\n\t * a cache as it is already a single image. Caching is best done on containers containing multiple complex parts that \r\n\t * do not move often, so that rendering the image instead will improve overall rendering speed. A cached object will \r\n\t * not visually update until explicitly told to do so with a call to update, much like a Stage. If a cache is being \r\n\t * updated every frame it is likely not improving rendering performance. Cache are best used when updates will be sparse.\r\n\t *\r\n\t * Caching is also a co-requisite for applying filters to prevent expensive filters running constantly without need, \r\n\t * and to physically enable some effects. The BitmapCache is also responsible for applying filters to objects and \r\n\t * reads each {{#crossLink \"Filter\"}}{{/crossLink}} due to this relationship. Real-time Filters are not recommended \r\n\t * performance wise when dealing with a Context2D canvas. For best performance and to still allow for some visual \r\n\t * effects use a compositeOperation when possible.\r\n\t * @class BitmapCache\r\n\t * @constructor\r\n\t **/\r\n\tfunction BitmapCache() {\r\n\r\n\t\t// public:\r\n\t\t/**\r\n\t\t * Width of the cache relative to the target object.\r\n\t\t * @property width\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t **/\r\n\t\tthis.width = undefined;\r\n\r\n\t\t/**\r\n\t\t * Height of the cache relative to the target object.\r\n\t\t * @property height\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t * @todo Should the width and height be protected?\r\n\t\t **/\r\n\t\tthis.height = undefined;\r\n\r\n\t\t/**\r\n\t\t * Horizontal position of the cache relative to the target's origin.\r\n\t\t * @property x\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t **/\r\n\t\tthis.x = undefined;\r\n\r\n\t\t/**\r\n\t\t * Vertical position of the cache relative to target's origin.\r\n\t\t * @property y\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default undefined\r\n\t\t **/\r\n\t\tthis.y = undefined;\r\n\r\n\t\t/**\r\n\t\t * The internal scale of the cache image, does not affects display size. This is useful to both increase and\r\n\t\t * decrease render quality. Objects with increased scales are more likely to look good when scaled up or rotated.\r\n\t\t * Objects with decreased scales can save on rendering performance.\r\n\t\t * @property scale\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 1\r\n\t\t **/\r\n\t\tthis.scale = 1;\r\n\r\n\t\t/**\r\n\t\t * The x offset used for drawing into the cache itself, accounts for both transforms applied.\r\n\t\t * @property offX\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.offX = 0;\r\n\r\n\t\t/**\r\n\t\t * The y offset used for drawing into the cache itself, accounts for both transforms applied.\r\n\t\t * @property offY\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.offY = 0;\r\n\r\n\t\t/**\r\n\t\t * Track how many times the cache has been updated, mostly used for preventing duplicate cacheURLs.\r\n\t\t * This can be useful to see if a cache has been updated.\r\n\t\t * @property cacheID\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis.cacheID = 0;\r\n\r\n\t\t// protected:\r\n\t\t/**\r\n\t\t * The relative offset of the filter's x position, used for drawing the cache onto its container.\r\n\t\t * Re-calculated every update call before drawing.\r\n\t\t * @property _filterOffY\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._filterOffX = 0;\r\n\r\n\t\t/**\r\n\t\t * The relative offset of the filter's y position, used for drawing the cache onto its container.\r\n\t\t * Re-calculated every update call before drawing.\r\n\t\t * @property _filterOffY\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._filterOffY = 0;\r\n\r\n\t\t/**\r\n\t\t * The cacheID when a DataURL was requested.\r\n\t\t * @property _cacheDataURLID\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._cacheDataURLID = 0;\r\n\r\n\t\t/**\r\n\t\t * The cache's DataURL, generated on-demand using the getter.\r\n\t\t * @property _cacheDataURL\r\n\t\t * @protected\r\n\t\t * @type {String}\r\n\t\t * @default null\r\n\t\t **/\r\n\t\tthis._cacheDataURL = null;\r\n\r\n\t\t/**\r\n\t\t * Internal tracking of final bounding width, approximately width*scale; however, filters can complicate the actual value.\r\n\t\t * @property _drawWidth\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._drawWidth = 0;\r\n\r\n\t\t/**\r\n\t\t * Internal tracking of final bounding height, approximately height*scale; however, filters can complicate the actual value.\r\n\t\t * @property _drawHeight\r\n\t\t * @protected\r\n\t\t * @type {Number}\r\n\t\t * @default 0\r\n\t\t **/\r\n\t\tthis._drawHeight = 0;\r\n\t}\r\n\tvar p = BitmapCache.prototype;\r\n\r\n\t/**\r\n\t * Returns the bounds that surround all applied filters, relies on each filter to describe how it changes bounds.\r\n\t * @method getFilterBounds\r\n\t * @param {DisplayObject} target The object to check the filter bounds for.\r\n\t * @param {Rectangle} [output=null] Optional parameter, if provided then calculated bounds will be applied to that object.\r\n\t * @return {Rectangle} bounds object representing the bounds with filters.\r\n\t * @static\r\n\t **/\r\n\tBitmapCache.getFilterBounds = function(target, output) {\r\n\t\tif(!output){ output = new createjs.Rectangle(); }\r\n\t\tvar filters = target.filters;\r\n\t\tvar filterCount = filters && filters.length;\r\n\t\tif (!!filterCount <= 0) { return output; }\r\n\r\n\t\tfor(var i=0; i<filterCount; i++) {\r\n\t\t\tvar f = filters[i];\r\n\t\t\tif(!f || !f.getBounds){ continue; }\r\n\t\t\tvar test = f.getBounds();\r\n\t\t\tif(!test){ continue; }\r\n\t\t\tif(i==0) {\r\n\t\t\t\toutput.setValues(test.x, test.y, test.width, test.height);\r\n\t\t\t} else {\r\n\t\t\t\toutput.extend(test.x, test.y, test.width, test.height);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[BitmapCache]\";\r\n\t};\r\n\r\n\t/**\r\n\t * Actually create the correct cache surface and properties associated with it. Caching and it's benefits are discussed\r\n\t * by the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} function and this class description. Here are the detailed\r\n\t * specifics of how to use the options object.\r\n\t *\r\n\t * - If options.useGL is set to \"new\" a StageGL is created and contained on this for use when rendering the cache.\r\n\t * - If options.useGL is set to \"stage\" if the current stage is a StageGL it will be used. If not then it will default to \"new\".\r\n\t * - If options.useGL is a StageGL instance it will not create one but use the one provided.\r\n\t * - If options.useGL is undefined a Context 2D cache will be performed.\r\n\t *\r\n\t * This means you can use any combination of StageGL and 2D with either, neither, or both the stage and cache being\r\n\t * WebGL. Using \"new\" with a StageGL display list is highly unrecommended, but still an option. It should be avoided\r\n\t * due to negative performance reasons and the Image loading limitation noted in the class complications above.\r\n\t *\r\n\t * When \"options.useGL\" is set to the parent stage of the target and WebGL, performance is increased by using\r\n\t * \"RenderTextures\" instead of canvas elements. These are internal Textures on the graphics card stored in the GPU.\r\n\t * Because they are no longer canvases you cannot perform operations you could with a regular canvas. The benefit\r\n\t * is that this avoids the slowdown of copying the texture back and forth from the GPU to a Canvas element.\r\n\t * This means \"stage\" is the recommended option when available.\r\n\t *\r\n\t * A StageGL cache does not infer the ability to draw objects a StageGL cannot currently draw, i.e. do not use a\r\n\t * WebGL context cache when caching a Shape, Text, etc.\r\n\t * <h4>WebGL cache with a 2D context</h4>\r\n\t *\r\n\t *     var stage = new createjs.Stage();\r\n\t *     var bmp = new createjs.Bitmap(src);\r\n\t *     bmp.cache(0, 0, bmp.width, bmp.height, 1, {gl: \"new\"});          // no StageGL to use, so make one\r\n\t *\r\n\t *     var shape = new createjs.Shape();\r\n\t *     shape.graphics.clear().fill(\"red\").drawRect(0,0,20,20);\r\n\t *     shape.cache(0, 0, 20, 20, 1);                             // cannot use WebGL cache\r\n\t *\r\n\t * <h4>WebGL cache with a WebGL context</h4>\r\n\t *\r\n\t *     var stageGL = new createjs.StageGL();\r\n\t *     var bmp = new createjs.Bitmap(src);\r\n\t *     bmp.cache(0, 0, bmp.width, bmp.height, 1, {gl: \"stage\"});       // use our StageGL to cache\r\n\t *\r\n\t *     var shape = new createjs.Shape();\r\n\t *     shape.graphics.clear().fill(\"red\").drawRect(0,0,20,20);\r\n\t *     shape.cache(0, 0, 20, 20, 1);                             // cannot use WebGL cache\r\n\t *\r\n\t * You may wish to create your own StageGL instance to control factors like clear color, transparency, AA, and\r\n\t * others. If you do, pass a new instance in instead of \"true\", the library will automatically set the\r\n\t * {{#crossLink \"StageGL/isCacheControlled\"}}{{/crossLink}} to true on your instance. This will trigger it to behave\r\n\t * correctly, and not assume your main context is WebGL.\r\n\t *\r\n\t * @public\r\n\t * @method BitmapCache.cache\r\n\t * @param {Number} x The x coordinate origin for the cache region.\r\n\t * @param {Number} y The y coordinate origin for the cache region.\r\n\t * @param {Number} width The width of the cache region.\r\n\t * @param {Number} height The height of the cache region.\r\n\t * @param {Number} [scale=1] The scale at which the cache will be created. For example, if you cache a vector shape\r\n\t * using myShape.cache(0,0,100,100,2) then the resulting cacheCanvas will be 200x200 px. This lets you scale and\r\n\t * rotate cached elements with greater fidelity. Default is 1.\r\n\t * @param {Object} [options=undefined] Specify additional parameters for the cache logic\r\n\t * @param {undefined|\"new\"|\"stage\"|StageGL} [options.useGL=undefined] Select whether to use context 2D, or WebGL rendering, and\r\n\t * whether to make a new stage instance or use an existing one. See above for extensive details on use.\r\n\t * @for BitmapCache\r\n\t */\r\n\t p.define = function(target, x, y, width, height, scale, options) {\r\n\t\tif(!target){ throw \"No symbol to cache\"; }\r\n\t\tthis._options = options;\r\n\t\twindow.target = target;\r\n\r\n\t\tthis.width =\t\twidth >= 1 ? width : 1;\r\n\t\tthis.height =\t\theight >= 1 ? height : 1;\r\n\t\tthis.x =\t\t\tx || 0;\r\n\t\tthis.y =\t\t\ty || 0;\r\n\t\tthis.scale =\t\tscale || 1;\r\n\r\n\t\tthis.update();\r\n\t};\r\n\r\n\t/**\r\n\t * Directly called via {{#crossLink \"DisplayObject/updateCache:method\"}}{{/crossLink}}, but also internally. This\r\n\t * has the dual responsibility of making sure the surface is ready to be drawn to, and performing the draw. For\r\n\t * full details of each behaviour, check the protected functions {{#crossLink \"BitmapCache/_updateSurface\"}}{{/crossLink}}\r\n\t * and {{#crossLink \"BitmapCache/_drawToCache\"}}{{/crossLink}} respectively.\r\n\t * @method update\r\n\t * @param {String} [compositeOperation=null] The DisplayObject this cache is linked to.\r\n\t **/\r\n\tp.update = function(compositeOperation) {\r\n\t\tif(!window.target) { throw \"define() must be called before update()\"; }\r\n\r\n\t\tvar filterBounds = BitmapCache.getFilterBounds(window.target);\r\n\t\tvar surface = window.target.cacheCanvas;\r\n\r\n\t\tthis._drawWidth = Math.ceil(this.width*this.scale) + filterBounds.width;\r\n\t\tthis._drawHeight = Math.ceil(this.height*this.scale) + filterBounds.height;\r\n\r\n\t\tif(!surface || this._drawWidth != surface.width || this._drawHeight != surface.height) {\r\n\t\t\tthis._updateSurface();\r\n\t\t}\r\n\r\n\t\tthis._filterOffX = filterBounds.x;\r\n\t\tthis._filterOffY = filterBounds.y;\r\n\t\tthis.offX = this.x*this.scale + this._filterOffX;\r\n\t\tthis.offY = this.y*this.scale + this._filterOffY;\r\n\r\n\t\tthis._drawToCache(compositeOperation);\r\n\r\n\t\tthis.cacheID = this.cacheID?this.cacheID+1:1;\r\n\t};\r\n\r\n\t/**\r\n\t * Reset and release all the properties and memory associated with this cache.\r\n\t * @method release\r\n\t **/\r\n\tp.release = function() {\r\n\t\tif (this._webGLCache) {\r\n\t\t\t// if it isn't cache controlled clean up after yourself\r\n\t\t\tif (!this._webGLCache.isCacheControlled) {\r\n\t\t\t\tif (this.__lastRT){ this.__lastRT = undefined; }\r\n\t\t\t\tif (this.__rtA){ this._webGLCache._killTextureObject(this.__rtA); }\r\n\t\t\t\tif (this.__rtB){ this._webGLCache._killTextureObject(this.__rtB); }\r\n\t\t\t\tif (window.target && window.target.cacheCanvas){ this._webGLCache._killTextureObject(window.target.cacheCanvas); }\r\n\t\t\t}\r\n\t\t\t// set the context to none and let the garbage collector get the rest when the canvas itself gets removed\r\n\t\t\tthis._webGLCache = false;\r\n\t\t} else {\r\n\t\t\tvar stage = window.target.stage;\r\n\t\t\tif (stage instanceof createjs.StageGL){\r\n\t\t\t\tstage.releaseTexture(window.target.cacheCanvas);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.target = window.target.cacheCanvas = null;\r\n\t\tthis.cacheID = this._cacheDataURLID = this._cacheDataURL = undefined;\r\n\t\tthis.width = this.height = this.x = this.y = this.offX = this.offY = 0;\r\n\t\tthis.scale = 1;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a data URL for the cache, or `null` if this display object is not cached.\r\n\t * Uses {{#crossLink \"BitmapCache/cacheID:property\"}}{{/crossLink}} to ensure a new data URL is not generated if the\r\n\t * cache has not changed.\r\n\t * @method getCacheDataURL\r\n\t * @return {String} The image data url for the cache.\r\n\t **/\r\n\tp.getCacheDataURL = function() {\r\n\t\tvar cacheCanvas = window.target && window.target.cacheCanvas;\r\n\t\tif (!cacheCanvas) { return null; }\r\n\t\tif (this.cacheID != this._cacheDataURLID) {\r\n\t\t\tthis._cacheDataURLID = this.cacheID;\r\n\t\t\tthis._cacheDataURL = cacheCanvas.toDataURL?cacheCanvas.toDataURL():null;\t// incase function is\r\n\t\t}\r\n\t\treturn this._cacheDataURL;\r\n\t};\r\n\r\n\t/**\r\n\t * Use context2D drawing commands to display the cache canvas being used.\r\n\t * @method draw\r\n\t * @param {CanvasRenderingContext2D} ctx The context to draw into.\r\n\t * @return {Boolean} Whether the draw was handled successfully.\r\n\t **/\r\n\tp.draw = function(ctx) {\r\n\t\tif(!window.target) { return false; }\r\n\t\tctx.drawImage(window.target.cacheCanvas,\r\n\t\t\tthis.x + (this._filterOffX/this.scale),\t\tthis.y + (this._filterOffY/this.scale),\r\n\t\t\tthis._drawWidth/this.scale,\t\t\t\t\tthis._drawHeight/this.scale\r\n\t\t);\r\n\t\treturn true;\r\n\t};\r\n\r\n// private methods:\r\n\t/**\r\n\t * Create or resize the invisible canvas/surface that is needed for the display object(s) to draw to,\r\n\t * and in turn be used in their stead when drawing. The surface is resized to the size defined\r\n\t * by the width and height, factoring in scaling and filters. Adjust them to adjust the output size.\r\n\t * @method _updateSurface\r\n\t * @protected\r\n\t **/\r\n\tp._updateSurface = function() {\r\n\t\tif (!this._options || !this._options.useGL) {\r\n\t\t\tvar surface = window.target.cacheCanvas;\r\n\r\n\t\t\t// create it if it's missing\r\n\t\t\tif(!surface) {\r\n\t\t\t\tsurface = window.target.cacheCanvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\r\n\t\t\t}\r\n\r\n\t\t\t// now size it\r\n\t\t\tsurface.width = this._drawWidth;\r\n\t\t\tsurface.height = this._drawHeight;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// create it if it's missing\r\n\t\tif (!this._webGLCache) {\r\n\t\t\tif (this._options.useGL === \"stage\") {\r\n\t\t\t\tif(!(window.target.stage && window.target.stage.isWebGL)){\r\n\t\t\t\t\tvar error = \"Cannot use 'stage' for cache because the object's parent stage is \";\r\n\t\t\t\t\terror += window.target.stage ? \"non WebGL.\" : \"not set, please addChild to the correct stage.\";\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t\twindow.target.cacheCanvas = true; // will be replaced with RenderTexture, temporary positive value for old \"isCached\" checks\r\n\t\t\t\tthis._webGLCache = window.target.stage;\r\n\r\n\t\t\t} else if(this._options.useGL === \"new\") {\r\n\t\t\t\twindow.target.cacheCanvas = document.createElement(\"canvas\"); // we can turn off autopurge because we wont be making textures here\r\n\t\t\t\tthis._webGLCache = new createjs.StageGL(window.target.cacheCanvas, {antialias: true, transparent: true, autoPurge: -1});\r\n\t\t\t\tthis._webGLCache.isCacheControlled = true;\t// use this flag to control stage sizing and final output\r\n\r\n\t\t\t} else if(this._options.useGL instanceof createjs.StageGL) {\r\n\t\t\t\twindow.target.cacheCanvas = true; // will be replaced with RenderTexture, temporary positive value for old \"isCached\" checks\r\n\t\t\t\tthis._webGLCache = this._options.useGL;\r\n\t\t\t\tthis._webGLCache.isCacheControlled = true;\t// use this flag to control stage sizing and final output\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthrow \"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got \"+ this._options.useGL;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// now size render surfaces\r\n\t\tvar surface = window.target.cacheCanvas;\r\n\t\tvar stageGL = this._webGLCache;\r\n\r\n\t\t// if we have a dedicated stage we've gotta size it\r\n\t\tif (stageGL.isCacheControlled) {\r\n\t\t\tsurface.width = this._drawWidth;\r\n\t\t\tsurface.height = this._drawHeight;\r\n\t\t\tstageGL.updateViewport(this._drawWidth, this._drawHeight);\r\n\t\t}\r\n\t\tif (window.target.filters) {\r\n\t\t\t// with filters we can't tell how many we'll need but the most we'll ever need is two, so make them now\r\n\t\t\tstageGL.getTargetRenderTexture(window.target, this._drawWidth,this._drawHeight);\r\n\t\t\tstageGL.getTargetRenderTexture(window.target, this._drawWidth,this._drawHeight);\r\n\t\t} else {\r\n\t\t\t// without filters then we only need one RenderTexture, and that's only if its not a dedicated stage\r\n\t\t\tif (!stageGL.isCacheControlled) {\r\n\t\t\t\tstageGL.getTargetRenderTexture(window.target, this._drawWidth,this._drawHeight);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Perform the cache draw out for context 2D now that the setup properties have been performed.\r\n\t * @method _drawToCache\r\n\t * @protected\r\n\t **/\r\n\tp._drawToCache = function(compositeOperation) {\r\n\t\tvar surface = window.target.cacheCanvas;\r\n\t\tvar target = window.target;\r\n\t\tvar webGL = this._webGLCache;\r\n\r\n\t\tif (webGL){\r\n\t\t\t//TODO: auto split blur into an x/y pass\r\n\t\t\twebGL.cacheDraw(target, target.filters, this);\r\n\r\n\t\t\t// we may of swapped around which element the surface is, so we re-fetch it\r\n\t\t\tsurface = window.target.cacheCanvas;\r\n\r\n\t\t\tsurface.width = this._drawWidth;\r\n\t\t\tsurface.height = this._drawHeight;\r\n\t\t} else {\r\n\t\t\tvar ctx = surface.getContext(\"2d\");\r\n\r\n\t\t\tif (!compositeOperation) {\r\n\t\t\t\tctx.clearRect(0, 0, this._drawWidth+1, this._drawHeight+1);\r\n\t\t\t}\r\n\r\n\t\t\tctx.save();\r\n\t\t\tctx.globalCompositeOperation = compositeOperation;\r\n\t\t\tctx.setTransform(this.scale,0,0,this.scale, -this._filterOffX,-this._filterOffY);\r\n\t\t\tctx.translate(-this.x, -this.y);\r\n\t\t\ttarget.draw(ctx, true);\r\n\t\t\tctx.restore();\r\n\r\n\r\n\t\t\tif (target.filters && target.filters.length) {\r\n\t\t\t\tthis._applyFilters(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsurface._invalid = true;\r\n\t};\r\n\r\n\t/**\r\n\t * Work through every filter and apply its individual visual transformation.\r\n\t * @method _applyFilters\r\n\t * @protected\r\n\t **/\r\n\tp._applyFilters = function(ctx) {\r\n\t\tvar filters = window.target.filters;\r\n\r\n\t\tvar w = this._drawWidth;\r\n\t\tvar h = this._drawHeight;\r\n\r\n\t\tvar data;\r\n\r\n\t\tvar i = 0, filter = filters[i];\r\n\t\tdo { // this is safe because we wouldn't be in apply filters without a filter count of at least 1\r\n\t\t\tif(filter.usesContext){\r\n\t\t\t\tif(data) {\r\n\t\t\t\t\tctx.putImageData(data, 0,0);\r\n\t\t\t\t\tdata = null;\r\n\t\t\t\t}\r\n\t\t\t\tfilter.applyFilter(ctx, 0,0, w,h);\r\n\t\t\t} else {\r\n\t\t\t\tif(!data) {\r\n\t\t\t\t\tdata = ctx.getImageData(0,0, w,h);\r\n\t\t\t\t}\r\n\t\t\t\tfilter._applyFilter(data);\r\n\t\t\t}\r\n\r\n\t\t\t// work through the multipass if it's there, otherwise move on\r\n\t\t\tfilter = filter._multiPass !== null ? filter._multiPass : filters[++i];\r\n\t\t} while (filter);\r\n\r\n\t\t//done\r\n\t\tif(data) {\r\n\t\t\tctx.putImageData(data, 0,0);\r\n\t\t}\r\n\t};\r\n\r\n\tcreatejs.BitmapCache = BitmapCache;\r\n}());\r\n\r\n//##############################################################################\r\n// BlurFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Applies a box blur to DisplayObjects in context 2D and a Gaussian blur in webgl. Note that this filter is fairly\r\n\t * intensive, particularly if the quality is set higher than 1.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a red circle, and then applies a 5 pixel blur to it. It uses the {{#crossLink \"Filter/getBounds\"}}{{/crossLink}}\r\n\t * method to account for the spread that the blur causes.\r\n\t *\r\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\r\n\t *\r\n\t *      var blurFilter = new createjs.BlurFilter(5, 5, 1);\r\n\t *      shape.filters = [blurFilter];\r\n\t *      var bounds = blurFilter.getBounds();\r\n\t *\r\n\t *      shape.cache(-50+bounds.x, -50+bounds.y, 100+bounds.width, 100+bounds.height);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\r\n\t * @class BlurFilter\r\n\t * @extends Filter\r\n\t * @constructor\r\n\t * @param {Number} [blurX=0] The horizontal blur radius in pixels.\r\n\t * @param {Number} [blurY=0] The vertical blur radius in pixels.\r\n\t * @param {Number} [quality=1] The number of blur iterations.\r\n\t **/\r\n\tfunction BlurFilter( blurX, blurY, quality) {\r\n\t\tthis.Filter_constructor();\r\n\r\n\t\t// public properties:\r\n\t\t/**\r\n\t\t * Horizontal blur radius in pixels\r\n\t\t * @property blurX\r\n\t\t * @default 0\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._blurX = blurX;\r\n\t\tthis._blurXTable = [];\r\n\t\tthis._lastBlurX = null;\r\n\r\n\t\t/**\r\n\t\t * Vertical blur radius in pixels\r\n\t\t * @property blurY\r\n\t\t * @default 0\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._blurY = blurY;\r\n\t\tthis._blurYTable = [];\r\n\t\tthis._lastBlurY = null;\r\n\r\n\t\t/**\r\n\t\t * Number of blur iterations. For example, a value of 1 will produce a rough blur. A value of 2 will produce a\r\n\t\t * smoother blur, but take twice as long to run.\r\n\t\t * @property quality\r\n\t\t * @default 1\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis._quality;\r\n\t\tthis._lastQuality = null;\r\n\r\n\t\t/**\r\n\t\t * This is a template to generate the shader for {{#crossLink FRAG_SHADER_BODY}}{{/crossLink}}\r\n\t\t */\r\n\t\tthis.FRAG_SHADER_TEMPLATE = (\r\n\t\t\t\"uniform float xWeight[{{blurX}}];\" +\r\n\t\t\t\"uniform float yWeight[{{blurY}}];\" +\r\n\t\t\t\"uniform vec2 textureOffset;\" +\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = vec4(0.0);\" +\r\n\r\n\t\t\t\t\"float xAdj = ({{blurX}}.0-1.0)/2.0;\" +\r\n\t\t\t\t\"float yAdj = ({{blurY}}.0-1.0)/2.0;\" +\r\n\t\t\t\t\"vec2 sampleOffset;\" +\r\n\r\n\t\t\t\t\"for(int i=0; i<{{blurX}}; i++) {\" +\r\n\t\t\t\t\t\"for(int j=0; j<{{blurY}}; j++) {\" +\r\n\t\t\t\t\t\t\"sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));\" +\r\n\t\t\t\t\t\t\"color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);\" +\r\n\t\t\t\t\t\"}\" +\r\n\t\t\t\t\"}\" +\r\n\r\n\t\t\t\t\"gl_FragColor = color.rgba;\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\r\n\t\t// update the filter using the setters\r\n\t\tif(isNaN(quality) || quality < 1){ quality = 1; }\r\n\t\tthis.setQuality(quality|0);\r\n\t}\r\n\tvar p = createjs.extend(BlurFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\tp.getBlurX = function() { return this._blurX; };\r\n\tp.getBlurY = function() { return this._blurY; };\r\n\tp.setBlurX = function(value) {\r\n\t\tif(isNaN(value) || value < 0){ value = 0; }\r\n\t\tthis._blurX = value;\r\n\t};\r\n\tp.setBlurY = function(value) {\r\n\t\tif(isNaN(value) || value < 0){ value = 0; }\r\n\t\tthis._blurY = value;\r\n\t};\r\n\tp.getQuality = function() { return this._quality; };\r\n\tp.setQuality = function(value) {\r\n\t\tif(isNaN(value) || value < 0){ value = 0; }\r\n\t\tthis._quality = value | 0;\r\n\t};\r\n\tp._getShader = function() {\r\n\t\tvar xChange = this._lastBlurX !== this._blurX;\r\n\t\tvar yChange = this._lastBlurY !== this._blurY;\r\n\t\tvar qChange = this._lastQuality !== this._quality;\r\n\t\tif(xChange || yChange || qChange) {\r\n\t\t\tif(xChange || qChange) { this._blurXTable = this._getTable(this._blurX * this._quality); }\r\n\t\t\tif(yChange || qChange) { this._blurYTable = this._getTable(this._blurY * this._quality); }\r\n\t\t\tthis._updateShader();\r\n\t\t\tthis._lastBlurX = this._blurX;\r\n\t\t\tthis._lastBlurY = this._blurY;\r\n\t\t\tthis._lastQuality = this._quality;\r\n\t\t\treturn undefined; // force a rebuild\r\n\t\t}\r\n\t\treturn this._compiledShader;\r\n\t};\r\n\tp._setShader = function() { this._compiledShader; };\r\n\r\n\ttry {\r\n\t\tObject.defineProperties(p, {\r\n\t\t\tblurX: { get: p.getBlurX, set: p.setBlurX },\r\n\t\t\tblurY: { get: p.getBlurY, set: p.setBlurY },\r\n\t\t\tquality: { get: p.getQuality, set: p.setQuality },\r\n\t\t\t_builtShader: { get: p._getShader, set: p._setShader}\r\n\t\t});\r\n\t} catch (e) { console.log(e); }\r\n\r\n\t/**\r\n\t * Internal lookup function to create gaussian distribution.\r\n\t * @method _getTable\r\n\t * @param {Number} spread How many steps in the curve.\r\n\t * @return {Array<Number>} An array with Math.ceil(spread*2) entries with appropriately distributed weights.\r\n\t */\r\n\tp._getTable = function(spread) {\r\n\t\tvar EDGE = 4.2;\r\n\t\tif(spread<=1) { return [1]; }\r\n\r\n\t\tvar result = [];\r\n\t\tvar count = Math.ceil(spread*2);\r\n\t\tcount += (count%2)?0:1;\r\n\t\tvar adjust = (count/2)|0;\r\n\t\tfor(var i = -adjust; i<=adjust; i++) {\r\n\t\t\tvar x = (i/adjust)*EDGE;\r\n\t\t\tresult.push(1/Math.sqrt(2*Math.PI) * Math.pow(Math.E, -(Math.pow(x,2)/4)));\r\n\t\t}\r\n\t\tvar factor = result.reduce(function(a, b) { return a + b; });\r\n\t\treturn result.map(function(currentValue, index, array) { return currentValue/factor; });\r\n\t};\r\n\r\n\t/**\r\n\t * Internal update function to create shader properties.\r\n\t * @method _updateShader\r\n\t */\r\n\tp._updateShader = function() {\r\n\t\tif(this._blurX === undefined || this._blurY === undefined){ return; }\r\n\t\tvar result = this.FRAG_SHADER_TEMPLATE;\r\n\t\tresult = result.replace(/\\{\\{blurX\\}\\}/g, (this._blurXTable.length).toFixed(0));\r\n\t\tresult = result.replace(/\\{\\{blurY\\}\\}/g, (this._blurYTable.length).toFixed(0));\r\n\t\tthis.FRAG_SHADER_BODY = result;\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\t// load the normalized gaussian weight tables\r\n\t\tgl.uniform1fv(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"xWeight\"),\r\n\t\t\tthis._blurXTable\r\n\t\t);\r\n\t\tgl.uniform1fv(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"yWeight\"),\r\n\t\t\tthis._blurYTable\r\n\t\t);\r\n\r\n\t\t// what is the size of a single pixel in -1, 1 (webGL) space\r\n\t\tgl.uniform2f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"textureOffset\"),\r\n\t\t\t2/(stage._viewportWidth*this._quality), 2/(stage._viewportHeight*this._quality)\r\n\t\t);\r\n\t};\r\n\r\n// constants:\r\n\t/**\r\n\t * Array of multiply values for blur calculations.\r\n\t * @property MUL_TABLE\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tBlurFilter.MUL_TABLE = [1, 171, 205, 293, 57, 373, 79, 137, 241, 27, 391, 357, 41, 19, 283, 265, 497, 469, 443, 421, 25, 191, 365, 349, 335, 161, 155, 149, 9, 278, 269, 261, 505, 245, 475, 231, 449, 437, 213, 415, 405, 395, 193, 377, 369, 361, 353, 345, 169, 331, 325, 319, 313, 307, 301, 37, 145, 285, 281, 69, 271, 267, 263, 259, 509, 501, 493, 243, 479, 118, 465, 459, 113, 446, 55, 435, 429, 423, 209, 413, 51, 403, 199, 393, 97, 3, 379, 375, 371, 367, 363, 359, 355, 351, 347, 43, 85, 337, 333, 165, 327, 323, 5, 317, 157, 311, 77, 305, 303, 75, 297, 294, 73, 289, 287, 71, 141, 279, 277, 275, 68, 135, 67, 133, 33, 262, 260, 129, 511, 507, 503, 499, 495, 491, 61, 121, 481, 477, 237, 235, 467, 232, 115, 457, 227, 451, 7, 445, 221, 439, 218, 433, 215, 427, 425, 211, 419, 417, 207, 411, 409, 203, 202, 401, 399, 396, 197, 49, 389, 387, 385, 383, 95, 189, 47, 187, 93, 185, 23, 183, 91, 181, 45, 179, 89, 177, 11, 175, 87, 173, 345, 343, 341, 339, 337, 21, 167, 83, 331, 329, 327, 163, 81, 323, 321, 319, 159, 79, 315, 313, 39, 155, 309, 307, 153, 305, 303, 151, 75, 299, 149, 37, 295, 147, 73, 291, 145, 289, 287, 143, 285, 71, 141, 281, 35, 279, 139, 69, 275, 137, 273, 17, 271, 135, 269, 267, 133, 265, 33, 263, 131, 261, 130, 259, 129, 257, 1];\r\n\r\n\t/**\r\n\t * Array of shift values for blur calculations.\r\n\t * @property SHG_TABLE\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tBlurFilter.SHG_TABLE = [0, 9, 10, 11, 9, 12, 10, 11, 12, 9, 13, 13, 10, 9, 13, 13, 14, 14, 14, 14, 10, 13, 14, 14, 14, 13, 13, 13, 9, 14, 14, 14, 15, 14, 15, 14, 15, 15, 14, 15, 15, 15, 14, 15, 15, 15, 15, 15, 14, 15, 15, 15, 15, 15, 15, 12, 14, 15, 15, 13, 15, 15, 15, 15, 16, 16, 16, 15, 16, 14, 16, 16, 14, 16, 13, 16, 16, 16, 15, 16, 13, 16, 15, 16, 14, 9, 16, 16, 16, 16, 16, 16, 16, 16, 16, 13, 14, 16, 16, 15, 16, 16, 10, 16, 15, 16, 14, 16, 16, 14, 16, 16, 14, 16, 16, 14, 15, 16, 16, 16, 14, 15, 14, 15, 13, 16, 16, 15, 17, 17, 17, 17, 17, 17, 14, 15, 17, 17, 16, 16, 17, 16, 15, 17, 16, 17, 11, 17, 16, 17, 16, 17, 16, 17, 17, 16, 17, 17, 16, 17, 17, 16, 16, 17, 17, 17, 16, 14, 17, 17, 17, 17, 15, 16, 14, 16, 15, 16, 13, 16, 15, 16, 14, 16, 15, 16, 12, 16, 15, 16, 17, 17, 17, 17, 17, 13, 16, 15, 17, 17, 17, 16, 15, 17, 17, 17, 16, 15, 17, 17, 14, 16, 17, 17, 16, 17, 17, 16, 15, 17, 16, 14, 17, 16, 15, 17, 16, 17, 17, 16, 17, 15, 16, 17, 14, 17, 16, 15, 17, 16, 17, 13, 17, 16, 17, 17, 16, 17, 14, 17, 16, 17, 16, 17, 16, 17, 9];\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.getBounds = function (rect) {\r\n\t\tvar x = this.blurX|0, y = this.blurY| 0;\r\n\t\tif(x <= 0 && y <= 0) { return rect; }\r\n\t\tvar q = Math.pow(this.quality, 0.2);\r\n\t\treturn (rect || new createjs.Rectangle()).pad(y*q+1,x*q+1,y*q+1,x*q+1);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function() {\r\n\t\treturn new BlurFilter(this.blurX, this.blurY, this.quality);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function() {\r\n\t\treturn \"[BlurFilter]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function (imageData) {\r\n\t\tvar radiusX = this._blurX >> 1;\r\n\t\tif (isNaN(radiusX) || radiusX < 0) return false;\r\n\t\tvar radiusY = this._blurY >> 1;\r\n\t\tif (isNaN(radiusY) || radiusY < 0) return false;\r\n\t\tif (radiusX == 0 && radiusY == 0) return false;\r\n\r\n\t\tvar iterations = this.quality;\r\n\t\tif (isNaN(iterations) || iterations < 1) iterations = 1;\r\n\t\titerations |= 0;\r\n\t\tif (iterations > 3) iterations = 3;\r\n\t\tif (iterations < 1) iterations = 1;\r\n\r\n\t\tvar px = imageData.data;\r\n\t\tvar x=0, y=0, i=0, p=0, yp=0, yi=0, yw=0, r=0, g=0, b=0, a=0, pr=0, pg=0, pb=0, pa=0;\r\n\r\n\t\tvar divx = (radiusX + radiusX + 1) | 0;\r\n\t\tvar divy = (radiusY + radiusY + 1) | 0;\r\n\t\tvar w = imageData.width | 0;\r\n\t\tvar h = imageData.height | 0;\r\n\r\n\t\tvar w1 = (w - 1) | 0;\r\n\t\tvar h1 = (h - 1) | 0;\r\n\t\tvar rxp1 = (radiusX + 1) | 0;\r\n\t\tvar ryp1 = (radiusY + 1) | 0;\r\n\r\n\t\tvar ssx = {r:0,b:0,g:0,a:0};\r\n\t\tvar sx = ssx;\r\n\t\tfor ( i = 1; i < divx; i++ )\r\n\t\t{\r\n\t\t\tsx = sx.n = {r:0,b:0,g:0,a:0};\r\n\t\t}\r\n\t\tsx.n = ssx;\r\n\r\n\t\tvar ssy = {r:0,b:0,g:0,a:0};\r\n\t\tvar sy = ssy;\r\n\t\tfor ( i = 1; i < divy; i++ )\r\n\t\t{\r\n\t\t\tsy = sy.n = {r:0,b:0,g:0,a:0};\r\n\t\t}\r\n\t\tsy.n = ssy;\r\n\r\n\t\tvar si = null;\r\n\r\n\r\n\t\tvar mtx = BlurFilter.MUL_TABLE[radiusX] | 0;\r\n\t\tvar stx = BlurFilter.SHG_TABLE[radiusX] | 0;\r\n\t\tvar mty = BlurFilter.MUL_TABLE[radiusY] | 0;\r\n\t\tvar sty = BlurFilter.SHG_TABLE[radiusY] | 0;\r\n\r\n\t\twhile (iterations-- > 0) {\r\n\r\n\t\t\tyw = yi = 0;\r\n\t\t\tvar ms = mtx;\r\n\t\t\tvar ss = stx;\r\n\t\t\tfor (y = h; --y > -1;) {\r\n\t\t\t\tr = rxp1 * (pr = px[(yi) | 0]);\r\n\t\t\t\tg = rxp1 * (pg = px[(yi + 1) | 0]);\r\n\t\t\t\tb = rxp1 * (pb = px[(yi + 2) | 0]);\r\n\t\t\t\ta = rxp1 * (pa = px[(yi + 3) | 0]);\r\n\r\n\t\t\t\tsx = ssx;\r\n\r\n\t\t\t\tfor( i = rxp1; --i > -1; )\r\n\t\t\t\t{\r\n\t\t\t\t\tsx.r = pr;\r\n\t\t\t\t\tsx.g = pg;\r\n\t\t\t\t\tsx.b = pb;\r\n\t\t\t\t\tsx.a = pa;\r\n\t\t\t\t\tsx = sx.n;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor( i = 1; i < rxp1; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tp = (yi + ((w1 < i ? w1 : i) << 2)) | 0;\r\n\t\t\t\t\tr += ( sx.r = px[p]);\r\n\t\t\t\t\tg += ( sx.g = px[p+1]);\r\n\t\t\t\t\tb += ( sx.b = px[p+2]);\r\n\t\t\t\t\ta += ( sx.a = px[p+3]);\r\n\r\n\t\t\t\t\tsx = sx.n;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsi = ssx;\r\n\t\t\t\tfor ( x = 0; x < w; x++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tpx[yi++] = (r * ms) >>> ss;\r\n\t\t\t\t\tpx[yi++] = (g * ms) >>> ss;\r\n\t\t\t\t\tpx[yi++] = (b * ms) >>> ss;\r\n\t\t\t\t\tpx[yi++] = (a * ms) >>> ss;\r\n\r\n\t\t\t\t\tp = ((yw + ((p = x + radiusX + 1) < w1 ? p : w1)) << 2);\r\n\r\n\t\t\t\t\tr -= si.r - ( si.r = px[p]);\r\n\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\r\n\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\r\n\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\r\n\r\n\t\t\t\t\tsi = si.n;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tyw += w;\r\n\t\t\t}\r\n\r\n\t\t\tms = mty;\r\n\t\t\tss = sty;\r\n\t\t\tfor (x = 0; x < w; x++) {\r\n\t\t\t\tyi = (x << 2) | 0;\r\n\r\n\t\t\t\tr = (ryp1 * (pr = px[yi])) | 0;\r\n\t\t\t\tg = (ryp1 * (pg = px[(yi + 1) | 0])) | 0;\r\n\t\t\t\tb = (ryp1 * (pb = px[(yi + 2) | 0])) | 0;\r\n\t\t\t\ta = (ryp1 * (pa = px[(yi + 3) | 0])) | 0;\r\n\r\n\t\t\t\tsy = ssy;\r\n\t\t\t\tfor( i = 0; i < ryp1; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tsy.r = pr;\r\n\t\t\t\t\tsy.g = pg;\r\n\t\t\t\t\tsy.b = pb;\r\n\t\t\t\t\tsy.a = pa;\r\n\t\t\t\t\tsy = sy.n;\r\n\t\t\t\t}\r\n\r\n\t\t\t\typ = w;\r\n\r\n\t\t\t\tfor( i = 1; i <= radiusY; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tyi = ( yp + x ) << 2;\r\n\r\n\t\t\t\t\tr += ( sy.r = px[yi]);\r\n\t\t\t\t\tg += ( sy.g = px[yi+1]);\r\n\t\t\t\t\tb += ( sy.b = px[yi+2]);\r\n\t\t\t\t\ta += ( sy.a = px[yi+3]);\r\n\r\n\t\t\t\t\tsy = sy.n;\r\n\r\n\t\t\t\t\tif( i < h1 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\typ += w;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tyi = x;\r\n\t\t\t\tsi = ssy;\r\n\t\t\t\tif ( iterations > 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\tfor ( y = 0; y < h; y++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = yi << 2;\r\n\t\t\t\t\t\tpx[p+3] = pa =(a * ms) >>> ss;\r\n\t\t\t\t\t\tif ( pa > 0 )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpx[p]   = ((r * ms) >>> ss );\r\n\t\t\t\t\t\t\tpx[p+1] = ((g * ms) >>> ss );\r\n\t\t\t\t\t\t\tpx[p+2] = ((b * ms) >>> ss );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpx[p] = px[p+1] = px[p+2] = 0\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tp = ( x + (( ( p = y + ryp1) < h1 ? p : h1 ) * w )) << 2;\r\n\r\n\t\t\t\t\t\tr -= si.r - ( si.r = px[p]);\r\n\t\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\r\n\t\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\r\n\t\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\r\n\r\n\t\t\t\t\t\tsi = si.n;\r\n\r\n\t\t\t\t\t\tyi += w;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor ( y = 0; y < h; y++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = yi << 2;\r\n\t\t\t\t\t\tpx[p+3] = pa =(a * ms) >>> ss;\r\n\t\t\t\t\t\tif ( pa > 0 )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpa = 255 / pa;\r\n\t\t\t\t\t\t\tpx[p]   = ((r * ms) >>> ss ) * pa;\r\n\t\t\t\t\t\t\tpx[p+1] = ((g * ms) >>> ss ) * pa;\r\n\t\t\t\t\t\t\tpx[p+2] = ((b * ms) >>> ss ) * pa;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpx[p] = px[p+1] = px[p+2] = 0\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tp = ( x + (( ( p = y + ryp1) < h1 ? p : h1 ) * w )) << 2;\r\n\r\n\t\t\t\t\t\tr -= si.r - ( si.r = px[p]);\r\n\t\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\r\n\t\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\r\n\t\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\r\n\r\n\t\t\t\t\t\tsi = si.n;\r\n\r\n\t\t\t\t\t\tyi += w;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tcreatejs.BlurFilter = createjs.promote(BlurFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// AlphaMapFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\t\r\n\t\r\n// constructor:\r\n\t/**\r\n\t * Applies a greyscale alpha map image (or canvas) to the target, such that the alpha channel of the result will\r\n\t * be copied from the red channel of the map, and the RGB channels will be copied from the target.\r\n\t *\r\n\t * Generally, it is recommended that you use {{#crossLink \"AlphaMaskFilter\"}}{{/crossLink}}, because it has much\r\n\t * better performance.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example draws a red->blue box, caches it, and then uses the cache canvas as an alpha map on a 100x100 image.\r\n\t *\r\n\t *       var box = new createjs.Shape();\r\n\t *       box.graphics.beginLinearGradientFill([\"#ff0000\", \"#0000ff\"], [0, 1], 0, 0, 0, 100)\r\n\t *       box.graphics.drawRect(0, 0, 100, 100);\r\n\t *       box.cache(0, 0, 100, 100);\r\n\t *\r\n\t *       var bmp = new createjs.Bitmap(\"path/to/image.jpg\");\r\n\t *       bmp.filters = [\r\n\t *           new createjs.AlphaMapFilter(box.cacheCanvas)\r\n\t *       ];\r\n\t *       bmp.cache(0, 0, 100, 100);\r\n\t *       stage.addChild(bmp);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for more information on applying filters.\r\n\t * @class AlphaMapFilter\r\n\t * @extends Filter\r\n\t * @constructor\r\n\t * @param {HTMLImageElement|HTMLCanvasElement} alphaMap The greyscale image (or canvas) to use as the alpha value for the\r\n\t * result. This should be exactly the same dimensions as the target.\r\n\t **/\r\n\tfunction AlphaMapFilter(alphaMap) {\r\n\t\tthis.Filter_constructor();\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The greyscale image (or canvas) to use as the alpha value for the result. This should be exactly the same\r\n\t\t * dimensions as the target.\r\n\t\t * @property alphaMap\r\n\t\t * @type HTMLImageElement|HTMLCanvasElement\r\n\t\t **/\r\n\t\tthis.alphaMap = alphaMap;\r\n\t\t\r\n\t\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @property _alphaMap\r\n\t\t * @protected\r\n\t\t * @type HTMLImageElement|HTMLCanvasElement\r\n\t\t **/\r\n\t\tthis._alphaMap = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @property _mapData\r\n\t\t * @protected\r\n\t\t * @type Uint8ClampedArray\r\n\t\t **/\r\n\t\tthis._mapData = null;\r\n\t\tthis._mapTexture = null;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform sampler2D uAlphaSampler;\"+\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\t\t\t\t\"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\" +\r\n\r\n\t\t\t\t// some image formats can have transparent white rgba(1,1,1, 0) when put on the GPU, this means we need a slight tweak\r\n\t\t\t\t// using ceil ensure that the colour will be used so long as it exists but pure transparency will be treated black\r\n\t\t\t\t\"gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\t}\r\n\tvar p = createjs.extend(AlphaMapFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tif(!this._mapTexture) { this._mapTexture = gl.createTexture(); }\r\n\r\n\t\tgl.activeTexture(gl.TEXTURE1);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\r\n\t\tstage.setTextureParams(gl);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.alphaMap);\r\n\r\n\t\tgl.uniform1i(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uAlphaSampler\"),\r\n\t\t\t1\r\n\t\t);\r\n\t};\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.clone = function () {\r\n\t\tvar o = new AlphaMapFilter(this.alphaMap);\r\n\t\to._alphaMap = this._alphaMap;\r\n\t\to._mapData = this._mapData;\r\n\t\treturn o;\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function () {\r\n\t\treturn \"[AlphaMapFilter]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function (imageData) {\r\n\t\tif (!this.alphaMap) { return true; }\r\n\t\tif (!this._prepAlphaMap()) { return false; }\r\n\t\t\r\n\t\t// TODO: update to support scenarios where the target has different dimensions.\r\n\t\tvar data = imageData.data;\r\n\t\tvar map = this._mapData;\r\n\t\tfor(var i=0, l=data.length; i<l; i += 4) { data[i + 3] = map[i] || 0; }\r\n\t\t\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * @method _prepAlphaMap\r\n\t * @protected\r\n\t **/\r\n\tp._prepAlphaMap = function () {\r\n\t\tif (!this.alphaMap) { return false; }\r\n\t\tif (this.alphaMap == this._alphaMap && this._mapData) { return true; }\r\n\r\n\t\tthis._mapData = null;\r\n\t\tvar map = this._alphaMap = this.alphaMap;\r\n\t\tvar canvas = map;\r\n\t\tvar ctx;\r\n\t\tif (map instanceof HTMLCanvasElement) {\r\n\t\t\tctx = canvas.getContext(\"2d\");\r\n\t\t} else {\r\n\t\t\tcanvas = createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\r\n\t\t\tcanvas.width = map.width;\r\n\t\t\tcanvas.height = map.height;\r\n\t\t\tctx = canvas.getContext(\"2d\");\r\n\t\t\tctx.drawImage(map, 0, 0);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tvar imgData = ctx.getImageData(0, 0, map.width, map.height);\r\n\t\t} catch (e) {\r\n\t\t\t//if (!this.suppressCrossDomainErrors) throw new Error(\"unable to access local image data: \" + e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tthis._mapData = imgData.data;\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\tcreatejs.AlphaMapFilter = createjs.promote(AlphaMapFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// AlphaMaskFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Applies the alpha from the mask image (or canvas) to the target, such that the alpha channel of the result will\r\n\t * be derived from the mask, and the RGB channels will be copied from the target. This can be used, for example, to\r\n\t * apply an alpha mask to a display object. This can also be used to combine a JPG compressed RGB image with a PNG32\r\n\t * alpha mask, which can result in a much smaller file size than a single PNG32 containing ARGB.\r\n\t *\r\n\t * <b>IMPORTANT NOTE: This filter currently does not support the targetCtx, or targetX/Y parameters correctly.</b>\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example draws a gradient box, then caches it and uses the \"cacheCanvas\" as the alpha mask on a 100x100 image.\r\n\t *\r\n\t *      var box = new createjs.Shape();\r\n\t *      box.graphics.beginLinearGradientFill([\"#000000\", \"rgba(0, 0, 0, 0)\"], [0, 1], 0, 0, 100, 100)\r\n\t *      box.graphics.drawRect(0, 0, 100, 100);\r\n\t *      box.cache(0, 0, 100, 100);\r\n\t *\r\n\t *      var bmp = new createjs.Bitmap(\"path/to/image.jpg\");\r\n\t *      bmp.filters = [\r\n\t *          new createjs.AlphaMaskFilter(box.cacheCanvas)\r\n\t *      ];\r\n\t *      bmp.cache(0, 0, 100, 100);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for more information on applying filters.\r\n\t * @class AlphaMaskFilter\r\n\t * @extends Filter\r\n\t * @constructor\r\n\t * @param {HTMLImageElement|HTMLCanvasElement} mask\r\n\t **/\r\n\tfunction AlphaMaskFilter(mask) {\r\n\t\tthis.Filter_constructor();\r\n\t\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * The image (or canvas) to use as the mask.\r\n\t\t * @property mask\r\n\t\t * @type HTMLImageElement|HTMLCanvasElement\r\n\t\t **/\r\n\t\tthis.mask = mask;\r\n\r\n\t\t/** docced in super class **/\r\n\t\tthis.usesContext = true;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform sampler2D uAlphaSampler;\"+\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\t\t\t\t\"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\" +\r\n\r\n\t\t\t\t\"gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\t}\r\n\tvar p = createjs.extend(AlphaMaskFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tif(!this._mapTexture) { this._mapTexture = gl.createTexture(); }\r\n\r\n\t\tgl.activeTexture(gl.TEXTURE1);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\r\n\t\tstage.setTextureParams(gl);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.mask);\r\n\r\n\t\tgl.uniform1i(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uAlphaSampler\"),\r\n\t\t\t1\r\n\t\t);\r\n\t};\r\n\r\n// public methods:\r\n\t/**\r\n\t * Applies the filter to the specified context.\r\n\t *\r\n\t * <strong>IMPORTANT NOTE: This filter currently does not support the targetCtx, or targetX/Y parameters\r\n\t * correctly.</strong>\r\n\t * @method applyFilter\r\n\t * @param {CanvasRenderingContext2D} ctx The 2D context to use as the source.\r\n\t * @param {Number} x The x position to use for the source rect.\r\n\t * @param {Number} y The y position to use for the source rect.\r\n\t * @param {Number} width The width to use for the source rect.\r\n\t * @param {Number} height The height to use for the source rect.\r\n\t * @param {CanvasRenderingContext2D} [targetCtx] NOT SUPPORTED IN THIS FILTER. The 2D context to draw the result to. Defaults to the context passed to ctx.\r\n\t * @param {Number} [targetX] NOT SUPPORTED IN THIS FILTER. The x position to draw the result to. Defaults to the value passed to x.\r\n\t * @param {Number} [targetY] NOT SUPPORTED IN THIS FILTER. The y position to draw the result to. Defaults to the value passed to y.\r\n\t * @return {Boolean} If the filter was applied successfully.\r\n\t **/\r\n\tp.applyFilter = function (ctx, x, y, width, height, targetCtx, targetX, targetY) {\r\n\t\tif (!this.mask) { return true; }\r\n\t\ttargetCtx = targetCtx || ctx;\r\n\t\tif (targetX == null) { targetX = x; }\r\n\t\tif (targetY == null) { targetY = y; }\r\n\r\n\t\ttargetCtx.save();\r\n\t\tif (ctx != targetCtx) {\r\n\t\t\t// TODO: support targetCtx and targetX/Y\r\n\t\t\t// clearRect, then draw the ctx in?\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\ttargetCtx.globalCompositeOperation = \"destination-in\";\r\n\t\ttargetCtx.drawImage(this.mask, targetX, targetY);\r\n\t\ttargetCtx.restore();\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function () {\r\n\t\treturn new AlphaMaskFilter(this.mask);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function () {\r\n\t\treturn \"[AlphaMaskFilter]\";\r\n\t};\r\n\r\n\r\n\tcreatejs.AlphaMaskFilter = createjs.promote(AlphaMaskFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// ColorFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Applies a color transform to DisplayObjects.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example draws a red circle, and then transforms it to Blue. This is accomplished by multiplying all the channels\r\n\t * to 0 (except alpha, which is set to 1), and then adding 255 to the blue channel.\r\n\t *\r\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\r\n\t *\r\n\t *      shape.filters = [\r\n\t *          new createjs.ColorFilter(0,0,0,1, 0,0,255,0)\r\n\t *      ];\r\n\t *      shape.cache(-50, -50, 100, 100);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\r\n\t * @class ColorFilter\r\n\t * @param {Number} [redMultiplier=1] The amount to multiply against the red channel. This is a range between 0 and 1.\r\n\t * @param {Number} [greenMultiplier=1] The amount to multiply against the green channel. This is a range between 0 and 1.\r\n\t * @param {Number} [blueMultiplier=1] The amount to multiply against the blue channel. This is a range between 0 and 1.\r\n\t * @param {Number} [alphaMultiplier=1] The amount to multiply against the alpha channel. This is a range between 0 and 1.\r\n\t * @param {Number} [redOffset=0] The amount to add to the red channel after it has been multiplied. This is a range\r\n\t * between -255 and 255.\r\n\t * @param {Number} [greenOffset=0] The amount to add to the green channel after it has been multiplied. This is a range\r\n\t  * between -255 and 255.\r\n\t * @param {Number} [blueOffset=0] The amount to add to the blue channel after it has been multiplied. This is a range\r\n\t  * between -255 and 255.\r\n\t * @param {Number} [alphaOffset=0] The amount to add to the alpha channel after it has been multiplied. This is a range\r\n\t  * between -255 and 255.\r\n\t * @constructor\r\n\t * @extends Filter\r\n\t **/\r\n\tfunction ColorFilter(redMultiplier, greenMultiplier, blueMultiplier, alphaMultiplier, redOffset, greenOffset, blueOffset, alphaOffset) {\r\n\t\tthis.Filter_constructor();\r\n\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * Red channel multiplier.\r\n\t\t * @property redMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.redMultiplier = redMultiplier != null ? redMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Green channel multiplier.\r\n\t\t * @property greenMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.greenMultiplier = greenMultiplier != null ? greenMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Blue channel multiplier.\r\n\t\t * @property blueMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.blueMultiplier = blueMultiplier != null ? blueMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Alpha channel multiplier.\r\n\t\t * @property alphaMultiplier\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.alphaMultiplier = alphaMultiplier != null ? alphaMultiplier : 1;\r\n\t\r\n\t\t/**\r\n\t\t * Red channel offset (added to value).\r\n\t\t * @property redOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.redOffset = redOffset || 0;\r\n\t\r\n\t\t/**\r\n\t\t * Green channel offset (added to value).\r\n\t\t * @property greenOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.greenOffset = greenOffset || 0;\r\n\t\r\n\t\t/**\r\n\t\t * Blue channel offset (added to value).\r\n\t\t * @property blueOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.blueOffset = blueOffset || 0;\r\n\t\r\n\t\t/**\r\n\t\t * Alpha channel offset (added to value).\r\n\t\t * @property alphaOffset\r\n\t\t * @type Number\r\n\t\t **/\r\n\t\tthis.alphaOffset = alphaOffset || 0;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform vec4 uColorMultiplier;\" +\r\n\t\t\t\"uniform vec4 uColorOffset;\" +\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\r\n\t\t\t\t\"gl_FragColor = (color * uColorMultiplier) + uColorOffset;\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\r\n\t}\r\n\tvar p = createjs.extend(ColorFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tgl.uniform4f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMultiplier\"),\r\n\t\t\tthis.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier\r\n\t\t);\r\n\r\n\t\tgl.uniform4f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorOffset\"),\r\n\t\t\tthis.redOffset/255, this.greenOffset/255, this.blueOffset/255, this.alphaOffset/255\r\n\t\t);\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ColorFilter]\";\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function() {\r\n\t\treturn new ColorFilter(\r\n\t\t\tthis.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier,\r\n\t\t\tthis.redOffset, this.greenOffset, this.blueOffset, this.alphaOffset\r\n\t\t);\r\n\t};\r\n\r\n// private methods:\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function(imageData) {\r\n\t\tvar data = imageData.data;\r\n\t\tvar l = data.length;\r\n\t\tfor (var i=0; i<l; i+=4) {\r\n\t\t\tdata[i] = data[i]*this.redMultiplier+this.redOffset;\r\n\t\t\tdata[i+1] = data[i+1]*this.greenMultiplier+this.greenOffset;\r\n\t\t\tdata[i+2] = data[i+2]*this.blueMultiplier+this.blueOffset;\r\n\t\t\tdata[i+3] = data[i+3]*this.alphaMultiplier+this.alphaOffset;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\tcreatejs.ColorFilter = createjs.promote(ColorFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// ColorMatrix.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Provides helper functions for assembling a matrix for use with the {{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}.\r\n\t * Most methods return the instance to facilitate chained calls.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      myColorMatrix.adjustHue(20).adjustBrightness(50);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an example of how to apply filters, or {{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}\r\n\t * for an example of how to use ColorMatrix to change a DisplayObject's color.\r\n\t * @class ColorMatrix\r\n\t * @param {Number} brightness\r\n\t * @param {Number} contrast\r\n\t * @param {Number} saturation\r\n\t * @param {Number} hue\r\n\t * @constructor\r\n\t **/\r\n\tfunction ColorMatrix(brightness, contrast, saturation, hue) {\r\n\t\tthis.setColor(brightness, contrast, saturation, hue);\r\n\t}\r\n\tvar p = ColorMatrix.prototype;\r\n\r\n// constants:\r\n\t/**\r\n\t * Array of delta values for contrast calculations.\r\n\t * @property DELTA_INDEX\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tColorMatrix.DELTA_INDEX = [\r\n\t\t0,    0.01, 0.02, 0.04, 0.05, 0.06, 0.07, 0.08, 0.1,  0.11,\r\n\t\t0.12, 0.14, 0.15, 0.16, 0.17, 0.18, 0.20, 0.21, 0.22, 0.24,\r\n\t\t0.25, 0.27, 0.28, 0.30, 0.32, 0.34, 0.36, 0.38, 0.40, 0.42,\r\n\t\t0.44, 0.46, 0.48, 0.5,  0.53, 0.56, 0.59, 0.62, 0.65, 0.68,\r\n\t\t0.71, 0.74, 0.77, 0.80, 0.83, 0.86, 0.89, 0.92, 0.95, 0.98,\r\n\t\t1.0,  1.06, 1.12, 1.18, 1.24, 1.30, 1.36, 1.42, 1.48, 1.54,\r\n\t\t1.60, 1.66, 1.72, 1.78, 1.84, 1.90, 1.96, 2.0,  2.12, 2.25,\r\n\t\t2.37, 2.50, 2.62, 2.75, 2.87, 3.0,  3.2,  3.4,  3.6,  3.8,\r\n\t\t4.0,  4.3,  4.7,  4.9,  5.0,  5.5,  6.0,  6.5,  6.8,  7.0,\r\n\t\t7.3,  7.5,  7.8,  8.0,  8.4,  8.7,  9.0,  9.4,  9.6,  9.8,\r\n\t\t10.0\r\n\t];\r\n\r\n\t/**\r\n\t * Identity matrix values.\r\n\t * @property IDENTITY_MATRIX\r\n\t * @type Array\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tColorMatrix.IDENTITY_MATRIX = [\r\n\t\t1,0,0,0,0,\r\n\t\t0,1,0,0,0,\r\n\t\t0,0,1,0,0,\r\n\t\t0,0,0,1,0,\r\n\t\t0,0,0,0,1\r\n\t];\r\n\r\n\t/**\r\n\t * The constant length of a color matrix.\r\n\t * @property LENGTH\r\n\t * @type Number\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tColorMatrix.LENGTH = ColorMatrix.IDENTITY_MATRIX.length;\r\n\r\n\r\n// public methods:\r\n\t/**\r\n\t * Resets the instance with the specified values.\r\n\t * @method setColor\r\n\t * @param {Number} brightness\r\n\t * @param {Number} contrast\r\n\t * @param {Number} saturation\r\n\t * @param {Number} hue\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t */\r\n\tp.setColor = function(brightness,contrast,saturation,hue) {\r\n\t\treturn this.reset().adjustColor(brightness,contrast,saturation,hue);\r\n\t};\r\n\r\n\t/**\r\n\t * Resets the matrix to identity values.\r\n\t * @method reset\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t */\r\n\tp.reset = function() {\r\n\t\treturn this.copy(ColorMatrix.IDENTITY_MATRIX);\r\n\t};\r\n\r\n\t/**\r\n\t * Shortcut method to adjust brightness, contrast, saturation and hue.\r\n\t * Equivalent to calling adjustHue(hue), adjustContrast(contrast),\r\n\t * adjustBrightness(brightness), adjustSaturation(saturation), in that order.\r\n\t * @method adjustColor\r\n\t * @param {Number} brightness\r\n\t * @param {Number} contrast\r\n\t * @param {Number} saturation\r\n\t * @param {Number} hue\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustColor = function(brightness,contrast,saturation,hue) {\r\n\t\tthis.adjustHue(hue);\r\n\t\tthis.adjustContrast(contrast);\r\n\t\tthis.adjustBrightness(brightness);\r\n\t\treturn this.adjustSaturation(saturation);\r\n\t};\r\n\r\n\t/**\r\n\t * Adjusts the brightness of pixel color by adding the specified value to the red, green and blue channels.\r\n\t * Positive values will make the image brighter, negative values will make it darker.\r\n\t * @method adjustBrightness\r\n\t * @param {Number} value A value between -255 & 255 that will be added to the RGB channels.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustBrightness = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,255);\r\n\t\tthis._multiplyMatrix([\r\n\t\t\t1,0,0,0,value,\r\n\t\t\t0,1,0,0,value,\r\n\t\t\t0,0,1,0,value,\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Adjusts the contrast of pixel color.\r\n\t * Positive values will increase contrast, negative values will decrease contrast.\r\n\t * @method adjustContrast\r\n\t * @param {Number} value A value between -100 & 100.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustContrast = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,100);\r\n\t\tvar x;\r\n\t\tif (value<0) {\r\n\t\t\tx = 127+value/100*127;\r\n\t\t} else {\r\n\t\t\tx = value%1;\r\n\t\t\tif (x == 0) {\r\n\t\t\t\tx = ColorMatrix.DELTA_INDEX[value];\r\n\t\t\t} else {\r\n\t\t\t\tx = ColorMatrix.DELTA_INDEX[(value<<0)]*(1-x)+ColorMatrix.DELTA_INDEX[(value<<0)+1]*x; // use linear interpolation for more granularity.\r\n\t\t\t}\r\n\t\t\tx = x*127+127;\r\n\t\t}\r\n\t\tthis._multiplyMatrix([\r\n\t\t\tx/127,0,0,0,0.5*(127-x),\r\n\t\t\t0,x/127,0,0,0.5*(127-x),\r\n\t\t\t0,0,x/127,0,0.5*(127-x),\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Adjusts the color saturation of the pixel.\r\n\t * Positive values will increase saturation, negative values will decrease saturation (trend towards greyscale).\r\n\t * @method adjustSaturation\r\n\t * @param {Number} value A value between -100 & 100.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustSaturation = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,100);\r\n\t\tvar x = 1+((value > 0) ? 3*value/100 : value/100);\r\n\t\tvar lumR = 0.3086;\r\n\t\tvar lumG = 0.6094;\r\n\t\tvar lumB = 0.0820;\r\n\t\tthis._multiplyMatrix([\r\n\t\t\tlumR*(1-x)+x,lumG*(1-x),lumB*(1-x),0,0,\r\n\t\t\tlumR*(1-x),lumG*(1-x)+x,lumB*(1-x),0,0,\r\n\t\t\tlumR*(1-x),lumG*(1-x),lumB*(1-x)+x,0,0,\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Adjusts the hue of the pixel color.\r\n\t * @method adjustHue\r\n\t * @param {Number} value A value between -180 & 180.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.adjustHue = function(value) {\r\n\t\tif (value == 0 || isNaN(value)) { return this; }\r\n\t\tvalue = this._cleanValue(value,180)/180*Math.PI;\r\n\t\tvar cosVal = Math.cos(value);\r\n\t\tvar sinVal = Math.sin(value);\r\n\t\tvar lumR = 0.213;\r\n\t\tvar lumG = 0.715;\r\n\t\tvar lumB = 0.072;\r\n\t\tthis._multiplyMatrix([\r\n\t\t\tlumR+cosVal*(1-lumR)+sinVal*(-lumR),lumG+cosVal*(-lumG)+sinVal*(-lumG),lumB+cosVal*(-lumB)+sinVal*(1-lumB),0,0,\r\n\t\t\tlumR+cosVal*(-lumR)+sinVal*(0.143),lumG+cosVal*(1-lumG)+sinVal*(0.140),lumB+cosVal*(-lumB)+sinVal*(-0.283),0,0,\r\n\t\t\tlumR+cosVal*(-lumR)+sinVal*(-(1-lumR)),lumG+cosVal*(-lumG)+sinVal*(lumG),lumB+cosVal*(1-lumB)+sinVal*(lumB),0,0,\r\n\t\t\t0,0,0,1,0,\r\n\t\t\t0,0,0,0,1\r\n\t\t]);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Concatenates (multiplies) the specified matrix with this one.\r\n\t * @method concat\r\n\t * @param {Array} matrix An array or ColorMatrix instance.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.concat = function(matrix) {\r\n\t\tmatrix = this._fixMatrix(matrix);\r\n\t\tif (matrix.length != ColorMatrix.LENGTH) { return this; }\r\n\t\tthis._multiplyMatrix(matrix);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns a clone of this ColorMatrix.\r\n\t * @method clone\r\n\t * @return {ColorMatrix} A clone of this ColorMatrix.\r\n\t **/\r\n\tp.clone = function() {\r\n\t\treturn (new ColorMatrix()).copy(this);\r\n\t};\r\n\r\n\t/**\r\n\t * Return a length 25 (5x5) array instance containing this matrix's values.\r\n\t * @method toArray\r\n\t * @return {Array} An array holding this matrix's values.\r\n\t **/\r\n\tp.toArray = function() {\r\n\t\tvar arr = [];\r\n\t\tfor (var i= 0, l=ColorMatrix.LENGTH; i<l; i++) {\r\n\t\t\tarr[i] = this[i];\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\r\n\t/**\r\n\t * Copy the specified matrix's values to this matrix.\r\n\t * @method copy\r\n\t * @param {Array} matrix An array or ColorMatrix instance.\r\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\r\n\t * @chainable\r\n\t **/\r\n\tp.copy = function(matrix) {\r\n\t\tvar l = ColorMatrix.LENGTH;\r\n\t\tfor (var i=0;i<l;i++) {\r\n\t\t\tthis[i] = matrix[i];\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Returns a string representation of this object.\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ColorMatrix]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _multiplyMatrix\r\n\t * @param {Array} matrix\r\n\t * @protected\r\n\t **/\r\n\tp._multiplyMatrix = function(matrix) {\r\n\t\tvar i, j, k, col = [];\r\n\r\n\t\tfor (i=0;i<5;i++) {\r\n\t\t\tfor (j=0;j<5;j++) {\r\n\t\t\t\tcol[j] = this[j+i*5];\r\n\t\t\t}\r\n\t\t\tfor (j=0;j<5;j++) {\r\n\t\t\t\tvar val=0;\r\n\t\t\t\tfor (k=0;k<5;k++) {\r\n\t\t\t\t\tval += matrix[j+k*5]*col[k];\r\n\t\t\t\t}\r\n\t\t\t\tthis[j+i*5] = val;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Make sure values are within the specified range, hue has a limit of 180, brightness is 255, others are 100.\r\n\t * @method _cleanValue\r\n\t * @param {Number} value The raw number\r\n\t * @param {Number} limit The maximum that the number can be. The minimum is the limit * -1.\r\n\t * @protected\r\n\t **/\r\n\tp._cleanValue = function(value, limit) {\r\n\t\treturn Math.min(limit,Math.max(-limit,value));\r\n\t};\r\n\r\n\t/**\r\n\t * Makes sure matrixes are 5x5 (25 long).\r\n\t * @method _fixMatrix\r\n\t * @param {Array} matrix\r\n\t * @protected\r\n\t **/\r\n\tp._fixMatrix = function(matrix) {\r\n\t\tif (matrix instanceof ColorMatrix) { matrix = matrix.toArray(); }\r\n\t\tif (matrix.length < ColorMatrix.LENGTH) {\r\n\t\t\tmatrix = matrix.slice(0,matrix.length).concat(ColorMatrix.IDENTITY_MATRIX.slice(matrix.length,ColorMatrix.LENGTH));\r\n\t\t} else if (matrix.length > ColorMatrix.LENGTH) {\r\n\t\t\tmatrix = matrix.slice(0,ColorMatrix.LENGTH);\r\n\t\t}\r\n\t\treturn matrix;\r\n\t};\r\n\r\n\r\n\tcreatejs.ColorMatrix = ColorMatrix;\r\n}());\r\n\r\n//##############################################################################\r\n// ColorMatrixFilter.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * Allows you to carry out complex color operations such as modifying saturation, brightness, or inverting. See the\r\n\t * {{#crossLink \"ColorMatrix\"}}{{/crossLink}} for more information on changing colors. For an easier color transform,\r\n\t * consider the {{#crossLink \"ColorFilter\"}}{{/crossLink}}.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * This example creates a red circle, inverts its hue, and then saturates it to brighten it up.\r\n\t *\r\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\r\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\r\n\t *\r\n\t *      var matrix = new createjs.ColorMatrix().adjustHue(180).adjustSaturation(100);\r\n\t *      shape.filters = [\r\n\t *          new createjs.ColorMatrixFilter(matrix)\r\n\t *      ];\r\n\t *\r\n\t *      shape.cache(-50, -50, 100, 100);\r\n\t *\r\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\r\n\t * @class ColorMatrixFilter\r\n\t * @constructor\r\n\t * @extends Filter\r\n\t * @param {Array | ColorMatrix} matrix A 4x5 matrix describing the color operation to perform. See also the {{#crossLink \"ColorMatrix\"}}{{/crossLink}}\r\n\t * class.\r\n\t **/\r\n\tfunction ColorMatrixFilter(matrix) {\r\n\t\tthis.Filter_constructor();\r\n\r\n\t// public properties:\r\n\t\t/**\r\n\t\t * A 4x5 matrix describing the color operation to perform. See also the {{#crossLink \"ColorMatrix\"}}{{/crossLink}}\r\n\t\t * @property matrix\r\n\t\t * @type Array | ColorMatrix\r\n\t\t **/\r\n\t\tthis.matrix = matrix;\r\n\r\n\t\tthis.FRAG_SHADER_BODY = (\r\n\t\t\t\"uniform mat4 uColorMatrix;\" +\r\n\t\t\t\"uniform vec4 uColorMatrixOffset;\" +\r\n\r\n\t\t\t\"void main(void) {\" +\r\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\r\n\r\n\t\t\t\t\"mat4 m = uColorMatrix;\" +\r\n\t\t\t\t\"vec4 newColor = vec4(0,0,0,0);\" +\r\n\t\t\t\t\"newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];\" +\r\n\t\t\t\t\"newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];\" +\r\n\t\t\t\t\"newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];\" +\r\n\t\t\t\t\"newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];\" +\r\n\r\n\t\t\t\t\"gl_FragColor = newColor + uColorMatrixOffset;\" +\r\n\t\t\t\"}\"\r\n\t\t);\r\n\t}\r\n\tvar p = createjs.extend(ColorMatrixFilter, createjs.Filter);\r\n\r\n\t// TODO: deprecated\r\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\r\n\r\n\t/** docced in super class **/\r\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\r\n\t\tvar mat = this.matrix;\r\n\t\tvar colorMatrix = new Float32Array([\r\n\t\t\tmat[0],mat[1],mat[2],mat[3],\r\n\t\t\tmat[5],mat[6],mat[7],mat[8],\r\n\t\t\tmat[10],mat[11],mat[12],mat[13],\r\n\t\t\tmat[15],mat[16],mat[17],mat[18]\r\n\t\t]);\r\n\r\n\t\tgl.uniformMatrix4fv(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMatrix\"),\r\n\t\t\tfalse, colorMatrix\r\n\t\t);\r\n\t\tgl.uniform4f(\r\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMatrixOffset\"),\r\n\t\t\tmat[4]/255, mat[9]/255, mat[14]/255, mat[19]/255\r\n\t\t);\r\n\t};\r\n\r\n// public methods:\r\n\t/** docced in super class **/\r\n\tp.toString = function() {\r\n\t\treturn \"[ColorMatrixFilter]\";\r\n\t};\r\n\r\n\t/** docced in super class **/\r\n\tp.clone = function() {\r\n\t\treturn new ColorMatrixFilter(this.matrix);\r\n\t};\r\n\r\n// private methods:\r\n\t/** docced in super class **/\r\n\tp._applyFilter = function(imageData) { \r\n\t\tvar data = imageData.data;\r\n\t\tvar l = data.length;\r\n\t\tvar r,g,b,a;\r\n\t\tvar mtx = this.matrix;\r\n\t\tvar m0 =  mtx[0],  m1 =  mtx[1],  m2 =  mtx[2],  m3 =  mtx[3],  m4 =  mtx[4];\r\n\t\tvar m5 =  mtx[5],  m6 =  mtx[6],  m7 =  mtx[7],  m8 =  mtx[8],  m9 =  mtx[9];\r\n\t\tvar m10 = mtx[10], m11 = mtx[11], m12 = mtx[12], m13 = mtx[13], m14 = mtx[14];\r\n\t\tvar m15 = mtx[15], m16 = mtx[16], m17 = mtx[17], m18 = mtx[18], m19 = mtx[19];\r\n\r\n\t\tfor (var i=0; i<l; i+=4) {\r\n\t\t\tr = data[i];\r\n\t\t\tg = data[i+1];\r\n\t\t\tb = data[i+2];\r\n\t\t\ta = data[i+3];\r\n\t\t\tdata[i] = r*m0+g*m1+b*m2+a*m3+m4; // red\r\n\t\t\tdata[i+1] = r*m5+g*m6+b*m7+a*m8+m9; // green\r\n\t\t\tdata[i+2] = r*m10+g*m11+b*m12+a*m13+m14; // blue\r\n\t\t\tdata[i+3] = r*m15+g*m16+b*m17+a*m18+m19; // alpha\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tcreatejs.ColorMatrixFilter = createjs.promote(ColorMatrixFilter, \"Filter\");\r\n}());\r\n\r\n//##############################################################################\r\n// Touch.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n * Global utility for working with multi-touch enabled devices in EaselJS. Currently supports W3C Touch API (iOS and\r\n * modern Android browser) and the Pointer API (IE), including ms-prefixed events in IE10, and unprefixed in IE11.\r\n *\r\n * Ensure that you {{#crossLink \"Touch/disable\"}}{{/crossLink}} touch when cleaning up your application. You do not have\r\n * to check if touch is supported to enable it, as it will fail gracefully if it is not supported.\r\n *\r\n * <h4>Example</h4>\r\n *\r\n *      var stage = new createjs.Stage(\"canvasId\");\r\n *      createjs.Touch.enable(stage);\r\n *\r\n * <strong>Note:</strong> It is important to disable Touch on a stage that you are no longer using:\r\n *\r\n *      createjs.Touch.disable(stage);\r\n *\r\n * @class Touch\r\n * @static\r\n **/\r\n\tfunction Touch() {\r\n\t\tthrow \"Touch cannot be instantiated\";\r\n\t}\r\n\r\n\r\n// public static methods:\r\n\t/**\r\n\t * Returns `true` if touch is supported in the current browser.\r\n\t * @method isSupported\r\n\t * @return {Boolean} Indicates whether touch is supported in the current browser.\r\n\t * @static\r\n\t **/\r\n\tTouch.isSupported = function() {\r\n\t\treturn\t!!(('ontouchstart' in window) // iOS & Android\r\n\t\t\t|| (window.navigator['msPointerEnabled'] && window.navigator['msMaxTouchPoints'] > 0) // IE10\r\n\t\t\t|| (window.navigator['pointerEnabled'] && window.navigator['maxTouchPoints'] > 0)); // IE11+\r\n\t};\r\n\r\n\t/**\r\n\t * Enables touch interaction for the specified EaselJS {{#crossLink \"Stage\"}}{{/crossLink}}. Currently supports iOS\r\n\t * (and compatible browsers, such as modern Android browsers), and IE10/11. Supports both single touch and\r\n\t * multi-touch modes. Extends the EaselJS {{#crossLink \"MouseEvent\"}}{{/crossLink}} model, but without support for\r\n\t * double click or over/out events. See the MouseEvent {{#crossLink \"MouseEvent/pointerId:property\"}}{{/crossLink}}\r\n\t * for more information.\r\n\t * @method enable\r\n\t * @param {Stage} stage The {{#crossLink \"Stage\"}}{{/crossLink}} to enable touch on.\r\n\t * @param {Boolean} [singleTouch=false] If `true`, only a single touch will be active at a time.\r\n\t * @param {Boolean} [allowDefault=false] If `true`, then default gesture actions (ex. scrolling, zooming) will be\r\n\t * allowed when the user is interacting with the target canvas.\r\n\t * @return {Boolean} Returns `true` if touch was successfully enabled on the target stage.\r\n\t * @static\r\n\t **/\r\n\tTouch.enable = function(stage, singleTouch, allowDefault) {\r\n\t\tif (!stage || !stage.canvas || !Touch.isSupported()) { return false; }\r\n\t\tif (stage.__touch) { return true; }\r\n\r\n\t\t// inject required properties on stage:\r\n\t\tstage.__touch = {pointers:{}, multitouch:!singleTouch, preventDefault:!allowDefault, count:0};\r\n\r\n\t\t// note that in the future we may need to disable the standard mouse event model before adding\r\n\t\t// these to prevent duplicate calls. It doesn't seem to be an issue with iOS devices though.\r\n\t\tif ('ontouchstart' in window) { Touch._IOS_enable(stage); }\r\n\t\telse if (window.navigator['msPointerEnabled'] || window.navigator[\"pointerEnabled\"]) { Touch._IE_enable(stage); }\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Removes all listeners that were set up when calling `Touch.enable()` on a stage.\r\n\t * @method disable\r\n\t * @param {Stage} stage The {{#crossLink \"Stage\"}}{{/crossLink}} to disable touch on.\r\n\t * @static\r\n\t **/\r\n\tTouch.disable = function(stage) {\r\n\t\tif (!stage) { return; }\r\n\t\tif ('ontouchstart' in window) { Touch._IOS_disable(stage); }\r\n\t\telse if (window.navigator['msPointerEnabled'] || window.navigator[\"pointerEnabled\"]) { Touch._IE_disable(stage); }\r\n\t\t\r\n\t\tdelete stage.__touch;\r\n\t};\r\n\r\n\r\n// Private static methods:\r\n\t/**\r\n\t * @method _IOS_enable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IOS_enable = function(stage) {\r\n\t\tvar canvas = stage.canvas;\r\n\t\tvar f = stage.__touch.f = function(e) { Touch._IOS_handleEvent(stage,e); };\r\n\t\tcanvas.addEventListener(\"touchstart\", f, false);\r\n\t\tcanvas.addEventListener(\"touchmove\", f, false);\r\n\t\tcanvas.addEventListener(\"touchend\", f, false);\r\n\t\tcanvas.addEventListener(\"touchcancel\", f, false);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IOS_disable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IOS_disable = function(stage) {\r\n\t\tvar canvas = stage.canvas;\r\n\t\tif (!canvas) { return; }\r\n\t\tvar f = stage.__touch.f;\r\n\t\tcanvas.removeEventListener(\"touchstart\", f, false);\r\n\t\tcanvas.removeEventListener(\"touchmove\", f, false);\r\n\t\tcanvas.removeEventListener(\"touchend\", f, false);\r\n\t\tcanvas.removeEventListener(\"touchcancel\", f, false);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IOS_handleEvent\r\n\t * @param {Stage} stage\r\n\t * @param {Object} e The event to handle\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tTouch._IOS_handleEvent = function(stage, e) {\r\n\t\tif (!stage) { return; }\r\n\t\tif (stage.__touch.preventDefault) { e.preventDefault&&e.preventDefault(); }\r\n\t\tvar touches = e.changedTouches;\r\n\t\tvar type = e.type;\r\n\t\tfor (var i= 0,l=touches.length; i<l; i++) {\r\n\t\t\tvar touch = touches[i];\r\n\t\t\tvar id = touch.identifier;\r\n\t\t\tif (touch.target != stage.canvas) { continue; }\r\n\r\n\t\t\tif (type == \"touchstart\") {\r\n\t\t\t\tthis._handleStart(stage, id, e, touch.pageX, touch.pageY);\r\n\t\t\t} else if (type == \"touchmove\") {\r\n\t\t\t\tthis._handleMove(stage, id, e, touch.pageX, touch.pageY);\r\n\t\t\t} else if (type == \"touchend\" || type == \"touchcancel\") {\r\n\t\t\t\tthis._handleEnd(stage, id, e);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IE_enable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IE_enable = function(stage) {\r\n\t\tvar canvas = stage.canvas;\r\n\t\tvar f = stage.__touch.f = function(e) { Touch._IE_handleEvent(stage,e); };\r\n\r\n\t\tif (window.navigator[\"pointerEnabled\"] === undefined) {\r\n\t\t\tcanvas.addEventListener(\"MSPointerDown\", f, false);\r\n\t\t\twindow.addEventListener(\"MSPointerMove\", f, false);\r\n\t\t\twindow.addEventListener(\"MSPointerUp\", f, false);\r\n\t\t\twindow.addEventListener(\"MSPointerCancel\", f, false);\r\n\t\t\tif (stage.__touch.preventDefault) { canvas.style.msTouchAction = \"none\"; }\r\n\t\t} else {\r\n\t\t\tcanvas.addEventListener(\"pointerdown\", f, false);\r\n\t\t\twindow.addEventListener(\"pointermove\", f, false);\r\n\t\t\twindow.addEventListener(\"pointerup\", f, false);\r\n\t\t\twindow.addEventListener(\"pointercancel\", f, false);\r\n\t\t\tif (stage.__touch.preventDefault) { canvas.style.touchAction = \"none\"; }\r\n\r\n\t\t}\r\n\t\tstage.__touch.activeIDs = {};\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IE_disable\r\n\t * @protected\r\n\t * @param {Stage} stage\r\n\t * @static\r\n\t **/\r\n\tTouch._IE_disable = function(stage) {\r\n\t\tvar f = stage.__touch.f;\r\n\r\n\t\tif (window.navigator[\"pointerEnabled\"] === undefined) {\r\n\t\t\twindow.removeEventListener(\"MSPointerMove\", f, false);\r\n\t\t\twindow.removeEventListener(\"MSPointerUp\", f, false);\r\n\t\t\twindow.removeEventListener(\"MSPointerCancel\", f, false);\r\n\t\t\tif (stage.canvas) {\r\n\t\t\t\tstage.canvas.removeEventListener(\"MSPointerDown\", f, false);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twindow.removeEventListener(\"pointermove\", f, false);\r\n\t\t\twindow.removeEventListener(\"pointerup\", f, false);\r\n\t\t\twindow.removeEventListener(\"pointercancel\", f, false);\r\n\t\t\tif (stage.canvas) {\r\n\t\t\t\tstage.canvas.removeEventListener(\"pointerdown\", f, false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _IE_handleEvent\r\n\t * @param {Stage} stage\r\n\t * @param {Object} e The event to handle.\r\n\t * @protected\r\n\t * @static\r\n\t **/\r\n\tTouch._IE_handleEvent = function(stage, e) {\r\n\t\tif (!stage) { return; }\r\n\t\tif (stage.__touch.preventDefault) { e.preventDefault && e.preventDefault(); }\r\n\t\tvar type = e.type;\r\n\t\tvar id = e.pointerId;\r\n\t\tvar ids = stage.__touch.activeIDs;\r\n\r\n\t\tif (type == \"MSPointerDown\" || type == \"pointerdown\") {\r\n\t\t\tif (e.srcElement != stage.canvas) { return; }\r\n\t\t\tids[id] = true;\r\n\t\t\tthis._handleStart(stage, id, e, e.pageX, e.pageY);\r\n\t\t} else if (ids[id]) { // it's an id we're watching\r\n\t\t\tif (type == \"MSPointerMove\" || type == \"pointermove\") {\r\n\t\t\t\tthis._handleMove(stage, id, e, e.pageX, e.pageY);\r\n\t\t\t} else if (type == \"MSPointerUp\" || type == \"MSPointerCancel\"\r\n\t\t\t\t\t|| type == \"pointerup\" || type == \"pointercancel\") {\r\n\t\t\t\tdelete(ids[id]);\r\n\t\t\t\tthis._handleEnd(stage, id, e);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleStart\r\n\t * @param {Stage} stage\r\n\t * @param {String|Number} id\r\n\t * @param {Object} e\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t **/\r\n\tTouch._handleStart = function(stage, id, e, x, y) {\r\n\t\tvar props = stage.__touch;\r\n\t\tif (!props.multitouch && props.count) { return; }\r\n\t\tvar ids = props.pointers;\r\n\t\tif (ids[id]) { return; }\r\n\t\tids[id] = true;\r\n\t\tprops.count++;\r\n\t\tstage._handlePointerDown(id, e, x, y);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleMove\r\n\t * @param {Stage} stage\r\n\t * @param {String|Number} id\r\n\t * @param {Object} e\r\n\t * @param {Number} x\r\n\t * @param {Number} y\r\n\t * @protected\r\n\t **/\r\n\tTouch._handleMove = function(stage, id, e, x, y) {\r\n\t\tif (!stage.__touch.pointers[id]) { return; }\r\n\t\tstage._handlePointerMove(id, e, x, y);\r\n\t};\r\n\r\n\t/**\r\n\t * @method _handleEnd\r\n\t * @param {Stage} stage\r\n\t * @param {String|Number} id\r\n\t * @param {Object} e\r\n\t * @protected\r\n\t **/\r\n\tTouch._handleEnd = function(stage, id, e) {\r\n\t\t// TODO: cancel should be handled differently for proper UI (ex. an up would trigger a click, a cancel would more closely resemble an out).\r\n\t\tvar props = stage.__touch;\r\n\t\tvar ids = props.pointers;\r\n\t\tif (!ids[id]) { return; }\r\n\t\tprops.count--;\r\n\t\tstage._handlePointerUp(id, e, true);\r\n\t\tdelete(ids[id]);\r\n\t};\r\n\r\n\r\n\tcreatejs.Touch = Touch;\r\n}());\r\n\r\n//##############################################################################\r\n// version.js\r\n//##############################################################################\r\n\r\nwindow.createjs = window.createjs || {};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Static class holding library specific information such as the version and buildDate of\r\n\t * the library.\r\n\t * @class EaselJS\r\n\t **/\r\n\tvar s = createjs.EaselJS = createjs.EaselJS || {};\r\n\r\n\t/**\r\n\t * The version string for this release.\r\n\t * @property version\r\n\t * @type String\r\n\t * @static\r\n\t **/\r\n\ts.version = /*=version*/\"1.0.0\"; // injected by build process\r\n\r\n\t/**\r\n\t * The build date for this release in UTC format.\r\n\t * @property buildDate\r\n\t * @type String\r\n\t * @static\r\n\t **/\r\n\ts.buildDate = /*=date*/\"Thu, 14 Sep 2017 19:47:53 GMT\"; // injected by build process\r\n\r\n})();\r\n","import './index.js'\r\nfunction initCanvas() {\r\n  var c = createjs,\r\n    stage = new c.StageGL(\"target\"),\r\n    t = 0,\r\n    count = 0,\r\n    w,\r\n    h,\r\n    dotTemplate,\r\n    blurTemplate,\r\n    dot = [],\r\n    dots = [],\r\n    max,\r\n    min;\r\n  // configurable:\r\n  var dotR = 8,\r\n    amp0Amt = 1,\r\n    amp1Amt = 0.2,\r\n    maxDots = 2000,\r\n    speed = 2.5;\r\n  c.Ticker.timingMode = c.Ticker.RAF;\r\n  c.Ticker.on(\"tick\", tick);\r\n  stage.setClearColor(\"#201624\");\r\n\r\n  while (dots.length < maxDots) {\r\n    getDot();\r\n  }\r\n\r\n  function tick(evt) {\r\n    var d = evt.delta;\r\n\r\n    var fov = min * 1;\r\n    for (var i = 0, l = dots.length; i < l; i++) {\r\n      var dot = dots[i];\r\n      var t = (dot.t += d * 0.0001 * speed * dot.speed);\r\n      var x = (t % 1) * w - w / 2;\r\n      x += Math.cos(t * dot.p1) * min * dot.a1 * amp1Amt;\r\n      var y = Math.sin(t * Math.PI * 4 + Math.PI) * min * dot.r * 0.25;\r\n      y += Math.sin(t * dot.p1) * min * dot.a1 * amp1Amt;\r\n      var z = Math.cos(t * Math.PI * 4 + Math.PI) * min * dot.r * 0.25;\r\n      z += Math.cos(t * dot.p1) * min * dot.a1 * amp1Amt;\r\n\r\n      var s = fov / (z + fov);\r\n      x *= s;\r\n      y *= s;\r\n\r\n      dot.x = x + w / 2;\r\n      dot.y = y + h / 2;\r\n      dot.getChildAt(1).alpha = 1 - s;\r\n\r\n      dot.scaleX = dot.scaleY = Math.pow(s * (1 + dot.size), 2) * 0.3;\r\n    }\r\n\r\n    stage.update();\r\n  }\r\n\r\n  function getDot() {\r\n    if (dotTemplate === undefined) {\r\n      var dotShape = new c.Shape(),\r\n        blurShape = new c.Shape(),\r\n        g = dotShape.graphics;\r\n      g.f(\"#fff\").dc(0, 0, dotR);\r\n      var pow = Math.ceil(Math.log(dotR) / Math.log(2)),\r\n        base2R = Math.pow(2, pow);\r\n      dotShape.cache(-base2R, -base2R, base2R * 2, base2R * 2);\r\n      dotTemplate = new c.Bitmap(dotShape.cacheCanvas);\r\n      var g = blurShape.graphics;\r\n      g.c()\r\n        .rf(\r\n          [\"hsla(0,0%,100%,0.4)\", \"hsla(180,100%,75%,0)\"],\r\n          [0, 1],\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          dotR\r\n        )\r\n        .dc(0, 0, dotR);\r\n      blurShape.cache(-base2R, -base2R, base2R * 2, base2R * 2);\r\n      blurTemplate = new c.Bitmap(blurShape.cacheCanvas);\r\n      blurTemplate.scaleX = blurTemplate.scaleY = 2;\r\n      blurTemplate.x = blurTemplate.y = -base2R;\r\n      blurTemplate.alpha = 1;\r\n    }\r\n    dot = new c.Container();\r\n    dot.alpha = 0.8;\r\n    dot.addChild(blurTemplate.clone(), dotTemplate.clone());\r\n    dot.t = rnd(Math.PI);\r\n    dot.speed = Math.pow(rnd(0.5, 1), 3);\r\n    dot.size = 1 - dot.speed;\r\n    dot.a1 = rnd(0, 0.7) * rnd(0, dot.speed) * (rnd(1) < 0.5 ? -1 : 1);\r\n    dot.r = 1; //rnd(0.5,1);\r\n    dot.p1 = rnd(0.3, 0.7);\r\n    dots.push(dot);\r\n    stage.addChild(dot);\r\n    return dot;\r\n  }\r\n\r\n  function rnd(min, max) {\r\n    if (max === undefined) {\r\n      max = min;\r\n      min = 0;\r\n    }\r\n    return Math.random() * (max - min) + min;\r\n  }\r\n\r\n  function onResize() {\r\n    w = window.innerWidth;\r\n    h = window.innerHeight;\r\n    max = Math.max(w, h);\r\n    min = Math.min(w, h);\r\n    target.width = w;\r\n    target.height = h;\r\n    stage.updateViewport(w, h);\r\n    stage.update();\r\n  }\r\n\r\n  window.addEventListener(\"resize\", onResize);\r\n  onResize();\r\n}\r\n\r\nexport default initCanvas;\r\n","<template>\r\n  <div class=\"fd-canvas__bg\">\r\n    <canvas id=\"canvas__bg2\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nimport initCanvas from './initCanvas.js'\r\nexport default {\r\n  name: 'dsj-canvasbg2',\r\n  created () {\r\n    initCanvas()\r\n  }\r\n}\r\n</script>\r\n<style>\r\n  .fd-canvas__bg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=0d00775f&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2020-03-06 17:24:17\r\n * @Last Modified by:   HePeng\r\n * @Last Modified time: 2020-03-06 17:24:17\r\n */\r\n// 导入组件，组件必须声明 name\r\nimport DsjCanvasBg from \"./src/main.vue\";\r\n// 为组件添加 install 方法，用于按需引入\r\nDsjCanvasBg.install = function(Vue) {\r\n  Vue.component(DsjCanvasBg.name, DsjCanvasBg);\r\n};\r\n\r\nexport default DsjCanvasBg;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['dsj_btn',\n    _vm.type ? 'fsj_button--' + _vm.type : ''\n  ],style:((\"width: \" + _vm.width + \"px\")),on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div @click=\"$emit('click')\" :class=\"['dsj_btn',\r\n      type ? 'fsj_button--' + type : ''\r\n    ]\"\r\n    :style=\"`width: ${width}px`\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'dsj-button',\r\n  props: {\r\n    type: {\r\n      type: [String, Number],\r\n      default: '1'\r\n    },\r\n    width: {\r\n      type: [String, Number],\r\n      default: '160'\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.dsj_btn {\r\n  box-sizing: border-box;\r\n  transition-property: all;\r\n  transition-duration: .6s;\r\n  transition-timing-function: ease;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  line-height: 30px;\r\n  margin: 0 0 2em;\r\n  width: 100%;\r\n  text-align: center;\r\n  position: relative;\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  height: 30px;\r\n}\r\n.dsj_btn:hover {\r\n  text-decoration: none;\r\n}\r\n.dsj_btn > span {\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.fsj_button--1 {\r\n  letter-spacing: 0;\r\n}\r\n\r\n.fsj_button--1:hover,\r\n.fsj_button--1:active {\r\n  letter-spacing: 5px;\r\n}\r\n\r\n.fsj_button--1:after,\r\n.fsj_button--1:before {\r\n  -webkit-backface-visibility: hidden;\r\n          backface-visibility: hidden;\r\n  border: 1px solid rgba(255, 255, 255, 0);\r\n  bottom: 0px;\r\n  content: \" \";\r\n  display: block;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  transition: all 280ms ease-in-out;\r\n  width: 0;\r\n}\r\n\r\n.fsj_button--1:hover:after,\r\n.fsj_button--1:hover:before {\r\n  -webkit-backface-visibility: hidden;\r\n          backface-visibility: hidden;\r\n  border-color: #fff;\r\n  transition: width 350ms ease-in-out;\r\n  width: 70%;\r\n}\r\n\r\n.fsj_button--1:hover:before {\r\n  bottom: auto;\r\n  top: 0;\r\n  width: 70%;\r\n}\r\n\r\n.fsj_button--2 {\r\n  background: #e3403a;\r\n  border: 1px solid #da251f;\r\n  box-shadow: 0px 2px 0 #d6251f, 2px 4px 6px #e02a24;\r\n  font-weight: 900;\r\n  letter-spacing: 1px;\r\n  transition: all 150ms linear;\r\n}\r\n\r\n.fsj_button--2:hover {\r\n  background: #e02c26;\r\n  border: 1px solid rgba(0, 0, 0, 0.05);\r\n  box-shadow: 1px 1px 2px rgba(255, 255, 255, 0.2);\r\n  color: #ec817d;\r\n  text-decoration: none;\r\n  text-shadow: -1px -1px 0 #c2211c;\r\n  transition: all 250ms linear;\r\n}\r\n\r\n.fsj_button--3 {\r\n  border: 1px solid;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n.fsj_button--3 span {\r\n  z-index: 20;\r\n}\r\n.fsj_button--3:after {\r\n  background: #fff;\r\n  content: \"\";\r\n  height: 155px;\r\n  left: -75px;\r\n  opacity: .2;\r\n  position: absolute;\r\n  top: -50px;\r\n  -webkit-transform: rotate(35deg);\r\n          transform: rotate(35deg);\r\n  transition: all 550ms cubic-bezier(0.19, 1, 0.22, 1);\r\n  width: 50px;\r\n}\r\n\r\n.fsj_button--3:hover:after {\r\n  left: 120%;\r\n  transition: all 550ms cubic-bezier(0.19, 1, 0.22, 1);\r\n}\r\n\r\n.fsj_button--4 {\r\n  border: 0 solid;\r\n  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0);\r\n  outline: 1px solid;\r\n  outline-color: rgba(255, 255, 255, 0.5);\r\n  outline-offset: 0px;\r\n  text-shadow: none;\r\n  transition: all 1250ms cubic-bezier(0.19, 1, 0.22, 1);\r\n}\r\n\r\n.fsj_button--4:hover {\r\n  border: 1px solid;\r\n  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.5), 0 0 20px rgba(255, 255, 255, 0.2);\r\n  outline-color: rgba(255, 255, 255, 0);\r\n  outline-offset: 15px;\r\n  text-shadow: 1px 1px 2px #427388;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=2e29daa9&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=2e29daa9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e29daa9\",\n  null\n  \n)\n\nexport default component.exports","// packages/textarea/index.js\r\n\r\n// 导入组件，组件必须声明 name\r\nimport DsjButtom from './src/main.vue'\r\n\r\n// 为组件添加 install 方法，用于按需引入\r\nDsjButtom.install = function (Vue) {\r\n  Vue.component(DsjButtom.name, DsjButtom)\r\n}\r\n\r\nexport default DsjButtom","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_annular__wrapper\",on:{\"click\":_vm.clickChange}},[_c('svg',{ref:\"svg\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{staticClass:\"arc\",attrs:{\"fill\":\"none\",\"d\":\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"}}),_c('path',{staticClass:\"graph\",style:({'--val': _vm.numberData}),attrs:{\"fill\":\"none\",\"d\":\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"}}),_c('text',{staticClass:\"heavy\",attrs:{\"x\":\"36\",\"y\":\"55\"}},[_vm._v(_vm._s(_vm.sliceData))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"chart_annular__wrapper\" @click=\"clickChange\">\r\n    <svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\" ref=\"svg\">\r\n      <path class=\"arc\" fill=\"none\" d=\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"  />\r\n      <path class=\"graph\" fill=\"none\" :style=\"{'--val': numberData}\" d=\"M 49.99 10.00 A 40.00 40.00 0 1 0 50.00 10.00\"  />\r\n      <text x=\"36\" y=\"55\" class=\"heavy\">{{sliceData}}</text>\r\n    </svg>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'dsj-annularCharts',\r\n  props: {\r\n    propData: {\r\n      type: [String, Number, Object],\r\n      required: true,\r\n      default: 0\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    graphStrokeWidth: {\r\n      type: [String, Number],\r\n      default: 6\r\n    },\r\n    arcStrokeWidth: {\r\n      type: [String, Number],\r\n      default: 2\r\n    },\r\n    graphColor: {\r\n      type: String,\r\n      default: '#333'\r\n    },\r\n    arcColor: {\r\n      type: String,\r\n      default: '#4fcdf4'\r\n    },\r\n    wrapperBG: {\r\n      type: String,\r\n      default: 'transparent'\r\n    },\r\n    textColor: {\r\n      type: String,\r\n      default: '#fff'\r\n    },\r\n    clickItem: {\r\n      type: [String, Number, Object, Function],\r\n      default: null\r\n    },\r\n    props: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          data: 'data'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      numberData: 0\r\n    }\r\n  },\r\n  watch: {\r\n    propData: {\r\n      handler (newV) {\r\n        this.initData()\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  computed: {\r\n    sliceData () {\r\n      return typeof this.propData === 'object' ? this.propData[this.props.data] + '%' : this.propData + '%'\r\n    }\r\n  },\r\n  created () {},\r\n  mounted () {\r\n    let _svg = this.$refs.svg\r\n    let _graph = _svg.children[1]\r\n    let _arc = _svg.children[0]\r\n    let _text = _svg.children[2]\r\n    debugger\r\n    _graph.style.stroke = this.graphColor\r\n    _graph.style.strokeWidth = this.graphStrokeWidth + 'px'\r\n    _arc.style.strokeWidth = this.arcStrokeWidth + 'px'\r\n    _arc.style.stroke = this.arcColor\r\n    _svg.style.stroke = this.wrapperBG\r\n    _text.style.fill = this.textColor\r\n    this.initData()\r\n  },\r\n  methods: {\r\n    initData () {\r\n      this.numberData = typeof this.propData === 'object' ? 100 - this.propData[this.props.data] : 100 - this.propData\r\n      this.$refs.svg.children[1].style['--val'] = this.numberData\r\n    },\r\n    clickChange () {\r\n      if (typeof this.propData === 'object') {\r\n        this.$emit('click', this.propData)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .chart_annular__wrapper {\r\n    width: 100%;\r\n    height: 100%;\r\n    cursor: pointer;\r\n  }\r\n  .chart_annular__wrapper svg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .chart_annular__wrapper text {\r\n    stroke: none;\r\n    transition: fill .8s ease-out;\r\n  }\r\n  .chart_annular__wrapper .arc {\r\n    stroke-width: 4px;\r\n  }\r\n  .chart_annular__wrapper .graph {\r\n    stroke-dashoffset: 0;\r\n    stroke-dasharray: 251.35;\r\n    stroke-dashoffset: calc(  251.35 / 100 * var( --val )  );\r\n    transition: stroke-dashoffset .8s ease-out;\r\n    stroke-linecap: round;\r\n    stroke-width: 4px;\r\n    transform: translateX(100px) rotateY(180deg);\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=d607c838&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=d607c838&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d607c838\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: HePeng\r\n * @Date: 2020-03-04 11:02:57\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2020-03-06 17:24:56\r\n */\r\n// packages/textarea/index.js\r\n\r\n// 导入组件，组件必须声明 name\r\nimport ChartAnnular from \"./src/main.vue\";\r\n\r\n// 为组件添加 install 方法，用于按需引入\r\nChartAnnular.install = function(Vue) {\r\n  Vue.component(ChartAnnular.name, ChartAnnular);\r\n};\r\n\r\nexport default ChartAnnular;\r\n","/*\r\n * @Author: HePeng\r\n * @Date: 2019-09-18 14:09:07\r\n * @Last Modified by: HePeng\r\n * @Last Modified time: 2020-03-06 17:38:58\r\n */\r\n// packages / index.js\r\n\r\n// 导入单个组件\r\nimport canvasboll from './canvasBoll/index'\r\nimport Diffusion from './diffusion/index'\r\nimport canvasBGLZ from './canvasBG/index'\r\nimport canvasBGLZ2 from './canvasBG2/index'\r\nimport DsjButtom from './dsj_button/index'\r\nimport ChartAnnular from './chart_annular/index'\r\n\r\n// 以数组的结构保存组件，便于遍历\r\nconst components = [\r\n  canvasboll,\r\n  Diffusion,\r\n  canvasBGLZ,\r\n  DsjButtom,\r\n  ChartAnnular,\r\n  canvasBGLZ2\r\n];\r\n\r\n// 定义 install 方法\r\nconst install = function (Vue) {\r\n  if (install.installed) return\r\n  install.installed = true\r\n  // 遍历并注册全局组件\r\n  components.map(component => {\r\n    Vue.component(component.name, component)\r\n  })\r\n}\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  install(window.Vue)\r\n}\r\n\r\nexport default {\r\n  // 导出的对象必须具备一个 install 方法\r\n  install,\r\n  // 组件列表\r\n  ...components\r\n}","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}